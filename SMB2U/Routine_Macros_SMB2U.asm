
macro SMB2UBank11Macros(StartBank, EndBank)
%BANK_START(<StartBank>)
SMB2U_InitAndMainLoop_Main:
	JMP.w CODE_11803C

SMB2U_InitAndMainLoop_NMIVector:
	JMP.w SMB2U_VBlankRoutine_Main

SMB2U_InitAndMainLoop_IRQVector:
	JMP.w SMB2U_IRQRoutine_Main

;--------------------------------------------------------------------


SMB2U_WaitForVBlankRt_Global:
.TurnOnFBlank:
;$118009
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	LDA.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	BRA.b +

.TurnOffFBlank:
	LDA.b #!ScreenDisplayRegister_MaxBrightness0F
+:
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
.Main:
	LDA.b !RAM_SMB2U_Global_StripeImageToUpload
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_StripeImageToUpload
	TAX
	LDA.w DATA_11C1D0,x
	STA.b !RAM_SMB2U_Global_StripeImageDataLo
	LDA.w DATA_11C1D0+$01,x
	STA.b !RAM_SMB2U_Global_StripeImageDataHi
	LDA.w DATA_11C1D0+$02,x
	STA.b !RAM_SMB2U_Global_StripeImageDataBank
	STZ.w !RAM_SMB2U_Global_WaitForVBlankFlag
-:
	LDA.w !RAM_SMB2U_Global_WaitForVBlankFlag
	BPL.b -
	JSL.l SMB2U_PollJoypadInputs_Main
	CLI
	RTL

;--------------------------------------------------------------------

CODE_118038:
	JML.l SMB2U_DisplayCopyDetectionErrorMessage_Main				; Note: Call to SMAS function

CODE_11803C:
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	SEI
	CLC
	XCE
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	STZ.w !REGISTER_DMAEnable
	STZ.w !REGISTER_HDMAEnable
	LDA.b #$80
	STA.w !REGISTER_ScreenDisplayRegister
	REP.b #$20
	LDA.w #!RAM_SMB2U_Global_StartOfStack
	TCS
	LDA.w #!RAM_SMB2U_Global_ScratchRAM00
	TCD
	SEP.b #$20
endif
if !Define_SMAS_Global_DisableCopyDetection == !FALSE
	NOP #2
	LDA.b #$AA
	STA.l !SRAM_SMAS_Global_CopyDetectionCheck2
	CMP.l !SRAM_SMAS_Global_CopyDetectionCheck1
	BNE.b CODE_118038
	LDA.b #$55
	STA.l !SRAM_SMAS_Global_CopyDetectionCheck2
	CMP.l !SRAM_SMAS_Global_CopyDetectionCheck1
	BNE.b CODE_118038
endif
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	LDA.w !REGISTER_PPUStatusFlag2
	BIT.b #!PPUStatusFlag2_ConsoleRegion
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_E) != $00
	BNE.b +
else
	BEQ.b +
endif
	JML.l SMB2U_DisplayRegionErrorMessage_Main

+:
	JSL.l SMB2U_UploadSPCEngine_Main
	JSL.l SMB2U_InitializeRAMOnStartup_Main
	JSL.l SMB2U_VerifySaveDataIsValid_Main
	JSL.l SMB2U_UploadMainSampleData_Main
	JSL.l SMB2U_LoadSplashScreen_Main
	JSL.l SMB2U_UploadMusicBank_Main
else
	SEI
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	STZ.w !REGISTER_HDMAEnable
	STZ.w !REGISTER_DMAEnable
endif
	STZ.w !REGISTER_APUPort0
	STZ.w !REGISTER_APUPort1
	STZ.w !REGISTER_APUPort2
	STZ.w !REGISTER_APUPort3
	LDA.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	STA.w !REGISTER_ScreenDisplayRegister
	PHK
	PLB
	CLC
	PHD
	LDA.b #!REGISTER_ScreenDisplayRegister>>8
	XBA
	LDA.b #!REGISTER_ScreenDisplayRegister
	TCD
	LDA.b #!SpriteGFXLocationInVRAMLo_6000|!SpriteGFXLocationInVRAMHi_Add1000|!SpriteSize_8x8_16x16
	STA.b !REGISTER_OAMSizeAndDataAreaDesignation
	LDA.b #!BGModeAndTileSizeSetting_Mode01Enable
	STA.b !REGISTER_BGModeAndTileSizeSetting
	STA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	STZ.b !REGISTER_MosaicSizeAndBGEnable
	LDA.b #$03
	STA.b !REGISTER_BG1AddressAndSize
	STA.w !RAM_SMB2U_Global_BG1AddressAndSize
	LDA.b #$13
	STA.b !REGISTER_BG2AddressAndSize
	LDA.b #$4B
	STA.b !REGISTER_BG3AddressAndSize
	STZ.b !REGISTER_BG4AddressAndSize
	LDA.b #$22
	STA.b !REGISTER_BG1And2TileDataDesignation
	LDA.b #$05
	STA.b !REGISTER_BG3And4TileDataDesignation
	LDA.b #$13
	STA.b !REGISTER_MainScreenLayers
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	STZ.b !REGISTER_SubScreenLayers
	STZ.b !REGISTER_MainScreenWindowMask
	STZ.b !REGISTER_SubScreenWindowMask
	STZ.b !REGISTER_BG1And2WindowMaskSettings
	STZ.b !REGISTER_BG3And4WindowMaskSettings
	STZ.b !REGISTER_ObjectAndColorWindowSettings
	STZ.b !REGISTER_ColorMathInitialSettings
	STZ.b !REGISTER_ColorMathSelectAndEnable
	LDA.b #$E0
	STA.b !REGISTER_FixedColorData
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #!InitialScreenSettings_EnableOverscanFlag
	STA.b !REGISTER_InitialScreenSettings
else
	STZ.b !REGISTER_InitialScreenSettings
endif
	STZ.w !RAM_SMB2U_Global_BG1And2WindowMaskSettingsMirror
	STZ.w !RAM_SMB2U_Global_BG3And4WindowMaskSettingsMirror
	STZ.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
	STZ.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	STZ.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	STZ.w !RAM_SMB2U_Global_MainScreenWindowMaskMirror
	STZ.w !RAM_SMB2U_Global_SubScreenWindowMaskMirror
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	LDA.b #$40
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	LDA.b #$80
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	PLD
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte
	STA.l $7F0002
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable
	STZ.w !RAM_SMB2U_Global_VCountTimerLo
	STZ.w $1DE8
	STZ.w $1DE9
	STZ.w $1DEE
	STZ.w $1DEF
	STZ.w $1DEA
	STZ.w $1DEB
	STA.w $1DED
	LDA.b #$01
	STA.w $1DEC
	LDA.b #$00
	STA.w $06BF
	STA.w $0217
	STA.w !RAM_SMB2U_Global_HandlePauseMenuGraphicsUploadFlag
	STA.w !RAM_SMB2U_Level_UseVaseInteriorWindowHDMAFlag
	JSL.l SMB2U_InitializeMode2ScreenScrolling_Main
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) == $00
	LDA.l $7FFB00
	STA.w !RAM_SMB2U_Level_CurrentWorld
	ASL
	CLC
	ADC.l $7FFB00
	CLC
	ADC.l $7FFB01
	STA.w !RAM_SMB2U_Level_CurrentLevel
	DEC									; Optimization: Junk
	STA.w !RAM_SMB2U_Player_CheckpointLevel
	LDA.l $7FFB02
	STA.w !RAM_SMB2U_Player_CurrentLifeCount
	LDX.b #$03
CODE_118144:
	LDA.l $7FFB03,x
	STA.w !RAM_SMB2U_Player_MariosContributionCount,x
	DEX
	BPL.b CODE_118144
	LDA.w !RAM_SMB2U_Level_CurrentLevel					;\ Optimization: Junk
	STA.w !RAM_SMB2U_Player_CheckpointLevel					;/
endif
	JSL.l SMB2U_CheckWhichControllersArePluggedIn_Main			; Note: Call to SMAS function
	JSL.l SMB2U_ProcessTitleScreen_Main
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	JSL.l SMB2U_ProcessFileSelect_Main
endif
	INC.w $06BF
	LDA.b #$02
	STA.w $059E
	LDA.b #$FF
	STA.w $02E6
	BRA.b CODE_11817F

CODE_11816B:
	LDA.b #$05
	STA.w !RAM_SMB2U_Player_CurrentLifeCount
	BRA.b CODE_11817F

CODE_118172:
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDA.l DATA_11C9B4,x
	STA.w !RAM_SMB2U_Level_CurrentLevel
	STA.w !RAM_SMB2U_Player_CheckpointLevel
CODE_11817F:
	STZ.w $0217
	JSR.w CODE_118983
	JSR.w CODE_118896
	JSR.w CODE_118921
	LDA.b #$FF
	STA.w $0547
	BRA.b CODE_1181A8

CODE_118192:
	STZ.w $0217
	JSR.w CODE_118983
	JSR.w CODE_118921
	BRA.b CODE_1181A8

ADDR_11819D:
	STZ.w $0217
	LDA.b #!Define_SMB2U_LevelMusic_MusicFade
	STA.w !RAM_SMB2U_Global_MusicCh1
	JSR.w ADDR_1188BA
CODE_1181A8:
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	AND.b #$80
	BNE.b CODE_1181B5
	JSR.w CODE_118B2E
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
CODE_1181B5:
	LDA.b #$B0
	ORA.w !RAM_SMB2U_Global_Layer1XPosHi
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_1181C3
	AND.b #$FE
	ORA.w !RAM_SMB2U_Global_Layer1YPosHi
CODE_1181C3:
	STA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	PHA
	LDA.w $02B8
	BNE.b CODE_1181D2
	JSL.l CODE_14E35A
CODE_1181D2:
	LDA.w $079C
	BEQ.b CODE_1181E0
	LDA.w $079D
	STA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	STZ.w $079C
CODE_1181E0:
	STZ.w $02B8
	STZ.w $0776
	STZ.w !RAM_SMB2U_Level_WaitBeforeRestoringPreviousMusicTimer
	STZ.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	STZ.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	LDA.b #$80
	STA.w $0100
	STA.w $0217
	JSL.l SMB2U_UploadGiantTreeOrIceRockFGGraphicsHack_Main
	JSL.l CODE_1385DA
	JSL.l SMB2U_BufferSpriteListData_Main
	JSL.l CODE_14F64A
	JSL.l CODE_12FAD5
	JSL.l SMB2U_LoadLayer2BGHeader_Main
	JSL.l SMB2U_HandleLevelDataHacks_Main
	JSL.l CODE_14F500
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BEQ.b CODE_118220
	LDA.b #!BGModeAndTileSizeSetting_Mode01Layer3Priority|!BGModeAndTileSizeSetting_Mode01Enable
	BRA.b CODE_118222

CODE_118220:
	LDA.b #!BGModeAndTileSizeSetting_Mode01Enable
CODE_118222:
	STA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	JSL.l SMB2U_BufferLevelPalette_Main
	JSL.l CODE_14D0F2
	JSL.l SMB2U_UploadBossSpriteGraphics_Main
	JSL.l CODE_14F9F0
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_14F953
else
	JSL.l CODE_14F9A0
endif
	PLA
	AND.b #$80
	ORA.b #$01
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSR.w CODE_118890
	LDA.b #$B0
	STA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	JSL.l SMB2U_UploadLayer3Graphics_Main
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_118257
	BRL.w CODE_11833B

CODE_118257:
	STZ.w !REGISTER_HDMAEnable
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	JSR.w CODE_119451
	JSR.w SMB2U_UpdateLayer2Tilemap_Main
	JSL.l SMB2U_UpdateLayer3Tilemap_Main
	LDA.b #$00
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexHi
	STA.l $7F0000
	STA.l $7F0001
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexLo
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexHi
	DEC
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte
	STA.l $7F0002
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable
	JSL.l CODE_14ED60						;\ Note: Something to do with loading layer 1, 2, and 3 respectively
	JSL.l CODE_13F000						;|
	JSL.l CODE_158000						;/
	JSL.l SMB2U_SetLevelMusic_Main
	LDA.b $13
	BEQ.b CODE_118257
	LDA.b #$81
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
	STZ.b $13
	STZ.w !RAM_SMB2U_Level_ExitLevelAction
	STZ.w $02AB
	STZ.w $0724
	LDA.w !RAM_SMB2U_Global_VCountTimerLo
	BEQ.b CODE_1182C1
	LDA.b #$18
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_2
	BNE.b CODE_1182C1
	INC.b !RAM_SMB2U_Global_StripeImageToUpload
CODE_1182C1:
	JSL.l SMB2U_CheckIfLevelUsesAnHDMAGradient_Main
	INC.w $0D13
	JSR.w CODE_118B5A
	STZ.w $0D13
CODE_1182CE:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.l !SRAM_SMAS_Global_EnableSMASDebugModeFlag
	BEQ.b CODE_1182EE
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_L
	BEQ.b CODE_1182E1
	INC.w !RAM_SMB2U_Level_FrameAdvanceDebugActiveFlag
CODE_1182E1:
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_R
	BNE.b CODE_1182EE
	LDA.w !RAM_SMB2U_Level_FrameAdvanceDebugActiveFlag
	AND.b #$01
	BNE.b CODE_118321
CODE_1182EE:
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) == $00
	LDA.w !RAM_SMB2U_Level_AllowPauseFlag
	BNE.b CODE_118300
	INC.w !RAM_SMB2U_Level_PreventPauseTimer
	LDA.w !RAM_SMB2U_Level_PreventPauseTimer
	CMP.b #$10
	BNE.b CODE_118309
	INC.w !RAM_SMB2U_Level_AllowPauseFlag
endif
CODE_118300:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Start>>8
	BEQ.b CODE_118309
	JMP.w CODE_11848F

CODE_118309:
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_118311
	JMP.w CODE_1185F8

CODE_118311:
	JSL.l CODE_14F9F0
	JSL.l CODE_14DF1F
	LDY.w !RAM_SMB2U_Level_ExitLevelAction
	BEQ.b CODE_118321
	JMP.w CODE_118B8D

CODE_118321:
	LDA.w !RAM_SMB2U_Player_TeleportFlag
	BEQ.b CODE_1182CE
	JSR.w CODE_118B2E
	JSL.l CODE_14E30F
	JSL.l SMB2U_StoreNewCheckpointInformation_Main
	STZ.w !RAM_SMB2U_Player_TeleportFlag
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	JMP.w CODE_1181B5

CODE_11833B:
	STZ.w !REGISTER_HDMAEnable
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	JSR.w CODE_119451
	JSR.w SMB2U_UpdateLayer2Tilemap_Main
	JSL.l SMB2U_UpdateLayer3Tilemap_Main
	LDA.b #$00
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexHi
	STA.l $7F0000
	STA.l $7F0001
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexLo
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexHi
	DEC
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte
	STA.l $7F0002
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable
	JSL.l CODE_14E6B0						;\ Note: Something to do with loading layer 1, 2, and 3 respectively?
	JSL.l CODE_13F500						;|
	JSL.l CODE_158500						;/
	JSL.l SMB2U_SetLevelMusic_Main
	LDA.b $13
	BEQ.b CODE_11833B
	LDA.b #$81
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
	STZ.b $13
	STZ.w !RAM_SMB2U_Level_ExitLevelAction
	STZ.w $02AB
	STZ.w $0724
	STZ.w !RAM_SMB2U_Global_Layer1YPosLo
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer1YPosHi
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	CMP.b #$02
	BNE.b CODE_1183AC
	STZ.w $0D09
	LDA.b #!Define_SMB2U_PlayerState00_Normal
	STA.b !RAM_SMB2U_Player_CurrentState
	JSR.w CODE_1187C9
CODE_1183AC:
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	BNE.b CODE_1183C2
	LDA.w $0535
	AND.b #$01
	BEQ.b CODE_1183C2
	LDA.b #$F8
	STA.w !RAM_SMB2U_Global_Layer2YPosLo
	STZ.w !RAM_SMB2U_Global_Layer2YPosHi
	BRA.b CODE_1183CA

CODE_1183C2:
	STZ.w !RAM_SMB2U_Global_Layer2YPosLo
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer2YPosHi
CODE_1183CA:
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BNE.b CODE_1183E0
	LDA.w $0535
	AND.b #$01
	BEQ.b CODE_1183E0
	LDA.b #$F8
	STA.w !RAM_SMB2U_Global_Layer3YPosLo
	STZ.w !RAM_SMB2U_Global_Layer3YPosHi
	BRA.b CODE_1183E8

CODE_1183E0:
	STZ.w !RAM_SMB2U_Global_Layer3YPosLo
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer3YPosHi
CODE_1183E8:
	JSL.l SMB2U_CheckIfLevelUsesAnHDMAGradient_Main
	JSL.l SMB2U_InitializeVaseInteriorWindowHDMA_Main
	INC.w $0D13
	JSR.w CODE_118B5A
	STZ.w $0D13
CODE_1183F9:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.l !SRAM_SMAS_Global_EnableSMASDebugModeFlag
	BEQ.b CODE_118419
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_L
	BEQ.b CODE_11840C
	INC.w !RAM_SMB2U_Level_FrameAdvanceDebugActiveFlag
CODE_11840C:
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_R
	BNE.b CODE_118419
	LDA.w !RAM_SMB2U_Level_FrameAdvanceDebugActiveFlag
	AND.b #$01
	BNE.b CODE_118445
CODE_118419:
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) == $00
	LDA.w !RAM_SMB2U_Level_AllowPauseFlag
	BNE.b CODE_11842B
	INC.w !RAM_SMB2U_Level_PreventPauseTimer
	LDA.w !RAM_SMB2U_Level_PreventPauseTimer
	CMP.b #$10
	BNE.b CODE_118431
	INC.w !RAM_SMB2U_Level_AllowPauseFlag
endif
CODE_11842B:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Start>>8
	BNE.b CODE_11848F
CODE_118431:
	JSL.l CODE_14F9F0
	JSL.l CODE_14DFCB
	JSL.l CODE_14D8A2
	LDY.w !RAM_SMB2U_Level_ExitLevelAction
	BEQ.b CODE_118445
	JMP.w CODE_118B8D

CODE_118445:
	LDA.w !RAM_SMB2U_Player_TeleportFlag
	BEQ.b CODE_1183F9
	JSR.w CODE_118B2E
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	CMP.b #$02
	BNE.b CODE_11846A
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	STZ.w !RAM_SMB2U_Global_BG1And2WindowMaskSettingsMirror
	STZ.w !RAM_SMB2U_Global_BG3And4WindowMaskSettingsMirror
	STZ.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
	LDA.b #!Define_SMB2U_PlayerState05_ExitVase
	STA.b !RAM_SMB2U_Player_CurrentState
	LDA.b #$04
	STA.b !RAM_SMB2U_Player_BasePose
CODE_11846A:
	STZ.w !RAM_SMB2U_Player_VaseWarpType
	STZ.w $078C
	JSL.l CODE_14E30F
	JSL.l SMB2U_StoreNewCheckpointInformation_Main
	LDA.w !RAM_SMB2U_Player_TeleportFlag
	CMP.b #$02
	BNE.b CODE_118482
	INC.w $02B8
CODE_118482:
	STZ.w !RAM_SMB2U_Player_TeleportFlag
	STZ.w !RAM_SMB2U_Level_UseVaseInteriorWindowHDMAFlag
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	JMP.w CODE_1181B5

CODE_11848F:				; Note: Something related to the pause menu
	LDA.w !REGISTER_APUPort2
	CMP.b #!Define_SMB2U_LevelMusic_WorldClear
	BEQ.b CODE_1184B6
	LDA.b $D8
	AND.b #$04
	BNE.b CODE_1184B6
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BNE.b CODE_1184B6
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState07_Dead
	BEQ.b CODE_1184B6
	LDA.w !RAM_SMB2U_Player_HideAndFreezePlayerFlag
	BNE.b CODE_1184B6
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_CloseMouthFlag
	BNE.b CODE_1184B6
	LDA.w !RAM_SMB2U_Player_PlayerLocked
	BEQ.b CODE_1184C0
CODE_1184B6:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_1184BD
	JMP.w CODE_118309

CODE_1184BD:
	JMP.w CODE_118431

CODE_1184C0:
	STZ.w !RAM_SMB2U_Level_UseVaseInteriorWindowHDMAFlag
	STZ.w !RAM_SMB2U_Global_BlinkingCursorPos
	JSL.l SMB2U_InitializePauseMenuWindowHDMATable_Main
	JSL.l CODE_14F9F0
	JSL.l CODE_13FB47
	JSL.l SMB2U_InitializePauseMenuWindowingAndColorMathParameters_Main
	STZ.w $0231
	INC.w !RAM_SMB2U_Global_HandlePauseMenuGraphicsUploadFlag
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) == $00
	STZ.w !RAM_SMB2U_Level_AllowPauseFlag
	STZ.w !RAM_SMB2U_Level_PreventPauseTimer
endif
	LDA.b #!Define_SMB2U_LevelMusic_LowerVolumeCommand
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.b #!Define_SMAS_Sound0060_Pause1
	STA.w !RAM_SMB2U_Global_SoundCh1
	LDA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	STA.w $0774
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
CODE_1184F7:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14D269
	JSL.l SMB2U_HandleLevelPauseMenuWindowingAndColorMath_Main
	LDA.w $0232
	BEQ.b CODE_1184F7
	LDA.b #$10
	STA.w !RAM_SMB2U_Level_UnknownPauseMenuTimer
	STZ.w $0211
	LDA.b #$04
	STA.w !RAM_SMB2U_Level_PauseMenuOpenCloseFrameIndex
CODE_118515:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_HandleLevelPauseMenuWindowingAndColorMath_Main
	LDA.b !RAM_SMB2U_Global_ControllerHold2
	CMP.b #!Joypad_L|!Joypad_R
	BNE.b CODE_11852F
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Select>>8
	BEQ.b CODE_11852F
	JSL.l CODE_14E39F
	BRA.b CODE_11857E

CODE_11852F:
	JSL.l SMB2U_MovePauseAndGameOverMenuCursor_Main
	JSL.l CODE_14D2FA
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Start>>8
	BNE.b CODE_118563
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	DEC.w !RAM_SMB2U_Level_UnknownPauseMenuTimer
	BPL.b CODE_118515
	LDA.b #$10
	STA.w !RAM_SMB2U_Level_UnknownPauseMenuTimer
	INC.w $0211
endif
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) == $00
	JSR.w CODE_118550
endif
	JMP.w CODE_118515

if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) == $00
CODE_118550:
	LDA.w !RAM_SMB2U_Level_AllowPauseFlag
	BNE.b CODE_118562
	INC.w !RAM_SMB2U_Level_PreventPauseTimer
	LDA.w !RAM_SMB2U_Level_PreventPauseTimer
	CMP.b #$20
	BNE.b CODE_118562
	INC.w !RAM_SMB2U_Level_AllowPauseFlag
CODE_118562:
	RTS
endif

CODE_118563:
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) == $00
	JSR.w CODE_118550
	LDA.w !RAM_SMB2U_Level_AllowPauseFlag
	BNE.b CODE_118575
	JSL.l CODE_14D2FA
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	BRA.b CODE_118563
endif
CODE_118575:
	JSL.l SMB2U_ProcessPauseAndGameOverMenuOptions_Main
	LDA.b #!Define_SMB2U_LevelMusic_RestoreVolumeCommand
	STA.w !RAM_SMB2U_Global_MusicCh1
CODE_11857E:
	LDA.b #$01
	STA.w $0231
	STZ.w $0232
CODE_118586:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_HandleLevelPauseMenuWindowingAndColorMath_Main
	LDA.w $0232
	BEQ.b CODE_118586
	JSL.l CODE_14D0F2
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BEQ.b CODE_1185A2
	JSL.l CODE_14D8EC
	BRA.b CODE_1185C6

CODE_1185A2:
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	LDA.w DATA_11D098,y
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAY
	LDA.w SMB2U_LevelsWithHDMAGradients_Main,y
	CMP.b #$FF
	BNE.b CODE_1185B8
	LDA.b #$00
	BRA.b CODE_1185BA

CODE_1185B8:
	LDA.b #$70
CODE_1185BA:
	STA.w !RAM_SMB2U_Global_HDMAEnableMirror
	STZ.w !RAM_SMB2U_Global_BG1And2WindowMaskSettingsMirror
	STZ.w !RAM_SMB2U_Global_BG3And4WindowMaskSettingsMirror
	STZ.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
CODE_1185C6:
	JSL.l CODE_14F9F0
	JSL.l CODE_13FB47
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_InitializePauseMenuWindowHDMATable_Main
	JSL.l SMB2U_InitializeVaseInteriorWindowHDMA_Main
	LDA.w $0774
	STA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_1185E8
	BRL.w CODE_1186D4

CODE_1185E8:
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) == $00
	STZ.w !RAM_SMB2U_Level_AllowPauseFlag
	STZ.w !RAM_SMB2U_Level_PreventPauseTimer
endif
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_1185F5
	JMP.w CODE_1183F9

CODE_1185F5:
	JMP.w CODE_1182CE

CODE_1185F8:					; Note: Something related to a screen transition via a vase.
	JSR.w CODE_118B2E
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
endif
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	STZ.w $025F
	STZ.w $0773
	JSL.l CODE_14F953
	STZ.w $0622
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$02
	BEQ.b CODE_118634
	JSR.w CODE_1187C9			; Note: Entering a vase routine?
	JSL.l CODE_14E425
	JSL.l SMB2U_BufferSpriteListData_Main
	JSL.l SMB2U_LoadGenericVaseLevelData_Main
	LDA.b #!Define_SMB2U_LevelMusic_Underground
	STA.w $0546
	JSL.l SMB2U_SetLevelMusic_Main
	LDA.b #$01
	STA.w $0776
	BRA.b CODE_11865E

CODE_118634:					; Note: Entering subspace via potion door routine
	JSL.l SMB2U_GenerateSubspaceLevelData_Main
	LDA.w $079C
	BEQ.b CODE_118646
	LDA.w $079D
	STA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	STZ.w $079C
CODE_118646:
	LDA.b #!Define_SMB2U_LevelMusic_Subspace
	STA.w $0546
	JSL.l CODE_14E341
	JSL.l CODE_14E35A
	STZ.w !RAM_SMB2U_Global_SubScreenLayersMirror
	LDA.b #$02
	STA.w $0776
	STZ.w $079B
CODE_11865E:
	JSL.l CODE_14F0F7
	JSL.l CODE_13F143
	JSL.l CODE_158141
	JSR.w CODE_11913B
CODE_11866D:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14F19A
	LDA.w $0539
	BEQ.b CODE_11866D
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$01
	BNE.b CODE_11869E
	JSL.l CODE_138AAB
	JSL.l CODE_139D53
	JSL.l CODE_1385DA
	JSL.l CODE_14F666
	JSL.l SMB2U_CheckIfLevelUsesAnHDMAGradient_Main
	STZ.w $0770
	STZ.w $04AE
CODE_11869E:
	STZ.w $02B0
	STZ.w $0736
	STZ.b !RAM_SMB2U_Player_XSpeed
	STZ.w !RAM_SMB2U_Player_SubXPos
	STZ.w $0D09
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$02
	BEQ.w CODE_1186C6
	JSL.l SMB2U_BufferLevelPalette_Main
	JSL.l CODE_14D0F2
	INC.w $0D09
	JSL.l SMB2U_InitializeVaseInteriorWindowHDMA_Main
	LDA.b #!Define_SMB2U_PlayerState00_Normal
	STA.b !RAM_SMB2U_Player_CurrentState
CODE_1186C6:
	INC.w $0D13
	LDA.b #$81
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
	JSR.w CODE_118B5A
	STZ.w $0D13
CODE_1186D4:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14F9F0
	JSL.l CODE_14DEBC
	LDY.w !RAM_SMB2U_Level_ExitLevelAction
	BEQ.b CODE_1186E8
	JMP.w CODE_118B8D

CODE_1186E8:
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BNE.b CODE_1186D4
	LDA.w $0622
	BEQ.b CODE_1186F5
	INC.w !RAM_SMB2U_Level_HasCollectedCoinDuringSubspaceTripCounter
CODE_1186F5:
	LDA.w $051B
	STA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	JSR.w CODE_118B2E
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BEQ.b CODE_11870D
	JSL.l CODE_14E35A
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) == $00
	JSL.l SMB2U_BufferSpriteListData_Main
endif
	BRA.b CODE_118711

CODE_11870D:					; Note: Something related to leaving subspace
	JSL.l CODE_14D965
CODE_118711:
	STZ.w !RAM_SMB2U_Level_UseVaseInteriorWindowHDMAFlag
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_14F953
endif
	JSL.l CODE_1385DA
	JSL.l SMB2U_BufferLevelPalette_Main
	JSL.l CODE_14D0F2
	JSL.l CODE_14F9F0
	STZ.w $04AE
	LDA.w $0D09
	BEQ.b CODE_118747
	STZ.w $0D09
	LDA.b #!Define_SMB2U_PlayerState05_ExitVase
	STA.b !RAM_SMB2U_Player_CurrentState
	LDA.b #$04
	STA.b !RAM_SMB2U_Player_BasePose
	STZ.w !RAM_SMB2U_Player_VaseWarpType
	STZ.w $078C
	STZ.w $04BC
	STZ.w $04BD
CODE_118747:
	LDY.w $0546
	STY.w $0547
	JSL.l SMB2U_SetLevelMusic_Main
	STZ.b !RAM_SMB2U_Player_XSpeed
	STZ.w !RAM_SMB2U_Player_SubXPos
	STZ.w !RAM_SMB2U_Global_Layer3YPosHi
	LDA.w $0776
	CMP.b #$02
	BEQ.b CODE_118764
	JSL.l CODE_12FAD5
CODE_118764:
	JSL.l SMB2U_LoadLayer2BGHeader_Main
	JSL.l SMB2U_HandleLevelDataHacks_Main
	JSL.l CODE_14F139
	JSL.l CODE_13F184
	JSL.l CODE_158182
	STZ.w $0776
CODE_11877B:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14F19A
	JSL.l CODE_13F1BF
	JSL.l CODE_1581BD
	LDA.w $0539
	BEQ.b CODE_11877B
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BEQ.b CODE_118799
	LDA.b #$64
	BRA.b CODE_11879B

CODE_118799:
	LDA.b #$20
CODE_11879B:
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	LDA.w !RAM_SMB2U_Global_VCountTimerLo
	BEQ.b CODE_1187B0
	LDA.b #$18
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_2
	BNE.b CODE_1187B0
	INC.b !RAM_SMB2U_Global_StripeImageToUpload
CODE_1187B0:
	JSL.l SMB2U_CheckIfLevelUsesAnHDMAGradient_Main
	INC.w $0D13
	STZ.w !RAM_SMB2U_Global_BG1And2WindowMaskSettingsMirror
	STZ.w !RAM_SMB2U_Global_BG3And4WindowMaskSettingsMirror
	STZ.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
	JSR.w CODE_118B5A
	STZ.w $0D13
	JMP.w CODE_1182CE

;--------------------------------------------------------------------

CODE_1187C9:
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_1187CB:
	STZ.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	DEX
	BPL.b CODE_1187CB
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_ExecutePtr(NULLROM)					; $1187D2

;--------------------------------------------------------------------

CODE_1187ED:
	JSR.w CODE_11913B
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14F9A0
	RTS

;--------------------------------------------------------------------

; Note: Unreferenced routine?

CODE_1187FD:
	JSR.w CODE_11913B
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	LDA.b #$40
	STA.w $0100
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	RTS

;--------------------------------------------------------------------

CODE_118812:
	TXA
	INC
	ORA.b #$80
	STA.w !RAM_SMB2U_LevelPreview_WorldNumberStripeImage+$14
	LDA.b #$0C
	STA.w !RAM_SMB2U_LevelPreview_WorldNumberStripeImage+$15
	LDY.w !RAM_SMB2U_Player_CurrentLifeCount
	TYA
	JSR.w CODE_1191DB
	STY.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$20
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$22
	LDA.b #$0C
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$23
	TAX
	CPY.b #$BF
	BNE.b CODE_118837
	LDX.b #$00
CODE_118837:
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$21
	LDY.b #$0C
CODE_11883C:
	LDA.b #$BF
	STA.w !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage+$04,y
	LDA.b #$00
	STA.w !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage+$05,y
	DEY
	DEY
	BPL.b CODE_11883C
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	SEC
	SBC.l DATA_11C9B4,x
	STA.w $0629
	CLC
	ADC.b #$81
	STA.w !RAM_SMB2U_LevelPreview_WorldNumberStripeImage+$18
	LDA.b #$0C
	STA.w !RAM_SMB2U_LevelPreview_WorldNumberStripeImage+$19
	LDA.l DATA_11C9B4+$01,x
	SEC
	SBC.l DATA_11C9B4,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.b #$00
	TXY
CODE_118871:
	LDA.b #$EB
	CPX.w $0629
	BNE.b CODE_11887A
	LDA.b #$EC
CODE_11887A:
	STA.w !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage+$04,y
	LDA.b #$1C
	STA.w !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage+$05,y
	INY
	INY
	INY
	INY
	INX
	CPX.b !RAM_SMB2U_Global_ScratchRAM03
	BCC.b CODE_118871
	LDA.b #$08
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	RTL

;--------------------------------------------------------------------

CODE_118890:
	LDA.b #$C0
	STA.w $0100
	RTS

;--------------------------------------------------------------------

CODE_118896:
	STZ.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	STZ.w !RAM_SMB2U_Player_CheckpointSublevel
	STZ.w $0535
	STZ.w !RAM_SMB2U_Player_CheckpointScreen
	STZ.w !RAM_SMB2U_Player_EntranceTypeToUse
	STZ.w !RAM_SMB2U_Player_CheckpointEntranceType
	STZ.b !RAM_SMB2U_Player_CurrentState
	STZ.w !RAM_SMB2U_Player_CheckpointPlayerState
	STZ.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	STZ.w !RAM_SMB2U_Player_VaseWarpType
	STZ.w !RAM_SMB2U_NorSpr_StopWatchTimer
	STZ.w $06C2
	RTS

;--------------------------------------------------------------------

ADDR_1188BA:					; Note: Unreferenced routine?
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	AND.b #$80
	BNE.b ADDR_1188C7
	JSR.w CODE_118B2E
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
ADDR_1188C7:
	JSR.w CODE_1190FE
	JSL.l CODE_138936
	JSL.l CODE_14D194
	JSL.l CODE_12FA14
	JSL.l CODE_14F953
	JSR.w CODE_11913B
	JSL.l CODE_14F9F0
	JSL.l SMB2U_BufferLevelPreviewPaletteData_Main
	JSL.l CODE_14D856
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	JSL.l CODE_118812
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	JSL.l SMB2U_ResetBGLayerPositions_Main
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	INC.w $0217
	STZ.w !REGISTER_BG3HorizScrollOffset
	STZ.w !REGISTER_BG3HorizScrollOffset
	STZ.w !REGISTER_BG3VertScrollOffset
	STZ.w !REGISTER_BG3VertScrollOffset
	STZ.w $0D13
	JSR.w CODE_118B5A
CODE_118921:					; Note: Routine that shows the level preview and loads some of the level data?
	LDA.b #!Define_SMB2U_LevelMusic_MusicFade
	STA.w !RAM_SMB2U_Global_MusicCh1
	JSL.l SMB2U_LoadCheckpointInformation_CODE_14E098
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.w $02E6
	BEQ.b CODE_11893C
	STA.w $02E6
	INC.w $0768
	JSL.l CODE_12FD9A
CODE_11893C:
	LDA.b #$80
	STA.w !RAM_SMB2U_LevelPreview_WaitBeforeFadeOut
CODE_118941:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #(!Joypad_Start>>8)|!Joypad_A|(!Joypad_B>>8)
	STA.w $0712
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_A
	ORA.w $0712
	BNE.b CODE_11895A
	DEC.w !RAM_SMB2U_LevelPreview_WaitBeforeFadeOut
	BPL.b CODE_118941
CODE_11895A:
	LDA.w $0768
	BEQ.b CODE_118968
	JSL.l CODE_12F4D0
	STZ.w $0768
	BRA.b CODE_11896B

CODE_118968:
	JSR.w CODE_118B2E
CODE_11896B:
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	JSR.w CODE_1190FE
	JSL.l CODE_138062
	LDA.b #$17
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	JSL.l CODE_12FA14
	JSR.w CODE_11913B
	RTS

;--------------------------------------------------------------------

; Note: Routine for processing the character select screen (after exiting the title screen)?

CODE_118983:
	JSL.l CODE_12FA39
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	JSL.l CODE_118812
	JSL.l SMB2U_BufferCharacterSelectLifeCounterText_Main
	LDY.w !RAM_SMB2U_Player_CurrentLifeCount
	TYA
	JSR.w CODE_1191B1
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$22
	LDA.b #$15
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$23
	LDX.b #$BD
	CPY.b #$BF
	BEQ.b CODE_1189AF
	TYX
	LDA.b #$15
	BRA.b CODE_1189B1

CODE_1189AF:
	LDA.b #$09
CODE_1189B1:
	STX.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$20
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$21
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_HighlightCurrentlySelectedPlayer_Main
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14D1D3
	JSL.l CODE_14F9F0
CODE_1189CB:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_UpdateMode2ScreenScrollingData_Main
	LDA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollFrameIndexLo
	DEC
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollFrameIndexLo
	BPL.b CODE_1189CB
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b #$00
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollVRAMAddressLo
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollVRAMAddressHi
CODE_1189EC:
	LDA.b #$10
	STA.w !RAM_SMB2U_Global_UploadLevelPreviewGraphicsIndex
	INC.w $0217
	JSL.l SMB2U_BufferLevelPreviewPaletteData_Main
	JSL.l CODE_14D194
	JSL.l SMB2U_ResetBGLayerPositions_Main
	LDA.w $0636
	CMP.b #$A5
	BEQ.b CODE_118A0C
	LDA.b #$A5
	STA.w $0636
CODE_118A0C:
	LDA.b #!Define_SMB2U_LevelMusic_CharacterSelect
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.b !RAM_SMB2U_Player_CharacterGFXSet
	STA.w $0404
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	STA.w $0405
CODE_118A1C:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #(!Joypad_DPadL>>8)|(!Joypad_DPadR>>8)|(!Joypad_Select>>8)
	BNE.b CODE_118A29
	JMP.w CODE_118A57

CODE_118A29:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #(!Joypad_DPadR>>8)|(!Joypad_Select>>8)
	BEQ.b CODE_118A39
	JSR.w CODE_118B07
	DEC.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.b #!Define_SMAS_Sound0063_Coin
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_118A39:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_DPadL>>8
	BEQ.b CODE_118A49
	JSR.w CODE_118B07
	INC.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.b #!Define_SMAS_Sound0063_Coin
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_118A49:
	LDA.b !RAM_SMB2U_Player_CharacterGFXSet
	AND.b #$03
	STA.b !RAM_SMB2U_Player_CharacterGFXSet
	JSL.l CODE_14D1D3
	JSL.l SMB2U_HighlightCurrentlySelectedPlayer_Main
CODE_118A57:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #(!Joypad_Start>>8)|!Joypad_A|(!Joypad_B>>8)
	STA.w $0712
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_A
	ORA.w $0712
	BNE.b CODE_118A6A
	JMP.w CODE_118A1C

CODE_118A6A:
	LDA.b #!Define_SMAS_Sound0060_ChooseCharacter
	STA.w !RAM_SMB2U_Global_SoundCh1
	LDA.b #$40
	STA.w !RAM_SMB2U_CharacterSelect_CurrentStateTimer
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDY.b #$00
	LDX.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.l SMB2U_HighlightedCharacterSelectCharacterStripeImage_DataOffset,x
	TAX
CODE_118A81:
	LDA.l SMB2U_HighlightedCharacterSelectCharacterStripeImage_RaiseHand,x
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,y
	INX
	INY
	CPY.b #$18
	BNE.b CODE_118A81
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$0C].LowByte
CODE_118A93:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	DEC.w !RAM_SMB2U_CharacterSelect_CurrentStateTimer
	BPL.b CODE_118A93
	JSL.l SMB2U_HighlightCurrentlySelectedPlayer_Main
	LDA.b #$40
	STA.w !RAM_SMB2U_CharacterSelect_CurrentStateTimer
CODE_118AA5:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	DEC.w !RAM_SMB2U_CharacterSelect_CurrentStateTimer
	BPL.b CODE_118AA5
	LDA.b #$02
	JSL.l SMB2U_InitializeMode2ScreenScrolling_Main
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer1XPosHi
CODE_118AB9:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_UpdateMode2ScreenScrollingData_Main
	LDA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollFrameIndexLo
	DEC
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollFrameIndexLo
	BPL.b CODE_118AB9
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b #$00
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollVRAMAddressLo
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollVRAMAddressHi
	LDA.b #!BGModeAndTileSizeSetting_Mode01Enable
	STA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_HighlightCurrentlySelectedPlayer(NULLROM)				; $118AE0

;--------------------------------------------------------------------

CODE_118B07:
	LDA.b #$17
	STA.w $0712
	LDY.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDX.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.l SMB2U_HighlightedCharacterSelectCharacterStripeImage_DataOffset,x
	TAX
CODE_118B16:
	LDA.l SMB2U_CharacterSelectScreenStripeImage_UnselectedCharacters,x
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,y
	INX
	INY
	DEC.w $0712
	BPL.b CODE_118B16
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,y
	TYA
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	RTS

;--------------------------------------------------------------------

CODE_118B2E:
	STZ.w $02B7
CODE_118B31:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14D1B2
	LDA.w $02B7
	BEQ.b CODE_118B31
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BEQ.b CODE_118B4B
	CMP.b #$01
	BEQ.b CODE_118B4B
	JSL.l CODE_14E35A
CODE_118B4B:
	LDA.w !RAM_SMB2U_Global_VCountTimerLo
	BEQ.b CODE_118B59
	CMP.b #$BE
	BEQ.b CODE_118B59
	LDA.b #$FF
	STA.w !RAM_SMB2U_Global_VCountTimerLo
CODE_118B59:
	RTS

;--------------------------------------------------------------------

CODE_118B5A:
	STZ.w $02B7
	STZ.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STZ.w $04AE
CODE_118B62:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14D1C2
	JSR.w CODE_118B7B
	LDA.b !RAM_SMB2U_Player_YPosHi
	BNE.b CODE_118B75
	JSL.l SMB2U_DrawStationaryBobOmbDoor_Main
CODE_118B75:
	LDA.w $02B7
	BEQ.b CODE_118B62
	RTS

CODE_118B7B:
	LDA.w $0D13
	BEQ.b CODE_118B88
	JSL.l SMB2U_DrawHealthCounter_Main
	JSL.l CODE_129B00
CODE_118B88:
	RTS

;--------------------------------------------------------------------

CODE_118B89:
	JSR.w SMB2U_UpdateLayer2Tilemap_Main
	RTL

;--------------------------------------------------------------------

; Note: Something related to loading the various screens after exiting a level?

CODE_118B8D:
	LDY.w !RAM_SMB2U_Level_ExitLevelAction
	STZ.w !RAM_SMB2U_Level_ExitLevelAction
	STZ.w !RAM_SMB2U_Player_StarPowerTimer
	STZ.w !RAM_SMB2U_Player_BigVeggiePluckedCounter
	STZ.w !RAM_SMB2U_Player_CurrentCherryCount
	STZ.w !RAM_SMB2U_NorSpr_StopWatchTimer
	DEY
	BNE.b CODE_118BED
	STY.w $06C2
	JSL.l SMB2U_LoadCheckpointInformation_Main
	LDA.b #$FF
	STA.w $0547
	LDA.b #$69
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage
	LDA.b #$48
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$01
	LDA.b #$15
	STA.w !RAM_SMB2U_CharacterSelect_BufferGlitchedStripeImageIndex
	JSR.w CODE_118B2E
	LDA.b #$80
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STZ.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	JSR.w CODE_1187ED
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14F953
	JSL.l CODE_14DA0A
	JSR.w CODE_118B5A
	LDA.b #$0F
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STZ.w $0217
	JSR.w CODE_1189EC
	JSR.w CODE_118921
	JMP.w CODE_1181A8

DATA_118BE9:
	db $EE,$1C,$BD,$09

CODE_118BED:
	LDA.b #$1F
	STA.w !RAM_SMB2U_Player_CurrentHP
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_NumberOfHealthUpgrades
	STA.w !RAM_SMB2U_Player_HasUnlockedDoor
	STA.w !RAM_SMB2U_Player_HasCollected1UpMushroom
	STA.w !RAM_SMB2U_NorSpr3F_Mushroom_CollectedMushroom1
	STA.w !RAM_SMB2U_NorSpr3F_Mushroom_CollectedMushroom2
	STA.w !RAM_SMB2U_Level_HasCollectedCoinDuringSubspaceTripCounter
	STA.w !RAM_SMB2U_NorSpr_EnemiesKilledCounter
	DEY
	BEQ.b CODE_118C0F
	JMP.w CODE_118D14

CODE_118C0F:					; Note: Game over screen code
	STY.w $06C2
	LDA.b #!Define_SMB2U_LevelMusic_GameOver
	STA.w !RAM_SMB2U_Global_MusicCh1
	JSR.w CODE_118B2E
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	STZ.w $0217
	JSL.l CODE_14D194
	JSL.l CODE_14F953
	JSL.l SMB2U_ResetBGLayerPositions_Main
	JSL.l SMB2U_UploadTitleScreenGraphics_Main
	JSL.l SMB2U_UploadCharacterSelectScreenGraphics_Main
	JSL.l SMB2U_BufferTitleScreenPaletteData_Main
	JSL.l CODE_13882D
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.b #$02
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	JSL.l CODE_14D84E
	LDA.b #$05
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	REP.b #$20
	LDA.w #$09BD
	STA.w !RAM_SMB2U_GameOverScreen_MenuCursorStripeImage+$04
	STA.w !RAM_SMB2U_GameOverScreen_MenuCursorStripeImage+$0A
	LDA.w #$1CEE
	STA.w !RAM_SMB2U_GameOverScreen_MenuCursorStripeImage+$04
	SEP.b #$20
	LDA.b #$13
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer1YPosHi
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	STZ.w $0211
	STZ.w !RAM_SMB2U_Global_BlinkingCursorPos
	JSR.w CODE_11913B
	STZ.w $0D13
	INC.w $078F
	JSR.w CODE_118B5A
CODE_118C94:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #(!Joypad_DPadU>>8)|(!Joypad_DPadD>>8)|(!Joypad_Select>>8)
	BEQ.b CODE_118CA2
	JSL.l SMB2U_MovePauseAndGameOverMenuCursor_Main
CODE_118CA2:
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	ASL
	ASL
	CLC
	ADC.w !RAM_SMB2U_Global_BlinkingCursorPos
	CLC
	ADC.w !RAM_SMB2U_Global_BlinkingCursorPos
	TAY
	REP.b #$20
	LDA.w #$09BD
	STA.w !RAM_SMB2U_GameOverScreen_MenuCursorStripeImage+$04
	STA.w !RAM_SMB2U_GameOverScreen_MenuCursorStripeImage+$0A
	STA.w !RAM_SMB2U_GameOverScreen_MenuCursorStripeImage+$10
	SEP.b #$20
	INC.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
	LDA.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
	AND.b #$10
	LSR
	LSR
	LSR
	TAX
	REP.b #$20
	LDA.l DATA_118BE9,x
	STA.w !RAM_SMB2U_GameOverScreen_MenuCursorStripeImage+$04,y
	SEP.b #$20
	LDA.b #$13
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Start>>8
	BEQ.b CODE_118C94
	JSL.l SMB2U_ProcessPauseAndGameOverMenuOptions_Main
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	BNE.b CODE_118CEF
	LDA.b #!Define_SMAS_Sound0063_Correct
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_118CEF:
	LDA.b #$04
	JSL.l SMB2U_InitializeMode2ScreenScrolling_Main
	STZ.w !RAM_SMB2U_Global_Layer1YPosHi
	STZ.w !RAM_SMB2U_Player_CurrentCoinCount
	LDA.b #$13
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	STZ.w $078F
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	ASL
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentWorld
	STA.w !RAM_SMB2U_Level_CurrentLevel
	STA.w !RAM_SMB2U_Player_CheckpointLevel
	JMP.w CODE_11816B

;--------------------------------------------------------------------

; Note: Something related to the slot machine/warp zone.

CODE_118D14:
	DEY
	BNE.b CODE_118D1A
	BRL.w CODE_118DF9

CODE_118D1A:
	LDA.b #!Define_SMB2U_LevelMusic_WarpZone
	STA.w !RAM_SMB2U_Global_MusicCh1
	JSL.l CODE_14F9F0
	LDX.b #$00
	JSL.l SMB2U_InitializeWavyScreenEfffectRAM_Main
CODE_118D29:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14D3A4
	LDA.w $022B
	CMP.b #$80
	BCC.b CODE_118D29
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	STZ.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	JSL.l SMB2U_InitializeHDMAWaveEffectTable_Main
	LDY.w !RAM_SMB2U_Level_CurrentWorld
	STY.w $0405
	LDA.w DATA_11CDB4,y
	STA.w !RAM_SMB2U_Level_CurrentWorld
	TAY
	LDX.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.w DATA_11C9B4,y
	STA.w !RAM_SMB2U_Level_CurrentLevel
	STA.w !RAM_SMB2U_Player_CheckpointLevel
	TYA
	SEC
	SBC.b #$03
	ASL
	TAY
	REP.b #$20
	LDA.w DATA_11CDBB,y
	STA.w !RAM_SMB2U_WarpZone_WorldNumberStripeImage+$04
	LDA.w DATA_11CDC3,y
	STA.w !RAM_SMB2U_WarpZone_WorldNumberStripeImage+$06
	LDA.w DATA_11CDCB,y
	STA.w !RAM_SMB2U_WarpZone_WorldNumberStripeImage+$08
	SEP.b #$20
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	JSL.l CODE_14D194
	JSL.l CODE_138A68
	JSL.l SMB2U_UploadCharacterSelectScreenGraphics_Main
	JSL.l SMB2U_UploadWarpScreenGraphics
	STZ.w $0217
	JSL.l SMB2U_ResetBGLayerPositions_Main
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.w !RAM_SMB2U_Global_Layer1YPosHi
	JSL.l CODE_14F953
	JSL.l SMB2U_BufferSlotMachineAndWarpZonePaletteData_Main
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	JSR.w CODE_11913B
	JSL.l CODE_14D84E
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.b #$04
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.b #$12
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.b #!Define_SMB2U_LevelMusic_Fanfare2
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDX.b #$01
	JSL.l SMB2U_InitializeWavyScreenEfffectRAM_Main
CODE_118DCB:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14D3A4
	LDA.w $022B
	CMP.b #$F0
	BCC.b CODE_118DCB
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	JSL.l SMB2U_InitializeHDMAWaveEffectTable_Main
	LDA.b #$00
	JSL.l SMB2U_InitializeMode2ScreenScrolling_Main
	JSL.l SMB2U_ResetBGLayerPositions_Main
	JSR.w SMB2U_HandleNoSlotMachineBonus_CODE_1190A9
	JSR.w CODE_118896
	LDA.b #$13
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	JMP.w CODE_118192

CODE_118DF9:
	LDA.b #!Define_SMB2U_LevelMusic_MusicFade
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDX.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.w !RAM_SMB2U_Player_MariosContributionCount,x
	CMP.b #$63
	BEQ.b CODE_118E0A
	INC.w !RAM_SMB2U_Player_MariosContributionCount,x
CODE_118E0A:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_7_2
	BNE.b CODE_118E14
	JMP.w SMB2U_ProcessTheEnding_Main

CODE_118E14:
	STY.w $06C2
	STZ.w $0217
	JSR.w CODE_118B2E
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	JSL.l CODE_14F9F0
	JSL.l CODE_14F953
	JSR.w CODE_11913B
	JSL.l CODE_14D194
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b #$00
	JSL.l SMB2U_InitializeMode2ScreenScrolling_Main
	JSL.l SMB2U_ResetBGLayerPositions_Main
	JSL.l CODE_138A68
	JSL.l SMB2U_UploadCharacterSelectScreenGraphics_Main
	STZ.w $0D08
	LDY.w !RAM_SMB2U_Level_CurrentWorld
	LDA.w DATA_11C9B4+$01,y
	SEC									;\ Optimization: DEC
	SBC.b #$01								;/
	CMP.w !RAM_SMB2U_Level_CurrentLevel
	BNE.b CODE_118E5F
	INC.w !RAM_SMB2U_Level_CurrentWorld
	INC.w $0D08
	BRA.b CODE_118E7F

CODE_118E5F:
	JSL.l CODE_14E30F
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	LDY.b #$00
CODE_118E68:
	INY
	CMP.w DATA_11C9B4,y
	BCS.b CODE_118E68
	DEY
	STY.w !RAM_SMB2U_Level_CurrentWorld
	LDY.w !RAM_SMB2U_Level_CurrentWorld
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	SEC
	SBC.w DATA_11C9B4,y
	STA.w $0629
CODE_118E7F:
	JSL.l CODE_14D84E
	STZ.w !RAM_SMB2U_SlotMachine_HasGiven3CoinServiceFlag
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.b #$17
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.b #$40
	STA.w $0100
	JSR.w CODE_11913B
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b #$C0
	STA.w $0100
	JSR.w CODE_1190FE
	STZ.w $0789
	JSR.w CODE_119141
	LDA.b #!Define_SMB2U_LevelMusic_Fanfare1
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.w !RAM_SMB2U_Player_CurrentCoinCount
	BNE.b CODE_118EB9
	JMP.w SMB2U_HandleNoSlotMachineBonus_Main

CODE_118EB9:
	JSL.l SMB2U_InitializeSlotMachineReelRAMAndPayoutText_Main
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	STZ.w $0D13
	INC.w $0789
	JSR.w CODE_118B5A
CODE_118ECA:
	LDA.w !RAM_SMB2U_Player_CurrentCoinCount
	BNE.b CODE_118F1A
CODE_118ECF:
	LDX.b #!RAM_SMB2U_SlotMachine_ActivateRightReelFlag+$03
	LDA.b #$00
CODE_118ED3:
	STA.w !RAM_SMB2U_Ending_CastListState-$29,x
	DEX
	CPX.b #!RAM_SMB2U_Ending_CastListState-$01
	BNE.b CODE_118ED3
	LDA.w $0D08
	BEQ.b CODE_118EEB
	JSR.w CODE_118890
	LDA.b #$FF
	STA.w $0547
	JMP.w CODE_118172

CODE_118EEB:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	STA.w !RAM_SMB2U_Player_CheckpointLevel
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	STA.w !RAM_SMB2U_Player_CheckpointSublevel
	LDA.w $0535
	STA.w !RAM_SMB2U_Player_CheckpointScreen
	LDY.b #!Define_SMB2U_PlayerState00_Normal
	STY.w !RAM_SMB2U_Player_CheckpointPlayerState
	STY.w !RAM_SMB2U_Player_EntranceTypeToUse
	STY.w !RAM_SMB2U_Player_CheckpointEntranceType
	DEY
	STY.w $0547
	JSR.w CODE_118890
	JSL.l CODE_14F9F0
	JMP.w CODE_118192

DATA_118F16:
	db $07,$0A,$0E,$12

CODE_118F1A:
	DEC.w !RAM_SMB2U_Player_CurrentCoinCount
	STZ.w !RAM_SMB2U_SlotMachine_HasPlayedDrumrollEndSoundFlag
	STZ.w !RAM_SMB2U_SlotMachine_WaitBeforePlayingDrumrollEndSoundTimer
	STZ.w !RAM_SMB2U_SlotMachine_SpinningReelSoundFrameCounter
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSR.w CODE_119149
	JSL.l SMB2U_InitializeSlotMachineReelRAMForNewSpin_Main
CODE_118F31:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14F9F0
	INC.b !RAM_SMB2U_Global_FrameCounter
	INC.w !RAM_SMB2U_SlotMachine_SpinningReelSoundFrameCounter
	LDA.b !RAM_SMB2U_SlotMachine_RightReel2YSpeed
	AND.b #$70
	CMP.b #$40
	BCS.b CODE_118F4D
	EOR.b #$30
	LSR
	LSR
	LSR
	LSR
	INC
CODE_118F4D:
	AND.b #$03
	TAX
	LDA.w !RAM_SMB2U_SlotMachine_SpinningReelSoundFrameCounter
	CMP.l DATA_118F16,x
	BNE.b CODE_118F61
	LDA.b #!Define_SMAS_Sound0060_StepOnLevelTile
	STA.w !RAM_SMB2U_Global_SoundCh1
	STZ.w !RAM_SMB2U_SlotMachine_SpinningReelSoundFrameCounter
CODE_118F61:
	JSL.l SMB2U_HandleSlotMachineButtonPresses_Main
	JSL.l SMB2U_HandleSlowedDownSlotMachineReels_Main
	JSL.l SMB2U_MoveSlotMachineReels_Main
	JSL.l SMB2U_DrawSlotMachineReels_Main
	STZ.b !RAM_SMB2U_SlotMachine_All3ReelsStoppedFlag
	JSL.l CODE_14D012
	LDA.w DATA_11CAF5
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	INC.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b !RAM_SMB2U_SlotMachine_LeftReelState
	ORA.b !RAM_SMB2U_SlotMachine_MiddleReelState
	ORA.b !RAM_SMB2U_SlotMachine_RightReelState
	BNE.b CODE_118F31
	LDA.b #$01
	STA.b !RAM_SMB2U_SlotMachine_All3ReelsStoppedFlag
	JSL.l CODE_14D021
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDY.b #$00
	LDX.b !RAM_SMB2U_SlotMachine_LeftReelContents				; Note: Code that checks for the cherries.
	BNE.b CODE_118FBD
	INY
	LDA.b !RAM_SMB2U_SlotMachine_MiddleReelContents
	BNE.b CODE_118FA9
	INY
	LDA.b !RAM_SMB2U_SlotMachine_RightReelContents
	BNE.b CODE_118FA9
	INY
	BRA.b CODE_118FCD

CODE_118FA9:
	LDA.b !RAM_SMB2U_SlotMachine_MiddleReelContents
	CMP.b !RAM_SMB2U_SlotMachine_RightReelContents
	BNE.b CODE_118FBD
	CMP.b #$04
	BNE.b CODE_118FBD
	LDA.w !RAM_SMB2U_SlotMachine_HasGiven3CoinServiceFlag
	BNE.b CODE_118FBD
	LDA.b #$01
	STA.w !RAM_SMB2U_SlotMachine_HasGiven3CoinServiceFlag
CODE_118FBD:
	CPX.b !RAM_SMB2U_SlotMachine_MiddleReelContents
	BNE.b CODE_118FCD
	CPX.b !RAM_SMB2U_SlotMachine_RightReelContents
	BNE.b CODE_118FCD
	INY
	INY
	CPX.b #$04
	BNE.b CODE_118FCD
	LDY.b #$0A
CODE_118FCD:
	TYA
	CLC
	ADC.w !RAM_SMB2U_Player_CurrentLifeCount
	BCC.b CODE_118FD6
	LDA.b #$FF
CODE_118FD6:
	CMP.b #$64
	BCC.b CODE_118FDC
	LDA.b #$63
CODE_118FDC:
	STA.w !RAM_SMB2U_Player_CurrentLifeCount
	TYA
	BEQ.b CODE_119041
	JSR.w CODE_1191B1
	STA.w !RAM_SMB2U_SlotMachine_PayoutStripeImageText+$18
	STY.w !RAM_SMB2U_SlotMachine_PayoutStripeImageText+$16
	LDA.b #$15
	STA.w !RAM_SMB2U_SlotMachine_PayoutStripeImageText+$19
	CPY.b #$BF
	BNE.b CODE_118FFB
	LDA.b #$BD
	STA.w !RAM_SMB2U_SlotMachine_PayoutStripeImageText+$16
	LDA.b #$09
CODE_118FFB:
	STA.w !RAM_SMB2U_SlotMachine_PayoutStripeImageText+$17
	LDA.b #!Define_SMB2U_LevelMusic_WonSlots
	STA.w !RAM_SMB2U_Global_MusicCh1
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$90
else
	LDA.b #$A0
endif
	STA.b !RAM_SMB2U_SlotMachine_ScreenFlashTimer
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSR.w CODE_119149
CODE_11900E:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	STZ.b !RAM_SMB2U_SlotMachine_All3ReelsStoppedFlag
	LDA.b #$01
	STA.w !RAM_SMB2U_SlotMachine_HasPlayedDrumrollEndSoundFlag
	JSL.l CODE_14D021
	JSL.l CODE_14D0C7
	LDA.b !RAM_SMB2U_SlotMachine_ScreenFlashTimer
	LSR
	LSR
	LSR
	LSR
	AND.b #$01
	TAY
	LDA.w DATA_11CAF9,y
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	DEC.b !RAM_SMB2U_SlotMachine_ScreenFlashTimer
	BNE.b CODE_11900E
	LDA.b #$01
	STA.b !RAM_SMB2U_SlotMachine_All3ReelsStoppedFlag
	JSL.l CODE_14D021
	JSL.l CODE_14D0C7
	BRA.b CODE_119050

CODE_119041:
	LDA.b #!Define_SMB2U_LevelMusic_Death
	STA.w !RAM_SMB2U_Global_MusicCh1
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSR.w CODE_119149
	JSR.w SMB2U_HandleNoSlotMachineBonus_CODE_1190A9
CODE_119050:
	LDA.w !RAM_SMB2U_SlotMachine_HasGiven3CoinServiceFlag
	CMP.b #$01
	BNE.b CODE_11905B
	JSL.l SMB2U_HandleSlotMachine3CoinService_Main
CODE_11905B:
	LDA.b #$11
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JMP.w CODE_118ECA

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_119066:
	LDA.w !RAM_SMB2U_Global_ScratchRAM7E0210
	LSR
	LSR
	LSR
	LSR
	AND.b #$01
	TAY
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_HandleNoSlotMachineBonus(NULLROM)				; $119071

;--------------------------------------------------------------------

SMB2U_ProcessTheEnding:
.Main:
;$1190B6
	STZ.w $0607
	LDA.b #$01
	STA.w $0217
	JSL.l SMB2U_ProcessEndingPart1_Main
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	STZ.w $0217
	JSR.w CODE_1190FE
	JSL.l SMB2U_UploadEndingPart2Graphics_Main
	JSR.w CODE_11913B
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	INC.w $06BF
	STZ.w !RAM_SMB2U_Global_MainScreenWindowMaskMirror
	STZ.w !RAM_SMB2U_Global_SubScreenWindowMaskMirror
	JSL.l SMB2U_ProcessEndingPart2_Main
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
	JSR.w CODE_1190FE
	JSL.l SMB2U_UploadEndingPart3Graphics_Main
	JSR.w CODE_11913B
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	INC.w $06BF
	JSL.l SMB2U_ProcessEndingPart3_Main
	RTS								;\ Crash: If this were to execute, it would crash the game due to a stack overflow.
									;/ However, it will never happen due to the ending menu forcing a reset.

;--------------------------------------------------------------------

CODE_1190FE:
	LDA.b #$30
	STA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	RTS

;--------------------------------------------------------------------

ADDR_119106:					; Note: Unreferenced routine?
	JSR.w CODE_118B2E
	LDA.b #$80
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	JSR.w CODE_1187ED
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b #$04
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	JSL.l CODE_118812
	JSL.l CODE_138CF2
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_138D25
	LDA.w !RAM_SMB2U_CharacterSelect_BufferGlitchedStripeImageIndex
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
CODE_11913B:
	LDA.b #$81
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
	RTS

;--------------------------------------------------------------------

CODE_119141:
	JSL.l SMB2U_ResetBGLayerPositions_Main
	JSL.l SMB2U_BufferSlotMachineAndWarpZonePaletteData_Main
CODE_119149:
	JSL.l SMB2U_BufferSlotMachineCoinAndLifeCounterText_Main
	LDY.w !RAM_SMB2U_Player_CurrentLifeCount
	TYA
	JSR.w CODE_1191B1
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	STY.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2A+2
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2C+2
	LDA.b #$15
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2D+2
else
	STY.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2A
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2C
	LDA.b #$15
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2D
endif
	CPY.b #$BF
	BNE.b CODE_11916A
	LDA.b #$BD
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2A+2
	LDA.b #$09
CODE_11916A:
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2B+2
else
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2A
	LDA.b #$09
CODE_11916A:
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2B
endif
	LDA.w !RAM_SMB2U_Player_CurrentCoinCount
	JSR.w CODE_1191B1
	CPY.b #$BF
	BNE.b CODE_11917A
	TAX
	TYA
	TXY
CODE_11917A:
	STY.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$08
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$0A
	LDX.b #$15
	CMP.b #$BF
	BNE.b CODE_11918D
	LDA.b #$BD
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$0A
	LDX.b #$09
CODE_11918D:
	STX.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$0B
	LDA.b #$15
	CPY.b #$BF
	BNE.b CODE_11919D
	LDA.b #$BD
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$08
	LDA.b #$09
CODE_11919D:
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$09
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.b #$40
	STA.w $0100
	JSR.w CODE_11913B
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	RTS

;--------------------------------------------------------------------
; Note: Converts various counters to decimal in order to display them on-screen.
; A = ones, Y = tens

CODE_1191B1:
	LDY.b #$C0
CODE_1191B3:								; Check for numbers bigger than 9
	CMP.b #$0A
	BCC.b CODE_1191BD
	SBC.b #$0A
	INY
	JMP.w CODE_1191B3

CODE_1191BD:								; If tens number is 0, use blank tile instead
	ORA.b #$C0
	CPY.b #$C0
	BNE.b CODE_1191C5
	LDY.b #$BF
CODE_1191C5:
	RTS

;--------------------------------------------------------------------

CODE_1191C6:
	LDY.b #$D0
CODE_1191C8:
	CMP.b #$0A
	BCC.b CODE_1191D2
	SBC.b #$0A
	INY
	JMP.w CODE_1191C8

CODE_1191D2:
	ORA.b #$D0
	CPY.b #$D0
	BNE.b CODE_1191DA
	LDY.b #$FB
CODE_1191DA:
	RTS

;--------------------------------------------------------------------

CODE_1191DB:
	LDY.b #$80
CODE_1191DD:
	CMP.b #$0A
	BCC.b CODE_1191E7
	SBC.b #$0A
	INY
	JMP.w CODE_1191DD

CODE_1191E7:
	ORA.b #$80
	CPY.b #$80
	BNE.b CODE_1191EF
	LDY.b #$BF
CODE_1191EF:
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_VBlankRoutine(NULLROM)					; $1191F0

;--------------------------------------------------------------------

CODE_119451:
	LDX.b #$44
	LDY.b #$00
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$01
	BEQ.b CODE_119463
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_119463
	LDX.b #$40
	INY
CODE_119463:
	STX.b !RAM_SMB2U_Global_ScratchRAM03
	STZ.b !RAM_SMB2U_Global_ScratchRAM04
	TYA
	ORA.b #$80
	STA.w !REGISTER_VRAMAddressIncrementValue
	LDA.b #$00
	STA.w DMA[$01].SourceBank
	REP.b #$10
	LDX.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STX.w DMA[$01].Parameters
	LDX.w #$0002
	LDA.w SMB2U_StripeImageUploadTable[$00].LowByte-$02,x
	BMI.b CODE_1194B3
CODE_119482:
	REP.b #$20
	LDA.w SMB2U_StripeImageUploadTable[$00].LowByte-$02,x
	XBA
	STA.w !REGISTER_VRAMAddressLo
	LDA.w SMB2U_StripeImageUploadTable[$01].LowByte-$02,x
	XBA
	AND.w #$3FFF
	INC
	STA.w DMA[$01].SizeLo
	TXA
	CLC
	ADC.w #$0004
	CLC
	ADC.w #SMB2U_StripeImageUploadTable[$00].LowByte-$02
	STA.w DMA[$01].SourceLo
	TXA
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM03
	TAX
	SEP.b #$20
	LDA.b #$02
	STA.w !REGISTER_DMAEnable
	LDA.w SMB2U_StripeImageUploadTable[$00].LowByte-$02,x
	BPL.b CODE_119482
CODE_1194B3:
	SEP.b #$30
	RTS

;--------------------------------------------------------------------

; Todo: This seems to only be used in vertical levels?

SMB2U_UpdateLayer2Tilemap:
.Main:
;$1194B6
	LDX.b #$44
	LDY.b #$80
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$01
	BNE.b CODE_1194C5
	LDX.b #$84
	BRA.b CODE_1194D3

CODE_1194C5:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_1194D3
	LDX.b #$2C
	LDA.w !RAM_SMB2U_Global_VCountTimerLo
	BNE.b CODE_1194D2
	LDX.b #$40
CODE_1194D2:
	INY
CODE_1194D3:
	STX.b !RAM_SMB2U_Global_ScratchRAM03
	STZ.b !RAM_SMB2U_Global_ScratchRAM04
	STY.w !REGISTER_VRAMAddressIncrementValue
	LDA.b #$7F0002>>16
	STA.w DMA[$01].SourceBank
	REP.b #$10
	LDX.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STX.w DMA[$01].Parameters
	LDX.w #$0002
	LDA.l $7F0002-$02,x
	BMI.b CODE_119520
CODE_1194F0:
	REP.b #$20
	LDA.l $7F0002-$02,x
	XBA
	STA.w !REGISTER_VRAMAddressLo
	LDA.l $7F0004-$02,x
	XBA
	STA.w DMA[$01].SizeLo
	TXA
	CLC
	ADC.w #$0004
	CLC
	ADC.w #$0000
	STA.w DMA[$01].SourceLo
	TXA
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM03
	TAX
	SEP.b #$20
	LDA.b #$02
	STA.w !REGISTER_DMAEnable
	LDA.l $7F0002-$02,x
	BPL.b CODE_1194F0
CODE_119520:
	SEP.b #$30
	RTS

;--------------------------------------------------------------------

; Note: Routine that loads stripe images

CODE_119523:
	LDA.b !RAM_SMB2U_Global_StripeImageDataBank
	STA.w DMA[$01].SourceBank
	REP.b #$10
	LDY.w #$0000
	LDA.b [!RAM_SMB2U_Global_StripeImageDataLo],y		;\ If Data is $FF,
	BMI.b CODE_119520									;/ finish routine
	STZ.b !RAM_SMB2U_Global_ScratchRAM06
CODE_119533:
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	INY

	LDA.b [!RAM_SMB2U_Global_StripeImageDataLo],y
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	INY
	
	LDA.b [!RAM_SMB2U_Global_StripeImageDataLo],y
	AND.b #$80
	ASL
	ROL
	STA.b !RAM_SMB2U_Global_ScratchRAM07

	LDA.b [!RAM_SMB2U_Global_StripeImageDataLo],y
	AND.b #$40
	STA.b !RAM_SMB2U_Global_ScratchRAM05

	LSR
	LSR
	LSR
	ORA.b #$01
	STA.w DMA[$01].Parameters
	
	LDA.b #!REGISTER_WriteToVRAMPortLo
	STA.w DMA[$01].Destination
	REP.b #$20

	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.w !REGISTER_VRAMAddressLo

	; Load table size
	LDA.b [!RAM_SMB2U_Global_StripeImageDataLo],y
	XBA
	AND.w #$3FFF
	TAX
	INX
	STX.w DMA[$01].SizeLo

	INY
	INY
	TYA
	CLC
	ADC.b !RAM_SMB2U_Global_StripeImageDataLo
	STA.w DMA[$01].SourceLo

	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	BEQ.b CODE_1195A9
	INX
	TXA
	LSR
	TAX
	STX.w DMA[$01].SizeLo

	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	LSR
	LSR
	LSR
	STA.w DMA[$01].Parameters

	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	STA.w !REGISTER_VRAMAddressIncrementValue

	LDA.b #$02
	STA.w !REGISTER_DMAEnable

	LDA.b #!REGISTER_WriteToVRAMPortHi
	STA.w DMA[$01].Destination
	REP.b #$21

	TYA
	ADC.b !RAM_SMB2U_Global_StripeImageDataLo
	INC
	STA.w DMA[$01].SourceLo

	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.w !REGISTER_VRAMAddressLo
	STX.w DMA[$01].SizeLo
	
	LDX.w #$0002
CODE_1195A9:
	STX.b !RAM_SMB2U_Global_ScratchRAM03
	TYA
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM03
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	ORA.b #$80
	STA.w !REGISTER_VRAMAddressIncrementValue
	LDA.b #$02
	STA.w !REGISTER_DMAEnable
	LDA.b [!RAM_SMB2U_Global_StripeImageDataLo],y
	BMI.b CODE_1195C5
	JMP.w CODE_119533

CODE_1195C5:
	SEP.b #$30
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_IRQRoutine(NULLROM)					; $1195C8

;--------------------------------------------------------------------

CODE_11961C:
	STZ.w $02B7
CODE_11961F:
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	JSL.l CODE_14D1B2
	LDA.w $02B7
	BEQ.b CODE_11961F
	RTL

;--------------------------------------------------------------------

CODE_11962D:
	STZ.w $02B7
	STZ.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
CODE_119632:
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	JSL.l CODE_14D1C2
	LDA.w $02B7
	BEQ.b CODE_119632
	RTL

;--------------------------------------------------------------------

CODE_119640:
	LDA.w !RAM_SMB2U_Global_SoundCh1
	BNE.b CODE_119659
	LDA.w !REGISTER_APUPort0
	CMP.w $1DE4
	BEQ.b CODE_119657
	INC.w $1DEA
	LDA.w $1DEA
	CMP.b #$03
	BCC.b CODE_119662
CODE_119657:
	LDA.b #$00
CODE_119659:
	STA.w !REGISTER_APUPort0
	STA.w $1DE4
	STZ.w $1DEA
CODE_119662:
	LDA.w !RAM_SMB2U_Global_SoundCh2
	BNE.b CODE_11967D
	LDA.w !REGISTER_APUPort1
	AND.b #$0F
	CMP.w $1DE5
	BEQ.b CODE_11967B
	INC.w $1DEB
	LDA.w $1DEB
	CMP.b #$03
	BCC.b CODE_119688
CODE_11967B:
	LDA.b #$00
CODE_11967D:
	STA.w !REGISTER_APUPort1
	AND.b #$0F
	STA.w $1DE5
	STZ.w $1DEB
CODE_119688:
	LDA.w !RAM_SMB2U_Global_MusicCh1
	BEQ.b CODE_119703
	LDY.b #$04
	STY.w $1DEC
	STA.w !REGISTER_APUPort2
	CMP.b #!Define_SMB2U_LevelMusic_StopMusicCommand
	BCS.b CODE_11969C
	STA.w $1DE6
CODE_11969C:
	LDA.w !RAM_SMB2U_Global_SoundCh3
	BNE.b CODE_1196C2
	LDA.w !REGISTER_APUPort3
	AND.b #$7F
	CMP.w $1DE7
	BEQ.b CODE_1196B5
	INC.w $1DED
	LDA.w $1DED
	CMP.b #$03
	BCC.b CODE_1196E6
CODE_1196B5:
	LDA.b #$00
	STA.w !REGISTER_APUPort3
	STA.w $1DE7
	STZ.w $1DED
	BRA.b CODE_1196E6

CODE_1196C2:
	STA.w $1DE7
	CMP.b #!Define_SMAS_Sound0063_Coin
	BEQ.b CODE_1196D5
	CMP.b #!Define_SMAS_Sound0063_1up
	BEQ.b CODE_1196D5
	CMP.b #!Define_SMAS_Sound0063_ShootFireball
	BEQ.b CODE_1196D5
	CMP.b #!Define_SMAS_Sound0063_CannonShoot
	BNE.b CODE_1196F3
CODE_1196D5:
	ORA.w $1DEF
	STA.w !REGISTER_APUPort3
	LDA.w $1DEF
	EOR.b #$80
	STA.w $1DEF
	STZ.w $1DED
CODE_1196E6:
	STZ.w !RAM_SMB2U_Global_SoundCh1
	STZ.w !RAM_SMB2U_Global_SoundCh2
	STZ.w !RAM_SMB2U_Global_MusicCh1
	STZ.w !RAM_SMB2U_Global_SoundCh3
	RTS

CODE_1196F3:
	STA.w !REGISTER_APUPort3
	STZ.w !RAM_SMB2U_Global_SoundCh1
	STZ.w !RAM_SMB2U_Global_SoundCh2
	STZ.w !RAM_SMB2U_Global_MusicCh1
	STZ.w !RAM_SMB2U_Global_SoundCh3
	RTS

CODE_119703:
	LDY.w !REGISTER_APUPort2
	CPY.w $1DE6
	BNE.b CODE_11969C
	DEC.w $1DEC
	LDA.w $1DEC
	BNE.b CODE_11969C
	INC.w $1DEC
	STA.w !REGISTER_APUPort2
	BRA.b CODE_11969C

if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) != $00
	%FREE_BYTES(NULLROM, 193, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J2) != $00
	%FREE_BYTES(NULLROM, 101, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
elseif !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E) != $00
	%FREE_BYTES(NULLROM, 88, $FF)
else
	%FREE_BYTES(NULLROM, 101, $FF)
endif

;--------------------------------------------------------------------

DATA_119780:
	db $FA,$F6,$FC,$F7

DATA_119784:
	db $FF,$FF,$FF,$FF

DATA_119788:
	db $02,$FE,$04,$FF

DATA_11978C:
	db $00,$FF,$00,$FF

;--------------------------------------------------------------------

DATA_119790:
	db $18,$E0

DATA_119792:
	db $01,$FF

;--------------------------------------------------------------------

DATA_119794:
	db $FE,$00

DATA_119796:
	db $12,$16,$1A,$1E,$22,$26,$2A,$2D
	db $30,$32,$34,$37,$39,$3B,$3D,$3E
	db $F8,$00,$F8,$00,$08,$10,$08,$10
	db $F8,$F8

;--------------------------------------------------------------------

; Note: Generic enemy X speeds?

DATA_1197B0:
	db $08,$08,$F8,$F8,$08,$08

;--------------------------------------------------------------------

; Note: Tables related to explosions affecting tiles.

DATA_1197B6:
	db $FB,$08,$15,$FB,$08,$15,$FB,$08
	db $15

DATA_1197BF:
	db $FF,$00,$00,$FF,$00,$00,$FF,$00
	db $00

DATA_1197C8:
	db $FC,$FC,$FC,$08,$08,$08,$14,$14
	db $14

DATA_1197D1:
	db $FF,$FF,$FF,$00,$00,$00,$00,$00
	db $00

DATA_1197DA:
	db $1F,$06

;--------------------------------------------------------------------

DATA_1197DC:
	db $44,$48,$4C,$50

;--------------------------------------------------------------------

DATA_1197E0:
	db $08,$04,$02,$01

DATA_1197E4:
	db $00,$08,$10,$18

;--------------------------------------------------------------------

; Note: Spark related tables.

DATA_1197E8:
	db $F0,$E0

DATA_1197EA:
	db $F0,$E0,$10,$20

DATA_1197EE:
	db $0C,$03

DATA_1197F0:
	db $00,$0A

;--------------------------------------------------------------------

DATA_1197F2:
	db $E0,$00

DATA_1197F4:
	db $FF,$01

;--------------------------------------------------------------------

DATA_1197F6:
	db $00,$FF

;--------------------------------------------------------------------

DATA_1197F8:
	db $10,$F0

;--------------------------------------------------------------------

DATA_1197FA:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $A1,$A4,$A8,$AC,$B0,$B4,$B8,$BC
	db $C0,$C4,$CA,$D0
else
	db $AC,$AE,$B1,$B5,$B8,$BC,$C0,$C4
	db $C8,$CC,$D2,$D8
endif

DATA_119806:
	db $92,$EA

;--------------------------------------------------------------------

DATA_119808:
	db $FA,$0C

DATA_11980A:
	db $81,$11

;--------------------------------------------------------------------

DATA_11980C:
	db $43,$41

DATA_11980E:
	db $42,$FE,$F8

DATA_119811:
	db $7F,$3F,$3F

DATA_119814:
	db $08,$06,$04

;--------------------------------------------------------------------

UNK_119817:
	db $18,$E8

;--------------------------------------------------------------------

DATA_119819:
	db $FE,$F8,$F0,$E8

;--------------------------------------------------------------------

DATA_11981D:
	db $F8,$08

;--------------------------------------------------------------------

DATA_11981F:
	db $F0,$FF,$00

;--------------------------------------------------------------------

DATA_119822:
	db $01,$FF

DATA_119824:
	db $30,$D0

DATA_119826:
	db $01,$FF,$01

DATA_119829:
	db $18,$E8,$18

DATA_11982C:
	db $E8,$D0,$D8

;--------------------------------------------------------------------

; Note: Something related to enemy X speeds

DATA_11982F:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $D0,$28,$D8
else
	db $D0,$20,$E0
endif

;--------------------------------------------------------------------

DATA_119832:
	db $0A,$0E,$0A,$0D,$04,$07,$04,$06
	db $10,$F0

;--------------------------------------------------------------------

; Note: Something related to the orange door open/close animation

DATA_11983C:
	db $00,$01,$01,$02,$02,$03,$04,$06
	db $08,$FF,$FF,$FF,$FF,$FF,$FF,$FF
	db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
	db $FF,$08,$06,$04,$03,$02,$02,$02
	db $02,$01,$01,$01,$01,$01,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00

;--------------------------------------------------------------------

DATA_11986C:
	db $00,$1C,$E4

;--------------------------------------------------------------------

DATA_11986F:
	db $00,$D2,$02,$D6,$86,$00,$80,$00,$0A,$CE,$26,$CE,$8A,$CA,$8C,$CA
	db $0C,$72,$0E,$76,$66,$00,$68,$00,$E1,$E3,$E5,$E7,$E1,$E3,$E5,$E7
	db $20,$7A,$22,$7E,$04,$DA,$06,$DE,$4C,$FE,$4E,$FC,$94,$94,$20,$FF
	db $8C,$98,$A6,$9A,$AE,$DD,$AE,$DD,$64,$7F,$06,$C3,$E2,$8C,$C2,$8E
	db $80,$6D,$82,$6F,$87,$87,$97,$97,$A0,$A0,$B0,$B0,$A1,$A1,$B1,$B1
	db $86,$86,$96,$96,$D5,$FB,$D5,$FB,$40,$82,$42,$86,$40,$82,$46,$AC
	db $44,$8A,$42,$86,$44,$8A,$46,$AC,$48,$BE,$46,$AC,$48,$BE,$46,$AC
	db $4A,$B9,$4A,$B9,$A2,$83,$A4,$87,$E4,$FF,$E4,$FF,$A2,$83,$A4,$87
	db $8E,$C7,$08,$CB,$24,$94,$2E,$29,$08,$2B,$2C,$3F,$CA,$4E,$EA,$52
	db $CA,$4E,$CE,$58,$EE,$5C,$EC,$5A,$EA,$FB,$CC,$54,$04,$CF,$28,$A5
	db $AC,$B2,$AA,$90,$2A,$CD,$42,$A8,$44,$A8,$46,$A8,$84,$A2,$86,$A4
	db $86,$A4,$C0,$00,$E0,$00,$62,$A6,$62,$AB,$6C,$FF,$42,$FF,$6A,$FF
	db $42,$FF,$6E,$FF,$42,$FF,$22,$FF,$24,$FF,$2A,$FF

;--------------------------------------------------------------------

DATA_11993B:
	db $00,$00,$08,$00,$0C,$10,$10,$10,$3C,$14,$18,$18,$18,$20,$20,$24
	db $24,$BC,$00,$84,$86,$FF,$FF,$8A,$58,$58,$68,$54,$58,$14,$70,$00
	db $A6,$00,$D8,$AC,$AC,$AC,$70,$76,$90,$98,$7C,$8C,$00,$00,$B6,$B6
	db $B6,$B6,$28,$2A,$2C,$2E,$30,$34,$00,$38,$3A,$40,$80,$80,$82,$9E
	db $A0,$04,$8C

;--------------------------------------------------------------------

DATA_11997E:
	db $8C,$9C,$A4,$A2,$FF,$FF,$00,$00

DATA_119986:
	db $01,$01,$00,$00,$01,$00,$00,$01,$01,$00,$00,$01

DATA_119992:
	db $88,$2F,$88,$2F,$A6,$A7,$A8,$A9,$A9,$A8,$A7,$A6,$B6,$B7,$B8,$B9
	db $B9,$B8,$B7,$B6,$C0,$C1,$09,$E0,$E1,$0B,$C3,$C4,$15,$E3,$E4,$17
	db $C0,$C1,$09,$C9,$CA,$1B,$C0,$C1,$09,$C9,$CA,$1B,$C6,$C7,$25,$E6
	db $E7,$27,$C6,$C7,$25,$E6,$E7,$27,$AE,$9E,$AE,$9E,$A0,$F2,$A2,$F6
	db $A0,$F2,$A4,$FA,$C3,$11,$C5,$15,$E4,$11,$C5,$15,$C7,$C8,$1B,$C7
	db $CA,$1D,$E2,$C1,$C0,$C1,$E0,$C1,$8A,$59,$AA,$5D,$8C,$F2,$AC,$F6
	db $8E,$59,$AA,$5D,$8E,$59,$AC,$5D,$88,$EA,$A8,$EE,$A8,$EE,$A8,$EE
	db $88,$F2,$88,$F2,$A8,$F6,$84,$FA,$00,$D2,$02,$D6,$C0,$03,$E0,$07
	db $C2,$0B,$E2,$0F,$C0,$0B,$E0,$0F,$C2,$0B,$E2,$0F,$CE,$1B,$E8,$1B
	db $86,$2F,$3A,$3A,$A0,$E2,$A4,$E6,$AA,$EA,$AC,$EE,$C0,$00,$C2,$00
	db $88,$00,$8A,$00,$C6,$00,$C8,$00,$EC,$00,$EE,$00,$E6,$00,$E8,$00
	db $CC,$00,$CE,$00,$E2,$00,$E4,$00,$E2,$00,$E4,$00,$A0,$00,$A2,$00
	db $C4,$C4,$E4,$E4,$C6,$C6,$C8,$C8,$C0,$C2,$E0,$E2,$C2,$C0,$E2,$E0
	db $C4,$1F,$E4,$23,$CA,$00,$CC,$00,$CE,$00,$CE,$00,$C4,$03,$E4,$07
	db $C6,$0B,$E6,$0F,$C4,$0B,$E4,$0F,$C6,$0B,$E6,$0F,$C8,$00,$CA,$00
	db $CC,$00

;--------------------------------------------------------------------

DATA_119A84:
	db $C8,$D0,$E0,$F0,$00,$10,$20,$C8

DATA_119A8C:
	db $DC,$E2,$E8,$F0,$F8,$E8,$DC

;--------------------------------------------------------------------

DATA_119A93:
	db $DC,$08,$08

DATA_119A96:
	db $1C,$F4,$11,$0F

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
DATA_119A8A:
	db $FF,$00,$00
endif

DATA_119A9A:
	db $04,$06,$08,$08,$08,$08,$06,$04

;--------------------------------------------------------------------

DATA_119AA2:
	db $00,$15,$EB,$00

;--------------------------------------------------------------------

DATA_119AA6:
	db $02,$02,$02,$02,$01,$01,$01,$01,$04,$0C,$0C,$04

;--------------------------------------------------------------------

DATA_119AB2:
	db $01,$FF

DATA_119AB4:
	db $08,$F8

DATA_119AB6:
	db $01,$FF

DATA_119AB8:
	db $20,$E0

DATA_119ABA:
	db $14,$EC

;--------------------------------------------------------------------

DATA_119ABC:
	db $F9,$07

;--------------------------------------------------------------------

DATA_119ABE:
	db $FD,$FD,$FD,$FC,$FB,$FA,$F9,$F8
	db $F7,$F8,$F9,$FA,$FB,$FC,$FD,$FD

DATA_119ACE:
	db $0B,$0C,$0D,$0F,$10,$12,$14,$17
	db $1A,$1D,$1F,$20

DATA_119ADA:
	db $E2,$E2,$E2,$E3,$E4,$E5,$E7,$E9
	db $ED,$F1,$F8,$00

;--------------------------------------------------------------------

DATA_119AE6:
	db $02,$04,$0D,$0E

DATA_119AEA:
	db $00

DATA_119AEB:
	db $01

DATA_119AEC:
	db $00

DATA_119AED:
	db $FF,$00,$01,$00

;--------------------------------------------------------------------

DATA_119AF1:
	db $F0

DATA_119AF2:
	db $00,$F0

;--------------------------------------------------------------------

DATA_119AF4:
	db $E0,$20,$F0,$10

DATA_119AF8:
	db $04,$0C,$04,$0C

DATA_119AFC:
	db $04,$04,$0C,$0C

DATA_119B00:
	db $01,$FF

DATA_119B02:
	db $2A,$D6

DATA_119B04:
	db $01,$FF

DATA_119B06:
	db $18,$E8

;--------------------------------------------------------------------

DATA_119B08:
	db $3F,$3F,$3F,$7F

DATA_119B0C:
	db $D4,$D8,$DA

;--------------------------------------------------------------------

DATA_119B0F:
	db $DE,$1C

DATA_119B11:
	db $E4,$01,$FF

;--------------------------------------------------------------------

DATA_119B14:
	db $28,$D8

DATA_119B16:
	db $10

DATA_119B17:
	db $F0,$F8,$10

;--------------------------------------------------------------------

DATA_119B1A:
	db $08,$28,$48,$28

DATA_119B1E:
	db $94,$84,$94,$84

DATA_119B22:
	db $F8,$08,$F8,$08,$08,$F8,$08,$F8

;--------------------------------------------------------------------

DATA_119B2A:
	db $E0,$F0,$E8,$E4

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	%FREE_BYTES(NULLROM, 15, $FF)
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	%FREE_BYTES(NULLROM, 2, $FF)
endif

;--------------------------------------------------------------------

DATA_119B30:
	db $FE,$FB,$F8

DATA_119B33:
	db $30,$60,$90

DATA_119B36:
	db $03,$06,$09

DATA_119B39:
	db $D0,$A0,$70

;--------------------------------------------------------------------

DATA_119B3C:
	db $00,$04

;--------------------------------------------------------------------

; Note: Something related to generic vase and subspace areas. Probably the screen number of the area?

DATA_119B3E:
	db $0A

;--------------------------------------------------------------------

DATA_119B3F:
	db !Define_SMAS_Sound0060_IntoPipe,!Define_SMAS_Sound0060_GetPowerup

DATA_119B41:
	db $00,$01,$01,$01,$01,$02

DATA_119B47:
	db $04,$04,$04,$04,$08,$08

;--------------------------------------------------------------------

; Note: Player climbing X speed.

DATA_119B4D:
	db $00,$10,$F0

;--------------------------------------------------------------------

DATA_119B50:
	db $C2,$D4,$C3,$C4,$07,$80,$81,$9E
	db $9F,$27,$18,$19

;--------------------------------------------------------------------

DATA_119B5C:
	db $00,$FF

DATA_119B5E:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $ED,$DE
else
	db $EE,$DE
endif

DATA_119B60:
	db $09,$A1

;--------------------------------------------------------------------

DATA_119B62:
	db $05,$0A,$0F,$14,$19

;--------------------------------------------------------------------

; Note: Player X acceleration table.

DATA_119B67:
	db $FE,$02

DATA_119B69:
	db $FC,$00
	db $04,$00

;--------------------------------------------------------------------

DATA_119B6D:
	db $FD,$03

;--------------------------------------------------------------------

DATA_119B6F:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $0A,$08,$06,$04,$02,$02,$02,$02
	db $02,$02

else
	db $0C,$0A,$08,$05,$03,$02,$02,$02
	db $02,$02
endif

DATA_119B79:
	db $02,$00,$09

;--------------------------------------------------------------------

DATA_119B7C:
	db $00,$00,$D0,$30,$D0,$30,$D0,$30

DATA_119B84:
	db $18,$00,$18,$F8

DATA_119B88:
	db $F0,$10

;--------------------------------------------------------------------

; Note: Something related to tile collision.

DATA_119B8A:
	db $02,$02,$01,$01,$02,$02,$02,$02

DATA_119B92:
	db $08,$08,$04,$04,$02,$02,$01,$01

;--------------------------------------------------------------------

DATA_119B9A:
	db $F0,$10

;--------------------------------------------------------------------

DATA_119B9C:
	db $00,$04,$08

;--------------------------------------------------------------------

; Note: Items found in red grass.

DATA_119B9F:
	db !Define_SMB2U_SpriteID_NorSpr39_MushroomBlock,!Define_SMB2U_SpriteID_NorSpr39_MushroomBlock,!Define_SMB2U_SpriteID_NorSpr39_MushroomBlock,!Define_SMB2U_SpriteID_NorSpr3A_POWBlock
	db !Define_SMB2U_SpriteID_NorSpr36_Coin,!Define_SMB2U_SpriteID_NorSpr33_LargeVeggie,!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie,!Define_SMB2U_SpriteID_NorSpr38_RocketShip
	db !Define_SMB2U_SpriteID_NorSpr35_KoopaShell,!Define_SMB2U_SpriteID_NorSpr37_PurpleBomb,!Define_SMB2U_SpriteID_NorSpr3E_Potion,!Define_SMB2U_SpriteID_NorSpr40_1Up
	db !Define_SMB2U_SpriteID_NorSpr3A_POWBlock,!Define_SMB2U_SpriteID_NorSpr09_BobOmb

;--------------------------------------------------------------------

DATA_119BAD:
	db $39

;--------------------------------------------------------------------

DATA_119BAE:					; Info: ....
	db $51					; Orange door
	db $50					; Locked door
	db $83					; Black entrance
	db $52					; Light entrance
	db $56					; Light entrance (exit level)
	db $91					; Brown double door
	db $2A					; Left Bob-Omb gate
	db $2B					; Right Bob-Omb gate

;--------------------------------------------------------------------

DATA_119BB6:
	db $0A,$01

;--------------------------------------------------------------------

DATA_119BB8:
	db $0B,$01

DATA_119BBA:
	db $02,$80,$00

;--------------------------------------------------------------------

DATA_119BBD:
	db $00,$08,$00,$04

;--------------------------------------------------------------------

DATA_119BC1:
	db $40,$00,$80,$00,$C0,$00,$00,$01,$40,$01,$80,$01,$C0,$01,$00,$02
	db $10,$01,$50,$01,$90,$01,$D0,$01,$10,$02,$50,$02,$90,$02,$D0,$02
	db $E0,$01,$20,$02,$60,$02,$A0,$02,$E0,$02,$20,$03,$60,$03,$A0,$03
	db $B0,$00,$F0,$00,$30,$01,$70,$01,$B0,$01,$F0,$01,$30,$02,$70,$02

DATA_119C01:
	db $00,$02,$D0,$02,$A0,$03,$70,$02

DATA_119C09:
	db $00,$00,$D0,$00,$A0,$01,$70,$00

DATA_119C11:
	db $00,$01,$02

DATA_119C14:
	db $C0,$80,$40

;--------------------------------------------------------------------

; Note: Ending (part 1+2) related stripe images.

DATA_119C17:
	dw SMB2U_StripeImageUploadTable[$00].LowByte
	dw SMB2U_EndingPart1RoomStripeImage
	dw SMB2U_EndingPart2Layer1StripeImage
	dw SMB2U_EndingPart2Layer2StripeImage
	dw SMB2U_EndingPart2CheeringSubconsFrame1StripeImage
	dw DATA_11AA2B
	dw SMB2U_MariosNameStripeImage
	dw SMB2U_PrincessNameStripeImage
	dw SMB2U_ToadsNameStripeImage
	dw SMB2U_LuigisNameStripeImage
	dw DATA_11A3EC								; Glitch: This is not stripe image data!

SMB2U_EndingPart1RoomStripeImage:
;$119C2D
	db $00,$00,$80,$3B,$0E,$11,$1E,$11,$26,$11,$36,$11,$0E,$11,$1E,$11
	db $26,$11,$36,$11,$0E,$11,$1E,$11,$26,$11,$36,$11,$0E,$11,$1E,$11
	db $26,$11,$36,$11,$0A,$11,$1A,$11,$22,$11,$32,$11,$0A,$11,$1A,$11
	db $22,$11,$32,$11,$0A,$11,$1A,$11,$22,$11,$32,$11,$0A,$11,$1A,$11
	db $00,$01,$80,$3B,$0F,$11,$1F,$11,$27,$11,$37,$11,$0F,$11,$1F,$11
	db $27,$11,$37,$11,$0F,$11,$1F,$11,$27,$11,$37,$11,$0F,$11,$1F,$11
	db $27,$11,$37,$11,$0B,$11,$1B,$11,$23,$11,$33,$11,$0B,$11,$1B,$11
	db $23,$11,$33,$11,$0B,$11,$1B,$11,$23,$11,$33,$11,$0B,$11,$1B,$11
	db $02,$02,$80,$1B,$06,$11,$16,$11,$26,$11,$36,$11,$0E,$11,$1E,$11
	db $26,$11,$36,$11,$0E,$11,$1E,$11,$24,$11,$34,$11,$0C,$11,$1C,$11
	db $02,$03,$80,$1B,$07,$11,$17,$11,$27,$11,$37,$11,$0F,$11,$1F,$11
	db $27,$11,$37,$11,$0F,$11,$1F,$11,$25,$11,$35,$11,$0D,$11,$1D,$11
	db $03,$44,$00,$2F,$02,$11,$03,$11,$04,$11,$05,$11,$02,$11,$03,$11
	db $04,$11,$05,$11,$02,$11,$03,$11,$04,$11,$05,$11,$02,$11,$03,$11
	db $04,$11,$05,$11,$02,$11,$03,$11,$04,$11,$05,$11,$02,$11,$03,$11
	db $04,$11,$05,$11,$03,$64,$00,$2F,$12,$11,$13,$11,$14,$11,$15,$11
	db $12,$11,$13,$11,$14,$11,$15,$11,$12,$11,$13,$11,$14,$11,$15,$11
	db $12,$11,$13,$11,$14,$11,$15,$11,$12,$11,$13,$11,$14,$11,$15,$11
	db $12,$11,$13,$11,$14,$11,$15,$11,$03,$84,$00,$2F,$0A,$11,$0B,$11
	db $0C,$11,$0D,$11,$0A,$11,$0B,$11,$0C,$11,$0D,$11,$0A,$11,$0B,$11
	db $0C,$11,$0D,$11,$0A,$11,$0B,$11,$0C,$11,$0D,$11,$0A,$11,$0B,$11
	db $0C,$11,$0D,$11,$0A,$11,$0B,$11,$0C,$11,$0D,$11,$03,$A4,$00,$2F
	db $1A,$11,$1B,$11,$1C,$11,$1D,$11,$1A,$11,$1B,$11,$1C,$11,$1D,$11
	db $1A,$11,$1B,$11,$1C,$11,$1D,$11,$1A,$11,$1B,$11,$1C,$11,$1D,$11
	db $1A,$11,$1B,$11,$1C,$11,$1D,$11,$1A,$11,$1B,$11,$1C,$11,$1D,$11
	db $02,$1C,$80,$1B,$00,$11,$10,$11,$20,$11,$30,$11,$08,$11,$18,$11
	db $20,$11,$30,$11,$08,$11,$18,$11,$22,$11,$32,$11,$0A,$11,$1A,$11
	db $02,$1D,$80,$1B,$01,$11,$11,$11,$21,$11,$31,$11,$09,$11,$19,$11
	db $21,$11,$31,$11,$09,$11,$19,$11,$23,$11,$33,$11,$0B,$11,$1B,$11
	db $00,$1E,$80,$3B,$08,$11,$18,$11,$20,$11,$30,$11,$08,$11,$18,$11
	db $20,$11,$30,$11,$08,$11,$18,$11,$20,$11,$30,$11,$08,$11,$18,$11
	db $20,$11,$30,$11,$0C,$11,$1C,$11,$24,$11,$34,$11,$0C,$11,$1C,$11
	db $24,$11,$34,$11,$0C,$11,$1C,$11,$24,$11,$34,$11,$0C,$11,$1C,$11
	db $00,$1F,$80,$3B,$09,$11,$19,$11,$21,$11,$31,$11,$09,$11,$19,$11
	db $21,$11,$31,$11,$09,$11,$19,$11,$21,$11,$31,$11,$09,$11,$19,$11
	db $21,$11,$31,$11,$0D,$11,$1D,$11,$25,$11,$35,$11,$0D,$11,$1D,$11
	db $25,$11,$35,$11,$0D,$11,$1D,$11,$25,$11,$35,$11,$0D,$11,$1D,$11
	db $02,$C6,$00,$03,$AC,$08,$AD,$08,$02,$E6,$C0,$04,$AB,$08,$02,$E7
	db $C0,$04,$AB,$08,$02,$90,$80,$07,$88,$14,$89,$14,$89,$14,$8C,$14
	db $02,$91,$80,$07,$8A,$14,$8B,$14,$8B,$14,$8D,$14,$03,$0E,$00,$0B
	db $74,$18,$76,$18,$74,$18,$76,$18,$74,$18,$76,$18,$03,$2E,$00,$0B
	db $75,$18,$77,$18,$75,$18,$77,$18,$75,$18,$77,$18,$02,$C6,$80,$07
	db $A0,$14,$A3,$14,$B0,$14,$B1,$14,$02,$C7,$80,$07,$A0,$54,$A3,$54
	db $B0,$54,$B1,$54,$10,$02,$00,$37,$41,$1D,$40,$1D,$41,$1D,$40,$1D
	db $41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D
	db $41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D
	db $41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D
	db $10,$23,$40,$34,$70,$1D,$10,$22,$00,$01,$71,$5D,$10,$27,$00,$03
	db $71,$1D,$71,$5D,$10,$2D,$00,$03,$71,$1D,$71,$5D,$10,$33,$00,$03
	db $71,$1D,$71,$5D,$10,$39,$00,$03,$71,$1D,$71,$5D,$10,$47,$C0,$06
	db $5F,$5D,$10,$4D,$C0,$06,$5F,$5D,$10,$53,$C0,$06,$5F,$5D,$10,$59
	db $C0,$06,$5F,$5D,$10,$42,$C0,$06,$5F,$1D,$10,$48,$C0,$06,$5F,$1D
	db $10,$4E,$C0,$06,$5F,$1D,$10,$54,$C0,$06,$5F,$1D,$10,$5A,$C0,$06
	db $5F,$1D,$10,$C3,$40,$34,$70,$9D,$10,$C2,$00,$01,$71,$DD,$10,$C7
	db $00,$03,$71,$9D,$71,$DD,$10,$CD,$00,$03,$71,$9D,$71,$DD,$10,$D3
	db $00,$03,$71,$9D,$71,$DD,$10,$D9,$00,$03,$71,$9D,$71,$DD,$10,$43
	db $00,$07,$43,$05,$44,$05,$45,$05,$46,$05,$10,$4F,$00,$07,$43,$05
	db $44,$05,$45,$05,$46,$05,$10,$5B,$00,$05,$43,$05,$44,$05,$45,$05
	db $10,$63,$00,$07,$53,$05,$54,$05,$55,$05,$56,$05,$10,$6F,$00,$07
	db $53,$05,$54,$05,$55,$05,$56,$05,$10,$7B,$00,$05,$53,$05,$54,$05
	db $55,$05,$10,$83,$00,$07,$63,$05,$64,$05,$65,$05,$66,$05,$10,$8F
	db $00,$07,$63,$05,$64,$05,$65,$05,$66,$05,$10,$9B,$00,$05,$63,$05
	db $64,$05,$65,$05,$10,$A3,$00,$07,$73,$05,$74,$05,$75,$05,$76,$05
	db $10,$AF,$00,$07,$73,$05,$74,$05,$75,$05,$76,$05,$10,$BB,$00,$05
	db $73,$05,$74,$05,$75,$05,$10,$49,$00,$07,$47,$05,$48,$05,$49,$05
	db $4A,$05,$10,$55,$00,$07,$47,$05,$48,$05,$49,$05,$4A,$05,$10,$69
	db $00,$07,$57,$05,$58,$05,$59,$05,$5A,$05,$10,$75,$00,$07,$57,$05
	db $58,$05,$59,$05,$5A,$05,$10,$89,$00,$07,$67,$05,$68,$05,$69,$05
	db $6A,$05,$10,$95,$00,$07,$67,$05,$68,$05,$69,$05,$6A,$05,$10,$A9
	db $00,$07,$77,$05,$78,$05,$79,$05,$7A,$05,$10,$B5,$00,$07,$77,$05
	db $78,$05,$79,$05,$7A,$05,$10,$E2,$80,$13,$41,$1D,$40,$1D,$60,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$60,$1D,$40,$1D,$10,$E3
	db $80,$13,$40,$1D,$41,$1D,$61,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D
	db $41,$1D,$61,$1D,$41,$1D,$10,$E4,$80,$25,$41,$1D,$50,$1D,$41,$1D
	db $40,$1D,$41,$1D,$50,$1D,$41,$1D,$40,$1D,$41,$1D,$50,$1D,$51,$1D
	db $40,$1D,$51,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $10,$E5,$80,$25,$40,$1D,$51,$1D,$40,$1D,$41,$1D,$50,$1D,$51,$1D
	db $40,$1D,$60,$1D,$40,$1D,$51,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$50,$1D,$10,$E6,$80,$25,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$51,$1D,$40,$1D,$41,$1D,$61,$1D,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$50,$1D,$41,$1D,$40,$1D,$41,$1D
	db $50,$1D,$51,$1D,$10,$E7,$80,$25,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$50,$1D,$41,$1D,$40,$1D,$60,$1D
	db $40,$1D,$51,$1D,$50,$1D,$41,$1D,$40,$1D,$51,$1D,$40,$1D,$10,$E8
	db $80,$25,$41,$1D,$40,$1D,$41,$1D,$50,$1D,$41,$1D,$40,$1D,$41,$1D
	db $40,$1D,$51,$1D,$40,$1D,$41,$1D,$61,$1D,$41,$1D,$40,$1D,$51,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$10,$E9,$80,$25,$40,$1D,$41,$1D
	db $40,$1D,$51,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $40,$1D,$10,$EA,$80,$11,$41,$1D,$40,$1D,$60,$1D,$40,$1D,$41,$1D
	db $40,$1D,$4E,$1D,$5C,$1D,$5E,$1D,$10,$EB,$80,$11,$40,$1D,$41,$1D
	db $61,$1D,$41,$1D,$40,$1D,$4B,$1D,$4F,$1D,$5D,$1D,$6B,$1D,$10,$EC
	db $80,$0D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$7C,$1D,$4C,$1D,$4D,$1D
	db $10,$ED,$80,$0B,$40,$1D,$41,$1D,$40,$1D,$42,$1D,$7D,$1D,$4D,$1D
	db $10,$EE,$80,$09,$41,$1D,$40,$1D,$41,$1D,$52,$1D,$7E,$1D,$10,$EF
	db $80,$09,$40,$1D,$41,$1D,$40,$1D,$62,$1D,$7F,$1D,$10,$F0,$80,$07
	db $41,$1D,$40,$1D,$41,$1D,$72,$1D,$12,$0A,$C0,$12,$7B,$1D,$12,$17
	db $C0,$12,$7B,$5D,$10,$F7,$80,$11,$40,$1D,$40,$1D,$40,$1D,$41,$1D
	db $40,$1D,$41,$1D,$4E,$5D,$5C,$5D,$5E,$5D,$10,$F6,$80,$11,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$4B,$5D,$4F,$5D,$5D,$5D,$6B,$5D
	db $10,$F5,$80,$0D,$40,$1D,$51,$1D,$40,$1D,$41,$1D,$7C,$5D,$4C,$5D
	db $4D,$5D,$10,$F4,$80,$0B,$41,$1D,$50,$1D,$41,$1D,$42,$5D,$7D,$5D
	db $4D,$5D,$10,$F3,$80,$09,$40,$1D,$41,$1D,$40,$5D,$52,$5D,$7E,$5D
	db $10,$F2,$80,$09,$41,$1D,$40,$1D,$41,$1D,$62,$5D,$7F,$5D,$10,$F1
	db $80,$07,$40,$1D,$41,$1D,$40,$1D,$72,$5D,$10,$F8,$80,$25,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $40,$1D,$41,$1D,$10,$F9,$80,$25,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $40,$1D,$41,$1D,$50,$1D,$41,$1D,$40,$1D,$41,$1D,$50,$1D,$10,$FA
	db $80,$25,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D
	db $50,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$51,$1D
	db $40,$1D,$41,$1D,$50,$1D,$51,$1D,$10,$FB,$80,$25,$40,$1D,$41,$1D
	db $40,$1D,$41,$1D,$40,$1D,$60,$1D,$50,$1D,$51,$1D,$40,$1D,$41,$1D
	db $50,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D,$51,$1D
	db $40,$1D,$10,$FC,$80,$13,$41,$1D,$50,$1D,$41,$1D,$40,$1D,$41,$1D
	db $61,$1D,$51,$1D,$40,$1D,$41,$1D,$40,$1D,$10,$FD,$80,$13,$40,$1D
	db $51,$1D,$40,$1D,$41,$1D,$50,$1D,$41,$1D,$40,$1D,$41,$1D,$40,$1D
	db $41,$1D,$12,$4B,$00,$17,$6C,$1D,$6D,$1D,$6C,$1D,$6D,$1D,$6C,$1D
	db $6D,$1D,$6C,$1D,$6D,$1D,$6C,$1D,$6D,$1D,$6C,$1D,$6D,$1D,$12,$6B
	db $00,$17,$6E,$1D,$6F,$1D,$6F,$5D,$6E,$5D,$6E,$1D,$6F,$1D,$6F,$5D
	db $6E,$5D,$6E,$1D,$6F,$1D,$6F,$5D,$6E,$5D,$12,$8B,$40,$16,$5B,$1D
	db $12,$AB,$40,$16,$5B,$1D,$12,$CB,$40,$16,$5B,$1D,$12,$EB,$40,$16
	db $5B,$1D,$13,$0B,$40,$16,$5B,$1D,$13,$2B,$40,$16,$5B,$1D,$FF

DATA_11A3EC:						; Note: Sprite related data for the first part of the ending.
	db $30,$80,$80,$80,$80,$80,$80,$80,$80,$80

DATA_11A3F6:
	db $B0,$A0,$A0,$A0,$A0,$A0,$A0,$A0,$A0,$95

DATA_11A400:
	db $10,$F4,$0C,$E8,$18,$EC,$14,$F8,$08,$00

DATA_11A40A:
	db $00,$C4,$C4,$B8,$B8,$A8,$A8,$A0,$A0,$00

DATA_11A414:
	db $00,$F0,$E0,$C0,$A0,$80,$60,$40,$20,$00

DATA_11A41E:
	db $00

DATA_11A41F:
	db $21,$61,$21,$61,$21,$61,$21,$61

DATA_11A427:
	db $22,$14,$0A,$14

DATA_11A42B:
	db $0A,$1C,$1B,$1E,$1D,$1F

DATA_11A431:
	db $04,$04,$04,$01

DATA_11A435:
	db $A4

DATA_11A436:
	db $A6,$A6,$A4,$8E,$8E

DATA_11A43B:
	db $90,$98,$A0,$A8,$B0,$B8,$C0,$C8,$00

SMB2U_EndingPart2Layer1StripeImage:
;$11A444
	db $00,$00,$00,$3F
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D

	db $00,$20,$00,$3F
	db $2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D
	db $2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D
	db $2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D
	db $2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D,$2A,$1D,$2B,$1D

	db $00,$40,$00,$3F
	db $3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D
	db $3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D
	db $3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D
	db $3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D,$3A,$1D,$3B,$1D

	db $00,$68,$00,$01
	db $F8,$14

	db $00,$69,$40,$1A
	db $F9,$14

	db $00,$77,$00,$01
	db $FA,$14

	db $00,$88,$C0,$04
	db $FB,$14

	db $00,$89,$40,$1A
	db $BE,$14

	db $00,$A9,$40,$1A
	db $BE,$14

	db $00,$C9,$40,$1A
	db $BE,$14

	db $00,$97,$C0,$04
	db $FC,$14

	db $00,$E8,$00,$01
	db $FD,$14

	db $00,$E9,$40,$1A
	db $FE,$14

	db $00,$F7,$00,$01
	db $FF,$14
	
	; "CONTRIBUTOR"
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	table "Tables/Fonts/Standard_Page1_br.txt"
	
	;             Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 0, 20,03, 0, !FALSE, 2)
	db $F5,$15
	%SMAS_DrawStripeHeader(0, 0, 10,04, 0, !FALSE, 12*2)
	dw "CONTRIBUIcAO"

	cleartable
else
	db $00,$8B,$00,$15
	db $CC,$15,$D8,$15,$D7,$15,$DD,$15,$DB,$15,$D2,$15,$CB,$15,$DE,$15
	db $DD,$15,$D8,$15,$DB,$15
endif
	db $01,$08,$00,$1F
	db $EC,$15,$ED,$15,$ED,$15,$EE,$15,$EC,$15,$ED,$15,$ED,$15,$EE,$15
	db $EC,$15,$ED,$15,$ED,$15,$EE,$15,$EC,$15,$ED,$15,$ED,$15,$EE,$15

	db $01,$28,$00,$01
	db $EF,$15

	db $01,$37,$00,$01
	db $FF,$15

	db $01,$48,$00,$1F
	db $FC,$15,$FD,$15,$FD,$15,$FE,$15,$FC,$15,$FD,$15,$FD,$15,$FE,$15
	db $FC,$15,$FD,$15,$FD,$15,$FE,$15,$FC,$15,$FD,$15,$FD,$15,$FE,$15

	db $03,$00,$00,$3F
	db $C0,$18,$C1,$18,$C2,$18,$C3,$18,$C4,$18,$C5,$18,$C6,$18,$C7,$18
	db $C0,$18,$C1,$18,$C2,$18,$C3,$18,$C4,$18,$C5,$18,$C8,$18,$C9,$18
	db $C0,$18,$C1,$18,$C2,$18,$C3,$18,$C4,$18,$C5,$18,$C6,$18,$C7,$18
	db $C0,$18,$C1,$18,$C8,$18,$C9,$18,$C4,$18,$C5,$18,$C6,$18,$C7,$18

	db $03,$20,$00,$3F
	db $D0,$18,$D1,$18,$D2,$18,$D3,$18,$D4,$18,$D5,$18,$D6,$18,$D7,$18
	db $D0,$18,$D1,$18,$D2,$18,$D3,$18,$D4,$18,$D5,$18,$D8,$18,$D9,$18
	db $D0,$18,$D1,$18,$D2,$18,$D3,$18,$D4,$18,$D5,$18,$D6,$18,$D7,$18
	db $D0,$18,$D1,$18,$D8,$18,$D9,$18,$D4,$18,$D5,$18,$D6,$18,$D7,$18

	db $07,$00,$00,$3F
	db $CA,$18,$CB,$18,$CA,$18,$CB,$18,$CA,$18,$CB,$18,$CA,$18,$CB,$18
	db $CA,$18,$CB,$18,$CA,$18,$CB,$18,$CA,$18,$CB,$18,$CA,$18,$CB,$18
	db $CA,$18,$CB,$18,$CA,$18,$CB,$18,$CA,$18,$CB,$18,$CA,$18,$CB,$18
	db $CA,$18,$CB,$18,$CA,$18,$CB,$18,$CA,$18,$CB,$18,$CA,$18,$CB,$18

	db $07,$20,$00,$3F
	db $DA,$18,$DB,$18,$DA,$18,$DB,$18,$DA,$18,$DB,$18,$DA,$18,$DB,$18
	db $DA,$18,$DB,$18,$DA,$18,$DB,$18,$DA,$18,$DB,$18,$DA,$18,$DB,$18
	db $DA,$18,$DB,$18,$DA,$18,$DB,$18,$DA,$18,$DB,$18,$DA,$18,$DB,$18
	db $DA,$18,$DB,$18,$DA,$18,$DB,$18,$DA,$18,$DB,$18,$DA,$18,$DB,$18

	db $03,$40,$00,$3F
	db $04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D
	db $04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D
	db $04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D
	db $04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D

	db $03,$60,$00,$3F
	db $14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D
	db $14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D
	db $14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D
	db $14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D

	db $03,$80,$00,$3F
	db $0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D
	db $0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D
	db $0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D
	db $0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $03,$A0,$00,$3F
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
endif

	db $07,$40,$00,$3F
	db $04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D
	db $04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D
	db $04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D
	db $04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D,$04,$1D,$05,$1D

	db $07,$60,$00,$3F
	db $14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D
	db $14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D
	db $14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D
	db $14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D,$14,$1D,$15,$1D

	db $07,$80,$00,$3F
	db $0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D
	db $0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D
	db $0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D
	db $0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D,$0A,$1D,$0B,$1D

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $07,$A0,$00,$3F
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
	db $1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D,$1A,$1D,$1B,$1D
endif
	db $FF

SMB2U_EndingPart2Layer2StripeImage:
;$11A869
	db $12,$80,$40,$3F
	db $E2,$10

	db $12,$A0,$40,$3F
	db $E3,$10

	db $12,$C0,$40,$3F
	db $E3,$10

	db $12,$E0,$40,$3F
	db $E3,$10

	db $13,$00,$40,$3F
	db $E3,$10

	db $13,$20,$40,$3F
	db $E4,$10

	db $10,$C3,$00,$07
	db $E5,$10,$E7,$10,$E9,$10,$EB,$10

	db $10,$E3,$00,$07
	db $E6,$10,$E8,$10,$EA,$10,$EC,$10

	db $11,$03,$00,$07
	db $ED,$10,$F0,$10,$F3,$10,$F5,$10

	db $11,$23,$C0,$0C
	db $EE,$10

	db $11,$24,$C0,$0C
	db $F1,$10

	db $11,$25,$C0,$0C
	db $F4,$10

	db $11,$26,$C0,$0C
	db $F6,$10

	db $12,$03,$00,$07
	db $EF,$10,$F2,$10,$F2,$10,$F7,$10

	db $10,$D9,$00,$07
	db $E5,$10,$E7,$10,$E9,$10,$EB,$10

	db $10,$F9,$00,$07
	db $E6,$10,$E8,$10,$EA,$10,$EC,$10

	db $11,$19,$00,$07
	db $ED,$10,$F0,$10,$F3,$10,$F5,$10

	db $11,$39,$C0,$0C
	db $EE,$10

	db $11,$3A,$C0,$0C
	db $F1,$10

	db $11,$3B,$C0,$0C
	db $F4,$10

	db $11,$3C,$C0,$0C
	db $F6,$10

	db $12,$19,$00,$07
	db $EF,$10,$F2,$10,$F2,$10,$F7,$10

	db $11,$C9,$40,$1A
	db $E0,$08

	db $11,$E9,$40,$1A
	db $E1,$08

	db $12,$09,$00,$1B
	db $CE,$08,$CF,$08,$CE,$08,$CF,$08,$CE,$08,$CF,$08,$CE,$08,$CF,$08
	db $CE,$08,$CF,$08,$CE,$08,$CF,$08,$CE,$08,$CF,$08

	db $12,$29,$00,$1B
	db $DE,$08,$DF,$08,$DE,$08,$DF,$08,$DE,$08,$DF,$08,$DE,$08,$DF,$08
	db $DE,$08,$DF,$08,$DE,$08,$DF,$08,$DE,$08,$DF,$08

	db $12,$4A,$00,$03
	db $CC,$08,$CD,$08

	db $12,$6A,$C0,$0A
	db $DC,$08

	db $12,$6B,$C0,$0A
	db $DD,$08

	db $13,$2A,$00,$03
	db $CC,$88,$CD,$88

	db $12,$54,$00,$03
	db $CC,$08,$CD,$08

	db $12,$74,$C0,$0A
	db $DC,$08

	db $12,$75,$C0,$0A
	db $DD,$08

	db $13,$34,$00,$03
	db $CC,$88,$CD,$88

	db $FF

SMB2U_EndingPart2CheeringSubconsFrame1StripeImage:
;$11A9A2
	db $03,$00,$00,$3F
	db $C8,$18,$C9,$18,$C8,$18,$C9,$18,$C8,$18,$C9,$18,$C8,$18,$C9,$18
	db $C8,$18,$C9,$18,$C8,$18,$C9,$18,$C8,$18,$C9,$18,$C8,$18,$C9,$18
	db $C8,$18,$C9,$18,$C8,$18,$C9,$18,$C8,$18,$C9,$18,$C8,$18,$C9,$18
	db $C8,$18,$C9,$18,$C8,$18,$C9,$18,$C8,$18,$C9,$18,$C8,$18,$C9,$18

	db $03,$20,$00,$3F
	db $D8,$18,$D9,$18,$D8,$18,$D9,$18,$D8,$18,$D9,$18,$D8,$18,$D9,$18
	db $D8,$18,$D9,$18,$D8,$18,$D9,$18,$D8,$18,$D9,$18,$D8,$18,$D9,$18
	db $D8,$18,$D9,$18,$D8,$18,$D9,$18,$D8,$18,$D9,$18,$D8,$18,$D9,$18
	db $D8,$18,$D9,$18,$D8,$18,$D9,$18,$D8,$18,$D9,$18,$D8,$18,$D9,$18

	db $FF

DATA_11AA2B:
	db $01,$AC,$00,$0D
	db $ED,$00,$E1,$00,$DE,$00,$FB,$00,$DE,$00,$E7,$00,$DD,$00

	db $FF

SMB2U_WavingPlayersOAMData:
;$11AA3E
	db $50,$4F,$CA,$21,$50,$5F,$CC,$21,$68,$4F,$CE,$23,$68,$5F,$E6,$23
	db $88,$4F,$EC,$27,$88,$5F,$EE,$27,$A0,$4F,$E8,$25,$A0,$5F,$EA,$25

DATA_11AA5E:
	db $C0,$C8,$B8,$B8,$C8,$C0

DATA_11AA64:
	db $C0,$08,$E0,$F0,$D0,$E8

DATA_11AA6A:
	db $C0,$C2,$C4,$E0,$E2,$E4

DATA_11AA70:
	db $00,$10,$20,$00,$10,$20

DATA_11AA76:
	db $00,$00,$00,$10,$10,$10

DATA_11AA7C:
	db $C8,$C6,$C7,$C6,$C7,$C8

DATA_11AA82:
	db $00,$06,$03,$09,$0F,$0C

DATA_11AA88:
	db $CA,$8A,$CC,$8C,$CE,$8E,$E6,$A0,$EC,$EC,$EE,$A4,$E8,$A2
	db $EA,$EA

DATA_11AA98:
	db $02,$06,$0A,$0E

SMB2U_MariosNameStripeImage:
	db $00,$CC,$00,$0F
	db $BE,$14,$D6,$15,$CA,$15,$DB,$15,$D2,$15,$D8,$15,$BE,$14,$BE,$14

	db $FF

SMB2U_PrincessNameStripeImage:
	db $00,$CC,$00,$0F
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	db $D9,$15,$DB,$15,$D2,$15,$D7,$15,$CC,$15,$CE,$15,$DC,$15,$CA,$15
else
	db $D9,$15,$DB,$15,$D2,$15,$D7,$15,$CC,$15,$CE,$15,$DC,$15,$DC,$15
endif
	db $FF

SMB2U_ToadsNameStripeImage:
	db $00,$CC,$00,$0F
	db $BE,$14,$BE,$14,$DD,$15,$D8,$15,$CA,$15,$CD,$15,$BE,$14,$BE,$14

	db $FF

SMB2U_LuigisNameStripeImage:
;$11AADB
	db $00,$CC,$00,$0F
	db $BE,$14,$D5,$15,$DE,$15,$D2,$15,$D0,$15,$D2,$15,$BE,$14,$BE,$14

	db $FF

;--------------------------------------------------------------------

; Note: Seems to be the level data offsets.

DATA_11AAF0:
	db $7E2000,$7E20F0,$7E21E0,$7E22D0,$7E23C0,$7E24B0,$7E25A0,$7E2690
	db $7E2780,$7E2870,$7E2960

DATA_11AAFB:
	db $7E2000>>8,$7E20F0>>8,$7E21E0>>8,$7E22D0>>8,$7E23C0>>8,$7E24B0>>8,$7E25A0>>8,$7E2690>>8
	db $7E2780>>8,$7E2870>>8,$7E2960>>8

DATA_11AB06:
	db $7E2000>>16,$7E20F0>>16,$7E21E0>>16,$7E22D0>>16,$7E23C0>>16,$7E24B0>>16,$7E25A0>>16,$7E2690>>16
	db $7E2780>>16,$7E2870>>16,$7E2960>>16

DATA_11AB11:
	db $00,$0B,$16,$21,$2C,$37,$42,$4D
	db $58,$63

;--------------------------------------------------------------------

DATA_11AB1B:
	db !RAM_SMB2U_Global_Layer3Map16Table+$0000,!RAM_SMB2U_Global_Layer3Map16Table+$00F0,!RAM_SMB2U_Global_Layer3Map16Table+$01E0
	db !RAM_SMB2U_Global_Layer3Map16Table+$02D0,!RAM_SMB2U_Global_Layer3Map16Table+$03C0,!RAM_SMB2U_Global_Layer3Map16Table+$04B0
	db !RAM_SMB2U_Global_Layer3Map16Table+$05A0,!RAM_SMB2U_Global_Layer3Map16Table+$0690,!RAM_SMB2U_Global_Layer3Map16Table+$0780
	db !RAM_SMB2U_Global_Layer3Map16Table+$0870

DATA_11AB25:
	db (!RAM_SMB2U_Global_Layer3Map16Table+$0000)>>8,(!RAM_SMB2U_Global_Layer3Map16Table+$00F0)>>8,(!RAM_SMB2U_Global_Layer3Map16Table+$01E0)>>8
	db (!RAM_SMB2U_Global_Layer3Map16Table+$02D0)>>8,(!RAM_SMB2U_Global_Layer3Map16Table+$03C0)>>8,(!RAM_SMB2U_Global_Layer3Map16Table+$04B0)>>8
	db (!RAM_SMB2U_Global_Layer3Map16Table+$05A0)>>8,(!RAM_SMB2U_Global_Layer3Map16Table+$0690)>>8,(!RAM_SMB2U_Global_Layer3Map16Table+$0780)>>8
	db (!RAM_SMB2U_Global_Layer3Map16Table+$0870)>>8

;--------------------------------------------------------------------

DATA_11AB2F:
	db $F0,$10

DATA_11AB31:
	db $02,$01,$02,$02,$00,$00,$00,$00

DATA_11AB39:
	db $08,$04,$02,$01,$08,$04,$02,$01

DATA_11AB41:
	db $F8,$08

DATA_11AB43:
	db $08,$04

DATA_11AB45:
	db $0C,$11

;--------------------------------------------------------------------

DATA_11AB47:
	db $F9,$FF,$00,$00,$0C,$18,$1A,$01
	db $06,$0A,$0C,$18,$1A,$1C,$FF,$FF
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00

;--------------------------------------------------------------------

DATA_11AB63:
	db $80,$80,$80,$80
	db $82,$80,$80,$80
	db $82,$82,$80,$80
	db $82,$82,$82,$80
	db $82,$82,$82,$82
	
DATA_11AB77:
	db $00,$03,$00,$FD

DATA_11AB7B:
	db $1F,$02,$E0,$13,$51,$7E,$1F,$02

;--------------------------------------------------------------------

DATA_11AB83:
	db $08,$77,$FF,$7F,$18

;--------------------------------------------------------------------

DATA_11AB88:
	db DATA_11ABA4,DATA_11ABE4,DATA_11AC24,DATA_11AC64,DATA_11ACA4,DATA_11ACE4,DATA_11AD24

DATA_11AB8F:
	db DATA_11ABC4,DATA_11AC04,DATA_11AC44,DATA_11AC84,DATA_11ACC4,DATA_11AD04,DATA_11AD44

DATA_11AB96:
	db DATA_11ABA4>>8,DATA_11ABE4>>8,DATA_11AC24>>8,DATA_11AC64>>8,DATA_11ACA4>>8,DATA_11ACE4>>8,DATA_11AD24>>8

DATA_11AB9D:
	db DATA_11ABC4>>8,DATA_11AC04>>8,DATA_11AC44>>8,DATA_11AC84>>8,DATA_11ACC4>>8,DATA_11AD04>>8,DATA_11AD44>>8

DATA_11ABA4:
	db $00,$A7,$DB,$00,$00,$A7,$A7,$A7,$00,$AE,$AE,$AE,$00,$B0,$B0,$B0
	db $00,$DC,$A9,$2C,$00,$AE,$AE,$A7,$00,$00,$00,$00,$00,$00,$00,$00

DATA_11ABC4:
	db $00,$AB,$AC,$C6,$00,$05,$AE,$00,$00,$00,$00,$00,$00,$00,$B0,$00
	db $00,$00,$C2,$00,$00,$00,$AE,$00,$00,$9D,$AC,$C6,$00,$40,$AC,$C6

DATA_11ABE4:
	db $00,$A7,$A7,$A7,$00,$92,$92,$92,$00,$93,$93,$93,$00,$AE,$AE,$AE
	db $00,$B0,$B0,$B0,$00,$DC,$A9,$2C,$00,$00,$00,$00,$00,$00,$00,$00

DATA_11AC04:
	db $00,$AB,$AC,$C6,$00,$9D,$AE,$00,$00,$40,$A9,$40,$00,$9D,$AC,$C6
	db $00,$40,$AC,$C6,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00

DATA_11AC24:
	db $00,$A7,$DB,$00,$00,$A7,$A7,$A7,$00,$AE,$AE,$AE,$00,$B0,$B0,$B0
	db $00,$DC,$A9,$2C,$00,$AE,$AE,$A7,$00,$00,$00,$00,$00,$00,$00,$00

DATA_11AC44:
	db $00,$C6,$AC,$AB,$00,$05,$AE,$00,$00,$9D,$AC,$C6,$00,$00,$B0,$00
	db $00,$00,$C2,$00,$00,$00,$AE,$00,$00,$40,$AC,$C6,$00,$06,$AE,$00

DATA_11AC64:
	db $00,$A7,$DB,$00,$00,$A7,$26,$00,$00,$AE,$AE,$AE,$00,$B0,$B0,$B0
	db $00,$DC,$A9,$2C,$00,$0A,$0A,$08,$00,$33,$33,$33,$00,$00,$00,$00

DATA_11AC84:
	db $00,$C6,$A7,$AB,$00,$B0,$B0,$B0,$00,$A9,$A9,$A9,$00,$AE,$AE,$AE
	db $00,$DC,$DC,$DC,$00,$2C,$2C,$2C,$00,$00,$00,$00,$00,$00,$00,$00

DATA_11ACA4:
	db $00,$A7,$DB,$40,$00,$A7,$A7,$A7,$00,$AE,$AE,$AE,$00,$B0,$B0,$B0
	db $00,$DC,$A9,$2C,$00,$AE,$AE,$A7,$00,$00,$00,$00,$00,$00,$00,$00

DATA_11ACC4:
	db $00,$AB,$AC,$C6,$00,$05,$AE,$00,$00,$40,$00,$00,$00,$00,$B0,$00
	db $00,$00,$C2,$00,$00,$00,$AE,$00,$00,$9D,$AC,$C6,$00,$40,$AC,$C6

DATA_11ACE4:
	db $00,$A7,$A7,$A7,$00,$92,$92,$92,$00,$93,$93,$93,$00,$AE,$AE,$AE
	db $00,$B0,$B0,$B0,$00,$DC,$A9,$2C,$00,$00,$00,$00,$00,$00,$00,$00

DATA_11AD04:
	db $00,$AB,$AC,$C6,$00,$9D,$AE,$00,$00,$40,$2C,$40,$00,$9D,$AC,$C6
	db $00,$40,$AC,$C6,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00

DATA_11AD24:
	db $00,$AA,$AA,$AA,$00,$DD,$AA,$2D,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00

DATA_11AD44:
	db $00,$AA,$AA,$AA,$00,$05,$AE,$00,$00,$00,$00,$00,$00,$00,$AA,$00
	db $00,$00,$C2,$00,$00,$00,$AE,$00,$00,$00,$00,$00,$00,$00,$00,$00

;--------------------------------------------------------------------

; Note: Map16 data for page 0?

DATA_11AD64:
	db DATA_11AD6C,DATA_11AF6C,DATA_11B16C,DATA_11B36C

DATA_11AD68:
	db DATA_11AD6C>>8,DATA_11AF6C>>8,DATA_11B16C>>8,DATA_11B36C>>8

DATA_11AD6C:
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$B4,$0C,$BF,$00,$B5,$0C
	db $B6,$0C,$B8,$0C,$B7,$0C,$B9,$0C,$B2,$0C,$B3,$0C,$BF,$00,$BF,$00
	db $0B,$0C,$0B,$0C,$0C,$0C,$0C,$4C,$0C,$0C,$0C,$4C,$0C,$0C,$0C,$4C
	db $24,$0C,$26,$0C,$25,$0C,$27,$0C,$9E,$08,$9F,$08,$9E,$08,$9F,$08
	db $0F,$2C,$0F,$2C,$0A,$2C,$0A,$2C,$46,$14,$3A,$14,$46,$14,$3A,$14
	db $0A,$2C,$0A,$2C,$0A,$2C,$0A,$2C,$3A,$14,$3A,$14,$3A,$14,$3A,$14
	db $10,$2C,$10,$2C,$0A,$2C,$0A,$2C,$3A,$14,$48,$14,$3A,$14,$48,$14
	db $44,$14,$45,$14,$46,$14,$3A,$14,$45,$14,$45,$14,$3A,$14,$3A,$14
	db $45,$14,$48,$14,$3A,$14,$48,$14,$0F,$2C,$12,$2C,$0A,$2C,$0A,$2C
	db $BF,$04,$D6,$04,$BF,$04,$DD,$04,$BF,$04,$BF,$04,$E2,$04,$BF,$04
	db $BF,$04,$EE,$04,$BF,$04,$E3,$04,$F2,$04,$BF,$04,$E9,$04,$BF,$04
	db $0F,$2C,$23,$2C,$0A,$2C,$0A,$2C,$11,$2C,$0F,$2C,$0A,$2C,$0A,$2C
	db $9E,$08,$9F,$08,$A6,$08,$A7,$08,$A6,$88,$A7,$88,$9E,$08,$9F,$08
	db $C0,$18,$C1,$18,$BF,$00,$BF,$00,$CA,$10,$CB,$10,$D0,$10,$D1,$10
	db $C6,$10,$C7,$10,$C7,$10,$C6,$10,$CC,$10,$CD,$10,$C7,$10,$C6,$10
	db $CE,$10,$CF,$10,$D2,$10,$D3,$10,$C2,$18,$C3,$18,$BF,$00,$BF,$00
	db $C4,$10,$C5,$10,$D0,$10,$D1,$10,$C8,$10,$C9,$10,$D2,$10,$D3,$10
	db $74,$18,$76,$18,$75,$18,$77,$18,$1B,$0C,$1D,$0C,$1C,$0C,$1E,$0C
	db $1F,$0C,$1D,$0C,$20,$0C,$1E,$0C,$1F,$0C,$21,$0C,$1E,$0C,$22,$0C
	db $58,$0C,$5A,$0C,$59,$0C,$5B,$0C,$9E,$08,$9F,$08,$9E,$08,$9F,$08
	db $DA,$10,$DB,$10,$BF,$00,$BF,$00,$D8,$10,$D9,$10,$D4,$10,$D5,$10
	db $D8,$10,$D9,$10,$CD,$10,$CC,$10,$D8,$10,$D9,$10,$CE,$10,$CF,$10
	db $8E,$10,$8F,$10,$8F,$10,$8E,$10,$72,$08,$73,$08,$73,$08,$72,$08
	db $19,$18,$19,$18,$1A,$18,$1A,$18,$92,$00,$93,$00,$93,$00,$92,$00
	db $74,$18,$76,$18,$75,$18,$77,$18,$70,$10,$72,$10,$71,$10,$73,$10
	db $71,$10,$73,$10,$71,$10,$73,$10,$6C,$08,$6E,$08,$6D,$08,$6F,$08
	db $32,$10,$34,$10,$33,$10,$35,$10,$33,$10,$35,$10,$33,$10,$35,$10
	db $4A,$08,$4B,$08,$4C,$08,$4D,$08,$30,$10,$72,$10,$31,$10,$73,$10
	db $70,$10,$3E,$10,$71,$10,$3F,$10,$3C,$10,$AF,$10,$3D,$10,$AE,$10
	db $AE,$10,$5E,$10,$AF,$10,$5F,$10,$4F,$10,$A3,$10,$4E,$10,$4F,$10
	db $C9,$D0,$C8,$D0,$D3,$D0,$D2,$D0,$C5,$D0,$C4,$D0,$D1,$D0,$D0,$D0
	db $C6,$10,$C7,$10,$C7,$10,$C6,$10,$C4,$10,$C5,$10,$D0,$10,$D1,$10

DATA_11AF6C:
	db $BF,$04,$BF,$04,$BF,$04,$BF,$04,$BF,$04,$BF,$04,$BF,$04,$BF,$04
	db $BF,$04,$BF,$04,$BF,$04,$BF,$04,$BF,$04,$BF,$04,$00,$14,$01,$14
	db $BF,$04,$BF,$04,$00,$14,$01,$14,$BF,$04,$BF,$04,$00,$14,$01,$14
	db $BF,$04,$BF,$04,$00,$14,$01,$14,$BF,$04,$BF,$04,$00,$14,$01,$14
	db $BF,$04,$BF,$04,$00,$14,$01,$14,$BF,$04,$BF,$04,$00,$14,$01,$14
	db $BF,$04,$BF,$04,$00,$14,$01,$14,$BF,$04,$BF,$04,$00,$14,$01,$14
	db $BF,$04,$BF,$04,$00,$14,$01,$14,$BF,$04,$BF,$04,$00,$14,$01,$14
	db $15,$14,$17,$14,$16,$14,$18,$14,$80,$14,$82,$14,$81,$14,$83,$14
	db $A9,$18,$86,$14,$AA,$18,$87,$14,$84,$14,$86,$14,$85,$14,$87,$14
	db $AB,$08,$AB,$08,$AB,$08,$AB,$08,$AD,$08,$BF,$00,$AC,$08,$AD,$08
	db $AC,$08,$AC,$08,$AC,$08,$AC,$08,$BF,$08,$3B,$08,$3B,$08,$AC,$08
	db $AB,$08,$AB,$08,$AB,$08,$AB,$08,$F4,$04,$86,$04,$F5,$04,$87,$04
	db $BF,$04,$49,$04,$49,$04,$BF,$04,$E4,$24,$E4,$24,$E4,$24,$E4,$24
	db $E4,$04,$E4,$04,$E4,$04,$E5,$04,$98,$14,$9A,$14,$99,$14,$9B,$14
	db $CB,$24,$CB,$24,$E4,$24,$E4,$24,$6E,$14,$6F,$14,$70,$14,$71,$14
	db $57,$08,$57,$08,$BF,$00,$BF,$00,$57,$08,$57,$08,$93,$10,$92,$10
	db $2E,$54,$2E,$54,$BF,$04,$BF,$04,$2E,$14,$2E,$14,$BF,$04,$BF,$04
	db $C4,$10,$C5,$10,$D0,$10,$D1,$10,$C8,$10,$C9,$10,$D2,$10,$D3,$10
	db $7C,$14,$7E,$14,$7D,$14,$7F,$14,$CA,$04,$CC,$04,$CB,$04,$CD,$04
	db $CA,$04,$CC,$04,$CB,$04,$CD,$04,$02,$14,$04,$14,$03,$14,$05,$14
	db $2C,$04,$2E,$04,$2D,$04,$2F,$04,$8E,$04,$8F,$04,$8F,$04,$8E,$04
	db $88,$14,$8A,$14,$89,$14,$8B,$14,$89,$14,$8B,$14,$89,$14,$8B,$14
	db $89,$14,$8B,$14,$8C,$14,$8D,$14,$88,$14,$8A,$14,$8C,$14,$8D,$14
	db $88,$14,$8A,$14,$89,$14,$8B,$14,$88,$14,$8A,$14,$89,$14,$8B,$14
	db $6A,$18,$6C,$18,$6B,$18,$6D,$18,$6C,$18,$6C,$18,$6D,$18,$6D,$18
	db $6C,$18,$6E,$18,$6D,$18,$6F,$18,$6C,$18,$54,$18,$6D,$18,$55,$18
	db $32,$10,$34,$10,$33,$10,$35,$10,$33,$10,$35,$10,$33,$10,$35,$10
	db $C8,$10,$C9,$10,$D2,$10,$D3,$10,$10,$12,$11,$12,$10,$12,$11,$12
	db $12,$12,$11,$12,$10,$12,$11,$12,$10,$12,$13,$12,$10,$12,$11,$12
	db $10,$12,$11,$12,$14,$12,$11,$12,$10,$12,$11,$12,$10,$12,$15,$12
	db $1A,$12,$1B,$12,$1A,$12,$1B,$12,$16,$12,$17,$12,$1A,$12,$11,$12
	db $18,$12,$19,$12,$10,$12,$1B,$12,$1A,$12,$11,$12,$1C,$12,$1D,$12

DATA_11B16C:
	db $94,$08,$95,$08,$94,$08,$95,$08,$94,$08,$95,$08,$94,$08,$95,$08
	db $48,$08,$49,$08,$48,$08,$49,$08,$BE,$08,$BE,$08,$BE,$08,$BE,$08
	db $BF,$00,$32,$0C,$32,$0C,$33,$0C,$44,$0C,$44,$0C,$44,$0C,$44,$0C
	db $45,$0C,$45,$0C,$45,$0C,$45,$0C,$34,$0C,$BF,$00,$35,$0C,$34,$0C
	db $33,$0C,$44,$0C,$44,$0C,$44,$0C,$45,$0C,$35,$0C,$45,$0C,$45,$0C
	db $BF,$00,$32,$0C,$C0,$0C,$C1,$0C,$33,$0C,$44,$0C,$C2,$0C,$C2,$0C
	db $44,$0C,$44,$0C,$C2,$0C,$C2,$0C,$45,$0C,$45,$0C,$C3,$0C,$C3,$0C
	db $45,$0C,$35,$0C,$C3,$0C,$C3,$0C,$34,$0C,$BF,$00,$C4,$0C,$C5,$0C
	db $A0,$14,$A0,$54,$A3,$14,$A3,$54,$B0,$14,$B0,$54,$B1,$14,$B1,$54
	db $0D,$10,$0D,$10,$0D,$10,$0D,$10,$0E,$10,$0E,$10,$0E,$10,$0E,$10
	db $64,$00,$66,$00,$65,$00,$67,$00,$68,$00,$6A,$00,$69,$00,$6B,$00
	db $BF,$00,$6C,$00,$5C,$00,$5D,$00,$6D,$00,$BF,$00,$5E,$00,$5F,$00
	db $BF,$00,$6C,$00,$BF,$00,$54,$00,$6D,$00,$BF,$00,$55,$00,$BF,$00
	db $92,$10,$93,$10,$93,$10,$92,$10,$AE,$18,$AF,$18,$AE,$18,$AF,$18
	db $78,$18,$7A,$18,$79,$18,$7B,$18,$58,$10,$59,$10,$AE,$10,$AF,$10
	db $94,$08,$95,$08,$94,$08,$95,$08,$94,$08,$95,$08,$94,$08,$95,$08
	db $5A,$08,$5C,$08,$5B,$08,$5D,$08,$C6,$10,$C7,$10,$C7,$10,$C6,$10
	db $C0,$00,$C1,$00,$D0,$00,$D1,$00,$C2,$00,$C3,$00,$D2,$00,$D3,$00
	db $37,$08,$62,$08,$61,$08,$63,$08,$64,$08,$38,$08,$65,$08,$67,$08
	db $50,$08,$51,$08,$50,$08,$51,$08,$AF,$10,$AE,$10,$AE,$10,$AF,$10
	db $50,$08,$51,$08,$50,$08,$51,$08,$8E,$08,$8F,$08,$8F,$08,$8E,$08
	db $72,$18,$73,$18,$73,$18,$72,$18,$50,$18,$52,$18,$51,$18,$53,$18
	db $5A,$08,$5C,$08,$5B,$08,$5D,$08,$96,$10,$4E,$10,$4E,$10,$4F,$10
	db $4F,$10,$4E,$10,$4E,$10,$4F,$10,$4E,$10,$4F,$10,$4F,$10,$4E,$10
	db $92,$10,$93,$10,$93,$10,$92,$10,$8E,$08,$8F,$08,$8F,$08,$8E,$08
	db $54,$58,$6C,$58,$55,$58,$6D,$58,$4F,$10,$37,$10,$4E,$10,$A0,$10
	db $4F,$10,$3A,$10,$4E,$10,$A0,$10,$4F,$10,$4E,$10,$37,$10,$38,$10
	db $4A,$18,$4B,$18,$BE,$18,$BE,$18,$72,$18,$73,$18,$4A,$18,$4B,$18
	db $40,$10,$42,$10,$41,$10,$43,$10,$41,$10,$43,$10,$41,$10,$43,$10
	db $8E,$10,$8F,$10,$9D,$10,$A1,$10,$8F,$10,$9C,$10,$A1,$10,$A2,$10
	db $8E,$08,$8F,$08,$9D,$08,$A1,$08,$8F,$08,$9C,$08,$A1,$08,$A2,$08
	db $8E,$0C,$8F,$0C,$9D,$0C,$A1,$0C,$8F,$0C,$9C,$0C,$A1,$0C,$A2,$0C

DATA_11B36C:
	db $40,$08,$42,$08,$41,$08,$43,$08,$40,$08,$42,$08,$41,$08,$43,$08
	db $06,$08,$08,$08,$07,$08,$09,$08,$06,$08,$08,$08,$90,$08,$91,$08
	db $FA,$0C,$FA,$0C,$FA,$0C,$FA,$0C,$BF,$0C,$BF,$0C,$BF,$0C,$BF,$0C
	db $BA,$10,$BC,$10,$BB,$10,$BD,$10,$61,$08,$63,$08,$61,$08,$63,$08
	db $65,$08,$63,$08,$65,$08,$63,$08,$65,$08,$67,$08,$65,$08,$67,$08
	db $60,$08,$62,$08,$61,$08,$63,$08,$32,$08,$34,$08,$33,$08,$35,$08
	db $64,$08,$62,$08,$65,$08,$63,$08,$36,$08,$34,$08,$37,$08,$35,$08
	db $64,$08,$66,$08,$65,$08,$67,$08,$36,$08,$38,$08,$37,$08,$39,$08
	db $68,$08,$62,$08,$61,$08,$63,$08,$64,$08,$69,$08,$65,$08,$67,$08
	db $46,$08,$62,$08,$61,$08,$63,$08,$64,$08,$47,$08,$65,$08,$67,$08
	db $06,$08,$08,$08,$07,$08,$09,$08,$C4,$00,$C5,$00,$D4,$00,$D5,$00
	db $C6,$00,$C7,$00,$D6,$00,$D7,$00,$C8,$00,$C9,$00,$D8,$00,$D9,$00
	db $CA,$00,$CB,$00,$DA,$00,$DB,$00,$CC,$00,$C5,$00,$DC,$00,$D5,$00
	db $C6,$00,$CD,$00,$D6,$00,$DD,$00,$70,$10,$72,$10,$71,$10,$73,$10
	db $8E,$0C,$8F,$0C,$8F,$0C,$8E,$0C,$72,$0C,$73,$0C,$73,$0C,$72,$0C
	db $44,$0C,$45,$0C,$45,$0C,$44,$0C,$C9,$04,$CA,$04,$D0,$04,$D1,$04
	db $CE,$04,$CF,$04,$D4,$04,$D5,$04,$28,$04,$29,$04,$2A,$04,$2B,$04
	db $CB,$04,$CB,$04,$D2,$04,$E4,$04,$CC,$04,$CD,$04,$E4,$04,$D3,$04
	db $D7,$04,$D8,$04,$DE,$04,$E4,$04,$D9,$04,$E4,$04,$E4,$04,$E4,$04
	db $E4,$04,$DA,$04,$E4,$04,$DF,$04,$DB,$04,$DC,$04,$E0,$04,$E1,$04
	db $DE,$04,$E4,$04,$DE,$04,$E4,$04,$E4,$04,$EF,$04,$E4,$04,$E6,$04
	db $F0,$04,$F1,$04,$E7,$04,$E8,$04,$D9,$04,$E4,$04,$E4,$04,$E5,$04
	db $70,$18,$72,$18,$71,$18,$73,$18,$30,$18,$72,$18,$31,$18,$73,$18
	db $70,$18,$3E,$18,$71,$18,$3F,$18,$7A,$08,$7B,$08,$78,$08,$79,$08
	db $79,$CC,$78,$CC,$7B,$CC,$7A,$CC,$7A,$10,$7B,$10,$78,$10,$79,$10
	db $79,$C8,$78,$C8,$7B,$C8,$7A,$C8,$7A,$0C,$7B,$0C,$78,$0C,$79,$0C
	db $79,$D0,$78,$D0,$7B,$D0,$7A,$D0,$A4,$18,$6C,$18,$A5,$18,$6D,$18
	db $10,$12,$1B,$12,$1E,$12,$1F,$12,$18,$12,$17,$12,$10,$12,$11,$12
	db $10,$12,$11,$12,$1E,$12,$1D,$12,$1A,$12,$11,$12,$1A,$12,$11,$12
	db $10,$12,$1B,$12,$10,$12,$1B,$12,$1A,$12,$11,$12,$1A,$12,$15,$12
	db $1A,$12,$13,$12,$1A,$12,$11,$12,$6C,$58,$6C,$58,$6D,$58,$6D,$58
	db $6C,$58,$6A,$58,$6D,$58,$6B,$58

;--------------------------------------------------------------------

DATA_11B564:
	db DATA_11B572,DATA_11B596,DATA_11B5BA,DATA_11B5DE
	db DATA_11B602,DATA_11B626,DATA_11B64A

DATA_11B56B:
	db DATA_11B572>>8,DATA_11B596>>8,DATA_11B5BA>>8,DATA_11B5DE>>8
	db DATA_11B602>>8,DATA_11B626>>8,DATA_11B64A>>8

DATA_11B572:
	db $A1,$9C,$22,$22,$30,$A7,$30,$30
	db $45,$45,$45,$45,$5E,$5E,$5E,$5E
	db $2E,$2E,$2E,$2E,$AE,$00,$AB,$B0
	db $AE,$AE,$AE,$AE,$80,$07,$81,$80
	db $81,$81,$81,$81

DATA_11B596:
	db $A0,$9C,$9D,$22,$30,$30,$30,$30
	db $45,$45,$45,$45,$5E,$5E,$5E,$5E
	db $2E,$2E,$2E,$2E,$AE,$40,$AB,$2C
	db $AE,$AE,$AE,$AE,$80,$07,$81,$80
	db $81,$81,$81,$81

DATA_11B5BA:
	db $A1,$9C,$22,$22,$30,$A7,$AE,$30
	db $45,$45,$45,$45,$5E,$5E,$5E,$5E
	db $2E,$2E,$2E,$2E,$AE,$00,$AB,$B0
	db $AE,$AE,$AE,$AE,$80,$07,$81,$80
	db $81,$81,$81,$81

DATA_11B5DE:
	db $26,$9C,$26,$22,$30,$A7,$B0,$2C
	db $45,$45,$45,$45,$5E,$5E,$5E,$5E
	db $2E,$2E,$2E,$2E,$AE,$33,$AB,$2C
	db $AE,$AE,$AE,$AE,$80,$07,$81,$80
	db $81,$81,$81,$81

DATA_11B602:
	db $A1,$9C,$22,$22,$30,$A7,$30,$30
	db $45,$45,$45,$45,$5E,$5E,$5E,$5E
	db $2E,$2E,$2E,$2E,$AE,$00,$AB,$2C
	db $AE,$AE,$AE,$AE,$80,$07,$81,$80
	db $81,$81,$81,$81

DATA_11B626:
	db $A0,$9C,$9D,$22,$30,$30,$30,$30
	db $45,$45,$45,$45,$5E,$5E,$5E,$5E
	db $2E,$2E,$2E,$2E,$AE,$40,$AB,$2C
	db $AE,$AE,$AE,$AE,$80,$07,$81,$80
	db $81,$81,$81,$81

DATA_11B64A:
	db $22,$61,$22,$AB,$AA,$60,$5D,$64
	db $45,$45,$45,$45,$5E,$5E,$5E,$5E
	db $2E,$2E,$2E,$2E,$AA,$AA,$AA,$AA
	db $AE,$AE,$AE,$AE,$80,$07,$81,$80
	db $81,$81,$81,$81

;--------------------------------------------------------------------

DATA_11B66E:
	db $64,$67,$AB,$D4,$6D,$9E,$9F

DATA_11B675:
	db $64,$67,$AB,$27,$6D,$9E,$9F

;--------------------------------------------------------------------

DATA_11B67C:
	db $70,$23

DATA_11B67E:
	db $71,$24

DATA_11B680:
	db $72,$25

;--------------------------------------------------------------------

DATA_11B682:
	db $CA,$CC,$CE,$C7,$C8,$C9,$40,$04
	db $05

DATA_11B68B:
	db $C7,$C8,$C9

DATA_11B68E:
	db $D2,$D0,$D0

DATA_11B691:
	db $D1,$D1,$D3

;--------------------------------------------------------------------

DATA_11B694:
	db $52,$C0

DATA_11B696:
	db $52,$82

DATA_11B698:
	db $C0,$C0

DATA_11B69A:
	db $82,$82

;--------------------------------------------------------------------

DATA_11B69C:
	db $6A,$6E,$6F

;--------------------------------------------------------------------

DATA_11B69F:
	db $43			; Red grass (Coin)
	db $44			; Red grass (Large veggie)
	db $45			; Red grass (Small veggie)
	db $46			; Red grass (Rocket Ship)
	db $47			; Red grass (Koopa shell)
	db $48			; Red grass (Purple bomb)
	db $49			; Red grass (Potion)
	db $4A			; Red grass (1up Mushroom)
	db $4B			; Red grass (POW block)
	db $4E			; Cherry
	db $4C			; Red grass (Bob-Omb)
	db $41			; Hidden mushroom 1
	db $5B			; Phanto (Won't activate)
	db $42			; Hidden mushroom 2
	db $5A			; Whale eye

;--------------------------------------------------------------------

DATA_11B6AE:
	db $9A,$B1,$AA,$AA

;--------------------------------------------------------------------

DATA_11B6B2:
	db $04,$05,$00,$23,$DF,$59,$0C,$00
	db $24,$5C,$59,$0C,$00,$25,$E0,$59
	db $0C

;--------------------------------------------------------------------

DATA_11B6C3:
	db $DF,$E4,$E8,$0C

DATA_11B6C7:
	db $E2,$E5,$59,$0C

DATA_11B6CB:
	db $5C,$59,$59,$0C

DATA_11B6CF:
	db $E3,$E6,$E9,$0C

DATA_11B6D3:
	db $E0,$E7,$EA,$0C

DATA_11B6D7:
	db $12,$14,$16

DATA_11B6DA:
	db $13,$15,$17,$0C,$33

;--------------------------------------------------------------------

DATA_11B6DF:
	db $70,$23,$71

DATA_11B6E2:
	db $71,$24

DATA_11B6E4:
	db $72,$25,$73

UNK_11B6E7:
	db $52,$31,$C0,$52,$32,$82

;--------------------------------------------------------------------

DATA_11B6ED:
	db $00,$05,$06,$10,$11,$12,$04,$05
	db $06,$10,$11,$12,$04,$05,$06,$83
	db $83,$12,$83,$83,$06,$83,$83,$12
	db $83,$83,$06

;--------------------------------------------------------------------

DATA_11B708:
	db $4F,$4F,$90,$83,$83,$83

DATA_11B70E:
	db $50,$51,$91,$83,$83,$83

;--------------------------------------------------------------------

DATA_11B714:
	db $00,$23,$CB,$0E,$09

DATA_11B719:
	db $00,$24,$CD,$0F,$0B

DATA_11B71E:
	db $00,$25,$CF,$10,$0D

;--------------------------------------------------------------------

DATA_11B723:
	db $74,$31,$74,$34,$74,$31,$B8

DATA_11B72A:
	db $75,$32,$75,$35,$75,$32,$B9

;--------------------------------------------------------------------

DATA_11B731:
	db $DB,$A7,$AE,$EC

DATA_11B735:
	db $38,$3A,$3B,$EE

;--------------------------------------------------------------------

DATA_11B739:
	db $DB,$A7,$AE,$AD

DATA_11B73D:
	db $37,$39,$AD,$AE

;--------------------------------------------------------------------

DATA_11B741:
	db $00,$00,$00,$24
	db $00,$00,$02,$54
	db $00,$02,$55,$54
	db $00,$02,$7F,$54
	db $00,$02,$7F,$D4
	db $00,$03,$FF,$54
	db $00,$02,$5F,$FC
	db $00,$03,$FF,$FC
	db $00,$00,$00,$00
	db $55,$55,$55,$7C
	db $E7,$9E,$79,$E4
	db $00,$0E,$79,$E4
	db $00,$00,$09,$E4
	db $00,$00,$00,$24
	db $E0,$0E,$79,$E4
	db $E4,$00,$09,$E4
	db $E4,$00,$00,$24
	db $E7,$90,$09,$E4
	db $E7,$9E,$70,$24
	db $E7,$9E,$40,$24
	db $E7,$9C,$00,$24
	db $E0,$0E,$40,$24
	db $00,$00,$00,$E4
	db $E4,$00,$00,$00
	db $E7,$9E,$79,$E4
	db $E7,$90,$01,$E4
	db $E0,$00,$01,$E4
	db $E7,$90,$00,$24
	db $E0,$00,$00,$24
	db $00,$00,$00,$24
	db $00,$00,$00,$24

DATA_11B7BD:
	db $AA,$AA,$AA,$AA
	db $80,$00,$00,$02
	db $AA,$00,$00,$AA
	db $FA,$00,$00,$AF
	db $FE,$00,$00,$BF
	db $FA,$80,$02,$AF
	db $E8,$00,$00,$2B
	db $E0,$00,$00,$0B
	db $FA,$95,$56,$AF
	db $95,$00,$00,$56
	db $A5,$55,$55,$5A
	db $A5,$5A,$A5,$5A
	db $55,$55,$55,$55
	db $95,$55,$55,$56
	db $95,$5A,$A5,$56
	db $A9,$55,$55,$6A
	db $81,$55,$55,$42
	db $AA,$A5,$55,$5A
	db $A5,$55,$5A,$AA
	db $00,$00,$00,$00
	db $80,$00,$00,$02
	db $A0,$00,$00,$0A
	db $AA,$00,$00,$AA
	db $AA,$A0,$0A,$AA
	db $80,$00,$0A,$AA
	db $80,$0A,$AA,$AA
	db $AA,$AA,$A0,$02
	db $AA,$A0,$00,$02
	db $A0,$0A,$A0,$0A
	db $A0,$00,$00,$00
	db $00,$00,$00,$0A

;--------------------------------------------------------------------

; Note: Table controlling the music to play in each sublevel.

DATA_11B839:
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,$00,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,$00,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,!Define_SMB2U_LevelMusic_Underground,$00,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Danger,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,$00,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Danger,!Define_SMB2U_LevelMusic_Danger,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Danger,!Define_SMB2U_LevelMusic_Underground,$00,$00,$00,$00
	db !Define_SMB2U_LevelMusic_Overworld,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Danger,!Define_SMB2U_LevelMusic_WartBattle,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Underground,!Define_SMB2U_LevelMusic_Overworld

;--------------------------------------------------------------------

SMB2U_SlotMachineScreenStripeImage:
	; "BONUS CHANCE" display
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	db $0C,$A9,$00,$1B
	db $40,$08,$46,$08,$4A,$08,$4E,$08,$51,$08,$54,$08,$57,$08,$BD,$08
	db $59,$08,$5B,$08,$5E,$08,$61,$08,$65,$08,$40,$48

	db $0C,$C8,$00,$1F
	db $41,$08,$42,$08,$47,$08,$4B,$08,$4F,$08,$52,$08,$55,$08,$58,$08
	db $BD,$08,$5A,$08,$5C,$08,$5F,$08,$62,$08,$66,$08,$42,$48,$41,$48

	db $0C,$E8,$00,$0D
	db $43,$08,$44,$08,$48,$08,$4C,$08,$50,$08,$53,$08,$56,$08

	db $0C,$F1,$00,$0D
	db $69,$08,$64,$08,$60,$08,$63,$08,$67,$08,$44,$48,$43,$48

	db $0D,$09,$00,$05
	db $45,$08,$49,$08,$4D,$08

	db $0D,$14,$00,$05
	db $64,$08,$68,$08,$45,$48

	;             Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 3, 18,04, 0, !FALSE, 1*2)
	db $5D,$08
else
	db $0C,$A9,$00,$1B
	db $40,$08,$46,$08,$4A,$08,$4E,$08,$51,$08,$54,$08,$BD,$08,$56,$08
	db $58,$08,$5B,$08,$5E,$08,$61,$08,$65,$08,$40,$48

	db $0C,$C8,$00,$1F
	db $41,$08,$42,$08,$47,$08,$4B,$08,$4F,$08,$52,$08,$55,$08,$BD,$08
	db $57,$08,$59,$08,$5C,$08,$5F,$08,$62,$08,$66,$08,$42,$48,$41,$48

	db $0C,$E8,$00,$0B
	db $43,$08,$44,$08,$48,$08,$4C,$08,$50,$08,$53,$08

	db $0C,$F1,$00,$0D
	db $5A,$08,$5D,$08,$60,$08,$63,$08,$67,$08,$44,$48,$43,$48

	db $0D,$09,$00,$05
	db $45,$08,$49,$08,$4D,$08

	db $0D,$14,$00,$05
	db $64,$08,$68,$08,$45,$48
endif
	; Background "hole" for the reels sprites
	db $0D,$68,$40,$1E
	db $BF,$00

	db $0D,$88,$40,$1E
	db $BF,$00

	db $0D,$A8,$40,$1E
	db $BF,$00

	db $0D,$C8,$40,$1E
	db $BF,$00

	; Slot frames
	db $0D,$47,$00,$23
	db $38,$08,$39,$08,$39,$08,$39,$08,$39,$08,$3A,$08,$38,$08,$39,$08
	db $39,$08,$39,$08,$39,$08,$3A,$08,$38,$08,$39,$08,$39,$08,$39,$08
	db $39,$08,$3A,$08

	db $0D,$E7,$00,$23
	db $3D,$08,$99,$08,$99,$08,$99,$08,$3E,$08,$3F,$08,$3D,$08,$99,$08
	db $99,$08,$99,$08,$3E,$08,$3F,$08,$3D,$08,$99,$08,$99,$08,$99,$08
	db $3E,$08,$3F,$08

	db $0D,$67,$C0,$06
	db $3B,$08

	db $0D,$6C,$C0,$04
	db $9A,$08

	db $0D,$CC,$00,$01
	db $3C,$08

	db $0D,$6D,$C0,$06
	db $3B,$08

	db $0D,$72,$C0,$04
	db $9A,$08

	db $0D,$D2,$00,$01
	db $3C,$08

	db $0D,$73,$C0,$06
	db $3B,$08

	db $0D,$78,$C0,$04
	db $9A,$08

	db $0D,$D8,$00,$01
	db $3C,$08

	; Black tiles (to hide the reel sprites outside of the frame)
	db $0E,$08,$40,$1E
	db $BD,$08

	db $0E,$28,$40,$1E
	db $BD,$08

	db $0E,$48,$40,$1E
	db $BD,$08

	; Coin icon
	db $0E,$2D,$00,$03
	db $9B,$04,$9D,$04

	db $0E,$4D,$00,$03
	db $9C,$04,$9E,$04

	db $FF

;--------------------------------------------------------------------

DATA_11BA3C:
;$11BA3C
	db $00,$45,$17,$2E

SMB2U_CharacterStats:
;$11BA40
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
.Mario:
	db $00,$03,$02,$01,$03,$06,$B6,$B6,$A0,$A0,$AD,$B1,$E3,$00,$07,$04
	db $08,$18,$18,$04,$E8,$E8,$FC

.Peach:
	db $00,$01,$01,$01,$01,$02,$B8,$B8,$A0,$A0,$B4,$B4,$E3,$00,$07,$04
	db $08,$18,$1D,$04,$E8,$E3,$FC

.Toad:
	db $00,$03,$02,$01,$03,$06,$DA,$DA,$CE,$CE,$D4,$D8,$E3,$00,$02,$01
	db $08,$18,$16,$04,$E8,$EA,$FC

.Luigi:
	db $00,$05,$03,$02,$05,$0A,$B9,$B9,$A0,$A0,$B3,$B9,$E3,$30,$07,$04
	db $08,$18,$15,$04,$E8,$EB,$FC
else
.Mario:
	db $00,$04,$02,$01,$04,$07,$B0,$B0,$98,$98,$A6,$AA,$E0,$00,$07,$04
	db $08,$18,$18,$04,$E8,$E8,$FC

.Peach:
	db $00,$01,$01,$01,$01,$02,$B2,$B2,$98,$98,$AD,$AD,$E0,$00,$07,$04
	db $08,$18,$1D,$04,$E8,$E3,$FC

.Toad:
	db $00,$04,$02,$01,$04,$07,$D6,$D6,$C9,$C9,$D0,$D4,$E0,$00,$02,$01
	db $08,$18,$16,$04,$E8,$EA,$FC

.Luigi:
	db $00,$06,$04,$02,$06,$0C,$B3,$B3,$98,$98,$AC,$B3,$E0,$3C,$07,$04
	db $08,$18,$15,$04,$E8,$EB,$FC
endif

;--------------------------------------------------------------------

DATA_11BA9C:
	dw $45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$152F,$40A3,$45C6,$56EC,$14DC,$1096,$000F
	dw $45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$0C57,$0172,$0259,$1F1F,$6E9F,$495F,$2896
	dw $45BC,$7FFF,$0C63,$5900,$69E8,$7ECF,$2D9C,$3ABF,$0000,$0D2F,$0973,$2A7B,$4B5F,$191F,$18D9,$0012
	dw $45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$152F,$5088,$6D6F,$7E56,$5B92,$42AB,$21E5

;--------------------------------------------------------------------

DATA_11BB1C:
	dw $45BC,$7FFF,$14A5,$0837,$10BF,$061F,$369E,$4F5F,$0000,$110F,$4CAD,$5D34,$6DFA,$06FF,$0639,$0D94

;--------------------------------------------------------------------

DATA_11BB3C:
	dw $45BC,$7FFF,$14A5,$4986,$622B,$72D0,$369E,$4F5F,$0000,$3D03,$0955,$19D9,$2A5D,$3ADF,$1197,$00F2
	dw $45BC,$7FFF,$14A5,$2929,$4631,$6318,$369E,$4F5F,$0000,$110F,$093C,$1DFF,$3AFF,$4DBF,$107D,$0015
	dw $45BC,$7FFF,$14A5,$11A5,$1AC4,$3FCC,$369E,$4F5F,$0000,$110F,$30B8,$457E,$625F,$0000,$0000,$0000

;--------------------------------------------------------------------

DATA_11BB9C:
	db $DF,$EF,$F7,$FB,$00,$FF,$FF,$FF,$AF,$D7,$EB,$F5,$FB,$F7,$EF,$DF
	db $00,$FF,$FF,$FF,$F5,$EB,$D7,$AF

DATA_11BBB4:
	db $00,$01,$FF,$00

DATA_11BBB8:
	db $40,$00,$C0,$01,$00,$00,$50,$00,$40,$00,$C0,$01,$00,$00

;--------------------------------------------------------------------
; Note: Slot machine text stripe images


DATA_11BBC6:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	table "Tables/Fonts/Standard_Page1_br.txt"
	;			  Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 3, 16,18, 0, !FALSE, 4*2)
	dw "x 1 "

	%SMAS_DrawStripeHeader(0, 3, 08,22, 0, !FALSE, 16*2)
	dw "VIDAS EXTRAS** 1"

	db $FF,$FF
else
	; Coin counter
	db $0E,$50,$00,$07
	db $DA,$15,$BD,$09,$C1,$15,$BD,$09

	; "EXTRA LIFE*** 1" (Slot machine)
	db $0E,$C9,$00,$1D
	db $CE,$15,$E1,$15,$DD,$15,$DB,$15,$CA,$15,$BD,$09,$D5,$15,$D2,$15
	db $CF,$15,$CE,$15,$E8,$15,$E8,$15,$E8,$15,$BD,$09,$C1,$15

	db $FF

UNK_11BBF5:
	db $E0,$02,$BF,$46,$9F,$21,$96,$0C,$E0,$02,$5F,$63,$1F,$00,$E0,$7D
	db $E0,$02,$FF,$7F,$D6,$5A,$31,$46,$E0,$02,$00,$7F,$20,$7D,$00,$61
	db $0C,$08,$04,$08,$0C,$04,$00,$08,$04,$0C,$00,$0C,$08,$04,$0C,$08
	db $04,$0C,$04,$08,$04,$00,$08,$0C,$F0,$60,$82,$23,$CB,$B0,$00,$A0
	db $CB,$B0,$40,$A8,$CB,$B2,$00,$A0,$CB,$B2,$40,$A8,$CB,$B6,$00,$A0
	db $CB,$B6,$40,$A8,$CB,$B4,$00,$A0,$CB,$B4,$40,$A8
endif

DATA_11BC51:
	db $00,$C6,$40,$26
	db $FB,$00

	db $FF

SMB2U_NoBonusTextStripeImage:
;$11BC58
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	%SMAS_DrawStripeHeader(0, 3, 06+12,19, 0, !FALSE, 2)
	            dw "^"
	%SMAS_DrawStripeHeader(0, 3, 06,20, 0, !FALSE, 20*2)
	dw "    NENHUM BONUS    "
else
	db $0E,$86,$00,$27
	db $BD,$09,$BD,$09,$BD,$09,$BD,$09,$BD,$09,$BD,$09,$D7,$15,$D8,$15
	db $BD,$09,$CB,$15,$D8,$15,$D7,$15,$DE,$15,$DC,$15,$BD,$09,$BD,$09
	db $BD,$09,$BD,$09,$BD,$09,$BD,$09
endif
	db $FF

SMB2U_PushButtonTextStripeImage:
;$11BC85
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	;             Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 3, 09+13,19, 0, !FALSE, 2)
	             dw "~"
	%SMAS_DrawStripeHeader(0, 3, 09,20, 0, !FALSE, 15*2)
	dw "APERTE UM BOTAO"
else
	db $0E,$8B,$00,$15
	db $D9,$15,$DE,$15,$DC,$15,$D1,$15,$BD,$09,$CB,$15,$DE,$15,$DD,$15
	db $DD,$15,$D8,$15,$D7,$15
endif
	db $FF

DATA_11BCA0:
	db $55,$6D,$00,$09
	db $19,$21,$0A,$21,$1E,$21,$1C,$21,$0E,$21

	db $FF

DATA_11BCAF:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	%SMAS_DrawStripeHeader(0, 3, 09,19, 0, !TRUE, 14*2)
	db $BD,$09
endif
	db $0E,$86,$40,$26
	db $BD,$09

	db $FF

SMB2U_SlotMachine_PayoutStripeImage:
	db $0E,$89,$00,$1B
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	dw "  GANHOU  1VD "
	cleartable
else
	db $BD,$09,$BD,$09,$D9,$15,$D5,$15,$CA,$15,$E2,$15,$CE,$15,$DB,$15
	db $BD,$09,$BD,$09,$C1,$15,$DE,$15,$D9,$15,$BD,$09
endif
	db $FF

;--------------------------------------------------------------------

DATA_11BCD7:
	db $0E,$AA,$40,$18
	db $BD,$09

	db $FF

DATA_11BCDE:
	db $FF

DATA_11BCDF:
	db $55,$6D,$40,$08
	db $2F,$21

	db $FF

;--------------------------------------------------------------------

DATA_11BCE6: 
	; Progress squares placeholder
	db $04,$EE,$00,$0D
	db $BF,$01,$BF,$01,$BF,$01,$BF,$01,$BF,$01,$BF,$01,$BF,$01

	; " WORLD  ■-1"
	db $04,$CA,$00,$15
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	table "Tables/Fonts/PureWhite_Page0_br.txt"
	dw " MUNDO  "
	cleartable
else
	db $FF,$00,$A0,$0C,$98,$0C,$9B,$0C,$95,$0C,$8D,$0C,$FF,$00,$FF,$00
endif
	db $C2,$0C,$A4,$0C,$81,$0C


	; RAM placeholder for Slot Machine's life counter
	db $05,$28,$00,$1F
	db $8E,$0C,$A1,$0C,$9D,$0C,$9B,$0C,$8A,$0C,$BF,$00,$95,$0C,$92,$0C
	db $8F,$0C,$8E,$0C,$A8,$0C,$A8,$0C,$A8,$0C,$FF,$00,$FF,$00,$80,$1C

	db $FF

.GameOverMenuCursor:
	db $0D,$D1,$80,$05
	db $BD,$08,$BD,$08,$BD,$08

	db $FF

if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	db $0A,$29,$00,$01
	db $BD,$09

	db $0A,$69,$00,$01
	db $BD,$09

	db $0A,$A9,$00,$01
	db $BD,$09
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	;             Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 2, 08,17, 0, !FALSE, 2)
	db $BD,$09

	%SMAS_DrawStripeHeader(0, 2, 08,19, 0, !FALSE, 2)
	db $BD,$09

	%SMAS_DrawStripeHeader(0, 2, 08,21, 0, !FALSE, 2)
	db $BD,$09
else
	db $0A,$2A,$00,$01
	db $BD,$09

	db $0A,$6A,$00,$01
	db $BD,$09

	db $0A,$AA,$00,$01
	db $BD,$09
endif
	db $FF

	db $01,$97,$C0,$10
	db $FB,$00

	db $FF

	db $01,$C0,$00,$21
	db $ED,$00,$E1,$00,$3A,$00,$E7,$00,$E4,$00,$FB,$00,$F2,$00,$E8,$00
	db $EE,$00,$01,$4D,$00,$11,$FB,$00,$FB,$00,$FB,$00,$FB,$00,$FB,$00
	db $FB,$00

	db $FF

;--------------------------------------------------------------------

SMB2U_SlotMachine_3CoinServiceStripeImage:
; $11BD83
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	table "Tables/Fonts/StandardOrange_Page1_br.txt"
	;             Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 3, 09+11,19, 0, !FALSE, 2)
	           dw "/"
	%SMAS_DrawStripeHeader(0, 3, 09,20, 0, !FALSE, 15*2)
	dw "3 MOEDAS GRATIS"
	cleartable
else
	db $0E,$89,$00,$1D				; "3 COINS SERVICE"
	db $C3,$01,$BD,$01,$CC,$01,$D8,$01,$D2,$01,$D7,$01,$DC,$01,$BD,$01
	db $DC,$01,$CE,$01,$DB,$01,$DF,$01,$D2,$01,$CC,$01,$CE,$01
endif

	db $FF

;--------------------------------------------------------------------

DATA_11BDA6:				; Note: Ending (part 3) related stripe images.
	dw SMB2U_StripeImageUploadTable[$00].LowByte
	dw DATA_11BDBB
	dw DATA_11C0E4
	dw DATA_11C0E5
	dw DATA_11C0E6
	dw DATA_11C0F3
	dw DATA_11C100
	dw DATA_11C10D
	dw DATA_11C11A
	dw DATA_11BDBA

DATA_11BDBA:
	db $FF

DATA_11BDBB:
	db $10,$00,$40,$3E
	db $BE,$24

	db $10,$20,$40,$3E
	db $BE,$24

	db $10,$40,$40,$3E
	db $BE,$24

	db $13,$00,$40,$3E
	db $BE,$24

	db $13,$20,$40,$3E
	db $BE,$24

	db $13,$40,$40,$3E
	db $BE,$24

	db $13,$60,$40,$3E
	db $BE,$24

	db $13,$80,$40,$3E
	db $BE,$24

	db $13,$A0,$40,$3E
	db $BE,$24

	db $13,$C0,$40,$3E
	db $BE,$24

	db $10,$60,$C0,$28
	db $BE,$24

	db $10,$61,$C0,$28
	db $BE,$24

	db $10,$62,$C0,$28
	db $BE,$24

	db $10,$63,$C0,$28
	db $BE,$24

	db $10,$64,$C0,$28
	db $BE,$24

	db $10,$7B,$C0,$28
	db $BE,$24

	db $10,$7C,$C0,$28
	db $BE,$24

	db $10,$7D,$C0,$28
	db $BE,$24

	db $10,$7E,$C0,$28
	db $BE,$24

	db $10,$7F,$C0,$28
	db $BE,$24

	db $00,$6E,$80,$07
	db $C4,$18,$D4,$18,$C5,$18,$D5,$18

	db $00,$CF,$80,$07
	db $DE,$18,$CF,$18,$DF,$18,$D9,$18

	db $01,$50,$00,$09
	db $C7,$18,$C8,$18,$C9,$18,$CA,$18,$CB,$18

	db $01,$74,$00,$0D
	db $DB,$18,$D6,$18,$C0,$18,$C1,$18,$C2,$18,$C3,$18,$D7,$18

	db $01,$96,$00,$07
	db $D0,$18,$D1,$18,$D2,$18,$D3,$18

	db $01,$B6,$00,$05
	db $CC,$18,$CD,$18,$CE,$0C

	db $01,$D5,$00,$03
	db $DC,$18,$DD,$18

	db $00,$6F,$40,$16
	db $C1,$18

	db $00,$8F,$40,$16
	db $C1,$18

	db $00,$AF,$40,$16
	db $C1,$18

	db $00,$D0,$40,$14
	db $C1,$18

	db $00,$F0,$40,$14
	db $C1,$18

	db $01,$10,$40,$14
	db $C1,$18

	db $01,$30,$40,$14
	db $C1,$18

	db $01,$55,$40,$0A
	db $C1,$18

	db $01,$0D,$80,$05
	db $E8,$10,$F8,$10,$F6,$10

	db $01,$0E,$80,$05
	db $E9,$10,$F9,$10,$F7,$10

	db $01,$6B,$00,$07
	db $BB,$10,$BC,$10,$EA,$10,$EB,$10

	db $01,$89,$00,$11
	db $4B,$10,$4C,$10,$4D,$10,$4E,$10,$4F,$10,$06,$10,$07,$10,$08,$10
	db $09,$10

	db $01,$A7,$00,$1B
	db $BB,$10,$4C,$10,$5B,$10,$5C,$10,$5D,$10,$5E,$08,$5F,$08,$16,$08
	db $17,$08,$18,$08,$19,$08,$1A,$08,$1B,$08,$1C,$08

	db $01,$C5,$00,$1F
	db $BB,$10,$4C,$10,$5B,$10,$70,$10,$6B,$10,$6C,$10,$6D,$08,$6E,$08
	db $20,$08,$21,$08,$22,$08,$23,$08,$24,$08,$25,$08,$26,$08,$27,$08

	db $01,$E5,$00,$1F
	db $5B,$10,$70,$10,$70,$10,$70,$10,$7B,$10,$7C,$08,$7D,$08,$7E,$08
	db $30,$08,$31,$08,$32,$08,$33,$08,$34,$08,$35,$08,$36,$08,$37,$08

	db $02,$05,$00,$2B
	db $70,$10,$70,$10,$70,$10,$70,$10,$44,$10,$45,$08,$46,$08,$47,$08
	db $48,$08,$49,$08,$0B,$08,$0C,$08,$0E,$08,$0F,$08,$1E,$08,$1F,$08
	db $00,$14,$01,$14,$02,$14,$03,$14,$04,$14,$05,$14

	db $02,$25,$00,$2B
	db $70,$10,$70,$10,$70,$10,$70,$10,$54,$10,$55,$08,$56,$08,$57,$08
	db $58,$08,$59,$08,$5A,$08,$28,$08,$29,$08,$2A,$08,$2B,$08,$2C,$14
	db $10,$14,$11,$14,$12,$14,$13,$14,$14,$14,$15,$14

	db $02,$45,$00,$1F
	db $70,$10,$70,$10,$70,$10,$63,$10,$64,$10,$65,$08,$66,$08,$67,$08
	db $68,$08,$69,$08,$6A,$08,$38,$08,$39,$08,$3A,$08,$3B,$14,$3C,$14

	db $02,$65,$00,$1D
	db $70,$10,$71,$10,$72,$10,$73,$0C,$74,$0C,$75,$08,$76,$08,$77,$08
	db $78,$08,$79,$08,$7A,$08,$2D,$08,$2E,$08,$2F,$14,$0D,$14

	db $02,$85,$00,$1D
	db $80,$10,$81,$10,$82,$0C,$83,$0C,$84,$0C,$85,$0C,$86,$0C,$87,$0C
	db $88,$08,$89,$08,$8A,$08,$3D,$14,$3E,$14,$3F,$14,$1D,$14

	db $02,$A5,$00,$2B
	db $90,$0C,$91,$0C,$92,$0C,$93,$0C,$94,$0C,$95,$0C,$96,$0C,$97,$0C
	db $98,$0C,$99,$0C,$9A,$0C,$0A,$14,$AB,$14,$8B,$14,$8C,$14,$8D,$14
	db $8D,$14,$8D,$14,$8D,$14,$E6,$14,$E7,$14,$8D,$14

	db $02,$C5,$00,$2B
	db $A0,$0C,$A1,$0C,$A2,$0C,$A3,$0C,$A4,$0C,$A5,$0C,$A6,$0C,$A7,$0C
	db $A8,$0C,$A9,$0C,$AA,$14,$AB,$14,$BD,$14,$9B,$14,$9C,$14,$9D,$14
	db $E0,$14,$E1,$14,$E2,$14,$E3,$14,$E4,$14,$E5,$14

	db $02,$E5,$00,$2B
	db $B0,$0C,$B1,$0C,$B2,$0C,$B3,$0C,$B4,$0C,$B5,$0C,$B6,$0C,$B7,$0C
	db $B8,$0C,$B9,$14,$BA,$14,$BD,$14,$BD,$14,$BD,$14,$AC,$14,$AD,$14
	db $F0,$14,$F1,$14,$F2,$14,$F3,$14,$F4,$14,$F5,$14

	db $02,$55,$40,$0A
	db $8D,$14

	db $02,$74,$40,$0C
	db $8D,$14

	db $02,$94,$40,$0C
	db $8D,$14

	db $00,$D3,$00,$0D
	db $EC,$18,$ED,$18,$ED,$18,$ED,$18,$ED,$18,$EE,$18,$EF,$18

	db $00,$F4,$80,$03
	db $FD,$14,$FC,$14

	db $00,$F7,$80,$03
	db $FD,$14,$FC,$14

	db $FF

DATA_11C0E4:
	db $FF

DATA_11C0E5:
	db $FF

DATA_11C0E6:
	db $00,$6E,$40,$18
	db $BF,$00

	db $00,$8E,$40,$18
	db $BF,$00

	db $FF
	
DATA_11C0F3:
	db $00,$AE,$40,$18
	db $BF,$00

	db $00,$CE,$40,$18
	db $BF,$00

	db $FF

DATA_11C100:
	db $00,$EF,$40,$16
	db $BF,$00

	db $01,$0F,$40,$16
	db $BF,$00

	db $FF

DATA_11C10D:
	db $01,$2F,$40,$16
	db $BF,$00

	db $01,$50,$40,$14
	db $BF,$00

	db $FF

DATA_11C11A:
	db $01,$74,$40,$0C
	db $BF,$00

	db $01,$96,$40,$06
	db $BF,$00

	db $01,$B6,$40,$04
	db $BF,$00

	db $01,$D5,$40,$02
	db $BF,$00

	db $FF

;--------------------------------------------------------------------

DATA_11C133:
	db $A0,$20,$E0,$20,$A0,$28,$F0,$20
	db $A8,$20,$E1,$22,$A8,$28,$F1,$22
	db $B0,$20,$E3,$26,$B0,$28,$F3,$26
	db $B8,$20,$E2,$24,$B8,$28,$F2,$24

DATA_11C153:
	db $A0,$20,$E4,$20,$A0,$28,$F4,$20
	db $A8,$20,$E5,$22,$A8,$28,$F5,$22
	db $B0,$20,$E7,$26,$B0,$28,$F7,$26
	db $B8,$20,$E6,$24,$B8,$28,$F6,$24

DATA_11C173:
	db $98,$47,$F8,$20,$A0,$47,$E8,$20
	db $A8,$47,$F8,$20,$B0,$47,$E8,$20
	db $B8,$47,$F8,$20,$C0,$47,$E8,$20

DATA_11C18B:
	db $98,$47,$E8,$20,$A0,$47,$F8,$20
	db $A8,$47,$E8,$20,$B0,$47,$F8,$20
	db $B8,$47,$E8,$20,$C0,$47,$F8,$20

DATA_11C1A3:
	db $20,$0A,$0A,$0A,$0A,$0A,$0A,$20
	db $0A,$0A,$0A,$0A,$0A,$0A

DATA_11C1B1:
	db $08,$08,$50,$40,$30,$10,$10

DATA_11C1B8:
	db $50,$54,$58,$5C,$60,$64,$68,$6C
	db $68,$64,$60,$5C,$58,$54

DATA_11C1C6:
	db $78,$74,$70,$7C,$70,$74,$78,$22
	db $32,$30

;--------------------------------------------------------------------

DATA_11C1D0:
	dl SMB2U_StripeImageUploadTable[$00].LowByte
	dl !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText
	dl $000561
	dl SMB2U_CharacterSelectScreenStripeImage
	dl SMB2U_LevelPreviewBorderStripeImage
	dl SMB2U_BirdoAndGameOverStripeImage
	dl $000637
	dl SMB2U_GameOverMenuStripeImage
	dl !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage
	dl DATA_11BC51
	dl SMB2U_NoBonusTextStripeImage
	dl SMB2U_PushButtonTextStripeImage
	dl !RAM_SMB2U_SlotMachine_PayoutStripeImageText
	dl DATA_11BCA0
	dl DATA_11BCDF
	dl DATA_11BCAF
	dl DATA_11BCD7
	dl DATA_11BCDE
	dl !RAM_SMB2U_WarpZone_WorldNumberStripeImage
	dl !RAM_SMB2U_GameOverScreen_MenuCursorStripeImage
	dl !RAM_SMB2U_Level_SpawningLightDoorStripeImage
	dl DATA_11C88D
	dl DATA_11C88D
	dl SMB2U_SlotMachineScreenStripeImage
	dl DATA_11C89A
	dl DATA_11C927
	dl SMB2U_SlotMachine_3CoinServiceStripeImage

SMB2U_CharacterSelectScreenStripeImage:
;$11C221
	; Clear screen
	db $00,$00,$47,$FE
	db $BD,$09

	; Screen border
	db $00,$00,$00,$3D
	db $BD,$09,$1F,$09,$1F,$49,$0F,$09,$0F,$49,$1F,$09,$1F,$49,$0F,$09
	db $0F,$49,$1F,$09,$1F,$49,$0F,$09,$0F,$49,$1F,$09,$1F,$49,$0F,$09
	db $0F,$49,$1F,$09,$1F,$49,$0F,$09,$0F,$49,$1F,$09,$1F,$49,$0F,$09
	db $0F,$49,$1F,$09,$1F,$49,$0F,$09,$0F,$49,$1F,$09,$1F,$49

	db $00,$20,$00,$3D
	db $BD,$09,$1F,$89,$4F,$09,$5F,$C9,$5F,$89,$6F,$C9,$6F,$89,$5F,$C9
	db $5F,$89,$6F,$C9,$6F,$89,$5F,$C9,$5F,$89,$6F,$C9,$6F,$89,$5F,$C9
	db $5F,$89,$6F,$C9,$6F,$89,$5F,$C9,$5F,$89,$6F,$C9,$6F,$89,$5F,$C9
	db $5F,$89,$6F,$C9,$6F,$89,$5F,$C9,$5F,$89,$4F,$49,$1F,$C9

	db $00,$40,$C0,$32
	db $BD,$09

	db $00,$41,$80,$33
	db $0F,$09,$0F,$89,$1F,$09,$1F,$89,$0F,$09,$0F,$89,$1F,$09,$1F,$89
	db $0F,$09,$0F,$89,$1F,$09,$1F,$89,$0F,$09,$0F,$89,$1F,$09,$1F,$89
	db $0F,$09,$0F,$89,$1F,$09,$1F,$89,$0F,$09,$0F,$89,$1F,$09,$1F,$89
	db $0F,$09,$0F,$89

	db $00,$42,$80,$33
	db $2F,$09,$2F,$89,$3F,$09,$3F,$89,$2F,$09,$2F,$89,$3F,$09,$3F,$89
	db $2F,$09,$2F,$89,$3F,$09,$3F,$89,$2F,$09,$2F,$89,$3F,$09,$3F,$89
	db $2F,$09,$2F,$89,$3F,$09,$3F,$89,$2F,$09,$2F,$89,$3F,$09,$3F,$89
	db $2F,$09,$2F,$89

	db $00,$5D,$80,$33
	db $2F,$49,$2F,$C9,$3F,$49,$3F,$C9,$2F,$49,$2F,$C9,$3F,$49,$3F,$C9
	db $2F,$49,$2F,$C9,$3F,$49,$3F,$C9,$2F,$49,$2F,$C9,$3F,$49,$3F,$C9
	db $2F,$49,$2F,$C9,$3F,$49,$3F,$C9,$2F,$49,$2F,$C9,$3F,$49,$3F,$C9
	db $2F,$49,$2F,$C9

	db $00,$5E,$80,$33
	db $0F,$49,$0F,$C9,$1F,$49,$1F,$C9,$0F,$49,$0F,$C9,$1F,$49,$1F,$C9
	db $0F,$49,$0F,$C9,$1F,$49,$1F,$C9,$0F,$49,$0F,$C9,$1F,$49,$1F,$C9
	db $0F,$49,$0F,$C9,$1F,$49,$1F,$C9,$0F,$49,$0F,$C9,$1F,$49,$1F,$C9
	db $0F,$49,$0F,$C9

	; Curtains
	db $00,$43,$00,$33
	db $00,$05,$01,$05,$02,$05,$03,$05,$04,$05,$05,$05,$06,$05,$07,$05
	db $08,$05,$09,$05,$7F,$05,$7F,$05,$7F,$05,$7F,$45,$7F,$45,$7F,$45
	db $09,$45,$08,$45,$07,$45,$06,$45,$05,$45,$04,$45,$03,$45,$02,$45
	db $01,$45,$00,$45

	db $00,$63,$00,$33
	db $10,$05,$11,$05,$12,$05,$13,$05,$14,$05,$15,$05,$16,$05,$17,$05
	db $18,$05,$19,$05,$1A,$05,$7F,$05,$7F,$05,$7F,$45,$7F,$45,$1A,$45
	db $19,$45,$18,$45,$17,$45,$16,$45,$15,$45,$14,$45,$13,$45,$12,$45
	db $11,$45,$10,$45

	db $00,$83,$00,$33
	db $20,$05,$21,$05,$22,$05,$23,$05,$24,$05,$25,$05,$26,$05,$27,$05
	db $28,$05,$29,$05,$2A,$05,$2B,$05,$2C,$05,$2C,$45,$2B,$45,$2A,$45
	db $29,$45,$28,$45,$27,$45,$26,$45,$25,$45,$24,$45,$23,$45,$22,$45
	db $21,$45,$20,$45

	db $00,$A3,$00,$33
	db $30,$05,$31,$05,$32,$05,$33,$05,$34,$05,$BD,$09,$BD,$09,$BD,$09
	db $38,$05,$39,$05,$3A,$05,$3B,$05,$3C,$05,$3C,$45,$3B,$45,$3A,$45
	db $39,$45,$38,$45,$BD,$09,$BD,$09,$BD,$09,$34,$45,$33,$45,$32,$45
	db $31,$45,$30,$45

	db $00,$C3,$80,$0D
	db $40,$05,$50,$05,$60,$05,$70,$05,$35,$05,$45,$05,$55,$05

	db $01,$A3,$C0,$26
	db $7F,$05

	db $00,$C4,$80,$2B
	db $41,$05,$51,$05,$61,$05,$71,$05,$36,$05,$46,$05,$56,$05,$66,$05
	db $76,$05,$49,$05,$59,$05,$0D,$05,$1D,$05,$2D,$05,$3D,$05,$4D,$05
	db $5D,$05,$6D,$05,$7D,$05,$79,$05,$7B,$05,$6D,$05

	db $00,$C5,$80,$2B
	db $42,$05,$52,$05,$62,$05,$72,$05,$37,$05,$47,$05,$57,$05,$67,$05
	db $77,$05,$4A,$05,$5A,$05,$0E,$05,$1E,$05,$2E,$05,$3E,$05,$4E,$05
	db $5E,$05,$6E,$05,$7E,$05,$7A,$05,$7C,$05,$6E,$05

	db $00,$C6,$80,$17
	db $43,$05,$BD,$09,$BD,$09,$44,$05,$BD,$09,$BD,$09,$58,$05,$68,$05
	db $78,$05,$4B,$05,$5B,$05,$6B,$05

	db $00,$C7,$C0,$16
	db $0B,$05

	db $02,$47,$80,$03
	db $1B,$05,$0C,$05

	db $00,$DC,$80,$0D
	db $40,$45,$50,$45,$60,$45,$70,$45,$35,$45,$45,$45,$55,$45

	db $01,$BC,$C0,$26
	db $7F,$45

	db $00,$DB,$80,$2B
	db $41,$45,$51,$45,$61,$45,$71,$45,$36,$45,$46,$45,$56,$45,$66,$45
	db $76,$45,$49,$45,$59,$45,$0D,$45,$1D,$45,$2D,$45,$3D,$45,$4D,$45
	db $5D,$45,$6D,$45,$7D,$45,$79,$45,$7B,$45,$6D,$45

	db $00,$DA,$80,$2B
	db $42,$45,$52,$45,$62,$45,$72,$45,$37,$45,$47,$45,$57,$45,$67,$45
	db $77,$45,$4A,$45,$5A,$45,$0E,$45,$1E,$45,$2E,$45,$3E,$45,$4E,$45
	db $5E,$45,$6E,$45,$7E,$45,$7A,$45,$7C,$45,$6E,$45

	db $00,$D9,$80,$17
	db $43,$45,$BD,$09,$BD,$09,$44,$45,$BD,$09,$BD,$09,$58,$45,$68,$45
	db $78,$45,$4B,$45,$5B,$45,$6B,$45

	db $00,$D8,$C0,$16
	db $0B,$45

	db $02,$58,$80,$03
	db $1B,$45,$0C,$45

	; Bottom screen border
	db $03,$40,$00,$3D
	db $BD,$09,$0F,$09,$0F,$49,$6F,$49,$6F,$09,$5F,$49,$5F,$09,$6F,$49
	db $6F,$09,$5F,$49,$5F,$09,$6F,$49,$6F,$09,$5F,$49,$5F,$09,$6F,$49
	db $6F,$09,$5F,$49,$5F,$09,$6F,$49,$6F,$09,$5F,$49,$5F,$09,$6F,$49
	db $6F,$09,$5F,$49,$5F,$09,$6F,$49,$6F,$09,$0F,$09,$0F,$49

	db $03,$60,$00,$3D
	db $BD,$09,$0F,$89,$0F,$C9,$1F,$89,$1F,$C9,$0F,$89,$0F,$C9,$1F,$89
	db $1F,$C9,$0F,$89,$0F,$C9,$1F,$89,$1F,$C9,$0F,$89,$0F,$C9,$1F,$89
	db $1F,$C9,$0F,$89,$0F,$C9,$1F,$89,$1F,$C9,$0F,$89,$0F,$C9,$1F,$89
	db $1F,$C9,$0F,$89,$0F,$C9,$1F,$89,$1F,$C9,$0F,$89,$0F,$C9

	db $03,$80,$00,$3D
	db $BD,$09,$1F,$09,$1F,$49,$0F,$09,$0F,$49,$1F,$09,$1F,$49,$0F,$09
	db $0F,$49,$1F,$09,$1F,$49,$0F,$09,$0F,$49,$1F,$09,$1F,$49,$0F,$09
	db $0F,$49,$1F,$09,$1F,$49,$0F,$09,$0F,$49,$1F,$09,$1F,$49,$0F,$09
	db $0F,$49,$1F,$09,$1F,$49,$0F,$09,$0F,$49,$1F,$09,$1F,$49

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $03,$A0,$00,$3D
	db $BD,$09,$1F,$89,$1F,$C9,$0F,$89,$0F,$C9,$1F,$89,$1F,$C9,$0F,$89
	db $0F,$C9,$1F,$89,$1F,$C9,$0F,$89,$0F,$C9,$1F,$89,$1F,$C9,$0F,$89
	db $0F,$C9,$1F,$89,$1F,$C9,$0F,$89,$0F,$C9,$1F,$89,$1F,$C9,$0F,$89
	db $0F,$C9,$1F,$89,$1F,$C9,$0F,$89,$0F,$C9,$1F,$89,$1F,$C9
endif

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	table "Tables/Fonts/Standard_Page1_br.txt"
	;			  Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 0, 11,08, 0, !FALSE, 10*2)
	dw "POR FAVOR,"

	%SMAS_DrawStripeHeader(0, 0, 12,10, 0, !FALSE, 7*2)
	dw "ESCOLHA"

	%SMAS_DrawStripeHeader(0, 0, 09,12, 0, !FALSE, 14*2)
	dw "UMA PERSONAGEM"

	cleartable
else	
	; PLEASE
	db $01,$49,$00,$0B
	db $D9,$15,$D5,$15,$CE,$15,$CA,$15,$DC,$15,$CE,$15
	; SELECT
	db $01,$50,$00,$0B
	db $DC,$15,$CE,$15,$D5,$15,$CE,$15,$CC,$15,$DD,$15
	; PLAYER
	db $01,$8C,$00,$0B
	db $D9,$15,$D5,$15,$CA,$15,$E2,$15,$CE,$15,$DB,$15
endif

.UnselectedCharacters:
	db $02,$49,$80,$07
	db $80,$01,$90,$01,$81,$01,$91,$01

	db $02,$4A,$80,$07
	db $80,$41,$90,$41,$81,$41,$91,$41

	db $02,$4D,$80,$07
	db $82,$01,$92,$01,$83,$01,$93,$01

	db $02,$4E,$80,$07
	db $82,$41,$92,$41,$83,$41,$93,$41

	db $02,$51,$80,$07
	db $BD,$09,$94,$01,$85,$01,$95,$01

	db $02,$52,$80,$07
	db $BD,$09,$94,$41,$85,$41,$95,$41

	db $02,$55,$80,$07
	db $86,$01,$96,$01,$87,$01,$97,$01

	db $02,$56,$80,$07
	db $86,$41,$96,$41,$87,$41,$97,$41

	db $FF

SMB2U_LevelPreviewBorderStripeImage:
;$11C70C
	db $04,$00,$47,$FE
	db $C8,$1C

	db $04,$00,$C0,$3E
	db $FE,$1C

	db $04,$1F,$C0,$3E
	db $FE,$1C

	; Window's shadow
	db $04,$DA,$C0,$1C
	db $D8,$1C

	db $06,$A7,$40,$24
	db $C9,$1C

	db $06,$BA,$00,$01
	db $D9,$1C
	
	; Preview window
	db $04,$A6,$40,$26
	db $FF,$00

	db $04,$C6,$40,$26
	db $FF,$00

	db $04,$E6,$40,$26
	db $FF,$00

	db $05,$06,$40,$26
	db $FF,$00

	db $05,$26,$40,$26
	db $FF,$00

	db $05,$46,$40,$26
	db $FF,$00

	; Small logo
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	db $06,$D4,$00,$13
	db $CA,$1C,$CB,$1C,$CC,$1C,$CD,$1C,$CE,$1C,$CF,$1C,$E0,$1C,$E1,$1C
	db $E2,$1C,$E3,$1C

	db $06,$F4,$00,$13
	db $DA,$1C,$DB,$1C,$DC,$1C,$DD,$1C,$DE,$1C,$DF,$1C,$F0,$1C,$F1,$1C
	db $F2,$1C,$F3,$1C

	db $07,$14,$00,$13
	db $ED,$1C,$E4,$1C,$E5,$1C,$E6,$1C,$E7,$1C,$E8,$1C,$E9,$1C,$EA,$1C
	db $F7,$1D,$F8,$1D

	db $07,$35,$00,$0F
	db $F4,$1C,$F5,$1C,$F6,$1C,$F7,$1C,$F8,$1C,$F9,$1C,$FA,$1C,$EE,$1C

	db $07,$55,$00,$0F
	db $FB,$1C,$FC,$1C,$EF,$1C,$F2,$1D,$F3,$1D,$F4,$1D,$F5,$1D,$F6,$1D
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	;             Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 1, 21,22, 0, !FALSE, 6*2)
	db $CA,$1C,$CB,$1C,$CC,$1C,$CD,$1C,$CE,$1C,$CF,$1C

	%SMAS_DrawStripeHeader(0, 1, 15,23, 0, !FALSE, 14*2)
	db $E0,$1C,$E1,$1C,$ED,$1C,$EE,$1C,$EF,$1C,$EF,$1C,$DA,$1C,$DB,$1C
	db $DC,$1C,$DD,$1C,$DE,$1C,$DF,$1C,$E9,$1C,$EA,$1C

	%SMAS_DrawStripeHeader(0, 1, 15,24, 0, !FALSE, 14*2)
	db $F0,$1C,$F1,$1C,$E4,$1C,$E5,$1C,$E4,$1C,$E2,$1C,$E3,$1C,$E4,$1C
	db $E5,$1C,$E6,$1C,$E7,$1C,$E8,$1C,$F9,$1C,$FA,$1C

	%SMAS_DrawStripeHeader(0, 1, 15,25, 0, !FALSE, 14*2)
	db $F6,$1C,$F6,$1C,$F6,$1C,$F5,$1C,$F2,$1C,$F2,$1C,$F4,$1C,$F6,$1C
	db $F5,$1C,$F6,$1C,$F7,$1C,$F8,$1C,$FB,$1C,$FC,$1C

	;Quick shadow fix
	%SMAS_DrawStripeHeader(0, 1, 26,06, 0, !FALSE, 2)
	db $F3,$1C
	%SMAS_DrawStripeHeader(0, 1, 07,21, 0, !FALSE, 2)
	db $F3,$DC
else
	db $06,$D2,$00,$09
	db $CA,$1C,$CB,$1C,$CC,$1C,$CD,$1C,$CE,$1C

	db $06,$F2,$00,$15
	db $DA,$1C,$DB,$1C,$DC,$1C,$DD,$1C,$DE,$1C,$CF,$1C,$CF,$1C,$DF,$1C
	db $DF,$1C,$E9,$1C,$EA,$1C

	db $07,$12,$00,$15
	db $E0,$1C,$E1,$1C,$E2,$1C,$E3,$1C,$E4,$1C,$E5,$1C,$E6,$1C,$E7,$1C
	db $E8,$1C,$F9,$1C,$FA,$1C

	db $07,$32,$00,$15
	db $F0,$1C,$F1,$1C,$F2,$1C,$F3,$1C,$F4,$1C,$F5,$1C,$F6,$1C,$F7,$1C
	db $F8,$1C,$FB,$1C,$FC,$1C
endif
; Enemies icons
	db $04,$3C,$00,$03
	db $C4,$1C,$C5,$1C

	db $04,$5C,$00,$03
	db $D4,$1C,$D5,$1C

	db $04,$47,$00,$03
	db $C0,$1C,$C1,$1C

	db $04,$67,$00,$03
	db $D0,$1C,$D1,$1C

	db $04,$54,$00,$03
	db $C6,$1C,$C7,$1C

	db $04,$74,$00,$03
	db $D6,$1C,$D7,$1C

	db $04,$6C,$00,$03
	db $C4,$1C,$C5,$1C

	db $04,$8C,$00,$03
	db $D4,$1C,$D5,$1C

	db $04,$82,$00,$03
	db $C2,$1C,$C3,$1C

	db $04,$A2,$00,$03
	db $D2,$1C,$D3,$1C

	db $04,$9B,$00,$03
	db $C0,$1C,$C1,$1C

	db $04,$BB,$00,$03
	db $D0,$1C,$D1,$1C

	db $05,$1E,$00,$01
	db $C6,$1C

	db $05,$3E,$00,$01
	db $D6,$1C

	db $05,$81,$80,$03
	db $C7,$1C,$D7,$1C

	db $05,$DC,$00,$03
	db $C2,$1C,$C3,$1C

	db $05,$FC,$00,$03
	db $D2,$1C,$D3,$1C

	db $06,$22,$00,$03
	db $C4,$1C,$C5,$1C

	db $06,$42,$00,$03
	db $D4,$1C,$D5,$1C

	db $06,$9D,$00,$03
	db $C0,$1C,$C1,$1C

	db $06,$BD,$00,$03
	db $D0,$1C,$D1,$1C

	db $06,$E1,$80,$03
	db $C5,$1C,$D5,$1C

	db $07,$05,$00,$03
	db $C0,$1C,$C1,$1C

	db $07,$25,$00,$03
	db $D0,$1C,$D1,$1C

	db $07,$2C,$00,$03
	db $C4,$1C,$C5,$1C

	db $07,$4C,$00,$03
	db $D4,$1C,$D5,$1C

	db $07,$90,$00,$03
	db $C6,$1C,$C7,$1C

	db $07,$B0,$00,$03
	db $D6,$1C,$D7,$1C

	db $FF

DATA_11C88D:								; Glich: All this does is corrupt some sprite graphics.
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000
	db $68,$1E,$C0,$3A
	db $FF,$00

	db $68,$1F,$C0,$3A
	db $FF,$00
endif
	db $FF

DATA_11C89A:
	db $10,$00,$42,$7E
	db $BF,$00

	db $14,$00,$42,$7E
	db $BF,$00

	db $10,$06,$00,$01
	db $2C,$08

	db $10,$1D,$00,$01
	db $14,$08

	db $10,$42,$00,$01
	db $13,$08

	db $10,$55,$00,$01
	db $2C,$08

	db $10,$6D,$00,$01
	db $13,$08

	db $10,$C1,$00,$01
	db $2C,$08

	db $11,$08,$00,$01
	db $13,$08

	db $11,$13,$00,$01
	db $14,$08

	db $14,$08,$00,$01
	db $2C,$08

	db $14,$20,$00,$01
	db $13,$08

	db $14,$30,$00,$01
	db $14,$08

	db $14,$4C,$00,$01
	db $13,$08

	db $14,$55,$00,$01
	db $2C,$08

	db $14,$7A,$00,$01
	db $13,$08

	db $14,$84,$00,$01
	db $13,$08

	db $14,$9F,$00,$01
	db $8F,$09

	db $14,$BE,$00,$03
	db $9E,$09,$9F,$09

	db $14,$C9,$00,$01
	db $14,$08

	db $14,$D1,$00,$01
	db $13,$08

	db $15,$2D,$00,$01
	db $2C,$08

	db $15,$37,$00,$01
	db $14,$08

	db $FF

DATA_11C927:
	db $10,$00,$42,$7E
	db $BF,$00

	db $14,$00,$42,$7E
	db $BF,$00

	db $10,$06,$00,$01
	db $2C,$04

	db $10,$1D,$00,$01
	db $13,$04

	db $10,$42,$00,$01
	db $14,$04

	db $10,$55,$00,$01
	db $2C,$04

	db $10,$6D,$00,$01
	db $14,$04

	db $10,$C1,$00,$01
	db $2C,$04

	db $11,$08,$00,$01
	db $13,$04

	db $11,$14,$00,$01
	db $14,$04

	db $14,$08,$00,$01
	db $2C,$04

	db $14,$20,$00,$01
	db $14,$04

	db $14,$30,$00,$01
	db $13,$04

	db $14,$4C,$00,$01
	db $14,$04

	db $14,$55,$00,$01
	db $2C,$04

	db $14,$7A,$00,$01
	db $14,$04

	db $14,$84,$00,$01
	db $14,$04

	db $14,$9F,$00,$01
	db $8F,$09

	db $14,$BE,$00,$03
	db $9E,$09,$9F,$09

	db $14,$C9,$00,$01
	db $13,$04

	db $14,$D1,$00,$01
	db $14,$04

	db $15,$2D,$00,$01
	db $2C,$04

	db $15,$37,$00,$01
	db $13,$04

	db $FF

;--------------------------------------------------------------------

DATA_11C9B4:
	db !Define_SMB2U_LevelID_1_1
	db !Define_SMB2U_LevelID_2_1
	db !Define_SMB2U_LevelID_3_1
	db !Define_SMB2U_LevelID_4_1
	db !Define_SMB2U_LevelID_5_1
	db !Define_SMB2U_LevelID_6_1
	db !Define_SMB2U_LevelID_7_1
	db !Define_SMB2U_LevelID_7_3

;--------------------------------------------------------------------

UNK_11C9BC:
	db $58,$57,$82,$23,$58,$57,$80,$23,$58,$57,$84,$23,$58,$57,$86,$29
	db $00,$00,$5F,$63,$1F,$00,$00,$00,$00,$00,$5F,$63,$1F,$00,$00,$00
	db $00,$00,$5F,$63,$1F,$00,$00,$00,$00,$00,$5F,$63,$1F,$00,$00,$00

UNK_11C9EC:
	dw $0000,$7FFF,$7FFF,$0000

;--------------------------------------------------------------------

DATA_11C9F4:
	db $C9,$D5,$D1,$CD

DATA_11C9F8:
	db $E9,$F5,$F1,$ED

;--------------------------------------------------------------------

SMB2U_BirdoAndGameOverStripeImage:
;$11C9FC
	db $08,$8E,$00,$05
	db $FE,$00,$FF,$00,$EF,$00

	db $08,$AE,$00,$07
	db $EA,$00,$EB,$00,$EC,$00,$ED,$00

	db $08,$CE,$00,$07
	db $FA,$00,$FB,$00,$FC,$00,$FD,$00

	db $08,$EE,$00,$07
	db $E6,$00,$E7,$00,$E8,$00,$E9,$00

	db $09,$0D,$00,$0B
	db $F5,$00,$F6,$00,$F7,$00,$F8,$00,$F9,$00,$F0,$00

	db $09,$2D,$00,$0B
	db $E0,$00,$E1,$00,$E2,$00,$E3,$00,$E4,$00,$F4,$00

	db $09,$4E,$00,$05
	db $F1,$00,$F2,$00,$F3,$00

	; "GAME OVER"
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	;             Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 2, 13,12, 0, !FALSE, 2)
	db $CC,$08

	%SMAS_DrawStripeHeader(0, 2, 10,13, 0, !FALSE, 12*2)
	db $C0,$08,$C1,$08,$C2,$08,$C3,$08,$C4,$08,$C5,$08,$C6,$08,$C7,$08
	db $C8,$08,$C9,$08,$CA,$08,$CB,$08

	%SMAS_DrawStripeHeader(0, 2, 10,14, 0, !FALSE, 12*2)
	db $D0,$08,$D1,$08,$D2,$08,$D3,$08,$D4,$08,$D5,$08,$D6,$08,$D7,$08
	db $D8,$08,$D9,$08,$DA,$08,$DB,$08

	%SMAS_DrawStripeHeader(0, 2, 10,15, 0, !FALSE, 3*2)
	db $CD,$08,$CE,$08,$CF,$08

	%SMAS_DrawStripeHeader(0, 2, 18,15, 0, !FALSE, 4*2)
	db $DC,$08,$DD,$08,$DE,$08,$DF,$08
else
	db $09,$8B,$00,$01
	db $CB,$08

	db $09,$AA,$00,$15
	db $C0,$08,$C1,$08,$C2,$08,$C3,$08,$C4,$08,$C5,$08,$C6,$08,$C7,$08
	db $C8,$08,$C9,$08,$CA,$08

	db $09,$CA,$00,$15
	db $D0,$08,$D1,$08,$D2,$08,$D3,$08,$D4,$08,$D5,$08,$D6,$08,$D7,$08
	db $D8,$08,$D9,$08,$DA,$08

	db $09,$EA,$00,$17
	db $CC,$08,$CD,$08,$CE,$08,$CF,$08,$BD,$09,$BD,$09,$BD,$09,$DB,$08
	db $DC,$08,$DD,$08,$DE,$08,$DF,$08
endif

SMB2U_GameOverMenuStripeImage:
;$11CAAA
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	db $0A,$0D,$00,$01
	db $7C,$10

	db $0A,$11,$00,$07
	db $7C,$10,$FB,$15,$FB,$15,$7C,$10

	db $0A,$2B,$00,$17
	db $70,$10,$71,$10,$72,$10,$73,$10,$7A,$10,$7B,$10,$74,$10,$FB,$15
	db $75,$10,$75,$10,$76,$10,$77,$10

	db $0A,$4D,$00,$01
	db $7C,$10

	db $0A,$52,$00,$01
	db $7C,$10

	db $0A,$6B,$00,$13
	db $70,$10,$71,$10,$72,$10,$73,$10,$74,$10,$FB,$15,$75,$10,$75,$10
	db $76,$10,$77,$10

	db $0A,$8D,$00,$01
	db $7C,$10

	db $0A,$AB,$00,$11
	db $70,$10,$71,$10,$72,$10,$73,$10,$74,$10,$FB,$15,$78,$10,$79,$10
	db $77,$10
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	table "Tables/Fonts/Standard_Page1_br.txt"

	%SMAS_DrawStripeHeader(0, 2, 10,17, 0, !FALSE, 9*2)
	dw "CONTINUAR"
	%SMAS_DrawStripeHeader(0, 2, 10,19, 0, !FALSE, 16*2)
	dw "SALVAR&CONTINUAR"
	%SMAS_DrawStripeHeader(0, 2, 10,21, 0, !FALSE, 11*2)
	dw "SALVAR&SAIR"

	cleartable
else
	db $0A,$2C,$00,$0F
	db $CC,$15,$D8,$15,$D7,$15,$DD,$15,$D2,$15,$D7,$15,$DE,$15,$CE,$15

	db $0A,$6C,$00,$19
	db $DC,$15,$CA,$15,$DF,$15,$CE,$15,$EB,$15,$CC,$15,$D8,$15,$D7,$15
	db $DD,$15,$D2,$15,$D7,$15,$DE,$15,$CE,$15

	db $0A,$AC,$00,$11
	db $DC,$15,$CA,$15,$DF,$15,$CE,$15,$EB,$15,$EA,$15,$DE,$15,$D2,$15
	db $DD,$15
endif
	db $FF

;--------------------------------------------------------------------

UNK_11CAF3:
	db $09,$0F

;--------------------------------------------------------------------

DATA_11CAF5:
	db $0B,$10

DATA_11CAF7:
	db $0A,$0F

DATA_11CAF9:
	db $0C,$0F

;--------------------------------------------------------------------

DATA_11CAFB:
	db $0F

DATA_11CAFC:			; Note: Index for the "3 COINS SERVICE" stripe image.
	db $1A

;--------------------------------------------------------------------

; Note: Something tile collision related for sprites.

DATA_11CAFD:
	db $00,$08,$10,$18,$20,$24

DATA_11CB03:
	db $28,$2C,$2A,$2E

DATA_11CB07:
	db $30

DATA_11CB08:
	db $32,$34,$38,$3C,$40,$44

;--------------------------------------------------------------------

DATA_11CB0E:
	db $06,$09,$06,$09,$01,$01,$0E,$0E
	db $06,$09,$06,$09,$01,$01,$0E,$0E
	db $06,$09,$06,$09,$01,$01,$0E,$0E
	db $06,$09,$06,$09,$01,$01,$0E,$0E
	db $08,$08,$00,$0F,$08,$08,$03,$0C
	db $F8,$05,$18,$0B,$F8,$05,$18,$0B
	db $08,$08,$08,$08,$08,$08,$03,$0C
	db $03,$03,$02,$05,$08,$08,$03,$0C
	db $08,$08,$FF,$10,$10,$10,$02,$1E

DATA_11CB56:
	db $07,$07,$20,$20,$0D,$1C,$0D,$1C
	db $FF,$FF,$20,$20,$04,$1C,$04,$1C
	db $0F,$0F,$20,$20,$1C,$1C,$1C,$1C
	db $07,$07,$20,$20,$0D,$1C,$0D,$1C
	db $00,$10,$09,$09,$03,$10,$09,$09
	db $FF,$00,$FF,$00,$0F,$10,$0F,$10
	db $0C,$14,$07,$20,$FE,$20,$10,$10
	db $09,$0A,$08,$08,$03,$30,$18,$18
	db $FF,$10,$08,$08,$09,$0A,$08,$08

;--------------------------------------------------------------------

DATA_11CB9E:
	db $02,$02,$03,$00,$03,$03,$F8,$00,$03,$01,$F3,$04,$03,$03,$03,$F2
	db $03,$03,$05,$03,$0B,$10,$03,$00,$04,$03,$F8,$00,$09,$04,$03,$03
	db $0E,$03,$03,$03,$F6,$0C,$02,$03,$0B,$0B,$09,$10,$09,$19,$20,$20
	db $03,$1E,$19,$08,$09,$09,$09,$18,$09,$1A,$06,$15,$16,$11,$0D,$10
	db $19,$19,$24,$10,$03,$04,$2D,$30,$0F,$2E,$3E,$1E,$28,$13,$48,$26

;--------------------------------------------------------------------

DATA_11CBEE:
	db $1F,$2F,$3F

;--------------------------------------------------------------------

; Note: Player climbing Y speeds

DATA_11CBF1:
	db $00

DATA_11CBF2:
	db $20

DATA_11CBF3:
	db $F0

;--------------------------------------------------------------------

UNK_11CBF4:
	db $00,$00,$00,$00,$FB,$FB,$00,$FB,$FB,$00,$FB,$D5,$D9,$FB,$D7

;--------------------------------------------------------------------

DATA_11CC03:
	db $00,$02
	db $06,$08
	db $00,$04
	db $06,$0A
	db $26,$26
	db $26,$28
	db $06,$08
	db $2A,$2C
	db $20,$22
	db $00,$24
	db $0C,$0E
	db $00,$2E

;--------------------------------------------------------------------

DATA_11CC1B:
	db $01,$01,$01,$02,$02,$04,$04,$04

;--------------------------------------------------------------------

DATA_11CC23:
	db $E8,$00,$C8,$00,$D0,$00,$A8,$00,$F0,$00,$98,$00,$00,$01,$B8,$00
	db $E0,$00,$10,$01,$C0,$00,$D8,$00,$A0,$00,$F8,$00,$90,$00,$08,$01
	db $B0,$00

;--------------------------------------------------------------------

DATA_11CC45:
	db $01,$01,$01,$03,$02,$01,$02,$03,$41,$01,$45,$45,$45,$01,$01,$01
	db $02,$11,$0D,$09,$11,$00,$00,$09,$E1,$61,$0A,$0A,$42,$43,$09,$0A
	db $11,$41,$02,$01,$03,$02,$01,$01,$09,$01,$41,$01,$4F,$41,$11,$11
	db $11,$11,$91,$91,$92,$91,$91,$81,$81,$09,$89,$4D,$09,$09,$89,$11
	db $89,$45,$41,$41,$11,$12,$92

DATA_11CC8C:										; Note: 00000x00 = Use !Define_SMAS_Sound0060_MagicShoot as kill sound
	db $04,$00,$00,$00,$03,$00,$00,$00,$50,$40,$42,$42,$42,$40,$40,$40
	db $40,$13,$D0,$80,$00,$06,$06,$07,$10,$50,$90,$07,$0A,$3B,$40,$18
	db $07,$1B,$10,$07,$07,$07,$50,$53,$96,$50,$9B,$53,$1B,$0B,$03,$03
	db $03,$03,$00,$00,$00,$00,$04,$04,$04,$00,$00,$06,$04,$00,$04,$04
	db $04,$16,$06,$06,$0C,$04,$04

DATA_11CCD3:
	db $00,$05,$05,$05,$05,$05,$05,$05,$0C,$05,$05,$05,$05,$05,$05,$05
	db $05,$05,$05,$05,$05,$0D,$0D,$05,$0C,$0C,$05,$0D,$0C,$0C,$05,$0E
	db $0D,$0C,$05,$05,$05,$05,$0C,$05,$05,$05,$05,$05,$05,$00,$0F,$0F
	db $0F,$0F,$05,$05,$05,$05,$05,$05,$05,$04,$04,$04,$04,$04,$04,$04
	db $04,$10,$00,$00,$05,$05,$05

DATA_11CD1A:
	db $08,$02,$02,$02,$02,$02,$02,$02,$04,$02,$09,$09,$09,$02,$02,$02
	db $02,$02,$02,$02,$02,$08,$08,$02,$04,$04,$0E,$08,$04,$04,$02,$0F
	db $02,$13,$02,$02,$02,$02,$10,$02,$12,$02,$0F,$02,$11,$0B,$02,$02
	db $02,$02,$02,$02,$02,$02,$02,$02,$04,$03,$03,$07,$04,$03,$03,$03
	db $03,$09,$0B,$0B,$02,$02,$02

;--------------------------------------------------------------------

DATA_11CD61:
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$01,$01,$01,$01,$02,$01,$00,$02,$03,$02,$04,$02,$02,$02
	db $02,$02,$02,$02,$02,$00,$02

;--------------------------------------------------------------------

DATA_11CDA8:
	db $01,$43,$80,$C0,$22,$5C,$9B,$CA,$2C,$64,$A6,$DB

;--------------------------------------------------------------------
; Note: Warp Zone's world number stripe images.

; Index of world destinations per world (minus 1)
DATA_11CDB4:
	db $03,$01,$04,$05,$06,$05,$06

DATA_11CDBB: 														; Top row
	db $EE,$08,$EF,$08,$AC,$09,$AE,$09

DATA_11CDC3: 														; Middle row
	db $FE,$08,$FF,$08,$AD,$09,$AF,$09

DATA_11CDCB: 														; Bottom row
	db $FC,$08,$FD,$08,$FD,$08,$BC,$09

;--------------------------------------------------------------------

DATA_11CDD3:
	db $02,$D0,$00,$07
	db $AB,$08,$AB,$08,$BF,$00,$BF,$00

	db $02,$F0,$00,$07
	db $AB,$08,$AB,$08,$BF,$00,$BF,$00

	db $03,$10,$00,$0B
	db $AB,$08,$AB,$08,$BF,$00,$BF,$00,$BF,$00,$BF,$00

	db $03,$30,$00,$0B
	db $AB,$08,$AB,$08,$BF,$00,$BF,$00,$BF,$00,$BF,$00

	db $4A,$D0,$00,$05
	db $3C,$21,$3C,$21,$2C,$21

	db $4A,$F0,$00,$07
	db $3C,$21,$3C,$21,$3C,$21,$2C,$21

	db $4B,$10,$00,$09
	db $3C,$21,$3C,$21,$3C,$21,$3C,$21,$2C,$21

	db $4B,$30,$00,$0B
	db $3C,$21,$3C,$21,$3C,$21,$3C,$21,$3C,$21,$2C,$21

	db $FF

;--------------------------------------------------------------------

DATA_11CE40:
	db $00,$0C,$18,$28,$38,$42,$4E,$5C

;--------------------------------------------------------------------

DATA_11CE48:
	db !Define_SMB2U_LevelID_1_1
	db !Define_SMB2U_LevelID_1_1
	db !Define_SMB2U_LevelID_3_1
	db !Define_SMB2U_LevelID_3_1
	db !Define_SMB2U_LevelID_4_2
	db !Define_SMB2U_LevelID_4_2
	db !Define_SMB2U_LevelID_4_3
	db !Define_SMB2U_LevelID_5_2
	db !Define_SMB2U_LevelID_5_3
	db !Define_SMB2U_LevelID_6_3
	db !Define_SMB2U_LevelID_6_3
	db !Define_SMB2U_LevelID_7_1
	db !Define_SMB2U_LevelID_7_1
	db !Define_SMB2U_LevelID_7_1
	db !Define_SMB2U_LevelID_7_1
	db !Define_SMB2U_LevelID_7_2

DATA_11CE58:
	db !Define_SMB2U_SublevelID_1_1_AscentToBirdo
	db !Define_SMB2U_SublevelID_1_1_BirdosRoom
	db !Define_SMB2U_SublevelID_3_1_WaterfallCliff
	db !Define_SMB2U_SublevelID_3_1_SkyCliff
	db !Define_SMB2U_SublevelID_4_2_BeezoRoom
	db !Define_SMB2U_SublevelID_4_2_WhaleRoom
	db !Define_SMB2U_SublevelID_4_3_TowerRoof
	db !Define_SMB2U_SublevelID_5_2_Cliff
	db !Define_SMB2U_SublevelID_5_3_Treetops
	db !Define_SMB2U_SublevelID_6_3_Cliff
	db !Define_SMB2U_SublevelID_6_3_SkyPyramid
	db !Define_SMB2U_SublevelID_7_1_LevelEntrance
	db !Define_SMB2U_SublevelID_7_1_SkyPath1
	db !Define_SMB2U_SublevelID_7_1_SkyPath2
	db !Define_SMB2U_SublevelID_7_1_CloudyClimb
	db !Define_SMB2U_SublevelID_7_2_LevelEntrance

DATA_11CE68:
	db $07,$07,$07,$07,$09,$07,$05,$0B

;--------------------------------------------------------------------

DATA_11CE70:
	dw $1B7F,$039F,$7ECF

DATA_11CE76:
	dw $12FF,$039F,$7ECF

DATA_11CE7C:
	dw $125F,$039F,$7ECF

DATA_11CE82:
	dw $15BF,$039F,$7ECF

DATA_11CE88:
	dw $039F,$76DF,$001B

;--------------------------------------------------------------------

DATA_11CE8E:
	db $B9,$30,$B0,$31,$B1,$32,$B2,$33,$B3,$34

DATA_11CE98:
	db $D9,$50,$D0,$51,$D1,$52,$D2,$53,$D3,$54

DATA_11CEA2:
	db $11,$91,$12,$92,$13,$93,$14,$94,$15,$95

;--------------------------------------------------------------------

DATA_11CEAC:
	db $79,$00,$70,$01,$71,$02,$72,$03
	db $73,$04

DATA_11CEB6:
	db $31,$B1,$32,$B2,$33,$B3,$34,$B4
	db $35,$B5

;--------------------------------------------------------------------

UNK_11CEC0:
	db $E0,$20,$D0,$21,$C0,$22,$B0,$23
	db $A0,$24,$90,$25,$80,$26,$70,$27
	db $60,$28,$C0,$05,$C1,$05,$C2,$05
	db $C3,$05,$D0,$05,$D1,$05,$D2,$05
	db $D3,$05,$E0,$05,$E1,$05,$E2,$05
	db $E3,$05,$F0,$05,$F1,$05,$F2,$05
	db $F3,$05
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $9C,$CF,$A4,$CF,$AC,$CF,$B4,$CF
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	db $0C,$CF,$14,$CF,$1C,$CF,$24,$CF
else
	db $D2,$CE,$DA,$CE,$E2,$CE,$EA,$CE
endif
	db $00,$01,$01,$03,$04,$04,$08,$09
	db $0C,$0C,$0F,$10,$05,$00,$02,$02
	db $00,$01,$00,$01,$00,$01,$02,$01

;--------------------------------------------------------------------

DATA_11CF12:
	db $A7,$A7,$A7,$A7,$A7,$A7,$AE,$AE

DATA_11CF1A:
	db !Define_SMB2U_LevelID_2_2
	db !Define_SMB2U_LevelID_2_3
	db !Define_SMB2U_LevelID_3_2
	db !Define_SMB2U_LevelID_6_3
	db !Define_SMB2U_LevelID_6_3
	db !Define_SMB2U_LevelID_6_1
	db !Define_SMB2U_LevelID_6_1
	db !Define_SMB2U_LevelID_2_1

DATA_11CF22:
	db !Define_SMB2U_SublevelID_2_2_AboveGround
	db !Define_SMB2U_SublevelID_2_3_LevelEntrance
	db !Define_SMB2U_SublevelID_3_2_LevelEntrance
	db !Define_SMB2U_SublevelID_6_3_LevelEntrance
	db !Define_SMB2U_SublevelID_6_3_OutsideBobOmbCaveEntrance
	db !Define_SMB2U_SublevelID_6_1_LevelEntrance
	db !Define_SMB2U_SublevelID_6_1_BirdosRoom
	db !Define_SMB2U_SublevelID_2_1_SandyPyramidInterior

;--------------------------------------------------------------------

DATA_11CF2A:
	db $DB,$37,$38

DATA_11CF2D:
	db $EE,$ED,$EE

;--------------------------------------------------------------------

DATA_11CF30:
	db !Define_SMB2U_SublevelID_1_1_BirdosRoom,!Define_SMB2U_SublevelID_1_2_VaseWith1up,!Define_SMB2U_SublevelID_1_3_MousersRoom
	db !Define_SMB2U_SublevelID_2_1_GenericVase,!Define_SMB2U_SublevelID_2_2_BirdosRoom,!Define_SMB2U_SublevelID_2_3_PhantoRoom
	db !Define_SMB2U_SublevelID_3_1_BirdosRoom,!Define_SMB2U_SublevelID_3_2_BirdosRoom,!Define_SMB2U_SublevelID_3_3_MousersRoom
	db !Define_SMB2U_SublevelID_4_1_AutobombWarPath,!Define_SMB2U_SublevelID_4_2_BirdosRoom,!Define_SMB2U_SublevelID_4_3_FryguysRoom
	db !Define_SMB2U_SublevelID_5_1_BirdosRoom,!Define_SMB2U_SublevelID_5_2_BirdosRoom,!Define_SMB2U_SublevelID_5_3_ClawgripsRoom
	db !Define_SMB2U_SublevelID_6_1_Vase,!Define_SMB2U_SublevelID_6_2_BirdosRoom,!Define_SMB2U_SublevelID_6_3_TryclydesRoom
	db !Define_SMB2U_SublevelID_7_1_PotionBuilding,!Define_SMB2U_SublevelID_7_2_ExteriorSideOfTower

;--------------------------------------------------------------------

DATA_11CF44:
	db !Define_SMB2U_LevelID_1_3
	db !Define_SMB2U_LevelID_2_3
	db !Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_4_3
	db !Define_SMB2U_LevelID_5_3
	db !Define_SMB2U_LevelID_6_3
	db !Define_SMB2U_LevelID_7_2

DATA_11CF4B:
	db !Define_SMB2U_SublevelID_1_3_MousersRoom
	db !Define_SMB2U_SublevelID_2_3_TryclydesRoom
	db !Define_SMB2U_SublevelID_3_3_MousersRoom
	db !Define_SMB2U_SublevelID_4_3_FryguysRoom
	db !Define_SMB2U_SublevelID_5_3_ClawgripsRoom
	db !Define_SMB2U_SublevelID_6_3_TryclydesRoom
	db !Define_SMB2U_SublevelID_7_2_WartsRoom

;--------------------------------------------------------------------

; Note: Table controlling which sublevels have an HDMA gradient

SMB2U_LevelsWithHDMAGradients_Main:
;$11CF52
	db $03,$03,$00,$FF,$FF,$03,$00,$00,$00,$00
	db $00,$FF,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$FF,$FF,$FF,$FF,$00,$00,$00,$00,$00
	db $01,$FF,$FF,$FF,$01,$00,$00,$00,$00,$00
	db $FF,$00,$FF,$FF,$00,$FF,$00,$00,$00,$00
	db $FF,$01,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00
	db $00,$03,$FF,$03,$FF,$00,$00,$00,$00,$00
	db $00,$FF,$FF,$00,$00,$00,$00,$00,$00,$00
	db $FF,$00,$FF,$FF,$FF,$FF,$FF,$00,$FF,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $FF,$00,$00,$00,$FF,$00,$00,$00,$00,$00
	db $FF,$00,$FF,$FF,$03,$FF,$FF,$FF,$00,$00
	db $00,$FF,$FF,$00,$00,$00,$00,$00,$00,$00
	db $FF,$01,$01,$01,$01,$01,$00,$00,$00,$00
	db $FF,$00,$FF,$FF,$03,$FF,$00,$00,$00,$00
	db $00,$FF,$FF,$00,$FF,$FF,$00,$00,$00,$00
	db $FF,$01,$FF,$00,$00,$00,$00,$00,$00,$00
	db $FF,$01,$FF,$01,$01,$FF,$FF,$00,$00,$00
	db $FF,$03,$03,$03,$FF,$FF,$00,$00,$00,$00
	db $03,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$03

;--------------------------------------------------------------------

DATA_11D01A:
	db $B9,$00,$30,$70,$B0,$01,$31,$71,$B1,$02

DATA_11D024:
	db $D9,$10,$50,$90,$D0,$11,$51,$91,$D1,$12

DATA_11D02E:
	db $11,$51,$91,$D1,$12,$52,$92,$D2,$13,$53

;--------------------------------------------------------------------

DATA_11D038:
	db $79,$00,$70,$01,$71,$02,$72,$03
	db $73,$04

DATA_11D042:
	db $31,$B1,$32,$B2,$33,$B3,$34,$B4
	db $35,$B5

;--------------------------------------------------------------------

DATA_11D04C:
	db $40,$40,$94,$95,$40,$40,$94,$95
	db $96,$97,$94,$95,$98,$99,$A2,$A3
	db $98,$99,$D5,$D6,$D7,$D8,$D9,$DA

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E) != $00
	%FREE_BYTES(NULLROM, 2, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	%FREE_BYTES(NULLROM, 52-21, $FF)
else
	%FREE_BYTES(NULLROM, 52, $FF)
endif

;--------------------------------------------------------------------

; Note: Level data and pointers

DATA_11D098:
	db !Define_SMB2U_LevelID_1_1*$0A,!Define_SMB2U_LevelID_1_2*$0A,!Define_SMB2U_LevelID_1_3*$0A
	db !Define_SMB2U_LevelID_2_1*$0A,!Define_SMB2U_LevelID_2_2*$0A,!Define_SMB2U_LevelID_2_3*$0A
	db !Define_SMB2U_LevelID_3_1*$0A,!Define_SMB2U_LevelID_3_2*$0A,!Define_SMB2U_LevelID_3_3*$0A
	db !Define_SMB2U_LevelID_4_1*$0A,!Define_SMB2U_LevelID_4_2*$0A,!Define_SMB2U_LevelID_4_3*$0A
	db !Define_SMB2U_LevelID_5_1*$0A,!Define_SMB2U_LevelID_5_2*$0A,!Define_SMB2U_LevelID_5_3*$0A
	db !Define_SMB2U_LevelID_6_1*$0A,!Define_SMB2U_LevelID_6_2*$0A,!Define_SMB2U_LevelID_6_3*$0A
	db !Define_SMB2U_LevelID_7_1*$0A,!Define_SMB2U_LevelID_7_2*$0A,!Define_SMB2U_LevelID_7_3*$0A

DATA_11D0AD:																; Info: Level data...
	db DATA_11D251,DATA_11D272,DATA_11D2C2,DATA_11D36B,DATA_11D39D,DATA_11D3BD,DATA_11D3BD,DATA_11D3BD,DATA_11D3BD,DATA_11D3BD	; 1-1
	db DATA_11D3FA,DATA_11D479,DATA_11D4CC,DATA_11D513,DATA_11D537,DATA_11D558,DATA_11D558,DATA_11D558,DATA_11D558,DATA_11D558	; 1-2
	db DATA_11D558,DATA_11D609,DATA_11D620,DATA_11D6A5,DATA_11D71A,DATA_11D71A,DATA_11D71A,DATA_11D71A,DATA_11D71A,DATA_11D71A	; 1-3
	db DATA_11D741,DATA_11D7CF,DATA_11D7F9,DATA_11D7F9,DATA_11D81D,DATA_11D7F9,DATA_11D7F9,DATA_11D7F9,DATA_11D7F9,DATA_11D7F9	; 2-1
	db DATA_11D846,DATA_11D85D,DATA_11D8FD,DATA_11D945,DATA_11D990,DATA_11D9B9,DATA_11D9B9,DATA_11D9B9,DATA_11D9B9,DATA_11D9B9	; 2-2
	db DATA_11D9E4,DATA_11D9F6,DATA_11DAAD,DATA_11DAC5,DATA_11DB1A,DATA_11DB41,DATA_11DBA5,DATA_11DBCE,DATA_11DBCE,DATA_11DBCE	; 2-3
	db DATA_11DBE9,DATA_11DC0A,DATA_11DC60,DATA_11DC7B,DATA_11DCF0,DATA_11DD22,DATA_11DD22,DATA_11DD22,DATA_11DD22,DATA_11DD22	; 3-1
	db DATA_11DD22,DATA_11DDC7,DATA_11DE71,DATA_11DE97,DATA_11DE97,DATA_11DE97,DATA_11DE97,DATA_11DE97,DATA_11DE97,DATA_11DE97	; 3-2
	db DATA_11DE97,DATA_11DEAD,DATA_11DEDC,DATA_11DF22,DATA_11DFEF,DATA_11E04C,DATA_11E0AB,DATA_11E0BE,DATA_11E101,DATA_11E101	; 3-3
	db DATA_11E119,DATA_11E186,DATA_11E205,DATA_11E205,DATA_11E205,DATA_11E205,DATA_11E205,DATA_11E205,DATA_11E205,DATA_11E205	; 4-1
	db DATA_11E205,DATA_11E217,DATA_11E277,DATA_11E307,DATA_11E33A,DATA_11E33A,DATA_11E33A,DATA_11E33A,DATA_11E33A,DATA_11E33A	; 4-2
	db DATA_11E362,DATA_11E375,DATA_11E3E7,DATA_11E464,DATA_11E4B7,DATA_11E4EE,DATA_11E501,DATA_11E525,DATA_11E55C,DATA_11E55C	; 4-3
	db DATA_11E55C,DATA_11E5A4,DATA_11E640,DATA_11E656,DATA_11E656,DATA_11E656,DATA_11E656,DATA_11E656,DATA_11E656,DATA_11E656	; 5-1
	db DATA_11E656,DATA_11E667,DATA_11E70E,DATA_11E756,DATA_11E7C3,DATA_11E7F9,DATA_11E823,DATA_11E823,DATA_11E823,DATA_11E823	; 5-2
	db DATA_11E823,DATA_11E834,DATA_11E8DE,DATA_11E92B,DATA_11E9CE,DATA_11EA32,DATA_11EA32,DATA_11EA32,DATA_11EA32,DATA_11EA32	; 5-3
	db DATA_11EA56,DATA_11EAF7,DATA_11EB5E,DATA_11EB82,DATA_11EBAB,DATA_11EBCA,DATA_11EC02,DATA_11EC02,DATA_11EC02,DATA_11EC02	; 6-1
	db DATA_11EC26,DATA_11EC39,DATA_11EC7A,DATA_11EC7A,DATA_11EC7A,DATA_11EC7A,DATA_11EC7A,DATA_11EC7A,DATA_11EC7A,DATA_11EC7A	; 6-2
	db DATA_11ECA6,DATA_11ECB4,DATA_11ED2A,DATA_11EDE7,DATA_11EEC1,DATA_11EF0A,DATA_11EF27,DATA_11EF27,DATA_11EF27,DATA_11EF27	; 6-3
	db DATA_11EF53,DATA_11EF69,DATA_11EFE1,DATA_11F02A,DATA_11F092,DATA_11F0B4,DATA_11F0B4,DATA_11F0B4,DATA_11F0B4,DATA_11F0B4	; 7-1
	db DATA_11F0D6,DATA_11F10E,DATA_11F170,DATA_11F225,DATA_11F25D,DATA_11F2D4,DATA_11F307,DATA_11F390,DATA_11F3D9,DATA_11F45E	; 7-2
	db DATA_11F4AD,DATA_11F4AD,DATA_11F4AD,DATA_11F4AD,DATA_11F4AD,DATA_11F4AD,DATA_11F4AD,DATA_11F4AD,DATA_11F4AD,DATA_11F4AD	; 7-3 (unused?)

DATA_11D17F:																				; Info: Level data...
	db DATA_11D251>>8,DATA_11D272>>8,DATA_11D2C2>>8,DATA_11D36B>>8,DATA_11D39D>>8,DATA_11D3BD>>8,DATA_11D3BD>>8,DATA_11D3BD>>8,DATA_11D3BD>>8,DATA_11D3BD>>8	; 1-1
	db DATA_11D3FA>>8,DATA_11D479>>8,DATA_11D4CC>>8,DATA_11D513>>8,DATA_11D537>>8,DATA_11D558>>8,DATA_11D558>>8,DATA_11D558>>8,DATA_11D558>>8,DATA_11D558>>8	; 1-2
	db DATA_11D558>>8,DATA_11D609>>8,DATA_11D620>>8,DATA_11D6A5>>8,DATA_11D71A>>8,DATA_11D71A>>8,DATA_11D71A>>8,DATA_11D71A>>8,DATA_11D71A>>8,DATA_11D71A>>8	; 1-3
	db DATA_11D741>>8,DATA_11D7CF>>8,DATA_11D7F9>>8,DATA_11D7F9>>8,DATA_11D81D>>8,DATA_11D7F9>>8,DATA_11D7F9>>8,DATA_11D7F9>>8,DATA_11D7F9>>8,DATA_11D7F9>>8	; 2-1
	db DATA_11D846>>8,DATA_11D85D>>8,DATA_11D8FD>>8,DATA_11D945>>8,DATA_11D990>>8,DATA_11D9B9>>8,DATA_11D9B9>>8,DATA_11D9B9>>8,DATA_11D9B9>>8,DATA_11D9B9>>8	; 2-2
	db DATA_11D9E4>>8,DATA_11D9F6>>8,DATA_11DAAD>>8,DATA_11DAC5>>8,DATA_11DB1A>>8,DATA_11DB41>>8,DATA_11DBA5>>8,DATA_11DBCE>>8,DATA_11DBCE>>8,DATA_11DBCE>>8	; 2-3
	db DATA_11DBE9>>8,DATA_11DC0A>>8,DATA_11DC60>>8,DATA_11DC7B>>8,DATA_11DCF0>>8,DATA_11DD22>>8,DATA_11DD22>>8,DATA_11DD22>>8,DATA_11DD22>>8,DATA_11DD22>>8	; 3-1
	db DATA_11DD22>>8,DATA_11DDC7>>8,DATA_11DE71>>8,DATA_11DE97>>8,DATA_11DE97>>8,DATA_11DE97>>8,DATA_11DE97>>8,DATA_11DE97>>8,DATA_11DE97>>8,DATA_11DE97>>8	; 3-2
	db DATA_11DE97>>8,DATA_11DEAD>>8,DATA_11DEDC>>8,DATA_11DF22>>8,DATA_11DFEF>>8,DATA_11E04C>>8,DATA_11E0AB>>8,DATA_11E0BE>>8,DATA_11E101>>8,DATA_11E101>>8	; 3-3
	db DATA_11E119>>8,DATA_11E186>>8,DATA_11E205>>8,DATA_11E205>>8,DATA_11E205>>8,DATA_11E205>>8,DATA_11E205>>8,DATA_11E205>>8,DATA_11E205>>8,DATA_11E205>>8	; 4-1
	db DATA_11E205>>8,DATA_11E217>>8,DATA_11E277>>8,DATA_11E307>>8,DATA_11E33A>>8,DATA_11E33A>>8,DATA_11E33A>>8,DATA_11E33A>>8,DATA_11E33A>>8,DATA_11E33A>>8	; 4-2
	db DATA_11E362>>8,DATA_11E375>>8,DATA_11E3E7>>8,DATA_11E464>>8,DATA_11E4B7>>8,DATA_11E4EE>>8,DATA_11E501>>8,DATA_11E525>>8,DATA_11E55C>>8,DATA_11E55C>>8	; 4-3
	db DATA_11E55C>>8,DATA_11E5A4>>8,DATA_11E640>>8,DATA_11E656>>8,DATA_11E656>>8,DATA_11E656>>8,DATA_11E656>>8,DATA_11E656>>8,DATA_11E656>>8,DATA_11E656>>8	; 5-1
	db DATA_11E656>>8,DATA_11E667>>8,DATA_11E70E>>8,DATA_11E756>>8,DATA_11E7C3>>8,DATA_11E7F9>>8,DATA_11E823>>8,DATA_11E823>>8,DATA_11E823>>8,DATA_11E823>>8	; 5-2
	db DATA_11E823>>8,DATA_11E834>>8,DATA_11E8DE>>8,DATA_11E92B>>8,DATA_11E9CE>>8,DATA_11EA32>>8,DATA_11EA32>>8,DATA_11EA32>>8,DATA_11EA32>>8,DATA_11EA32>>8	; 5-3
	db DATA_11EA56>>8,DATA_11EAF7>>8,DATA_11EB5E>>8,DATA_11EB82>>8,DATA_11EBAB>>8,DATA_11EBCA>>8,DATA_11EC02>>8,DATA_11EC02>>8,DATA_11EC02>>8,DATA_11EC02>>8	; 6-1
	db DATA_11EC26>>8,DATA_11EC39>>8,DATA_11EC7A>>8,DATA_11EC7A>>8,DATA_11EC7A>>8,DATA_11EC7A>>8,DATA_11EC7A>>8,DATA_11EC7A>>8,DATA_11EC7A>>8,DATA_11EC7A>>8	; 6-2
	db DATA_11ECA6>>8,DATA_11ECB4>>8,DATA_11ED2A>>8,DATA_11EDE7>>8,DATA_11EEC1>>8,DATA_11EF0A>>8,DATA_11EF27>>8,DATA_11EF27>>8,DATA_11EF27>>8,DATA_11EF27>>8	; 6-3
	db DATA_11EF53>>8,DATA_11EF69>>8,DATA_11EFE1>>8,DATA_11F02A>>8,DATA_11F092>>8,DATA_11F0B4>>8,DATA_11F0B4>>8,DATA_11F0B4>>8,DATA_11F0B4>>8,DATA_11F0B4>>8	; 7-1
	db DATA_11F0D6>>8,DATA_11F10E>>8,DATA_11F170>>8,DATA_11F225>>8,DATA_11F25D>>8,DATA_11F2D4>>8,DATA_11F307>>8,DATA_11F390>>8,DATA_11F3D9>>8,DATA_11F45E>>8	; 7-2
	db DATA_11F4AD>>8,DATA_11F4AD>>8,DATA_11F4AD>>8,DATA_11F4AD>>8,DATA_11F4AD>>8,DATA_11F4AD>>8,DATA_11F4AD>>8,DATA_11F4AD>>8,DATA_11F4AD>>8,DATA_11F4AD>>8	; 7-3 (unused?)

DATA_11D251:
	incbin "Levels/1-1/1-1_Level_Sub00.bin"

DATA_11D272:
	incbin "Levels/1-1/1-1_Level_Sub01.bin"

DATA_11D2C2:
	incbin "Levels/1-1/1-1_Level_Sub02.bin"

DATA_11D36B:
	incbin "Levels/1-1/1-1_Level_Sub03.bin"

DATA_11D39D:
	incbin "Levels/1-1/1-1_Level_Sub04.bin"

DATA_11D3BD:
	incbin "Levels/1-1/1-1_Level_Sub05.bin"

DATA_11D3FA:
	incbin "Levels/1-2/1-2_Level_Sub00.bin"

DATA_11D479:
	incbin "Levels/1-2/1-2_Level_Sub01.bin"

DATA_11D4CC:
	incbin "Levels/1-2/1-2_Level_Sub02.bin"

DATA_11D513:
	incbin "Levels/1-2/1-2_Level_Sub03.bin"

DATA_11D537:
	incbin "Levels/1-2/1-2_Level_Sub04.bin"

DATA_11D558:
	incbin "Levels/1-3/1-3_Level_Sub00.bin"

DATA_11D609:
	incbin "Levels/1-3/1-3_Level_Sub01.bin"

DATA_11D620:
	incbin "Levels/1-3/1-3_Level_Sub02.bin"

DATA_11D6A5:
	incbin "Levels/1-3/1-3_Level_Sub03.bin"

DATA_11D71A:
	incbin "Levels/1-3/1-3_Level_Sub04.bin"

DATA_11D741:
	incbin "Levels/2-1/2-1_Level_Sub00.bin"

DATA_11D7CF:
	incbin "Levels/2-1/2-1_Level_Sub01.bin"

DATA_11D7F9:
	incbin "Levels/2-1/2-1_Level_Sub02.bin"

DATA_11D81D:
	incbin "Levels/2-1/2-1_Level_Sub04.bin"

DATA_11D846:
	incbin "Levels/2-2/2-2_Level_Sub00.bin"

DATA_11D85D:
	incbin "Levels/2-2/2-2_Level_Sub01.bin"

DATA_11D8FD:
	incbin "Levels/2-2/2-2_Level_Sub02.bin"

DATA_11D945:
	incbin "Levels/2-2/2-2_Level_Sub03.bin"

DATA_11D990:
	incbin "Levels/2-2/2-2_Level_Sub04.bin"

DATA_11D9B9:
	incbin "Levels/2-2/2-2_Level_Sub05.bin"

DATA_11D9E4:
	incbin "Levels/2-3/2-3_Level_Sub00.bin"

DATA_11D9F6:
	incbin "Levels/2-3/2-3_Level_Sub01.bin"

DATA_11DAAD:
	incbin "Levels/2-3/2-3_Level_Sub02.bin"

DATA_11DAC5:
	incbin "Levels/2-3/2-3_Level_Sub03.bin"

DATA_11DB1A:
	incbin "Levels/2-3/2-3_Level_Sub04.bin"

DATA_11DB41:
	incbin "Levels/2-3/2-3_Level_Sub05.bin"

DATA_11DBA5:
	incbin "Levels/2-3/2-3_Level_Sub06.bin"

DATA_11DBCE:
	incbin "Levels/2-3/2-3_Level_Sub07.bin"

DATA_11DBE9:
	incbin "Levels/3-1/3-1_Level_Sub00.bin"

DATA_11DC0A:
	incbin "Levels/3-1/3-1_Level_Sub01.bin"

DATA_11DC60:
	incbin "Levels/3-1/3-1_Level_Sub02.bin"

DATA_11DC7B:
	incbin "Levels/3-1/3-1_Level_Sub03.bin"

DATA_11DCF0:
	incbin "Levels/3-1/3-1_Level_Sub04.bin"

DATA_11DD22:
	incbin "Levels/3-2/3-2_Level_Sub00.bin"

DATA_11DDC7:
	incbin "Levels/3-2/3-2_Level_Sub01.bin"

DATA_11DE71:
	incbin "Levels/3-2/3-2_Level_Sub02.bin"

DATA_11DE97:
	incbin "Levels/3-3/3-3_Level_Sub00.bin"

DATA_11DEAD:
	incbin "Levels/3-3/3-3_Level_Sub01.bin"

DATA_11DEDC:
	incbin "Levels/3-3/3-3_Level_Sub02.bin"

DATA_11DF22:
	incbin "Levels/3-3/3-3_Level_Sub03.bin"

DATA_11DFEF:
	incbin "Levels/3-3/3-3_Level_Sub04.bin"

DATA_11E04C:
	incbin "Levels/3-3/3-3_Level_Sub05.bin"

DATA_11E0AB:
	incbin "Levels/3-3/3-3_Level_Sub06.bin"

DATA_11E0BE:
	incbin "Levels/3-3/3-3_Level_Sub07.bin"

DATA_11E101:
	incbin "Levels/3-3/3-3_Level_Sub08.bin"

DATA_11E119:
	incbin "Levels/4-1/4-1_Level_Sub00.bin"

DATA_11E186:
	incbin "Levels/4-1/4-1_Level_Sub01.bin"

DATA_11E205:
	incbin "Levels/4-2/4-2_Level_Sub00.bin"

DATA_11E217:
	incbin "Levels/4-2/4-2_Level_Sub01.bin"

DATA_11E277:
	incbin "Levels/4-2/4-2_Level_Sub02.bin"

DATA_11E307:
	incbin "Levels/4-2/4-2_Level_Sub03.bin"

DATA_11E33A:
	incbin "Levels/4-2/4-2_Level_Sub04.bin"

DATA_11E362:
	incbin "Levels/4-3/4-3_Level_Sub00.bin"

DATA_11E375:
	incbin "Levels/4-3/4-3_Level_Sub01.bin"

DATA_11E3E7:
	incbin "Levels/4-3/4-3_Level_Sub02.bin"

DATA_11E464:
	incbin "Levels/4-3/4-3_Level_Sub03.bin"

DATA_11E4B7:
	incbin "Levels/4-3/4-3_Level_Sub04.bin"

DATA_11E4EE:
	incbin "Levels/4-3/4-3_Level_Sub05.bin"

DATA_11E501:
	incbin "Levels/4-3/4-3_Level_Sub06.bin"

DATA_11E525:
	incbin "Levels/4-3/4-3_Level_Sub07.bin"

DATA_11E55C:
	incbin "Levels/5-1/5-1_Level_Sub00.bin"

DATA_11E5A4:
	incbin "Levels/5-1/5-1_Level_Sub01.bin"

DATA_11E640:
	incbin "Levels/5-1/5-1_Level_Sub02.bin"

DATA_11E656:
	incbin "Levels/5-2/5-2_Level_Sub00.bin"

DATA_11E667:
	incbin "Levels/5-2/5-2_Level_Sub01.bin"

DATA_11E70E:
	incbin "Levels/5-2/5-2_Level_Sub02.bin"

DATA_11E756:
	incbin "Levels/5-2/5-2_Level_Sub03.bin"

DATA_11E7C3:
	incbin "Levels/5-2/5-2_Level_Sub04.bin"

DATA_11E7F9:
	incbin "Levels/5-2/5-2_Level_Sub05.bin"

DATA_11E823:
	incbin "Levels/5-3/5-3_Level_Sub00.bin"

DATA_11E834:
	incbin "Levels/5-3/5-3_Level_Sub01.bin"

DATA_11E8DE:
	incbin "Levels/5-3/5-3_Level_Sub02.bin"

DATA_11E92B:
	incbin "Levels/5-3/5-3_Level_Sub03.bin"

DATA_11E9CE:
	incbin "Levels/5-3/5-3_Level_Sub04.bin"

DATA_11EA32:
	incbin "Levels/5-3/5-3_Level_Sub05.bin"

DATA_11EA56:
	incbin "Levels/6-1/6-1_Level_Sub00.bin"

DATA_11EAF7:
	incbin "Levels/6-1/6-1_Level_Sub01.bin"

DATA_11EB5E:
	incbin "Levels/6-1/6-1_Level_Sub02.bin"

DATA_11EB82:
	incbin "Levels/6-1/6-1_Level_Sub03.bin"

DATA_11EBAB:
	incbin "Levels/6-1/6-1_Level_Sub04.bin"

DATA_11EBCA:
	incbin "Levels/6-1/6-1_Level_Sub05.bin"

DATA_11EC02:
	incbin "Levels/6-1/6-1_Level_Sub06.bin"

DATA_11EC26:
	incbin "Levels/6-2/6-2_Level_Sub00.bin"

DATA_11EC39:
	incbin "Levels/6-2/6-2_Level_Sub01.bin"

DATA_11EC7A:
	incbin "Levels/6-2/6-2_Level_Sub02.bin"

DATA_11ECA6:
	incbin "Levels/6-3/6-3_Level_Sub00.bin"

DATA_11ECB4:
	incbin "Levels/6-3/6-3_Level_Sub01.bin"

DATA_11ED2A:
	incbin "Levels/6-3/6-3_Level_Sub02.bin"

DATA_11EDE7:
	incbin "Levels/6-3/6-3_Level_Sub03.bin"

DATA_11EEC1:
	incbin "Levels/6-3/6-3_Level_Sub04.bin"

DATA_11EF0A:
	incbin "Levels/6-3/6-3_Level_Sub05.bin"

DATA_11EF27:
	incbin "Levels/6-3/6-3_Level_Sub06.bin"

DATA_11EF53:
	incbin "Levels/7-1/7-1_Level_Sub00.bin"

DATA_11EF69:
	incbin "Levels/7-1/7-1_Level_Sub01.bin"

DATA_11EFE1:
	incbin "Levels/7-1/7-1_Level_Sub02.bin"

DATA_11F02A:
	incbin "Levels/7-1/7-1_Level_Sub03.bin"

DATA_11F092:
	incbin "Levels/7-1/7-1_Level_Sub04.bin"

DATA_11F0B4:
	incbin "Levels/7-1/7-1_Level_Sub05.bin"

DATA_11F0D6:
	incbin "Levels/7-2/7-2_Level_Sub00.bin"

DATA_11F10E:
	incbin "Levels/7-2/7-2_Level_Sub01.bin"

DATA_11F170:
	incbin "Levels/7-2/7-2_Level_Sub02.bin"

DATA_11F225:
	incbin "Levels/7-2/7-2_Level_Sub03.bin"

DATA_11F25D:
	incbin "Levels/7-2/7-2_Level_Sub04.bin"

DATA_11F2D4:
	incbin "Levels/7-2/7-2_Level_Sub05.bin"

DATA_11F307:
	incbin "Levels/7-2/7-2_Level_Sub06.bin"

DATA_11F390:
	incbin "Levels/7-2/7-2_Level_Sub07.bin"

DATA_11F3D9:
	incbin "Levels/7-2/7-2_Level_Sub08.bin"

DATA_11F45E:
	incbin "Levels/7-2/7-2_Level_Sub09.bin"

DATA_11F4AD:
	incbin "Levels/7-3/7-3_Level_Sub00.bin"

;--------------------------------------------------------------------

if !Define_Global_ROMToAssemble&(!ROM_SMB2U_E) != $00
	%FREE_BYTES(NULLROM, 2663, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E) != $00
	%FREE_BYTES(NULLROM, 2742, $FF)
else
	if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
		%FREE_BYTES(NULLROM, 3, $FF)
	else
		%FREE_BYTES(NULLROM, 9, $FF)
	endif
	%DATATABLE_SMB2U_LevelSpriteData(NULLROM)				; $11F4BB
	if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_J) != $00
		%FREE_BYTES(NULLROM, 16, $FF)
	else
		%FREE_BYTES(NULLROM, 32, $FF)
	endif
endif
%BANK_END(<EndBank>)
endmacro

;#############################################################################################################
;#############################################################################################################

macro SMB2UBank12Macros(StartBank, EndBank)
%BANK_START(<StartBank>)
CODE_128000:
	STZ.b !RAM_SMB2U_Global_ControllerHold1
	STZ.b !RAM_SMB2U_Global_ControllerPress1
	STZ.b !RAM_SMB2U_Global_ControllerHold2
	STZ.b !RAM_SMB2U_Global_ControllerPress2
CODE_128008:
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState02_PickupSomething
	BCS.b CODE_128033
	LDA.b #$00
	LDY.b #$10
	CPY.w !RAM_SMB2U_Player_CurrentHP
	ROL
	EOR.w $06C2
	BEQ.b CODE_128033
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag			;\ Glitch: If you get hurt in subspace, this causes the hurt/grow sound to be wrong
	CMP.b #$02								;|
	BEQ.b CODE_12802B							;/
	LDY.w $06C2
	LDA.w DATA_119B3F,y
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_12802B:
	LDA.b #$1E
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	LDA.b #!Define_SMB2U_PlayerState08_HasBeenHurt
	STA.b !RAM_SMB2U_Player_CurrentState
CODE_128033:
	JSR.w CODE_128037
	RTL

CODE_128037:
	STZ.b $64
	LDA.b !RAM_SMB2U_Player_CurrentState
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_12803F:
	dw SMB2U_PlayerState00_Normal_Main
	dw SMB2U_PlayerState01_Climbing_Main
	dw SMB2U_PlayerState02_PickupSomething_Main
	dw SMB2U_PlayerState03_ClimbingScreenExit_Main
	dw SMB2U_PlayerState04_EnterVase_Main
	dw SMB2U_PlayerState05_ExitVase_Main
	dw SMB2U_PlayerState06_InHawkmouth_Main
	dw SMB2U_PlayerState07_Dead_Main
	dw SMB2U_PlayerState08_HasBeenHurt_Main

;--------------------------------------------------------------------

DATA_128051:
	db $00,$00,$00,$00,$40,$40,$40,$00
	db $C0,$C0,$C0,$00,$00,$00,$00,$00

DATA_128061:
	db $00,$40,$C0,$00,$00,$40,$C0,$00
	db $00,$40,$C0,$00,$00,$00,$00,$00

SMB2U_PlayerState00_Normal:
.Main:
;$128071
	JSL.l SMB2U_CombineButtonInputs_Main
	LDA.l !SRAM_SMAS_Global_EnableSMASDebugModeFlag
	BEQ.b CODE_1280C3
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_A
	BEQ.b CODE_12808B
	LDA.w !RAM_SMB2U_Level_FreeMovementDebugFlag
	AND.b #$01
	EOR.b #$01
	STA.w !RAM_SMB2U_Level_FreeMovementDebugFlag
CODE_12808B:
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_X
	BEQ.b CODE_1280A5
	LDA.b #$30
	STA.w !RAM_SMB2U_Player_StarPowerTimer
	LDA.b #$02
	STA.w !RAM_SMB2U_Player_NumberOfHealthUpgrades
	LDA.b #$3F
	STA.w !RAM_SMB2U_Player_CurrentHP
	LDA.b #!Define_SMB2U_LevelMusic_HaveStar
	STA.w !RAM_SMB2U_Global_MusicCh1
CODE_1280A5:
	LDA.w !RAM_SMB2U_Level_FreeMovementDebugFlag
	BEQ.b CODE_1280C3
	LDA.b !RAM_SMB2U_Global_ControllerHold1
	AND.b #(!Joypad_DPadU>>8)|(!Joypad_DPadD>>8)|(!Joypad_DPadL>>8)|(!Joypad_DPadR>>8)
	TAX
	PHX
	LDA.l DATA_128051,x
	STA.b !RAM_SMB2U_Player_YSpeed
	JSR.w SMB2U_UpdatePlayerSpritePosition_Y
	PLX
	LDA.l DATA_128061,x
	STA.b !RAM_SMB2U_Player_XSpeed
	BRL.w CODE_1280D2

CODE_1280C3:
	JSR.w CODE_12834B
	JSR.w CODE_128272
	JSR.w CODE_128565
	JSR.w SMB2U_CheckIfPlayerIsTouchingTheScreenEdge_Main
	JSR.w SMB2U_UpdatePlayerSpritePosition_Y
CODE_1280D2:
	LDX.b #$00
	JSR.w SMB2U_UpdatePlayerSpritePosition_X
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_1280DD
	STA.b !RAM_SMB2U_Player_XPosHi
CODE_1280DD:
	RTS

;--------------------------------------------------------------------

SMB2U_PlayerState07_Dead:
.Main:
;$1280DE
	LDA.b !RAM_SMB2U_Player_PickupAnimationTimer
	BNE.b CODE_128108
	LDA.w !RAM_SMB2U_Player_OnScreenPosYHi
	CMP.b #$02
	BEQ.b CODE_1280F9
	JSR.w SMB2U_UpdatePlayerSpritePosition_Y
	LDA.b !RAM_SMB2U_Player_YSpeed
	BMI.b CODE_1280F4
	CMP.b #$39
	BCS.b CODE_128108
CODE_1280F4:
	INC.b !RAM_SMB2U_Player_YSpeed
	INC.b !RAM_SMB2U_Player_YSpeed
	RTS

CODE_1280F9:
	LDA.b #$02
	STA.b !RAM_SMB2U_Player_BasePose
	LDY.b #$01
	DEC.w !RAM_SMB2U_Player_CurrentLifeCount
	BNE.b CODE_128105
	INY
CODE_128105:
	STY.w !RAM_SMB2U_Level_ExitLevelAction
CODE_128108:
	RTS

;--------------------------------------------------------------------

SMB2U_PlayerState02_PickupSomething:
.Main:
;$128109
	LDA.b !RAM_SMB2U_Player_PickupAnimationTimer
	BNE.b CODE_12813A
	LDX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDY.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	CPY.b #$02
	BCC.b CODE_128134
	DEC.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	LDA.w DATA_119B47-$02,y
	STA.b !RAM_SMB2U_Player_BasePose
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	CMP.b #!Define_SMB2U_NorSprStatus06_DrawDugUpSand
	BEQ.b CODE_128129
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BNE.b CODE_12812E
CODE_128129:
	LDA.w DATA_119B41-$02,y
	BPL.b CODE_128131
CODE_12812E:
	LDA.w !RAM_SMB2U_Player_GrabBigObjectDelayFrame6-$02,y
CODE_128131:
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	RTS

CODE_128134:
	STA.b !RAM_SMB2U_Player_CurrentState					; Note: !Define_SMB2U_PlayerState00_Normal
	INC.b !RAM_SMB2U_Player_InAirFlag
	INC.b !RAM_SMB2U_Player_DuckingFlag
CODE_12813A:
	RTS

;--------------------------------------------------------------------

SMB2U_PlayerState01_Climbing:
.Main:
;$12813B
	LDA.b !RAM_SMB2U_Global_ControllerHold1
	AND.b #(!Joypad_DPadU>>8)|(!Joypad_DPadD>>8)
	LSR
	LSR
	TAY
	CPY.b #$02
	BNE.b CODE_128149
	JSR.w SMB2U_HandleVineClimbingSoundAndAnimation_Main
CODE_128149:
	LDA.w DATA_11CBF1,y
	STA.b !RAM_SMB2U_Player_YSpeed
	LDA.b !RAM_SMB2U_Global_ControllerHold1
	AND.b #(!Joypad_DPadL>>8)|(!Joypad_DPadR>>8)
	TAY
	LDA.w DATA_119B4D,y
	STA.b !RAM_SMB2U_Player_XSpeed
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.b #$04
	AND.b #$0F
	CMP.b #$08
	BCS.b CODE_12817E
	LDY.w DATA_11CB08
	LDA.b !RAM_SMB2U_Player_YSpeed
	BMI.b CODE_12816B
	INY
CODE_12816B:
	LDX.b #$00
	JSR.w CODE_128195
	BCS.b CODE_128178
	LDA.b !RAM_SMB2U_Player_YSpeed
	BPL.b CODE_12817E
	STX.b !RAM_SMB2U_Player_YSpeed
CODE_128178:
	JSR.w CODE_1280D2
	JMP.w SMB2U_UpdatePlayerSpritePosition_Y

CODE_12817E:
	LDA.b #!Define_SMB2U_PlayerState00_Normal
	STA.b !RAM_SMB2U_Player_CurrentState
	RTS

;--------------------------------------------------------------------

SMB2U_HandleVineClimbingSoundAndAnimation:
.Main:
;$128183
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$07
	BNE.b CODE_128194
	LDA.b !RAM_SMB2U_Player_FacingDirection
	EOR.b #$01
	STA.b !RAM_SMB2U_Player_FacingDirection
	LDA.b #!Define_SMAS_Sound0060_ClimbVine
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_128194:
	RTS

;--------------------------------------------------------------------

CODE_128195:
	JSL.l CODE_13F900
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.b #$0B
CODE_12819D:
	CMP.w DATA_119B50,y
	BEQ.b CODE_1281A6
	DEY
	BPL.b CODE_12819D
	CLC
CODE_1281A6:
	RTS

;--------------------------------------------------------------------

SMB2U_PlayerState04_EnterVase:
.Main:
;$1281A7
	LDA.b #$20
	STA.b $64
	INC.b !RAM_SMB2U_Player_YPosLo
	LDA.b !RAM_SMB2U_Player_YPosLo
	AND.b #$0F
	BNE.b CODE_1281A6
	PLA
	PLA
	JSL.l SMB2U_SetReturnPointForWhenLeavingVaseOrSubspace_Main
	LDA.b #$02
	STA.w !RAM_SMB2U_Player_EntranceTypeToUse
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BNE.b CODE_1281C9
	LDA.b #$04
	STA.w !RAM_SMB2U_Level_ExitLevelAction
	RTL

CODE_1281C9:
	CMP.b #$01
	BEQ.b CODE_1281D1
	STA.w !RAM_SMB2U_Player_TeleportFlag
	RTL

CODE_1281D1:
	STA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	RTL

;--------------------------------------------------------------------

SMB2U_PlayerState05_ExitVase:
.Main:
;$1281D5
	LDA.b #$20
	STA.b $64
	DEC.b !RAM_SMB2U_Player_YPosLo
	LDA.b !RAM_SMB2U_Player_YPosLo
	AND.b #$0F
	CMP.b #$0F
	BNE.b CODE_1281E8
	LDA.b #!Define_SMAS_Sound0063_ExitVase
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_1281E8:
	LDA.b !RAM_SMB2U_Player_YPosLo
	AND.b #$0F
	BNE.b CODE_1281F0
	STA.b !RAM_SMB2U_Player_CurrentState				; Note: !Define_SMB2U_PlayerState00_Normal
CODE_1281F0:
	RTS

;--------------------------------------------------------------------

SMB2U_PlayerState03_ClimbingScreenExit:
.Main:
;$1281F1
	LDA.b !RAM_SMB2U_Player_YSpeed
	ASL
	ROL
	AND.b #$01
	TAY
	LDA.w !RAM_SMB2U_Player_OnScreenPosYHi
	CMP.w DATA_119B5C,y
	BNE.b CODE_128211
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	EOR.w DATA_119B5E,y
	BMI.b CODE_128211
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	SEC
	SBC.w DATA_119B5E,y
	BEQ.b +
	EOR.b !RAM_SMB2U_Player_YSpeed
	BMI.b CODE_128211
+:
else
	CMP.w DATA_119B5E,y
	BNE.b CODE_128211
endif
	INC.w !RAM_SMB2U_Player_TeleportFlag
	LDA.b #$03
	STA.w !RAM_SMB2U_Player_EntranceTypeToUse
	RTS

CODE_128211:
	LDA.w !RAM_SMB2U_Player_OnScreenPosYHi
	BNE.b CODE_12821E
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	EOR.w DATA_119B60,y
	BMI.b CODE_12821E
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	SEC
	SBC.w DATA_119B60,y
	BEQ.b CODE_128227
	EOR.b !RAM_SMB2U_Player_YSpeed
	BPL.b CODE_128227
else
	CMP.w DATA_119B60,y
	BEQ.b CODE_128227
endif
CODE_12821E:
	TYA
	BEQ.b CODE_128224
	JSR.w SMB2U_HandleVineClimbingSoundAndAnimation_Main
CODE_128224:
	JMP.w SMB2U_UpdatePlayerSpritePosition_Y

CODE_128227:
	LDA.b #!Define_SMB2U_PlayerState01_Climbing
	STA.b !RAM_SMB2U_Player_CurrentState
	RTS

;--------------------------------------------------------------------

SMB2U_PlayerState06_InHawkmouth:
.Main:
;$12822C
	LDA.b !RAM_SMB2U_Player_InHawkmouthTimer
	BEQ.b CODE_12824A
	JSR.w SMB2U_UpdatePlayerSpritePosition_Y
	LDA.w $005A								; Optimization: Unnecessary absolute addressing
	BEQ.b CODE_12824C
	LDA.b #$20
	STA.b $64
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$03
else
	LDA.b #$04
endif
	STA.b !RAM_SMB2U_Player_XSpeed
	LDA.b #$01
	STA.b !RAM_SMB2U_Player_FacingDirection
	JSR.w CODE_1280D2
	JMP.w CODE_1283D1

CODE_12824A:
	STA.b !RAM_SMB2U_Player_CurrentState					; Note: !Define_SMB2U_PlayerState00_Normal
CODE_12824C:
	RTS

;--------------------------------------------------------------------

SMB2U_PlayerState08_HasBeenHurt:
.Main:
;$12824D
	LDA.b !RAM_SMB2U_Player_PickupAnimationTimer
	BEQ.b CODE_128267
	INC.b !RAM_SMB2U_Player_HurtTimer
	LDY.b #$04
CODE_128255:
	CMP.w DATA_119B62,y
	BNE.b CODE_128263
	LDA.w $06C2
	EOR.b #$01
	STA.w $06C2
	RTS

CODE_128263:
	DEY
	BPL.b CODE_128255
	RTS

CODE_128267:
	LDY.b !RAM_SMB2U_Player_BasePose
	CPY.b #$0A
	BNE.b CODE_12826F
	LDA.b #!Define_SMB2U_PlayerState01_Climbing
CODE_12826F:
	STA.b !RAM_SMB2U_Player_CurrentState					; Note: Could also be !Define_SMB2U_PlayerState00_Normal
	RTS

;--------------------------------------------------------------------

CODE_128272:
	JSR.w CODE_1283D1
	LDA.b !RAM_SMB2U_Player_InAirFlag
	BNE.b CODE_1282D5
	LDA.b !RAM_SMB2U_Player_DuckingFlag
	BEQ.b CODE_128286
	LDA.b !RAM_SMB2U_Player_PickupAnimationTimer
	BEQ.b CODE_128284
	JMP.w CODE_128304

CODE_128284:
	DEC.b !RAM_SMB2U_Player_DuckingFlag
CODE_128286:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	BPL.b CODE_12829B					; Note: !Joypad_A|(!Joypad_B>>8)
	INC.b !RAM_SMB2U_Player_InAirFlag
	LDA.b #$06
	STA.b !RAM_SMB2U_Player_BasePose
	JSR.w CODE_12830B
	LDA.b #!Define_SMAS_Sound0061_Jump
	STA.w !RAM_SMB2U_Global_SoundCh2
	STZ.w $078C
CODE_12829B:
	LDA.w !RAM_SMB2U_Player_RidingMagicCarpetFlag
	BNE.b CODE_128304
	LDA.w !RAM_SMB2U_Player_InQuicksandDepth
	BNE.b CODE_1282D5
	LDA.b !RAM_SMB2U_Global_ControllerHold1
	AND.b #!Joypad_DPadD>>8
	BEQ.b CODE_1282D5
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	BNE.b CODE_1282D5
	INC.b !RAM_SMB2U_Player_DuckingFlag
	STZ.w $078C
	LDA.b #$04
	STA.b !RAM_SMB2U_Player_BasePose
	LDA.b !RAM_SMB2U_Player_InAirFlag
	BNE.b CODE_1282D5
	LDA.w !RAM_SMB2U_Player_PowerJumpCharge
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CMP.b #$30
else
	CMP.b #$3C
endif
	BCS.b CODE_128304
	INC.w !RAM_SMB2U_Player_PowerJumpCharge
	LDA.w !RAM_SMB2U_Player_PowerJumpCharge
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CMP.b #$30
else
	CMP.b #$3C
endif
	BNE.b CODE_128304
	LDA.b #!Define_SMAS_Sound0063_ChargeJump
	STA.w !RAM_SMB2U_Global_SoundCh3
	BNE.b CODE_128304								; Note: This will always branch

CODE_1282D5:
	LDA.w !RAM_SMB2U_Player_PowerJumpCharge
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CMP.b #$30
else
	CMP.b #$3C
endif
	BCS.b CODE_1282E1
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_PowerJumpCharge
CODE_1282E1:
	LDA.b !RAM_SMB2U_Global_ControllerHold1
	AND.b #(!Joypad_DPadL>>8)|(!Joypad_DPadR>>8)
	BEQ.b CODE_128304
	AND.b #!Joypad_DPadR>>8
	STA.b !RAM_SMB2U_Player_FacingDirection
	TAY
	LDA.w $0624
	LSR
	LSR
	AND.b !RAM_SMB2U_Global_FrameCounter
	BNE.b CODE_1282FD
	LDA.b !RAM_SMB2U_Player_XSpeed
	CLC
	ADC.w DATA_119B67,y
	STA.b !RAM_SMB2U_Player_XSpeed
CODE_1282FD:
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_PowerJumpCharge
	BEQ.b CODE_128307
CODE_128304:
	JSR.w CODE_128398
CODE_128307:
	JSR.w CODE_128423
	RTS

CODE_12830B:
	LDA.w !RAM_SMB2U_Player_InQuicksandDepth
	CMP.b #$02
	BCC.b CODE_128319
	LDA.w !RAM_SMB2U_Player_QuicksandJumpYSpeed
	STA.b !RAM_SMB2U_Player_YSpeed
	BNE.b CODE_128345
CODE_128319:
	LDA.b !RAM_SMB2U_Player_XSpeed
	BPL.b CODE_128322
	EOR.b #$FF
	CLC							;\ Optimization: INC
	ADC.b #$01						;/
CODE_128322:
	CMP.b #$08
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_SubYPos
	ROL
	LDY.w !RAM_SMB2U_Player_PowerJumpCharge
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CPY.b #$30
else
	CPY.b #$3C
endif
	BCC.b CODE_128335
	LDA.b #!Joypad_None
	STA.b !RAM_SMB2U_Global_ControllerHold1
CODE_128335:
	ROL
	ASL
	ORA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	TAY
	LDA.w !RAM_SMB2U_Player_StandingJumpSpeed,y
	STA.b !RAM_SMB2U_Player_YSpeed
	LDA.w !RAM_SMB2U_Player_MaxHoverTime
	STA.w !RAM_SMB2U_Player_HoverTimer
CODE_128345:
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_PowerJumpCharge
	RTS

;--------------------------------------------------------------------

; Note: Player gravity routine

CODE_12834B:
	LDA.w !RAM_SMB2U_Player_InQuicksandDepth
	CMP.b #$02
	BCC.b CODE_128357
	LDA.w !RAM_SMB2U_Player_QuicksandJumpYAcceleration
	BNE.b CODE_128385
CODE_128357:
	LDA.w !RAM_SMB2U_Player_GravityNoHoldButton
	LDY.b !RAM_SMB2U_Global_ControllerHold1
	BPL.b CODE_12837D							; Note: !Joypad_A|(!Joypad_B>>8)
	LDA.w !RAM_SMB2U_Player_GravityHoldButton
	LDY.b !RAM_SMB2U_Player_YSpeed
	CPY.b #$FC
	BMI.b CODE_12837D
	LDY.w !RAM_SMB2U_Player_HoverTimer
	BEQ.b CODE_12837D
	DEC.w !RAM_SMB2U_Player_HoverTimer
	LDA.b !RAM_SMB2U_Global_FrameCounter
	LSR
	LSR
	LSR
	AND.b #$03
	TAY
	LDA.w DATA_119B69,y
	STA.b !RAM_SMB2U_Player_YSpeed
	RTS

CODE_12837D:
	LDY.b !RAM_SMB2U_Player_YSpeed
	BMI.b CODE_128385
	CPY.b #$39
	BCS.b CODE_12838A
CODE_128385:
	CLC
	ADC.b !RAM_SMB2U_Player_YSpeed
	STA.b !RAM_SMB2U_Player_YSpeed
CODE_12838A:
	LDA.w !RAM_SMB2U_Player_HoverTimer
	CMP.w !RAM_SMB2U_Player_MaxHoverTime
	BEQ.b CODE_128397
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_HoverTimer
CODE_128397:
	RTS

;--------------------------------------------------------------------

CODE_128398:
	LDA.b !RAM_SMB2U_Player_InAirFlag
	BNE.b CODE_1283D0
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.w $0624
	BNE.b CODE_1283B9
	LDA.b !RAM_SMB2U_Player_XSpeed
	AND.b #$80
	ASL
	ROL
	TAY
	LDA.b !RAM_SMB2U_Player_XSpeed
	ADC.w DATA_119B6D,y
	TAX
	EOR.w DATA_119B67,y
	BMI.b CODE_1283B7
	LDX.b #$00
CODE_1283B7:
	STX.b !RAM_SMB2U_Player_XSpeed
CODE_1283B9:
	LDA.b !RAM_SMB2U_Player_DuckingFlag
	BNE.b CODE_1283D0
	LDA.b !RAM_SMB2U_Player_BasePose
	CMP.b #$09
	BEQ.b CODE_1283D0
	LDA.b #$02
	STA.b !RAM_SMB2U_Player_BasePose
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_WalkingFrameTimer
	STA.b !RAM_SMB2U_Player_WalkBobbingIndex
	STA.w $078B
CODE_1283D0:
	RTS

;--------------------------------------------------------------------

CODE_1283D1:
	LDA.b !RAM_SMB2U_Player_DuckingFlag
	BNE.b CODE_128422
	LDA.b !RAM_SMB2U_Player_InAirFlag
	BEQ.b CODE_1283E7
	LDA.b !RAM_SMB2U_Player_CharacterGFXSet
	CMP.b #$03
	BNE.b CODE_128422
	LDA.b !RAM_SMB2U_Player_WalkingFrameTimer
	BNE.b CODE_12841B
	LDA.b #$02
	BNE.b CODE_128402								; Note: This will always branch.

CODE_1283E7:
	LDA.b !RAM_SMB2U_Player_WalkingFrameTimer
	BNE.b CODE_12841B
	LDA.b #$05
	LDY.w $0624
	BNE.b CODE_128402
	LDA.b !RAM_SMB2U_Player_XSpeed
	BPL.b CODE_1283FB
	EOR.b #$FF
	CLC
	ADC.b #$01
CODE_1283FB:
	LSR
	LSR
	LSR
	TAY
	LDA.w DATA_119B6F,y
CODE_128402:
	STA.b !RAM_SMB2U_Player_WalkingFrameTimer
	LDA.b #$02
	STA.w $078C
	DEC.w $078B
	BPL.b CODE_128413
	LDA.b #$02
	STA.w $078B
CODE_128413:
	DEC.b !RAM_SMB2U_Player_WalkBobbingIndex
	BPL.b CODE_12841B
	LDA.b #$01
	STA.b !RAM_SMB2U_Player_WalkBobbingIndex
CODE_12841B:
	LDY.b !RAM_SMB2U_Player_WalkBobbingIndex
	LDA.w DATA_119B79,y
	STA.b !RAM_SMB2U_Player_BasePose
CODE_128422:
	RTS

;--------------------------------------------------------------------

; Note: Something related to throwing something.

CODE_128423:
	LDY.b #$02
	LDA.w !RAM_SMB2U_Player_InQuicksandDepth
	CMP.b #$02
	BCS.b CODE_128443
	DEY
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_128442
	LDX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCC.b CODE_128443
	CMP.b #!Define_SMB2U_SpriteID_NorSpr39_MushroomBlock
	BCC.b CODE_128442
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3B_FallingLog
	BCC.b CODE_128443
CODE_128442:
	DEY
CODE_128443:
	LDA.w !RAM_SMB2U_Player_RightWalkSpeed,y
	BIT.b !RAM_SMB2U_Global_ControllerHold1
	BVC.b CODE_12844F							; Note: !Joypad_X|(!Joypad_Y>>8)
	LSR
	CLC
	ADC.w !RAM_SMB2U_Player_RightWalkSpeed,y
CODE_12844F:
	CMP.b !RAM_SMB2U_Player_XSpeed
	BPL.b CODE_128455
	STA.b !RAM_SMB2U_Player_XSpeed
CODE_128455:
	LDA.w !RAM_SMB2U_Player_LeftWalkSpeed,y
	BIT.b !RAM_SMB2U_Global_ControllerHold1
	BVC.b CODE_128462							; Note: !Joypad_X|(!Joypad_Y>>8)
	SEC
	ROR
	CLC
	ADC.w !RAM_SMB2U_Player_LeftWalkSpeed,y
CODE_128462:
	CMP.b !RAM_SMB2U_Player_XSpeed
	BMI.b CODE_128468
	STA.b !RAM_SMB2U_Player_XSpeed
CODE_128468:
	BIT.b !RAM_SMB2U_Global_ControllerPress1
	BVC.b CODE_1284BD							; Note: !Joypad_X|(!Joypad_Y>>8)
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_1284BD
	LDY.b #$00
	LDX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	CMP.b #!Define_SMB2U_NorSprStatus06_DrawDugUpSand
	BEQ.b CODE_1284BD
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr39_MushroomBlock
	BCC.b CODE_128485
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3A_POWBlock
	BCC.b CODE_12848B
CODE_128485:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr37_PurpleBomb
	BCC.b CODE_1284BE
	LDY.b #$02
CODE_12848B:
	STY.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b !RAM_SMB2U_Player_FacingDirection
	ASL
	ORA.b !RAM_SMB2U_Player_DuckingFlag
	TAX
	LDY.w DATA_11CB03,x
	LDX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.b #!Define_SMB2U_SpriteID_NorSpr36_Coin
	CMP.b !RAM_SMB2U_NorSpr_SpriteID,x
	BCS.b CODE_1284AC
	LDA.b !RAM_SMB2U_Player_XSpeed
	BPL.b CODE_1284A8
	EOR.b #$FF
	CLC									;\ Optimization: INC
	ADC.b #$01								;/
CODE_1284A8:
	CMP.b #$08
	BCC.b CODE_1284AD
CODE_1284AC:
	INY
CODE_1284AD:
	LDX.b #$00
	JSL.l CODE_13F900
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.b !RAM_SMB2U_Global_ScratchRAM07
	JSL.l CODE_13F99C
	BCC.b CODE_1284BE
CODE_1284BD:
	RTS

CODE_1284BE:
	LDA.b #$09
	STA.b !RAM_SMB2U_Player_BasePose
	LDA.b #$02
	STA.b !RAM_SMB2U_Player_WalkBobbingIndex
	LDA.b #$0A
	STA.b !RAM_SMB2U_Player_WalkingFrameTimer
	DEC.b !RAM_SMB2U_Player_CarryingSomethingFlag
	LDA.b #!Define_SMAS_Sound0060_SMB2UThrow
	STA.w !RAM_SMB2U_Global_SoundCh1
	STZ.w !RAM_SMB2U_NorSpr_SpriteToCarryThroughScreenTransition
	STZ.b !RAM_SMB2U_Player_DuckingFlag
	STZ.b !RAM_SMB2U_Global_ControllerPress1
	STZ.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.b #!Define_SMB2U_SpriteID_NorSpr36_Coin
	CMP.b !RAM_SMB2U_NorSpr_SpriteID,x
	ROL.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b !RAM_SMB2U_Player_XSpeed
	BPL.b CODE_1284EC
	EOR.b #$FF
	CLC									;\ Optimization: INC
	ADC.b #$01								;/
CODE_1284EC:
	CMP.b #$08
	ROL.b !RAM_SMB2U_Global_ScratchRAM01
	BNE.b CODE_128506
	LDY.b !RAM_SMB2U_Player_FacingDirection
	LDA.w DATA_119B88,y
	CLC
	ADC.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_128506
	DEY
	TYA
	ADC.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
CODE_128506:
	LDY.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w DATA_119B84,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	ASL
	ORA.b !RAM_SMB2U_Player_FacingDirection
	TAY
	LDA.w DATA_119B7C,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b #$01
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	LSR
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	STZ.b $5B,x
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_UpdatePlayerSpritePosition(NULLROM)				; $128523

;--------------------------------------------------------------------

CODE_128565:
	LDA.b #$00
	STA.b $5A
	STA.w $0624
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	JSR.w CODE_12866A
	LDA.b !RAM_SMB2U_Player_DuckingFlag
	ASL
	ORA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	TAX
	LDA.w DATA_11CAFD,x
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b !RAM_SMB2U_Player_YSpeed
	CLC
	ADC.w !RAM_SMB2U_Player_YSpeedOffset
	BPL.b CODE_128596
	JSR.w CODE_12861D
	JSR.w CODE_128662
	LDA.b $5A
	BNE.b CODE_1285E5
	BEQ.b CODE_128600

CODE_128596:
	JSR.w CODE_128662
	JSR.w CODE_12861D
	LDA.b $5A
	BNE.b CODE_1285BA
	LDA.b #$00
	LDX.b #$01
	LDY.w !RAM_SMB2U_Level_CurrentWorld
	CPY.b #$01
	BEQ.b CODE_1285AF
	CPY.b #$05
	BNE.b CODE_1285B2
CODE_1285AF:
	JSR.w CODE_129A0E
CODE_1285B2:
	STA.w !RAM_SMB2U_Player_InQuicksandDepth
	STX.b !RAM_SMB2U_Player_InAirFlag
	JMP.w CODE_128600

CODE_1285BA:
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_InQuicksandDepth
	LDA.b !RAM_SMB2U_Player_YPosLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	AND.b #$0F
	CMP.b #$05
	BCS.b CODE_128600
	STZ.b !RAM_SMB2U_Player_InAirFlag
else
	AND.b #$0C
	BNE.b CODE_128600
	STA.b !RAM_SMB2U_Player_InAirFlag
endif
	LDA.b !RAM_SMB2U_Player_YPosLo
	AND.b #$F0
	STA.b !RAM_SMB2U_Player_YPosLo
	LSR.b !RAM_SMB2U_Global_ScratchRAM0A
	BCC.b CODE_1285D9
	LDX.b !RAM_SMB2U_Global_ScratchRAM0A
	LDA.w DATA_119B9A,x
	STA.w !RAM_SMB2U_Player_XSpeedOffset
CODE_1285D9:
	LSR.b !RAM_SMB2U_Global_ScratchRAM0C
	BCC.b CODE_1285E2
	LDA.b #$0F
	STA.w $0624
CODE_1285E2:
	JSR.w CODE_12877B
CODE_1285E5:
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_YSpeed
	STA.w !RAM_SMB2U_Player_YSpeedOffset
	LDA.w !RAM_SMB2U_Player_StarPowerTimer
	BNE.b CODE_128600
	LSR.b !RAM_SMB2U_Global_ScratchRAM0E
	BCC.b CODE_128600
	LDA.w !RAM_SMB2U_Player_OnScreenPosXLo
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	ROR.b !RAM_SMB2U_NorSpr_CurrentSlotID
	JSR.w CODE_129A52
CODE_128600:
	LDY.b #$02
	LDA.b !RAM_SMB2U_Player_XSpeed
	CLC
	ADC.w !RAM_SMB2U_Player_XSpeedOffset
	BMI.b CODE_12860E
	DEY
	JSR.w CODE_128662
CODE_12860E:
	STY.b $6E
	JSR.w CODE_12861D
	LDA.b $5A
	AND.b #$03
	BEQ.b CODE_12861C
	JSR.w CODE_128BD8
CODE_12861C:
	RTS

;--------------------------------------------------------------------

; Note: Routine that checks for level collision for the player

CODE_12861D:
	JSR.w CODE_128620
CODE_128620:
	LDX.b #$00
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	JSL.l CODE_13F900
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	LDY.w DATA_119B8A,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	JSL.l CODE_13F99C
	BCC.b CODE_12865F
	CMP.b #$2E
	BNE.b CODE_128640
	LDA.w DATA_119B8A,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	BNE.b CODE_128658
CODE_128640:
	CMP.b #$26
	BNE.b CODE_12864B
	LDA.w DATA_119B8A,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	BNE.b CODE_128658
CODE_12864B:
	SEC
	SBC.b #$60
	CMP.b #$02
	BCS.b CODE_128658
	ASL
	ORA.w DATA_119B8A,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
CODE_128658:
	LDA.w DATA_119B92,x
	ORA.b $5A
	STA.b $5A
CODE_12865F:
	JMP.w CODE_128665

;--------------------------------------------------------------------

CODE_128662:
	JSR.w CODE_128665
CODE_128665:
	INC.b !RAM_SMB2U_Global_ScratchRAM07
	INC.b !RAM_SMB2U_Global_ScratchRAM08
	RTS

;--------------------------------------------------------------------

CODE_12866A:
	LDY.w DATA_11CB07
	LDA.b !RAM_SMB2U_Global_FrameCounter
	LSR
	BCS.b CODE_128673
	INY
CODE_128673:
	LDX.b #$00
	JSR.w CODE_128195
	BCS.b CODE_1286A6
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.b #$4E
	BNE.b CODE_1286CE
	INC.w !RAM_SMB2U_Player_CurrentCherryCount
	LDA.w !RAM_SMB2U_Player_CurrentCherryCount
	SBC.b #$05
	BNE.b CODE_128690
	STA.w !RAM_SMB2U_Player_CurrentCherryCount
	JSR.w CODE_129945
CODE_128690:
	LDA.b #!Define_SMAS_Sound0063_CollectCherry
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	CLC
	ADC.b #$08
	AND.b #$F0
	STA.w $0212
	LDA.b #$40
	JSL.l CODE_128BF4
	RTS

CODE_1286A6:
	LDA.b !RAM_SMB2U_Global_ControllerHold1
	AND.b #(!Joypad_DPadU>>8)|(!Joypad_DPadD>>8)
	BEQ.b CODE_1286CE
	LDY.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BNE.b CODE_1286CE
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.b #$04
	AND.b #$0F
	CMP.b #$08
	BCS.b CODE_1286CE
	LDA.b #!Define_SMB2U_PlayerState01_Climbing
	STA.b !RAM_SMB2U_Player_CurrentState
	STZ.w $078C
	STY.b !RAM_SMB2U_Player_InAirFlag
	STY.b !RAM_SMB2U_Player_DuckingFlag
	LDA.b #$0A
	STA.b !RAM_SMB2U_Player_BasePose
	PLA
	PLA
	PLA
	PLA
CODE_1286CE:
	RTS

;--------------------------------------------------------------------

; Note: Something related to the red grass items (and maybe the mushroom blocks)

CODE_1286CF:
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot-$02
CODE_1286D1:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	BEQ.b CODE_1286DB
	INX
	CPX.b #!Define_SMB2U_MaxNormalSpriteSlot+$01
	BCC.b CODE_1286D1
	RTS

CODE_1286DB:
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b $79,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM04
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	STA.b $9F,x
	STA.b $B1,x
	STA.w $0D00,x
	JSR.w CODE_1299D5
	LDA.b #!Define_SMB2U_NorSprStatus01_Normal
	LDY.b !RAM_SMB2U_Global_ScratchRAM09
	CPY.b #$0E
	BNE.b CODE_12870C
	LDA.b #$20
	STA.b !RAM_SMB2U_NorSprStatus06_DrawDugUpSand_DespawnTimer,x
	LDA.b #!Define_SMB2U_NorSprStatus06_DrawDugUpSand
CODE_12870C:
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	LDA.w DATA_119B9F,y
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr36_Coin
	BNE.b CODE_12871A
	STZ.w $079E
CODE_12871A:
	LDY.b #$FF
	CMP.b #!Define_SMB2U_SpriteID_NorSpr37_PurpleBomb
	BEQ.b CODE_128726
	CMP.b #!Define_SMB2U_SpriteID_NorSpr09_BobOmb
	BNE.b CODE_12872B
	LDY.b #$50
CODE_128726:
	TYA
	STA.b $86,x
	BNE.b CODE_128750						; Note: This will always branch

CODE_12872B:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr40_1Up
	BNE.b CODE_12873B
	LDA.w !RAM_SMB2U_Player_HasCollected1UpMushroom
	BEQ.b CODE_128750
	LDA.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JMP.w CODE_128750

CODE_12873B:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr33_LargeVeggie
	BNE.b CODE_128750
	LDY.w !RAM_SMB2U_Player_BigVeggiePluckedCounter
	INY
	CPY.b #$05
	BCC.b CODE_12874D
	LDA.b #!Define_SMB2U_SpriteID_NorSpr46_Stopwatch
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDY.b #$00
CODE_12874D:
	STY.w !RAM_SMB2U_Player_BigVeggiePluckedCounter
CODE_128750:
	JSR.w CODE_129978
	LDA.b #$04
	STA.b $5B,x
	LDA.b #$40
	JSL.l CODE_13FA0D
	LDA.b #$07
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	STX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.b #!Define_SMB2U_PlayerState02_PickupSomething
	STA.b !RAM_SMB2U_Player_CurrentState
	LDA.b #$06
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	LDA.b #$08
	STA.b !RAM_SMB2U_Player_BasePose
	INC.b !RAM_SMB2U_Player_CarryingSomethingFlag
	STZ.w $078C
	LDA.b #!Define_SMAS_Sound0060_SMB2UPickupItem
	STA.w !RAM_SMB2U_Global_SoundCh1
	RTS

;--------------------------------------------------------------------

; Note: Something related to tile collision. Seems related to entering a vase.

CODE_12877B:
	LDY.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BNE.b CODE_1287F5
	LDA.b !RAM_SMB2U_Player_DuckingFlag
	BEQ.b CODE_1287CE
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	LDX.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CPX.b #$02
	BNE.b CODE_128792
	CMP.b #$6F
	BEQ.b CODE_12879C						; Note: Check for warp zone vase
	BNE.b CODE_1287F5						; Note: This will always branch

CODE_128792:
	INY
	CMP.b #$6E
	BEQ.b CODE_12879C
	CMP.b #$6A
	BNE.b CODE_1287F5
	INY
CODE_12879C:
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.b #$04
	AND.b #$0F
	CMP.b #$08
	BCS.b CODE_1287F5
	LDA.b #!Define_SMAS_Sound0063_EnterVase
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_XSpeed
	LDA.b #!Define_SMB2U_PlayerState04_EnterVase
	STA.b !RAM_SMB2U_Player_CurrentState
	STY.w !RAM_SMB2U_Player_VaseWarpType
	JSL.l CODE_1287BC
	RTS

;--------------------------------------------------------------------

CODE_1287BC:
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.b #$08
	AND.b #$F0
	STA.b !RAM_SMB2U_Player_XPosLo
	BCC.b CODE_1287CD
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_1287CD
	INC.b !RAM_SMB2U_Player_XPosHi
CODE_1287CD:
	RTL

;--------------------------------------------------------------------

CODE_1287CE:
	BIT.b !RAM_SMB2U_Global_ControllerPress1
	BVC.b CODE_1287F5						; Note: !Joypad_X|(!Joypad_Y>>8)
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.b #$06
	AND.b #$0F
	CMP.b #$0C
	BCS.b CODE_1287F5
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.b #$9D
	BNE.b CODE_1287E7						; Note: Check for the diggable sand tile.
	LDA.b #$0E
	BNE.b CODE_1287F0						; Note: This will always branch

CODE_1287E7:
	CMP.b #$68
	BCS.b CODE_1287F5
	SEC
	SBC.b #$64
	BCC.b CODE_1287F5						; Note: Check for the mushroom/POW blocks
CODE_1287F0:
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	JMP.w CODE_1286CF

CODE_1287F5:
	LDA.b !RAM_SMB2U_Player_DuckingFlag
	BNE.b CODE_128874
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	SEC
	SBC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	STA.b $E6
	LDA.b !RAM_SMB2U_Global_ScratchRAM04
	SBC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	JSR.w CODE_128B6D
	BCS.b CODE_128874
	LDX.b !RAM_SMB2U_Global_ScratchRAM03
	PHX
	JSR.w CODE_1299DB
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$7000
	STA.b $C4
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.b $C6
	LDY.b $E7
	LDA.b [$C4],y
	BEQ.b CODE_128840
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$2B
	BEQ.b CODE_128840
	CMP.b #$2A
	BEQ.b CODE_128840
	TAX
	LDA.l DATA_14CCBD,x
	BRA.b CODE_128842

CODE_128840:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_128842:
	PLX
	STX.b !RAM_SMB2U_Global_ScratchRAM03
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDX.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_128854
	LDX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	CPY.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BNE.b CODE_128874
CODE_128854:
	LDX.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CPX.b #$02
	BEQ.b CODE_128865
	LDY.b #$07
CODE_12885D:
	CMP.w DATA_119BAE,y
	BEQ.b CODE_128896
	DEY
	BPL.b CODE_12885D
CODE_128865:
	BIT.b !RAM_SMB2U_Global_ControllerPress1
	BVC.b CODE_128874						; Note: !Joypad_X|(!Joypad_Y>>8)
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.b #$4D
	BCS.b CODE_128874
	SEC
	SBC.b #$43
	BCS.b CODE_128875						; Note: Check for red grass tiles
CODE_128874:
	RTS

CODE_128875:
	LDX.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CPX.b #$02
	BNE.b CODE_128889
	LDA.w !RAM_SMB2U_Level_HasCollectedCoinDuringSubspaceTripCounter
	CMP.b #$02
	BCS.b CODE_128888
	INC.w $0622
	LDX.b #$00
CODE_128888:
	TXA
CODE_128889:
	CLC
	ADC.b #$04
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	LDA.w $04AE
	BEQ.b CODE_128896
	JMP.w CODE_1286CF

CODE_128896:
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	INC
	BEQ.b CODE_128900
	LDA.b !RAM_SMB2U_Global_ControllerPress1					; Note: Called when entering a door
	AND.b #!Joypad_DPadU>>8
	BEQ.b CODE_128874
	JSL.l CODE_15D1C5
	BCS.b CODE_1288EE
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.w DATA_119BAE+$01
	BNE.b CODE_1288BC
	LDX.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_128874
	LDX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BNE.b CODE_128874
CODE_1288BC:
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.b #$05
	AND.b #$0F
	CMP.b #$0A
	BCS.b CODE_128874
	LDA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	STA.w $079D
	LDA.b #$80
	STA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	STA.w $079C
	LDA.b !RAM_SMB2U_Player_XPosLo
	AND.b #$08
	BEQ.b CODE_1288E8
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.b #$08
	STA.b !RAM_SMB2U_Player_XPosLo
	LDA.b !RAM_SMB2U_Player_XPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_Player_XPosHi
CODE_1288E8:
	LDA.b !RAM_SMB2U_Player_XPosLo
	AND.b #$F0
	STA.b !RAM_SMB2U_Player_XPosLo
CODE_1288EE:
	LDA.b #$01
	STA.w !RAM_SMB2U_NorSpr3C_Door_DespawnTimer
	STA.b !RAM_SMB2U_Player_HurtTimer
	STZ.b !RAM_SMB2U_Player_XSpeed
	STY.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	STZ.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	STZ.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
CODE_128900:
	CPY.b #$04
	BNE.b CODE_128909
	DEY
	STY.w !RAM_SMB2U_Level_ExitLevelAction
	RTS

CODE_128909:
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	BMI.b CODE_128918
	CMP.b #$05
	BCC.b CODE_128918
	LDA.b #!Define_SMAS_Sound0063_Door1
	STA.w !RAM_SMB2U_Global_SoundCh3
	RTS

CODE_128918:					; Note: Something related to entering an orange door.
	LDA.b #$01
	STA.w !RAM_SMB2U_Player_EntranceTypeToUse
	TYA
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_128922:
	dw CODE_128B1D
	dw CODE_128B30
	dw CODE_128B4F
	dw CODE_128B4F
	dw CODE_128B4F
	dw CODE_128B4F
	dw CODE_128B4F
	dw CODE_128B4F

;--------------------------------------------------------------------

; Note: Something related to entering a brown double door.

CODE_128932:
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	CMP.b #$05
	BEQ.b CODE_12893E
	JSL.l SMB2U_ProcessBobOmbDoor_Main
	RTL

CODE_12893E:
	JSR.w CODE_128942
	RTL

CODE_128942:
	LDA.b #$01
	STA.b !RAM_SMB2U_Player_HurtTimer
	STY.w $071E
	LDA.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_128950:
	dw CODE_128958
	dw CODE_12896E
	dw SMB2U_BobombAndBrownDoorState02_FadeOutPlayerPalette_Main
	dw CODE_128995

;--------------------------------------------------------------------

CODE_128958:
	STZ.w $077A
	INC.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	LDA.w !RAM_SMB2U_Player_StarPowerTimer
	STA.w $077B
	STZ.w !RAM_SMB2U_Player_StarPowerTimer
	STZ.w !RAM_SMB2U_Player_PowerJumpCharge
	INC.w !RAM_SMB2U_Player_PlayerLocked
	RTS

;--------------------------------------------------------------------

CODE_12896E:
	LDA.b #$C0
	STA.w $071C
	LDA.b #$01
	STA.w $071D
	STA.w $071F
	LDA.b #$E0
	STA.w $071E
	JSR.w SMB2U_DrawBrownDoorOpeningAnimation_Main
	INC.w $077A
	LDA.w $077A
	CMP.b #$10
	BCS.w CODE_12898E
	RTS

CODE_12898E:
	INC.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	STZ.w $077A
	RTS

;--------------------------------------------------------------------

CODE_128995:
	LDA.b #$20
	STA.w $071C
	LDA.b #$00
	STA.w $071D
	STA.w $071F
	LDA.b #$40
	STA.w $071E
	JSR.w SMB2U_DrawBrownDoorOpeningAnimation_Main
	DEC.w $077A
	LDA.w $077A
	BMI.b CODE_1289B3
	RTS

CODE_1289B3:
	LDA.b #$FF
	STA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	LDA.w $077B
	STA.w !RAM_SMB2U_Player_StarPowerTimer
	STZ.w !RAM_SMB2U_Player_PlayerLocked
	LDA.b #!Define_SMAS_Sound0063_Door2
	STA.w !RAM_SMB2U_Global_SoundCh3
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDA.w !RAM_SMB2U_Player_XSpeedOffset
	BEQ.b CODE_1289CC
	NOP
endif
CODE_1289CC:
	RTS

;--------------------------------------------------------------------

DATA_1289CD:
	db $48,$58,$49,$59,$4A,$5A,$4B,$5B
	db $4C,$5C,$4D,$5D,$4E,$5E,$4F,$5F

SMB2U_DrawBrownDoorOpeningAnimation:
.Main:
;$1289DD
	PHY
	PHX
	LDA.w $077A
	AND.b #$0C
	XBA
	LDA.b #$00
	XBA
	REP.b #$10
	TAX
	LDY.w $071C
	LDA.b #$22
	JSR.w CODE_128A45
	LDA.l DATA_1289CD,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	STA.w SMB2U_OAMBuffer[$04].Tile,y
	INX
	LDA.l DATA_1289CD,x
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	STA.w SMB2U_OAMBuffer[$05].Tile,y
	INX
	LDA.l DATA_1289CD,x
	STA.w SMB2U_OAMBuffer[$02].Tile,y
	STA.w SMB2U_OAMBuffer[$06].Tile,y
	INX
	LDA.l DATA_1289CD,x
	STA.w SMB2U_OAMBuffer[$03].Tile,y
	STA.w SMB2U_OAMBuffer[$07].Tile,y
	LDY.w $071E
	LDA.b #$20
	JSR.w CODE_128A45
	LDA.b #$E4
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	STA.w SMB2U_OAMBuffer[$04].Tile,y
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	STA.w SMB2U_OAMBuffer[$05].Tile,y
	STA.w SMB2U_OAMBuffer[$02].Tile,y
	STA.w SMB2U_OAMBuffer[$06].Tile,y
	STA.w SMB2U_OAMBuffer[$03].Tile,y
	STA.w SMB2U_OAMBuffer[$07].Tile,y
	SEP.b #$10
	PLX
	PLY
	RTS

CODE_128A45:
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	STA.w SMB2U_OAMBuffer[$02].Prop,y
	STA.w SMB2U_OAMBuffer[$03].Prop,y
	ORA.b #$40
	STA.w SMB2U_OAMBuffer[$04].Prop,y
	STA.w SMB2U_OAMBuffer[$05].Prop,y
	STA.w SMB2U_OAMBuffer[$06].Prop,y
	STA.w SMB2U_OAMBuffer[$07].Prop,y
	LDA.w !RAM_SMB2U_Player_OnScreenPosXLo
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	STA.w SMB2U_OAMBuffer[$02].XDisp,y
	STA.w SMB2U_OAMBuffer[$03].XDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$04].XDisp,y
	STA.w SMB2U_OAMBuffer[$05].XDisp,y
	STA.w SMB2U_OAMBuffer[$06].XDisp,y
	STA.w SMB2U_OAMBuffer[$07].XDisp,y
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$04].YDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
	STA.w SMB2U_OAMBuffer[$05].YDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$02].YDisp,y
	STA.w SMB2U_OAMBuffer[$06].YDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$03].YDisp,y
	STA.w SMB2U_OAMBuffer[$07].YDisp,y
	RTS

;--------------------------------------------------------------------

SMB2U_BobombAndBrownDoorState02_FadeOutPlayerPalette:
.Main:
;$128AA2
	REP.b #$30
	STZ.w $0720
	LDX.w #$0100
CODE_128AAA:
	LDA.w SMB2U_PaletteMirror[$80].LowByte-$0100,x
	STA.w $071C
	AND.w #$7C00
	BEQ.b CODE_128ABF
	LDA.w $071C
	SEC
	SBC.w #$0400
	STA.w $071C
CODE_128ABF:
	LDA.w $071C
	AND.w #$03E0
	BEQ.b CODE_128AD1
	LDA.w $071C
	SEC
	SBC.w #$0020
	STA.w $071C
CODE_128AD1:
	LDA.w $071C
	AND.w #$001F
	BEQ.b CODE_128ADC
	DEC.w $071C
CODE_128ADC:
	LDA.w $071C
	STA.w SMB2U_PaletteMirror[$80].LowByte-$0100,x
	TSB.w $0720
	INX
	INX
	CPX.w #$0120
	BNE.b CODE_128AAA
	SEP.b #$30
	INC.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	LDA.b #$0F
	STA.w $077A
	LDA.b #$20
	STA.w $071C
	LDA.b #$01
	STZ.w $071D
	STA.w $071F
	LDA.b #$E0
	STA.w $071E
	JSR.w SMB2U_DrawBrownDoorOpeningAnimation_Main
	LDA.w $0720
	ORA.w $0721
	BEQ.b CODE_128B14
	RTS

CODE_128B14:
	INC.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	LDA.b #$0F
	STA.w $077A
	RTS

;--------------------------------------------------------------------

CODE_128B1D:
	JSR.w CODE_1298DD
CODE_128B20:
	INC.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	INC.w !RAM_SMB2U_Player_PlayerLocked
	JSL.l CODE_1287BC
	LDA.b #!Define_SMAS_Sound0063_Door1
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_128B2F:
	RTS

;--------------------------------------------------------------------

; Note: Something related to locked doors?

CODE_128B30:
	STZ.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_128B2F
	LDY.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BNE.b CODE_128B2F
	INC.w !RAM_SMB2U_Player_HasUnlockedDoor
	TYA
	TAX
	JSR.w CODE_1299C0
	JSR.w CODE_1298D9
	JMP.w CODE_128B20

;--------------------------------------------------------------------

CODE_128B4F:
	STZ.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	INC.w !RAM_SMB2U_Player_TeleportFlag
	RTS

;--------------------------------------------------------------------

CODE_128B56:
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	TYA
	BMI.b CODE_128B6C
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0F
	BCS.b CODE_128B68
	CMP.b #$F0
	BCC.b CODE_128B6C
CODE_128B68:
	CLC
	ADC.b #$10
	INY
CODE_128B6C:
	RTS

;--------------------------------------------------------------------

CODE_128B6D:
	LDY.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b $E6
	JSR.w CODE_128B56
	STY.b !RAM_SMB2U_Global_ScratchRAM01
	STA.b $E6
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	LDA.w !RAM_SMB2U_Global_ScratchRAM01,y
	STA.b $E9
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	CMP.w DATA_119BB6+$01,y
	BCS.b CODE_128B8B
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CMP.w DATA_119BB6,y
CODE_128B8B:
	RTS

;--------------------------------------------------------------------

; Note: Unreferenced routine?

CODE_128B8C:
	LDX.b $D8
	BNE.b CODE_128BBA
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState02_PickupSomething
	BCS.b CODE_128BBA
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	LDY.w !RAM_SMB2U_Player_OnScreenPosYHi
	BMI.b CODE_128BA8
	BNE.b CODE_128BAE
	CMP.b #$B4
	BCS.b CODE_128BAE
	CMP.b #$21
	BCS.b CODE_128BB0
CODE_128BA8:
	LDY.b !RAM_SMB2U_Player_InAirFlag
	BNE.b CODE_128BB0
	BEQ.b CODE_128BAF						; Note: This will always branch.

CODE_128BAE:
	INX
CODE_128BAF:
	INX
CODE_128BB0:
	LDA.w $0425
	STX.w $0425
	BNE.b CODE_128BBA
	STX.b $D8
CODE_128BBA:
	RTS

;--------------------------------------------------------------------

SMB2U_CheckIfPlayerIsTouchingTheScreenEdge:
.Main:
;$128BBB
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_128BCC
	LDA.w !RAM_SMB2U_Player_OnScreenPosXLo
	LDY.b $6E
	CPY.b #$01
	BEQ.b CODE_128BCD
	CMP.b #$08
	BCC.b CODE_128BD1
CODE_128BCC:
	RTS

CODE_128BCD:
	CMP.b #$E8
	BCC.b CODE_128BCC
CODE_128BD1:
	LDA.b $5A
	ORA.w DATA_119BB8,y
	STA.b $5A
CODE_128BD8:
	LDX.b #$00
	LDY.b $6E
	LDA.b !RAM_SMB2U_Player_XSpeed
	EOR.w DATA_119BBA,y
	BPL.b CODE_128BE5
	STX.b !RAM_SMB2U_Player_XSpeed
CODE_128BE5:
	LDA.w !RAM_SMB2U_Player_XSpeedOffset
	EOR.w DATA_119BBA,y
	BPL.b CODE_128BF0
	STX.w !RAM_SMB2U_Player_XSpeedOffset
CODE_128BF0:
	STX.w !RAM_SMB2U_Player_SubXPos
	RTS

;--------------------------------------------------------------------

CODE_128BF4:
	STX.w !RAM_SMB2U_Global_ScratchRAM7E0210
	PHA
	JSR.w CODE_1299DB
	PLA
	LDY.b $E7
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	PHA
	LDX.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDA.b #$00
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_128C14
	LDA.w $0212
	CLC
	ADC.b $E5
	TAY
CODE_128C14:
	TYA
	AND.b #$F0
	ASL
	ROL.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	ASL
	ROL.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte,x
	TYA
	AND.b #$0F
	ASL
	ADC.w SMB2U_StripeImageUploadTable[$00].HighByte,x
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte,x
	CLC
	ADC.b #$20
	STA.w SMB2U_StripeImageUploadTable[$04].HighByte,x
	PHX
	JSR.w CODE_128CAE
	JSR.w CODE_128CFE
	PLX
	LDA.w $0228
	BEQ.b CODE_128C4A
	CPY.b #$00
	BEQ.b CODE_128C48
	LDA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	BRA.b CODE_128C56

CODE_128C48:
	LDY.b #$01
CODE_128C4A:
	LDA.w DATA_119BBD,y
	CLC
	ADC.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	AND.b #$0F
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
CODE_128C56:
	STA.w SMB2U_StripeImageUploadTable[$04].LowByte,x
	REP.b #$20
	LDA.w #$0300
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$05].LowByte,x
	SEP.b #$20
	PLA
	PHA
	AND.b #$C0
	ASL
	ROL
	ROL
	TAY
	LDA.w DATA_11AD64,y
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w DATA_11AD68,y
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	PLA
	REP.b #$30
	AND.w #$003F
	ASL
	ASL
	ASL
	TAY
	LDA.b (!RAM_SMB2U_Global_ScratchRAM00),y
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte,x
	INY
	INY
	LDA.b (!RAM_SMB2U_Global_ScratchRAM00),y
	STA.w SMB2U_StripeImageUploadTable[$03].LowByte,x
	INY
	INY
	LDA.b (!RAM_SMB2U_Global_ScratchRAM00),y
	STA.w SMB2U_StripeImageUploadTable[$06].LowByte,x
	INY
	INY
	LDA.b (!RAM_SMB2U_Global_ScratchRAM00),y
	STA.w SMB2U_StripeImageUploadTable[$07].LowByte,x
	SEP.b #$30
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$08].LowByte,x
	TXA
	CLC
	ADC.b #$10
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDX.w !RAM_SMB2U_Global_ScratchRAM7E0210
	RTL

;--------------------------------------------------------------------

CODE_128CAE:
	STZ.w $0228
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_128CFD
	LDA.w $0535
	BEQ.b CODE_128CFD
	LSR
	LSR
	TAY
	LDA.w SMB2U_StripeImageUploadTable[$00].HighByte,x
	CLC
	ADC.w DATA_119C14,y
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte,x
	BCC.b CODE_128CCC
	INC.w SMB2U_StripeImageUploadTable[$00].LowByte,x
CODE_128CCC:
	CLC
	ADC.b #$20
	STA.w SMB2U_StripeImageUploadTable[$04].HighByte,x
	LDA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	CLC
	ADC.w DATA_119C11,y
	CMP.b #$04
	BMI.b CODE_128CFA
	CMP.b #$08
	BMI.b CODE_128CE7
	CMP.b #$0C
	BPL.b CODE_128CF7
	BRA.b CODE_128CFA

CODE_128CE7:
	CLC
	ADC.b #$04
	CMP.b #$0C
	BPL.b CODE_128CFA
	PHX
	LDX.b #$01
	STX.w $0228
	PLX
	BRA.b CODE_128CFA

CODE_128CF7:
	SEC
	SBC.b #$0C
CODE_128CFA:
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
CODE_128CFD:
	RTS

CODE_128CFE:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	ASL
	TAY
	BEQ.b CODE_128D0D
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.b #$10
	BNE.b CODE_128D70
	INY
	BRA.b CODE_128D70

CODE_128D0D:
	JSR.w CODE_128F33
	LDY.b #$00
	REP.b #$20
	LDA.w $00E7
	AND.w #$00FF
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM01
	AND.w #$0FF0
	STA.w $0226
	LDA.w $0535
	AND.w #$00FF
	BEQ.b CODE_128D2F
	LSR
	LSR
	INC
	ASL
CODE_128D2F:
	TAX
	LDA.w $0226
	CMP.w DATA_119C09,x
	BCS.b CODE_128D41
	CLC
	ADC.w #$0200
	STA.w $0226
	BRA.b CODE_128D4F

CODE_128D41:
	CMP.w DATA_119C01,x
	BMI.b CODE_128D4F
	SEC
	SBC.w #$0200
	STA.w $0226
	BRA.b CODE_128D41

CODE_128D4F:
	TXA
	AND.w #$00FF
	ASL
	ASL
	ASL
	TAX
	LDA.w $0226
CODE_128D5A:
	CMP.w DATA_119BC1,x
	BMI.b CODE_128D64
	INX
	INX
	INY
	BRA.b CODE_128D5A

CODE_128D64:
	TYA
	AND.w #$00FF
	LSR
	LSR
	EOR.w #$0001
	TAY
	SEP.b #$20
CODE_128D70:
	RTS

;--------------------------------------------------------------------

SMB2U_GoToReturnPointUponLeavingVaseOrSubspace:
.Main:
;$128D71
	LDA.w !RAM_SMB2U_Player_ReturnPointXPosHi
	STA.b !RAM_SMB2U_Player_XPosHi
	LDA.w !RAM_SMB2U_Player_ReturnPointXPosLo
	STA.b !RAM_SMB2U_Player_XPosLo
	LDA.w !RAM_SMB2U_Player_ReturnPointYPosHi
	STA.b !RAM_SMB2U_Player_YPosHi
	LDA.w !RAM_SMB2U_Player_ReturnPointYPosLo
	STA.b !RAM_SMB2U_Player_YPosLo
	LDA.b !RAM_SMB2U_Player_XPosLo
	SEC
	SBC.w !RAM_SMB2U_Global_CameraXPosLo
	STA.w !RAM_SMB2U_Player_OnScreenPosXLo
	LDA.b !RAM_SMB2U_Player_YPosLo
	SEC
	SBC.b !RAM_SMB2U_Global_CameraYPosLo
	STA.w !RAM_SMB2U_Player_OnScreenPosYLo
	LDA.b !RAM_SMB2U_Player_YPosHi
	SBC.b !RAM_SMB2U_Global_CameraYPosHi
	STA.w !RAM_SMB2U_Player_OnScreenPosYHi
	LDA.w !RAM_SMB2U_Player_EntranceTypeToUse
	SEC
	SBC.b #$04
	BNE.b CODE_128DB5
	STA.b !RAM_SMB2U_Player_CurrentState						; Note: !Define_SMB2U_PlayerState00_Normal
	STA.w !RAM_SMB2U_Player_PlayerLocked
	STA.w !RAM_SMB2U_NorSpr3C_Door_WaitBeforeBeingKickedOutOfSubspaceTimer
	JSR.w CODE_1298DD
	LDA.b #$0A
	STA.w !RAM_SMB2U_NorSpr3C_Door_DespawnTimer
CODE_128DB5:
	RTL

;--------------------------------------------------------------------

CODE_128DB6:
	LDA.w !RAM_SMB2U_Player_EntranceTypeToUse
	CMP.b #$02
	BNE.b CODE_128DC9
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BNE.b CODE_128DC9
	JSL.l SMB2U_GoToReturnPointUponLeavingVaseOrSubspace_Main
	JMP.w CODE_128E0D

CODE_128DC9:
	LDA.w $0535
	LDY.b #$00
	LDX.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_128DD8
	STY.b !RAM_SMB2U_Player_XPosHi
	STA.b !RAM_SMB2U_Player_YPosHi
	BEQ.b CODE_128DDC
CODE_128DD8:
	STA.b !RAM_SMB2U_Player_XPosHi
	STY.b !RAM_SMB2U_Player_YPosHi
CODE_128DDC:
	JSR.w CODE_128E15
	LDY.b !RAM_SMB2U_Player_YPosHi
	LDA.b !RAM_SMB2U_Player_YPosLo
	JSL.l CODE_128F1F
	STY.b !RAM_SMB2U_Player_YPosHi
	STA.b !RAM_SMB2U_Player_YPosLo
	LDA.b !RAM_SMB2U_Player_XPosLo
	SEC
	SBC.w !RAM_SMB2U_Global_CameraXPosLo
	STA.w !RAM_SMB2U_Player_OnScreenPosXLo
	LDA.b !RAM_SMB2U_Player_YPosLo
	SEC
	SBC.b !RAM_SMB2U_Global_CameraYPosLo
	STA.w !RAM_SMB2U_Player_OnScreenPosYLo
	LDA.b !RAM_SMB2U_Player_YPosHi
	SBC.b !RAM_SMB2U_Global_CameraYPosHi
	STA.w !RAM_SMB2U_Player_OnScreenPosYHi
	LDA.w !RAM_SMB2U_Player_EntranceTypeToUse
	CMP.b #$04
	BNE.b CODE_128E0D
	JSR.w CODE_1298DD
CODE_128E0D:
	LDA.b !RAM_SMB2U_Player_XPosLo
	SEC
	SBC.b #$78
	STA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	RTL

CODE_128E15:
	LDA.w !RAM_SMB2U_Player_EntranceTypeToUse
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_118E1C:
	dw CODE_128E28						; 00 - Level entrance
	dw CODE_128E60						; 01 - Enter door
	dw CODE_128ECD						; 02 - Enter vase
	dw CODE_128EDA						; 03 - Climb vine
	dw CODE_128EFC						; 04 - Enter Potion Door
	dw CODE_128F17						; 05 - Rocketship

;--------------------------------------------------------------------

CODE_128E28:
	LDA.b #$01
	STA.b !RAM_SMB2U_Player_FacingDirection
	JSR.w CODE_128ED1
	LSR
	LSR
	LSR
	LSR
	STA.b $E5
	LDA.b #$D0
	STA.b !RAM_SMB2U_Player_YPosLo
	STA.b $E6
	LDA.w $0535
	STA.b $E9
	LDA.b #$0C
	STA.b !RAM_SMB2U_Global_ScratchRAM04
CODE_128E44:
	JSR.w CODE_1299DB
	LDY.b $E7
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BEQ.b CODE_128E58
	JSR.w CODE_128E58
	STA.b $E6
	DEC.b !RAM_SMB2U_Global_ScratchRAM04
	BNE.b CODE_128E44
CODE_128E58:
	LDA.b !RAM_SMB2U_Player_YPosLo
	SEC
	SBC.b #$10
	STA.b !RAM_SMB2U_Player_YPosLo
	RTS

;--------------------------------------------------------------------

CODE_128E60:
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.b #$08
	AND.b #$F0
	EOR.b #$F0
	STA.b !RAM_SMB2U_Player_XPosLo
	LSR
	LSR
	LSR
	LSR
	STA.b $E5
	LDA.b #$E0
	STA.b !RAM_SMB2U_Player_YPosLo
	STA.b $E6
	LDA.w $0535
	STA.b $E9
	LDA.b #$0D
	STA.w $0715
CODE_128E81:
	JSR.w CODE_1299DB
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$7000
	STA.b $C4
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.b $C6
	LDY.b $E7
	LDA.b [$C4],y
	STA.w $0712
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDY.b #$08
CODE_128E9F:
	CMP.w DATA_119BAD,y
	BNE.b CODE_128EB1
	CMP.b #$2A
	BEQ.b CODE_128EAC
	CMP.b #$2B
	BNE.b CODE_128EC4
CODE_128EAC:
	LDA.w $0712
	BNE.b CODE_128EC4
CODE_128EB1:
	DEY
	BNE.b CODE_128E9F
	DEC.w $0715
	BEQ.b CODE_128EC1
	JSR.w CODE_128E58
	STA.b $E6
	JMP.w CODE_128E81

CODE_128EC1:
	JSR.w CODE_128ED1
CODE_128EC4:
	JSR.w CODE_128E58
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_PlayerLocked
	RTS

;--------------------------------------------------------------------

CODE_128ECD:
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_YPosLo
CODE_128ED1:
	LDA.b #$01
	STA.b !RAM_SMB2U_Player_InAirFlag
	LDA.b #$78
	STA.b !RAM_SMB2U_Player_XPosLo
	RTS

;--------------------------------------------------------------------

CODE_128EDA:
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.b #$08
	AND.b #$F0
	EOR.b #$F0
	STA.b !RAM_SMB2U_Player_XPosLo
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	CLC
	ADC.b #$08
	AND.b #$F0
	EOR.b #$10
	STA.b !RAM_SMB2U_Player_YPosLo
	CMP.b #$F0
	BEQ.b CODE_128EF7
	DEC.b !RAM_SMB2U_Player_YPosHi
CODE_128EF7:
	LDA.b #$0A
	STA.b !RAM_SMB2U_Player_BasePose
	RTS

;--------------------------------------------------------------------

CODE_128EFC:
	LDA.w !RAM_SMB2U_Player_OnScreenPosXLo
	SEC
	SBC.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	EOR.b #$FF
	CLC
	ADC.b #$F1
	STA.b !RAM_SMB2U_Player_XPosLo
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	STA.b !RAM_SMB2U_Player_YPosLo
	DEC.w !RAM_SMB2U_Player_PlayerLocked
	LDA.b #$60
	STA.w !RAM_SMB2U_NorSpr3C_Door_WaitBeforeBeingKickedOutOfSubspaceTimer
	RTS

;--------------------------------------------------------------------

CODE_128F17:
	JSR.w CODE_128ED1
	LDA.b #$60
	STA.b !RAM_SMB2U_Player_YPosLo
	RTS

;--------------------------------------------------------------------

CODE_128F1F:
	CPY.b #$00
	BMI.b CODE_128F32
	PHA
	TYA
	ASL
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	PLA
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM0F
	BCS.b CODE_128F32
	DEY
CODE_128F32:
	RTL

;--------------------------------------------------------------------

CODE_128F33:
	LDX.b $E9
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.w DATA_11AAFB,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w DATA_11AAF0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	RTS

;--------------------------------------------------------------------

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	%FREE_BYTES(NULLROM, 18, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	%FREE_BYTES(NULLROM, 1, $FF)
	%ROUTINE_SMB2U_ProcessTitleScreen(NULLROM)
	%FREE_BYTES(NULLROM, 2, $FF)
else
	%ROUTINE_SMB2U_ProcessTitleScreen(NULLROM)				; $128F48
	
	if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	%FREE_BYTES(NULLROM, 7, $FF)
	endif
endif

;--------------------------------------------------------------------

SMB2U_WaitForVBlankRt_EndingPart1And2:
.TurnOnFBlank:
;$1291E4
	LDA.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	BRA.b +

.TurnOffFBlank:									; Note: Unused
	LDA.b #!ScreenDisplayRegister_MaxBrightness0F
+:
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
.Main:
	LDA.b !RAM_SMB2U_Global_StripeImageToUpload
	ASL
	TAX
	LDA.w DATA_119C17,x
	STA.b !RAM_SMB2U_Global_StripeImageDataLo
	LDA.w DATA_119C17+$01,x
	STA.b !RAM_SMB2U_Global_StripeImageDataHi
	LDA.b #DATA_119C17>>16
	STA.b !RAM_SMB2U_Global_StripeImageDataBank
	STZ.w !RAM_SMB2U_Global_WaitForVBlankFlag
-:
	LDA.w !RAM_SMB2U_Global_WaitForVBlankFlag
	BPL.b -
	JSL.l SMB2U_PollJoypadInputs_Main
	CLI
	RTS

;--------------------------------------------------------------------

SMB2U_ProcessEndingPart1:
.Main:
;$12920C
	STZ.b $E6
CODE_12920E:
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	JSR.w CODE_129510
	LDA.b $E6
	BEQ.b CODE_12920E
	JSL.l SMB2U_ResetBGLayerPositions_Main
	JSL.l CODE_14F953
	JSL.l SMB2U_UploadEndingPart1Graphics_Main
	JSL.l SMB2U_BufferEndingPart1PaletteData_Main
	JSL.l CODE_14D9CD
	LDA.b #$40
	STA.w $0100
	LDA.b #$B0
	STA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	LDA.b #$01
	STA.b $E5
	LDA.b #$60
	STA.b !RAM_SMB2U_Ending_WaitBeforeGoingToPart2
	LDA.b #$01
	STA.b !RAM_SMB2U_Player_FacingDirection
	STA.w $078D
	STZ.b !RAM_SMB2U_Player_CurrentState
	STZ.b $8E
	STZ.w !RAM_SMB2U_Player_PowerJumpCharge
	STZ.b $E6
	STZ.w $0400
	LDX.b #$09
CODE_12925C:
	LDA.w DATA_11A3EC,x
	STA.b !RAM_SMB2U_Player_XPosLo,x
	LDA.w DATA_11A3F6,x
	STA.b !RAM_SMB2U_Player_YPosLo,x
	LDA.w DATA_11A400,x
	STA.b !RAM_SMB2U_Player_XSpeed,x
	LDA.w DATA_11A40A,x
	STA.b !RAM_SMB2U_Player_YSpeed,x
	LDA.w DATA_11A414,x
	STA.b !RAM_SMB2U_Player_HurtTimer,x
	LDA.w DATA_11A41E,x
	STA.b $64,x
	DEX
	BPL.b CODE_12925C
	STZ.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
CODE_12927F:
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	JSL.l CODE_14F9F0
	JSR.w CODE_1292C5
	JSR.w SMB2U_ProcessCork_Main
	JSR.w CODE_129526
	LDA.b $E6
	BEQ.b CODE_12927F
	STZ.b $E6
CODE_129295:
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	INC.b !RAM_SMB2U_Global_FrameCounter
	JSL.l CODE_14F9F0
	JSR.w CODE_1292C5
	JSR.w SMB2U_ProcessCork_Main
	LDA.b !RAM_SMB2U_Ending_WaitBeforeGoingToPart2
	BEQ.b CODE_1292BD
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$07
	BNE.b CODE_129295
	DEC.b !RAM_SMB2U_Ending_WaitBeforeGoingToPart2
	LDA.b !RAM_SMB2U_Ending_WaitBeforeGoingToPart2
	CMP.b #$25
	BNE.b CODE_129295
	LDY.b #!Define_SMB2U_LevelMusic_Ending
	STY.w !RAM_SMB2U_Global_MusicCh1
	BNE.b CODE_129295							; Note: This will always branch.

CODE_1292BD:
	JSR.w CODE_129510
	LDA.b $E6
	BEQ.b CODE_129295
	RTL

CODE_1292C5:
	LDA.b !RAM_SMB2U_Player_WalkingFrameTimer
	BEQ.b CODE_1292CB
	DEC.b !RAM_SMB2U_Player_WalkingFrameTimer
CODE_1292CB:
	LDA.b !RAM_SMB2U_Player_PickupAnimationTimer
	BEQ.b CODE_1292D1
	DEC.b !RAM_SMB2U_Player_PickupAnimationTimer
CODE_1292D1:
	LDA.b !RAM_SMB2U_Player_XPosLo
	STA.w !RAM_SMB2U_Player_OnScreenPosXLo
	LDA.b !RAM_SMB2U_Player_YPosLo
	STA.w !RAM_SMB2U_Player_OnScreenPosYLo
	JSL.l SMB2U_DrawPlayerSprite_Main
	LDA.b !RAM_SMB2U_Ending_FirstPartState
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_1292E5:
	dw SMB2U_EndingPart1State00_MoveRight_Main
	dw SMB2U_EndingPart1State01_JumpOntoCork_Main
	dw SMB2U_EndingPart1State02_LandOnCork_Main
	dw SMB2U_EndingPart1State03_PullCork_Main
	dw SMB2U_EndingPart1State04_HopInPlaceAndMoveSubconsIntoPosition_Main

;--------------------------------------------------------------------

SMB2U_EndingPart1State00_MoveRight:
.Main:
;$1292EF
	JSR.w CODE_1283D1
	JSR.w CODE_1280D2
	LDA.b !RAM_SMB2U_Player_XPosLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CMP.b #$38
else
	CMP.b #$3E
endif
	BCC.b CODE_129336
	INC.b !RAM_SMB2U_Ending_FirstPartState
	INC.b !RAM_SMB2U_Player_InAirFlag
	LDA.b #$06
	STA.b !RAM_SMB2U_Player_BasePose
CODE_129303:
	LDA.b #!Define_SMAS_Sound0061_Jump
	STA.w !RAM_SMB2U_Global_SoundCh2
	JMP.w CODE_12830B

;--------------------------------------------------------------------

SMB2U_EndingPart1State01_JumpOntoCork:
.Main:
;$12930B
	JSR.w CODE_1283D1
	JSR.w CODE_1280D2
	JSR.w CODE_129390
	JSR.w SMB2U_UpdatePlayerSpritePosition_Y
	LDA.b !RAM_SMB2U_Player_YSpeed
	BMI.b CODE_129336
	LDA.b !RAM_SMB2U_Player_YPosLo
	CMP.b #$A0
	BCC.b CODE_129328
	LDA.b #$0C
	STA.b !RAM_SMB2U_Player_XSpeed
	JMP.w CODE_129303

CODE_129328:
	CMP.b #$75
	BCC.b CODE_129336
	LDA.b !RAM_SMB2U_Player_XPosLo
	CMP.b #$70
	BCC.b CODE_129336
	INC.b !RAM_SMB2U_Ending_FirstPartState
	DEC.b !RAM_SMB2U_Player_InAirFlag
CODE_129336:
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart1State02_LandOnCork:
.Main:
;$129337
	JSR.w CODE_1283D1
	JSR.w CODE_1280D2
	LDA.b !RAM_SMB2U_Player_XPosLo
	CMP.b #$80
	BCC.b CODE_129336
	INC.b !RAM_SMB2U_Ending_FirstPartState
	INC.b !RAM_SMB2U_Player_CarryingSomethingFlag
	LDA.b #$08
	STA.b !RAM_SMB2U_Player_BasePose
	LDA.b #$05
	STA.b !RAM_SMB2U_Ending_WaitBeforeCorkIsLifted
	LDA.b #$28
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart1State03_PullCork:
.Main:
;$129354
	LDA.b !RAM_SMB2U_Player_PickupAnimationTimer
	BNE.b CODE_129375
	DEC.b !RAM_SMB2U_Ending_WaitBeforeCorkIsLifted
	BNE.b CODE_12936E
	INC.b !RAM_SMB2U_Ending_FirstPartState
	INC.b !RAM_SMB2U_Player_InAirFlag
	LDA.b #$06
	STA.b !RAM_SMB2U_Player_BasePose
	LDA.b #!Define_SMAS_Sound0060_SMB2UPickupItem
	STA.w !RAM_SMB2U_Global_SoundCh1
	LDA.b #$A0
	STA.b !RAM_SMB2U_NorSpr_YSpeed+$08
	RTS

CODE_12936E:
	LDY.b !RAM_SMB2U_Ending_WaitBeforeCorkIsLifted
	LDA.w DATA_11A427,y
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
CODE_129375:
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart1State04_HopInPlaceAndMoveSubconsIntoPosition:
.Main:
;$129376
	JSR.w SMB2U_ProcessFlyingSubcons_Main
	JSR.w CODE_129390
	JSR.w CODE_1283D1
	JSR.w SMB2U_UpdatePlayerSpritePosition_Y
	LDA.b !RAM_SMB2U_Player_YSpeed
	BMI.b CODE_12938F
	LDA.b !RAM_SMB2U_Player_YPosLo
	CMP.b #$80
	BCC.b CODE_12938F
	JMP.w CODE_12830B

CODE_12938F:
	RTS

;--------------------------------------------------------------------

CODE_129390:
	LDY.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.w DATA_11A431,y
	CLC
	ADC.b !RAM_SMB2U_Player_YSpeed
	STA.b !RAM_SMB2U_Player_YSpeed
	RTS

;--------------------------------------------------------------------

SMB2U_ProcessFlyingSubcons:
.Main:
;$12939B
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot-$01
CODE_12939D:
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_Ending_WaitBeforeSubconExitsVase,x
	BEQ.b CODE_1293AE
	CMP.b #$01
	BNE.b CODE_1293D2
	LDA.b #!Define_SMAS_Sound0060_SMB2UThrow
	STA.w !RAM_SMB2U_Global_SoundCh1
	BNE.b CODE_1293D2								; Note: This will always branch.

CODE_1293AE:
	JSR.w SMB2U_UpdateSubconSpritePosition_Main
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$08
	BMI.b CODE_1293C6
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b #$F9
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.w DATA_11A41F,x
	EOR.b #$40
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_1293C6:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	ASL
	AND.b #$02
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	JSR.w SMB2U_DrawSubconsAndCork_Main
	INC.b !RAM_SMB2U_Ending_WaitBeforeSubconExitsVase,x
CODE_1293D2:
	DEC.b !RAM_SMB2U_Ending_WaitBeforeSubconExitsVase,x
	DEX
	BPL.b CODE_12939D
	RTS

;--------------------------------------------------------------------

SMB2U_ProcessCork:
.Main:
;$1293D8
	LDA.b #$04
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	JSR.w SMB2U_DrawSubconsAndCork_Main
	LDY.b !RAM_SMB2U_Ending_WaitBeforeCorkIsLifted
	BNE.b CODE_1293F4
	LDA.b !RAM_SMB2U_NorSpr_YPosLo+$08
	CMP.b #$A0
	BCC.b CODE_1293F1
	CMP.b #$E0
	BCC.b CODE_1293FC
CODE_1293F1:
	JMP.w SMB2U_UpdateEndingSpritePosition_Y

CODE_1293F4:
	LDA.w DATA_11A42B,y
	CLC
	ADC.b !RAM_SMB2U_Player_YPosLo
	STA.b !RAM_SMB2U_NorSpr_YPosLo+$08
CODE_1293FC:
	RTS

;--------------------------------------------------------------------

SMB2U_DrawSubconsAndCork:
.Main:
;$1293FD
	LDY.w DATA_11A43B,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$C0
	ORA.b #$17
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.b #$40
	BNE.b CODE_12941E
	LDA.w DATA_11A435,x
	BRA.b CODE_129421

CODE_12941E:
	LDA.w DATA_11A436,x
CODE_129421:
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	PHY
	TYA
	LSR
	LSR
	TAY
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PLY
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

;--------------------------------------------------------------------

; Note: Wart's corpse is actually the player character, at least in terms of how his movement is handled.

SMB2U_ProcessEndingPart2:
.Main:
;$129432
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_TurnOnFBlank
	JSL.l CODE_14D194
	JSL.l CODE_14F953
	LDA.b #$40
	STA.w $0100
	JSR.w CODE_12953D
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	LDA.b #$02
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	JSL.l SMB2U_BufferEndingPart2PaletteData_Main
	JSR.w SMB2U_BufferContributerScoresStripeImage_Main
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	LDA.b #$00
	STA.b !RAM_SMB2U_Ending_Layer1SubconsAnimationTimer
	STA.b $E6
	JSR.w SMB2U_DrawWavingPlayerCharacters_Main
	LDA.b #$FF
	STA.b !RAM_SMB2U_Player_XPosHi
	LDA.b #$A0
	STA.b !RAM_SMB2U_Player_XPosLo
	LDA.b #$08
	STA.b !RAM_SMB2U_Player_XSpeed
	LDA.b #$01
	STA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	LDA.b #$BE
	STA.w !RAM_SMB2U_Global_VCountTimerLo
	STZ.w !RAM_SMB2U_Ending_Layer1SubconsXPosHi
	STZ.w !RAM_SMB2U_Global_BG1AddressAndSize
	STZ.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
CODE_129486:
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	CLI
	INC.b !RAM_SMB2U_Ending_Layer1SubconsAnimationTimer
	INC.b !RAM_SMB2U_Global_FrameCounter
	JSR.w SMB2U_DisplayTopContributorsName_Main
	JSR.w CODE_129546
	LDA.b $E6
	CMP.b #$03
	BCS.b CODE_1294AE
	LDA.b !RAM_SMB2U_Ending_Layer1SubconsAnimationTimer
	CMP.b #$0A
	BCC.b CODE_1294AB
	LDA.b #$00
	STA.b !RAM_SMB2U_Ending_Layer1SubconsAnimationTimer
	LDA.b !RAM_SMB2U_Ending_Layer1SubconsXPosLo
	SEC
	SBC.b #$30
	STA.b !RAM_SMB2U_Ending_Layer1SubconsXPosLo
CODE_1294AB:
	BRL.w CODE_129486

CODE_1294AE:
	LDA.b #$03
	STA.w !RAM_SMB2U_Global_BG1AddressAndSize
	STZ.b !RAM_SMB2U_Ending_Layer1SubconsXPosLo
	STZ.b !RAM_SMB2U_Ending_Layer1SubconsAnimationTimer
	STZ.w $0242
	LDA.b #$04
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
CODE_1294BE:
	JSR.w SMB2U_WaitForVBlankRt_EndingPart1And2_Main
	JSR.w CODE_12953D
	INC.b !RAM_SMB2U_Ending_Layer1SubconsAnimationTimer
	JSR.w SMB2U_DisplayTopContributorsName_Main
	JSR.w SMB2U_HandleWavingPlayerCharacters_Main
	LDX.b #$02
CODE_1294CE:
	LDY.b #$00
CODE_1294D0:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	LDA.b !RAM_SMB2U_Global_ScratchRAM00					; Optimization: Duplicated line of code.
endif
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	DEY
	BNE.b CODE_1294D0
	DEX
	BNE.b CODE_1294CE
	LDA.b #$B0
	ORA.b !RAM_SMB2U_Ending_Layer1SubconsXPosLo
	STA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	LDA.b !RAM_SMB2U_Ending_Layer1SubconsAnimationTimer
	CMP.b #$14
	BCC.b CODE_1294F5
	LDA.b #$00
	STA.b !RAM_SMB2U_Ending_Layer1SubconsAnimationTimer
	INC.w $0242
	LDA.w !RAM_SMB2U_Ending_Layer1SubconsXPosHi
	EOR.b #$01
	STA.w !RAM_SMB2U_Ending_Layer1SubconsXPosHi
CODE_1294F5:
	LDA.w $0242
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CMP.b #$20
else
	CMP.b #$2C
endif
	BCC.b CODE_1294BE
	JSR.w CODE_129510
	LDA.b $E6
	CMP.b #$04
	BCC.b CODE_1294BE
	LDA.b #$FF
	STA.w !RAM_SMB2U_Global_VCountTimerLo
	LDA.b #$01
	STA.w !RAM_SMB2U_Ending_Layer1SubconsXPosHi
	RTL

;--------------------------------------------------------------------

CODE_129510:
	DEC.b $E5
	BPL.b CODE_129525
	LDA.b #$01
	STA.b $E5
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	AND.b #$0F
	DEC
	BMI.b CODE_129523
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	BRA.b CODE_129525

CODE_129523:
	INC.b $E6
CODE_129525:
	RTS

;--------------------------------------------------------------------

CODE_129526:
	DEC.b $E5
	BPL.b CODE_129525
	LDA.b #$01
	STA.b $E5
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	INC
	CMP.b #$10
	BEQ.b CODE_129523
	STA.w !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	RTS

CODE_129539:
	JSR.w CODE_129526
	RTL

;--------------------------------------------------------------------

CODE_12953D:
	LDA.b #$B0
	BRA.b CODE_129543

CODE_129541:
	LDA.b #$30
CODE_129543:
	STA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	RTS

;--------------------------------------------------------------------

; Note: Something related to the second part of the ending.

CODE_129546:
	JSL.l CODE_14F9F0
	JSR.w SMB2U_HandleWavingPlayerCharacters_Main
	LDA.b $E6
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_129552:
	dw CODE_129526
	dw SMB2U_EndingPart2State01_MoveWartsCorpse_Main
	dw SMB2U_EndingPart2State02_PummelWartAndCelebrate_Main

;--------------------------------------------------------------------

SMB2U_EndingPart2State01_MoveWartsCorpse:
.Main:
;$129559
	JSR.w CODE_1280D2
	LDA.b !RAM_SMB2U_Player_XPosHi
	CMP.b #$01
	BNE.b CODE_129586
	LDA.b !RAM_SMB2U_Player_XPosLo
	CMP.b #$20
	BCC.b CODE_129586
	INC.w $00E6
	LDA.b #$A0
	STA.b !RAM_SMB2U_Global_FrameCounter
	LDX.b #$05
CODE_129571:
	LDA.b #$20
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b #$A8
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.w DATA_11AA5E,x
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.w DATA_11AA64,x
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	DEX
	BPL.b CODE_129571
CODE_129586:
	LDY.b #$A0
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$38
	BNE.b CODE_12958F
	DEY
CODE_12958F:
	AND.b #$08
	BNE.b CODE_129594
	DEY
CODE_129594:
	STY.b !RAM_SMB2U_Player_YPosLo
	LDX.b #$05
	LDY.b #$70
CODE_12959A:
	STZ.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Player_YPosLo
	CLC
	ADC.w DATA_11AA76,x
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.w DATA_11AA6A,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b #$2B
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	LDA.b !RAM_SMB2U_Player_XPosLo
	CLC
	ADC.w DATA_11AA70,x
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.b !RAM_SMB2U_Player_XPosHi
	ADC.b #$00
	BEQ.b CODE_1295C3
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM00
CODE_1295C3:
	PHY
	TYA
	LSR
	LSR
	TAY
	LDA.b #$02
	ORA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PLY
	INY
	INY
	INY
	INY
	DEX
	BPL.b CODE_12959A
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart2State02_PummelWartAndCelebrate:
.Main:
;$1295D8
	LDA.b !RAM_SMB2U_Global_FrameCounter
	BNE.b CODE_1295F5
	STA.w $040E
	STA.w $0418
	STA.b !RAM_SMB2U_Ending_CastListSpriteDataPtrLo
	STA.b !RAM_SMB2U_Global_FrameCounter
	LDA.b #$6F
	STA.b $39
	LDA.b #$E6
	STA.b $43
	LDA.b #$DA
	STA.b $4D
	INC.w $00E6
CODE_1295F5:
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot-$03
CODE_1295F7:
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	JSR.w SMB2U_UpdateEndingSpritePosition_X
	JSR.w SMB2U_UpdateEndingSpritePosition_Y
	LDY.b #$F0
	LDA.b !RAM_SMB2U_Global_FrameCounter
	BEQ.b CODE_129612
	AND.b #$0F
	CMP.w DATA_11AA82,x
	BNE.b CODE_129614
	LDA.b #$20
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDY.b #$A8
CODE_129612:
	STY.b !RAM_SMB2U_NorSpr_YPosLo,x
CODE_129614:
	TXA
	ASL
	ASL
	ASL
	TAY
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	CMP.b #$80
	BCS.b CODE_129623
	LDA.b #$F0
	BNE.b CODE_12962B							; Note: This will always branch.

CODE_129623:
	STA.w SMB2U_OAMBuffer[$1C].XDisp,y
	STA.w SMB2U_OAMBuffer[$1D].XDisp,y
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
CODE_12962B:
	STA.w SMB2U_OAMBuffer[$1C].YDisp,y
	CMP.b #$F0
	BEQ.b CODE_129638
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$1D].YDisp,y
CODE_129638:
	LDA.w DATA_11AA7C,x
	STA.w SMB2U_OAMBuffer[$1C].Tile,y
	ORA.b #$10
	STA.w SMB2U_OAMBuffer[$1D].Tile,y
	LDA.b #$23
	STA.w SMB2U_OAMBuffer[$1C].Prop,y
	STA.w SMB2U_OAMBuffer[$1D].Prop,y
	PHY
	TYA
	LSR
	LSR
	TAY
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$1C].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$1D].Slot,y
	PLY
	DEX
	BPL.b CODE_1295F7
	RTS

;--------------------------------------------------------------------

SMB2U_HandleWavingPlayerCharacters:
.Main:
;$12965D
	JSR.w SMB2U_DrawWavingPlayerCharacters_Main
	INC.b !RAM_SMB2U_Player_WalkBobbingIndex
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Player_WalkBobbingIndex
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDY.b #$1C
CODE_12966C:
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w DATA_11AA98,x
	TAX
	INC.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.b #$10
	BEQ.b CODE_12967B
	INX
CODE_12967B:
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM02
CODE_12967F:
	LDA.w DATA_11AA88,x
	STA.w SMB2U_OAMBuffer[$04].Tile,y
	DEX
	DEX
	DEY
	DEY
	DEY
	DEY
	DEC.b !RAM_SMB2U_Global_ScratchRAM02
	BPL.b CODE_12967F
	DEC.b !RAM_SMB2U_Global_ScratchRAM00
	BPL.b CODE_12966C
	RTS

;--------------------------------------------------------------------

SMB2U_DrawWavingPlayerCharacters:
.Main:
;$129694
	LDY.b #$1F
CODE_129696:
	LDA.w SMB2U_WavingPlayersOAMData,y
	STA.w SMB2U_OAMBuffer[$04].XDisp,y
	DEY
	BPL.b CODE_129696
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$04].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$05].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$06].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$07].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$08].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$09].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$0A].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$0B].Slot
	RTS

;--------------------------------------------------------------------

SMB2U_BufferContributerScoresStripeImage:
.Main:
;$1296BA
	LDA.b #$00
	STA.w !RAM_SMB2U_Ending_HighestContributionCount
	LDY.b #$03
CODE_1296C1:
	LDA.w !RAM_SMB2U_Player_MariosContributionCount,y
	CMP.w !RAM_SMB2U_Ending_HighestContributionCount
	BCC.b CODE_1296CF
	LDA.w !RAM_SMB2U_Player_MariosContributionCount,y
	STA.w !RAM_SMB2U_Ending_HighestContributionCount
CODE_1296CF:
	DEY
	BPL.b CODE_1296C1
	LDX.b #$00
	LDY.b #$03
CODE_1296D6:
	LDA.w !RAM_SMB2U_Player_MariosContributionCount,y
	CMP.w !RAM_SMB2U_Ending_HighestContributionCount
	BNE.b CODE_1296E3
	TYA
	STA.w !RAM_SMB2U_Ending_TopContributerIDTable,x
	INX
CODE_1296E3:
	DEY
	BPL.b CODE_1296D6
	DEX
	STX.w !RAM_SMB2U_Ending_NumberOfTiedTopContributers
	LDX.b #$00
	LDA.b #$01
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	LDA.b #$29
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	LDA.b #$00
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	LDA.b #$1B
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	LDY.b #$00
	LDA.w !RAM_SMB2U_Player_MariosContributionCount,y
	JSR.w CODE_129820
	TYA
	REP.b #$20
	AND.w #$00FF
	CMP.w #$00BF
	BEQ.b CODE_12971C
	ORA.w #$1500
	BRA.b CODE_12971F

CODE_12971C:
	LDA.w #$14BE
CODE_12971F:
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.w #$00FF
	ORA.w #$1500
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.w #$15FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.w #$15EF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.w #$14BE
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	SEP.b #$20
	LDY.b #$03
	LDA.w !RAM_SMB2U_Player_MariosContributionCount,y
	JSR.w CODE_129820
	TYA
	REP.b #$20
	AND.w #$00FF
	CMP.w #$00BF
	BEQ.b CODE_129762
	ORA.w #$1500
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
CODE_129762:
	INX
	INX
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.w #$00FF
	ORA.w #$1500
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.w #$15FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.w #$15EF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.w #$14BE
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	SEP.b #$20
	LDY.b #$02
	LDA.w !RAM_SMB2U_Player_MariosContributionCount,y
	JSR.w CODE_129820
	TYA
	REP.b #$20
	AND.w #$00FF
	CMP.w #$00BF
	BEQ.b CODE_1297A2
	ORA.w #$1500
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
CODE_1297A2:
	INX
	INX
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.w #$00FF
	ORA.w #$1500
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.w #$15FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.w #$15EF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	LDA.w #$14BE
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	SEP.b #$20
	LDY.b #$01
	LDA.w !RAM_SMB2U_Player_MariosContributionCount,y
	JSR.w CODE_129820
	TYA
	REP.b #$20
	AND.w #$00FF
	CMP.w #$00BF
	BEQ.b CODE_1297E2
	ORA.w #$1500
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
CODE_1297E2:
	INX
	INX
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.w #$00FF
	ORA.w #$1500
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INX
	SEP.b #$20
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	LDA.b #$3C
	STA.w !RAM_SMB2U_Ending_TopContributersNameDisplayTimer
	RTS

;--------------------------------------------------------------------

SMB2U_DisplayTopContributorsName:
.Main:
;$1297FE
	DEC.w !RAM_SMB2U_Ending_TopContributersNameDisplayTimer
	BPL.b CODE_12981F
	LDA.b #$3C
	STA.w !RAM_SMB2U_Ending_TopContributersNameDisplayTimer
	LDY.w !RAM_SMB2U_Ending_TopContributersNameDisplayLoopCounter
	LDA.w !RAM_SMB2U_Ending_TopContributerIDTable,y
	CLC
	ADC.b #$06
	STA.w !RAM_SMB2U_Global_StripeImageToUpload
	DEC.w !RAM_SMB2U_Ending_TopContributersNameDisplayLoopCounter
	BPL.b CODE_12981F
	LDA.w !RAM_SMB2U_Ending_NumberOfTiedTopContributers
	STA.w !RAM_SMB2U_Ending_TopContributersNameDisplayLoopCounter
CODE_12981F:
	RTS

;--------------------------------------------------------------------

CODE_129820:
	LDY.b #$C0
CODE_129822:
	CMP.b #$0A
	BCC.b CODE_12982B
	SBC.b #$0A
	INY
	BRA.b CODE_129822

CODE_12982B:
	ORA.b #$C0
	CPY.b #$C0
	BNE.b CODE_129833
	LDY.b #$BF
CODE_129833:
	CPY.b #$CA
	BCC.b CODE_12983B
	LDY.b #$C9
	LDA.b #$C9
CODE_12983B:
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	RTS

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	%FREE_BYTES(NULLROM, 62, $FF)
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	%FREE_BYTES(NULLROM, 66, $FF)
endif

;--------------------------------------------------------------------

SMB2U_UpdateEndingSpritePosition:
.Y:
;$129880
	TXA
	CLC
	ADC.b #$0A
	TAX
.X:
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CLC
	ADC.w !RAM_SMB2U_NorSpr_XSpeedOffset,x
	PHA
	ASL
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	PLA
	LSR
	LSR
	LSR
	LSR
	CMP.b #$08
	BCC.b CODE_12989D
	ORA.b #$F0
CODE_12989D:
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.b #$00
	ASL
	BCC.b CODE_1298A5
	DEY
CODE_1298A5:
	STY.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w !RAM_SMB2U_NorSpr_SubXPos,x
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w !RAM_SMB2U_NorSpr_SubXPos,x
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LSR.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM02
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

;--------------------------------------------------------------------

SMB2U_UpdateSubconSpritePosition:
.Main:
;$1298C1
	LDA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	BNE.b CODE_1298C9
	JSR.w SMB2U_UpdateEndingSpritePosition_X
CODE_1298C9:
	JSR.w SMB2U_UpdateEndingSpritePosition_Y
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_1298D4
	CMP.b #$3E
	BCS.b CODE_1298D8
CODE_1298D4:
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_1298D8:
	RTS

;--------------------------------------------------------------------

; Note: Something related to unlocking a locked door.

CODE_1298D9:
	LDA.b #$01
	BNE.b CODE_1298DF						; Note: This will always branch.

CODE_1298DD:
	LDA.b #$00
CODE_1298DF:
	PHA
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_1298E2:
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	BEQ.b CODE_1298F8
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3C_Door
	BNE.b CODE_1298F8
	LDA.b #!Define_SMB2U_NorSprStatus05_SmokePuff
	STA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	LDA.b #$20
	STA.w !RAM_SMB2U_NorSprStatus05_SmokePuff_DespawnTimer,y
CODE_1298F8:
	DEY
	BPL.b CODE_1298E2
	JSR.w CODE_129AA5
	BPL.b CODE_129905
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot
	JSR.w CODE_129AB4
CODE_129905:
	LDA.b #$00
	STA.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	STA.w !RAM_SMB2U_NorSpr3C_Door_DespawnTimer
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	PLA
	STA.w !RAM_SMB2U_NorSpr3C_Door_IsLockedFlag,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr3C_Door
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b !RAM_SMB2U_Player_XPosLo
	ADC.b #$08
	AND.b #$F0
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Player_XPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDY.b #$00
	LDA.w !RAM_SMB2U_Player_EntranceTypeToUse
	CMP.b #$01
	BEQ.b CODE_129930
	LDY.b #$01
CODE_129930:
	TYA
	CLC
	ADC.b !RAM_SMB2U_Player_YPosLo
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_Player_YPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	LDA.b #$41
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

;--------------------------------------------------------------------

CODE_129943:
	PLA
	RTS

;--------------------------------------------------------------------

; Note: Routine that spawns the star

CODE_129945:
	JSR.w CODE_129AA9
	BMI.b CODE_12996F
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr45_Star
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	ADC.b #$D0
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	ADC.b #$E0
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	JSR.w CODE_1299A4
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12996F:
	RTS

;--------------------------------------------------------------------

CODE_129970:
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_DecrementingTable7E0086,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_Table7E0079,x
CODE_129978:
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_Table7E00B1,x
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	STA.b !RAM_SMB2U_NorSpr_Table7E009F,x
	STA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	STA.b $5B,x
	STA.w !RAM_SMB2U_NorSpr_DecrementingTable7E0438,x
	STA.w !RAM_SMB2U_NorSpr_DecrementingTable7E0453,x
	STA.w !RAM_SMB2U_NorSpr_XSpeedOffset,x
	STA.w !RAM_SMB2U_NorSpr_YSpeedOffset,x
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	STA.w !RAM_SMB2U_NorSpr_Table7E0477,x
	STA.w !RAM_SMB2U_NorSpr_Table7E0480,x
	STA.w !RAM_SMB2U_NorSpr_Table7E0465,x
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_1299A4:
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w DATA_11CC45,y
	AND.b #$7F
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.w DATA_11CC8C,y
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.w DATA_11CD1A,y
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0489,x
	LDA.w DATA_11CCD3,y
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0492,x
	RTS

;--------------------------------------------------------------------

CODE_1299C0:
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$FC
	ORA.b #$01
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #!Define_SMB2U_NorSprStatus05_SmokePuff
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	STA.b $9F,x
	LDA.b #$1F
	STA.b !RAM_SMB2U_NorSprStatus05_SmokePuff_DespawnTimer,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

;--------------------------------------------------------------------

CODE_1299D5:
	LDA.b #$FF
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	RTS

;--------------------------------------------------------------------

CODE_1299DB:
	LDX.b $E9
	JSR.w CODE_1299E8
	LDA.b $E6
	CLC
	ADC.b $E5
	STA.b $E7
	RTS

CODE_1299E8:
	STY.w $02F5
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_1299F4
	LDA.b #$00
	BRA.b CODE_1299FA

CODE_1299F4:
	LDY.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.w DATA_11AB11,y
CODE_1299FA:
	CLC
	ADC.w DATA_11AAFB,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w DATA_11AAF0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w DATA_11AB06,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.w $02F5
	RTS

;--------------------------------------------------------------------

; Note: Player touching quicksand routine.

CODE_129A0E:
	LDA.b #$01
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	CPY.b #$92
	BEQ.b CODE_129A1F
	CPY.b #$93
	BEQ.b CODE_129A1D
	LDA.b #$00
	RTS

CODE_129A1D:
	LDA.b #$08
CODE_129A1F:
	STA.b !RAM_SMB2U_Player_YSpeed
	LDA.w !RAM_SMB2U_Player_InQuicksandDepth
	BNE.b CODE_129A2D
	LDA.b !RAM_SMB2U_Player_YPosLo
	AND.b #$10
	STA.w $04EC
CODE_129A2D:
	LDA.b !RAM_SMB2U_Player_YPosLo
	AND.b #$0F
	TAY
	LDA.w $04EC
	EOR.b !RAM_SMB2U_Player_YPosLo
	AND.b #$10
	BEQ.b CODE_129A49
	CPY.b #$0C
	BCC.b CODE_129A47
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	JSL.l CODE_14E39F
CODE_129A47:
	LDY.b #$04
CODE_129A49:
	CPY.b #$04
	BCS.b CODE_129A4F
	LDY.b #$01
CODE_129A4F:
	TYA
	DEX
	RTS

;--------------------------------------------------------------------

; Note: Something related to being hurt by spikes.

CODE_129A52:
	LDA.b !RAM_SMB2U_Player_HurtTimer
	BNE.b CODE_129A7F
	LDA.w !RAM_SMB2U_Player_CurrentHP
	SEC
	SBC.b #$10
	BCC.b CODE_129A80
	STA.w !RAM_SMB2U_Player_CurrentHP
	LDA.b #$7F
	STA.b !RAM_SMB2U_Player_HurtTimer
	LDA.w !RAM_SMB2U_Player_OnScreenPosXLo
	SEC
	SBC.w !RAM_SMB2U_Level_SpriteTileXDispLo
	ASL
	ASL
	STA.b !RAM_SMB2U_Player_XSpeed
	LDA.b #$C0
	LDY.b !RAM_SMB2U_Player_YSpeed
	BPL.b CODE_129A78
	LDA.b #$00
CODE_129A78:
	STA.b !RAM_SMB2U_Player_YSpeed
	LDA.b #!Define_SMAS_Sound0060_IntoPipe
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_129A7F:
	RTS

CODE_129A80:
	LDA.b #$C0
	STA.b !RAM_SMB2U_Player_YSpeed
	LDA.b #$20
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	BMI.b CODE_129A90
	LSR
	STA.w $0438,y
CODE_129A90:
	JSL.l CODE_14E39F
	RTS

;--------------------------------------------------------------------

; Note: Unreferenced routine?

CODE_129A95:
	LDY.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	BMI.b CODE_129AA0
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	AND.b #$7F
	STA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
CODE_129AA0:
	LDA.b #!Define_SMB2U_NorSprStatus00_EmptySlot
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	RTS

;--------------------------------------------------------------------

; Note: Very similar copy of SMB2U_FindFreeNormalSpriteSlot

CODE_129AA5:
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot
	BNE.b CODE_129AAB						; Note: This will always branch.

CODE_129AA9:
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot-$03
CODE_129AAB:
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	BEQ.b CODE_129AB4
	DEY
	BPL.b CODE_129AAB
	RTS

CODE_129AB4:
	LDA.b #!Define_SMB2U_NorSprStatus01_Normal
	STA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	LSR
	STA.w !RAM_SMB2U_NorSpr_IsABossFlag,y
	LDA.b #!Define_SMB2U_SpriteID_NorSpr01_RedShyGuy
	STA.w !RAM_SMB2U_NorSpr_SpriteID,y
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ADC.b #$05
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.b #$00
	STA.w !RAM_SMB2U_NorSpr_XPosHi,y
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.w !RAM_SMB2U_NorSpr_YPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	STA.w !RAM_SMB2U_NorSpr_YPosHi,y
	STY.b !RAM_SMB2U_Global_ScratchRAM00
	TYA
	TAX
	JSR.w CODE_129970
	JSR.w CODE_1299D5
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	%FREE_BYTES(NULLROM, 1, $FF)
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	%FREE_BYTES(NULLROM, 25, $FF)
endif

;--------------------------------------------------------------------

CODE_129B00:
	LDA.w $04AE
	BEQ.b CODE_129B09
	JSR.w CODE_129C6B
	RTL

CODE_129B09:
	INC.w $04AE
	STA.w !RAM_SMB2U_Level_UnusedRAM7E0593
	STA.w !RAM_SMB2U_Level_ShakeLayer1Timer
	STA.w $04C7
	STA.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
	STA.w !RAM_SMB2U_NorSprXX_Hawkmouth_CloseMouthFlag
	STA.w !RAM_SMB2U_GenSpr_SpriteID
	STA.w !RAM_SMB2U_NorSprXX_Hawkmouth_WaitBeforeOpeningMouthTimer
	STA.w !RAM_SMB2U_Level_DisableScrollingFlag
	STA.w $0425
	STA.b !RAM_SMB2U_Player_XSpeed
	STA.b !RAM_SMB2U_Player_HurtTimer
	STA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	STA.w !RAM_SMB2U_Level_ShakingLayer1DispYLo
	STA.w !RAM_SMB2U_Level_UnusedRAM7E04FE
	STA.w !RAM_SMB2U_Player_PowerJumpCharge
	STA.w !RAM_SMB2U_Player_HoverTimer
	STA.w !RAM_SMB2U_Player_InQuicksandDepth
	STA.w !RAM_SMB2U_Level_DisableReadFromSpriteListTableFlag
	LDY.b #$1B
CODE_129B43:
	LDA.w DATA_11AB47,y
	STA.w $1F00,y
	DEY
	BPL.b CODE_129B43
	LDY.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.w DATA_119780,y
	STA.w $1F00
	LDA.w DATA_119788,y
	STA.w $1F07
	LDA.w DATA_119784,y
	STA.w $1F0E
	LDA.w DATA_11978C,y
	STA.w $1F15
	LDA.b #$B6
	STA.w $0585
	LDA.w !RAM_SMB2U_Player_EntranceTypeToUse
	ORA.w !RAM_SMB2U_Level_CurrentLevel								; Note: !Define_SMB2U_LevelID_1_1
	BNE.b CODE_129B78
	LDA.b #!Define_SMAS_Sound0060_FallIntoSubcon
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_129B78:
	LDA.w !RAM_SMB2U_NorSpr_SpriteToCarryThroughScreenTransition
	BNE.b CODE_129B80
	JMP.w CODE_129C06

CODE_129B80:
	PHA
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_129B83:
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	DEX
	BPL.b CODE_129B83
	PLA
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot-$03
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3F_Mushroom
	BEQ.b CODE_129C06
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDY.b #$01
	STY.b $56
	LDY.b #$FF
	STY.w $0446
	CMP.b #!Define_SMB2U_SpriteID_NorSpr38_RocketShip
	BNE.b CODE_129BC0
	STA.b !RAM_SMB2U_NorSpr38_RocketShip_CanLaunchFlag,x
	STA.w !RAM_SMB2U_NorSpr_XSpeedOffset-$05,x
	STA.w !RAM_SMB2U_NorSpr38_RocketShip_CanEjectCharacter,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	JSR.w CODE_129F81
	LDA.b #$F0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	ASL
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #$78
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	BNE.b CODE_129C06							; Note: This will always branch

CODE_129BC0:
	PHA
	STX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	JSR.w CODE_129F9D
	LDA.b #$01
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	STA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	JSR.w SMB2U_ProcessCarriedSprite_Main
	PLA
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BNE.b CODE_129C06
	INC.b !RAM_SMB2U_NorSpr_DontClingToBirdoFlag,x
	DEX
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b #!Define_SMB2U_NorSprStatus01_Normal
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr17_Phanto
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_129F9D
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) != $00
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr17_Phanto_ActivationCountdown
else
	STZ.w !RAM_SMB2U_NorSpr17_Phanto_ActivationCountdown
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BPL.b CODE_129BF1
	EOR.b #$FF
	INC
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_129BF1:
endif
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	JSR.w CODE_12A0A3
CODE_129C06:
	STZ.b !RAM_SMB2U_Level_SpriteListDataLo								; Note: Code that loads sprites from the sprite list when entering a new sublevel.
	LDA.b #!RAM_SMB2U_Level_SpriteListData>>8
	STA.b !RAM_SMB2U_Level_SpriteListDataHi
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_129C42
	LDA.b #$14
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	SBC.b #$30
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	SBC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM06
CODE_129C22:
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	CMP.b #$0B
	BCS.b CODE_129C2E
	JSR.w CODE_129E2D								;\ Note: Apparently, the game can only load 2 sprites from the sprite list at the same X/Y position when entering a new sublevel.
	JSR.w CODE_129E2D								;/ This is why the tweeter doesn't show up in 4-3 until you scroll the screen.
CODE_129C2E:
	JSR.w CODE_129C36
	DEC.b !RAM_SMB2U_Global_ScratchRAM09
	BPL.b CODE_129C22
	RTL

CODE_129C36:
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	BCC.b CODE_129C41
	INC.b !RAM_SMB2U_Global_ScratchRAM06
CODE_129C41:
	RTS

CODE_129C42:
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	SEC
	SBC.b #$30
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	SBC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$17
	STA.b !RAM_SMB2U_Global_ScratchRAM09
CODE_129C57:
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	CMP.b #$0B
	BCS.b CODE_129C63
	JSR.w CODE_129D99								;\ Note: Apparently, the game can only load 2 sprites from the sprite list at the same X/Y position when entering a new sublevel.
	JSR.w CODE_129D99								;/
CODE_129C63:
	JSR.w CODE_129C36
	DEC.b !RAM_SMB2U_Global_ScratchRAM09
	BPL.b CODE_129C57
	RTL

;--------------------------------------------------------------------

; Note: Routine that processes normal sprites?

CODE_129C6B:
	JSR.w CODE_129D71
	LDA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	BEQ.b CODE_129C89
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$1F
	BNE.b CODE_129C83
	LDY.w $079C
	BNE.b CODE_129C83
	LDY.b #!Define_SMAS_Sound0060_StopwatchTick
	STY.w !RAM_SMB2U_Global_SoundCh1
CODE_129C83:
	LSR
	BCC.b CODE_129C89
	DEC.w !RAM_SMB2U_NorSpr_StopWatchTimer
CODE_129C89:
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	CLC
	ADC.b #$FF
	STA.w $04C2
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	ADC.b #$00
	STA.w $04C0
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_129C9C:
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	TXA
	CLC
	ADC.w $0400
	ASL
	TAY
	REP.b #$20
	LDA.w DATA_11CC23,y
	LDY.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_129CC2
	LDY.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	CPY.b #$19
	BCS.b CODE_129CC2
	LDA.w #$0070
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.w #!Define_SMB2U_SpriteID_NorSpr38_RocketShip
	BNE.b CODE_129CC2
	LDA.w #$0020
CODE_129CC2:
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	SEP.b #$20
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	CMP.b #!Define_SMB2U_NorSprStatus02_Dead
	BCS.b CODE_129CD8
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCS.b CODE_129CD8
	LDA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	BNE.b CODE_129CE6
CODE_129CD8:
	LDA.b !RAM_SMB2U_NorSpr_DecrementingTable7E0086,x
	BEQ.b CODE_129CDE
	DEC.b !RAM_SMB2U_NorSpr_DecrementingTable7E0086,x
CODE_129CDE:
	LDA.w !RAM_SMB2U_NorSpr_DecrementingTable7E0453,x
	BEQ.b CODE_129CE6
	DEC.w !RAM_SMB2U_NorSpr_DecrementingTable7E0453,x
CODE_129CE6:
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_129CEE
	DEC.w !RAM_SMB2U_NorSpr_FlashingTimer,x
CODE_129CEE:
	LDA.w !RAM_SMB2U_NorSpr_DecrementingTable7E0438,x
	BEQ.b CODE_129CFB
	LDA.b !RAM_SMB2U_Global_FrameCounter
	LSR
	BCC.b CODE_129CFB
	DEC.w !RAM_SMB2U_NorSpr_DecrementingTable7E0438,x
CODE_129CFB:
	JSR.w CODE_129D28
	JSR.w CODE_12BB66
	JSR.w CODE_129D57
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	DEX
	BPL.b CODE_129C9C
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BNE.b CODE_129D27
	LDA.w !RAM_SMB2U_GenSpr_SpriteID
	BEQ.b CODE_129D27
	SEC
	SBC.b #!Define_SMB2U_SpriteID_NorSpr47_AlbatossGenerator
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_129D1A:
	dw SMB2U_GenSpr47_AlbatossGenerator_Main
	dw SMB2U_GenSpr48_YellowBeezoGenerator_Main
	dw SMB2U_GenSpr49_TurnOffGenerators_Main
	dw SMB2U_GenSpr4A_VeggieGenerator_Main

;--------------------------------------------------------------------

SMB2U_GenSpr49_TurnOffGenerators:
.Main:
;$129D22
	LDA.b #$00
	STA.w !RAM_SMB2U_GenSpr_SpriteID
CODE_129D27:
SMB2U_NorSprStatus00_EmptySlot:
.Main:
	RTS

;--------------------------------------------------------------------

CODE_129D28:
	LDY.b #$00
	JSR.w CODE_129D2E
	INY
CODE_129D2E:
	LDA.w $0585
	ASL
	ASL
	SEC
	ADC.w $0585
	STA.w $0585
	ASL.w $0586
	LDA.b #$20
	BIT.w $0586
	BCC.b CODE_129D48
	BEQ.b CODE_129D4D
	BNE.b CODE_129D4A						; Note: This will always branch.

CODE_129D48:
	BNE.b CODE_129D4D
CODE_129D4A:
	INC.w $0586
CODE_129D4D:
	LDA.w $0586
	EOR.w $0585
	STA.w $0587,y
	RTS

;--------------------------------------------------------------------

; Note: Routine for processing sprite states?

CODE_129D57:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_129D5D:
	dw SMB2U_NorSprStatus00_EmptySlot_Main
	dw SMB2U_NorSprStatus01_Normal_Main
	dw SMB2U_NorSprStatus02_Dead_Main
	dw SMB2U_NorSprStatus03_DrawCrumblingRock_Main
	dw SMB2U_NorSprStatus04_Explosion_Main
	dw SMB2U_NorSprStatus05_SmokePuff_Main
	dw SMB2U_NorSprStatus06_DrawDugUpSand_Main
	dw SMB2U_NorSprStatus07_SinkInQuicksand_Main
	dw SMB2U_NorSprStatus08_DrawPOWBlockSmoke_Main
	dw SMB2U_NorSprStatus09_DrawDeadMiniFryguy

;--------------------------------------------------------------------

; Note: Routine related to the sprite list.

CODE_129D71:
	LDA.w !RAM_SMB2U_Level_DisableReadFromSpriteListTableFlag
	BNE.b CODE_129DC7
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_129D7C:
	dw CODE_129E09
	dw CODE_129D80

CODE_129D80:
	LDY.b $6E
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	CLC
	ADC.w DATA_119790-$01,y
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	ADC.w DATA_119792-$01,y
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	CMP.b #$0A
	BCS.b CODE_129DC7
CODE_129D99:
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$02
	BEQ.b CODE_129DC7
	LDX.b #$00
	STX.b !RAM_SMB2U_Global_ScratchRAM00
CODE_129DA4:
	CPX.b !RAM_SMB2U_Global_ScratchRAM06
	BEQ.b CODE_129DB4
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	TAY
	CLC
	ADC.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	INX
	JMP.w CODE_129DA4

CODE_129DB4:
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.b #$FF
	DEY
CODE_129DBD:
	INY
	INY
	INX
	INX
	CPX.b !RAM_SMB2U_Global_ScratchRAM01
	BCC.b CODE_129DC8
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_129DC7:
	RTS

CODE_129DC8:
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	BMI.b CODE_129DBD
	INY
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	DEY
	AND.b #$F0
	CMP.b !RAM_SMB2U_Global_ScratchRAM05
	BNE.b CODE_129DBD
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	CMP.b #$5C
	BCS.b CODE_129DE4
	CMP.b #!Define_SMB2U_SpriteID_NorSpr47_AlbatossGenerator
	BCC.b CODE_129DE4
	STA.w !RAM_SMB2U_GenSpr_SpriteID
	RTS

CODE_129DE4:
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot-$04
CODE_129DE6:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	BEQ.b CODE_129DEE
	DEX
	BPL.b CODE_129DE6
	RTS

CODE_129DEE:
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	INY
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	DEY
	ASL
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	JMP.w CODE_129E93

CODE_129E09:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$01
	TAY
	INY
	LDA.b $D8
	BEQ.b CODE_129E18
	AND.b #$03
	EOR.b #$03
	TAY
CODE_129E18:
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	CLC
	ADC.w DATA_119790-$01,y
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	ADC.w DATA_119792-$01,y
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	CMP.b #$0A
	BCS.b CODE_129DC7
CODE_129E2D:
	LDX.b #$00
	STX.b !RAM_SMB2U_Global_ScratchRAM00
CODE_129E31:
	CPX.b !RAM_SMB2U_Global_ScratchRAM06
	BEQ.b CODE_129E41
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	TAY
	CLC
	ADC.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	INX
	JMP.w CODE_129E31

CODE_129E41:
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.b #$FF
	DEY
CODE_129E4A:
	INY
	INY
	INX
	INX
	CPX.b !RAM_SMB2U_Global_ScratchRAM01
	BCC.b CODE_129E55
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_129E54:
	RTS

CODE_129E55:
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	BMI.b CODE_129E4A
	INY
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	DEY
	ASL
	ASL
	ASL
	ASL
	CMP.b !RAM_SMB2U_Global_ScratchRAM05
	BNE.b CODE_129E4A
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	CMP.b #$5C
	BCS.b CODE_129E73
	CMP.b #!Define_SMB2U_SpriteID_NorSpr47_AlbatossGenerator
	BCC.b CODE_129E73
	STA.w !RAM_SMB2U_GenSpr_SpriteID
	RTS

CODE_129E73:
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot-$04
CODE_129E75:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	BEQ.b CODE_129E7D
	DEX
	BPL.b CODE_129E75
	RTS

CODE_129E7D:
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	INY
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	DEY
	AND.b #$F0
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
CODE_129E93:
	STA.w !RAM_SMB2U_NorSpr_IsABossFlag,x
	STY.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	AND.b #$3F
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCS.b CODE_129EAF
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_129EAF
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	ADC.b #$18
	CMP.b #$30
	BCC.b CODE_129E54
CODE_129EAF:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	ORA.b #$80
	STA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	CMP.b #$DC
	AND.b #$7F
	BCC.b CODE_129EC2
	AND.b #$3F
	STA.w !RAM_SMB2U_NorSpr_IsABossFlag,x
CODE_129EC2:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr1C_Birdo
	BNE.b CODE_129ECE
	LDX.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
	BEQ.b CODE_129ECE
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

CODE_129ECE:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr17_Phanto
	BEQ.b CODE_129ED6
	CMP.b #!Define_SMB2U_SpriteID_NorSpr1D_Mouser
	BNE.b CODE_129EE3
CODE_129ED6:
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot-$03
CODE_129ED8:
	CMP.b !RAM_SMB2U_NorSpr_SpriteID,x
	BEQ.b CODE_129EE1
	DEX
	BPL.b CODE_129ED8
	BRA.b CODE_129EE3

CODE_129EE1:
	STZ.b !RAM_SMB2U_NorSpr_CurrentStatus,x
CODE_129EE3:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	TYA
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	INC.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_129EF2:
	dw SMB2U_NorSpr00_RecoveryHeart_InitRt_Main
	dw SMB2U_NorSpr01_RedShyGuy_InitRt_Main
	dw SMB2U_NorSpr02_Tweeter_InitRt_Main
	dw SMB2U_NorSpr03_BlueShyGuy_InitRt_Main
	dw SMB2U_NorSpr04_Porcupo_InitRt_Main
	dw SMB2U_NorSpr05_RedSnifit_InitRt_Main
	dw SMB2U_NorSpr06_GreySnifit_InitRt_Main
	dw SMB2U_NorSpr07_BlueSnifit_InitRt_Main
	dw SMB2U_NorSpr08_Ostro_InitRt_Main
	dw SMB2U_NorSpr09_BobOmb_InitRt_Main
	dw SMB2U_NorSpr0A_AlbatossCarryingBobomb_InitRt_Main
	dw SMB2U_NorSpr0B_RightFlyingAlbatoss_InitRt_Main
	dw SMB2U_NorSpr0C_LeftFlyingAlbatoss_InitRt_Main
	dw SMB2U_NorSpr0D_FollowingNinji_InitRt_Main
	dw SMB2U_NorSpr0E_JumpingNinji_InitRt_Main
	dw SMB2U_NorSpr0F_YellowBeezo_InitRt_Main
	dw SMB2U_NorSpr10_RedBeezo_InitRt_Main
	dw SMB2U_NorSpr11_WartBubble_InitRt_Main
	dw SMB2U_NorSpr12_Pidgit_InitRt_Main
	dw SMB2U_NorSpr13_Trouter_InitRt_Main
	dw SMB2U_NorSpr14_Hoopster_InitRt_Main
	dw SMB2U_NorSpr15_VaseRedShyGuySpawner_InitRt_Main
	dw SMB2U_NorSpr16_VaseBobOmbSpawner_InitRt_Main
	dw SMB2U_NorSpr17_Phanto_InitRt_Main
	dw SMB2U_NorSpr18_VaseDwellingCobrat_InitRt_Main
	dw SMB2U_NorSpr19_GroundDwellingCobrat_InitRt_Main
	dw SMB2U_NorSpr1A_Pokey_InitRt_Main
	dw SMB2U_NorSpr1B_Bullet_InitRt_Main
	dw SMB2U_NorSpr1C_Birdo_InitRt_Main
	dw SMB2U_NorSpr1D_Mouser_InitRt_Main
	dw SMB2U_NorSpr1E_BirdoEgg_InitRt_Main
	dw SMB2U_NorSpr1F_Tryclyde_InitRt_Main
	dw SMB2U_NorSpr20_Fireball_InitRt_Main
	dw SMB2U_NorSpr21_Clawgrip_InitRt_Main
	dw SMB2U_NorSpr22_ClawgripRock_InitRt_Main
	dw SMB2U_NorSpr23_RedPanser_InitRt_Main
	dw SMB2U_NorSpr24_BluePanser_InitRt_Main
	dw SMB2U_NorSpr25_GreenPanser_InitRt_Main
	dw SMB2U_NorSpr26_Autobomb_InitRt_Main
	dw SMB2U_NorSpr27_AutobombFireball_InitRt_Main
	dw SMB2U_NorSpr28_WaterSpout_InitRt_Main
	dw SMB2U_NorSpr29_Flurry_InitRt_Main
	dw SMB2U_NorSpr2A_FryGuy_InitRt_Main
	dw SMB2U_NorSpr2B_MiniFryguy_InitRt_Main
	dw SMB2U_NorSpr2C_Wart_InitRt_Main
	dw SMB2U_NorSpr2D_HawkmouthBoss_InitRt_Main
	dw SMB2U_NorSpr2E_SlowCounterclockwiseSpark_InitRt_Main
	dw SMB2U_NorSpr2F_FastCounterclockwiseSpark_InitRt_Main
	dw SMB2U_NorSpr30_SlowClockwiseSpark_InitRt_Main
	dw SMB2U_NorSpr31_FastClockwiseSpark_InitRt_Main
	dw SMB2U_NorSpr32_SmallVeggie_InitRt_Main
	dw SMB2U_NorSpr33_LargeVeggie_InitRt_Main
	dw SMB2U_NorSpr34_UnusedSprite_InitRt_Main
	dw SMB2U_NorSpr35_KoopaShell_InitRt_Main
	dw SMB2U_NorSpr36_Coin_InitRt_Main
	dw SMB2U_NorSpr37_PurpleBomb_InitRt_Main
	dw SMB2U_NorSpr38_RocketShip_InitRt_Main
	dw SMB2U_NorSpr39_MushroomBlock_InitRt_Main
	dw SMB2U_NorSpr3A_POWBlock_InitRt_Main
	dw SMB2U_NorSpr3B_FallingLog_InitRt_Main
	dw SMB2U_NorSpr3C_Door_InitRt_Main
	dw SMB2U_NorSpr3D_Key_InitRt_Main
	dw SMB2U_NorSpr3E_Potion_InitRt_Main
	dw SMB2U_NorSpr3F_Mushroom_InitRt_Main
	dw SMB2U_NorSpr40_1Up_InitRt_Main
	dw SMB2U_NorSpr41_MagicCarpet_InitRt_Main
	dw SMB2U_NorSpr42_RightFacingHawkmouth_InitRt_Main
	dw SMB2U_NorSpr43_LeftFacingHawkmouth_InitRt_Main
	dw SMB2U_NorSpr44_Crystal_InitRt_Main
	dw SMB2U_NorSpr45_Star_InitRt_Main
	dw SMB2U_NorSpr46_Stopwatch_InitRt_Main

;--------------------------------------------------------------------

CODE_129F81:
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w DATA_11CC45,y
	AND.b #$7F
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.w DATA_11CC8C,y
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.w DATA_11CD1A,y
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0489,x
	LDA.w DATA_11CCD3,y
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0492,x
	RTS

;--------------------------------------------------------------------

SMB2U_NorSpr00_RecoveryHeart_InitRt:
.Main:
SMB2U_NorSpr01_RedShyGuy_InitRt:
.Main:
SMB2U_NorSpr02_Tweeter_InitRt:
.Main:
SMB2U_NorSpr03_BlueShyGuy_InitRt:
.Main:
SMB2U_NorSpr04_Porcupo_InitRt:
.Main:
SMB2U_NorSpr05_RedSnifit_InitRt:
.Main:
SMB2U_NorSpr07_BlueSnifit_InitRt:
.Main:
SMB2U_NorSpr08_Ostro_InitRt:
.Main:
SMB2U_NorSpr0A_AlbatossCarryingBobomb_InitRt:
.Main:
SMB2U_NorSpr0D_FollowingNinji_InitRt:
.Main:
SMB2U_NorSpr10_RedBeezo_InitRt:
.Main:
SMB2U_NorSpr11_WartBubble_InitRt:
.Main:
SMB2U_NorSpr12_Pidgit_InitRt:
.Main:
SMB2U_NorSpr14_Hoopster_InitRt:
.Main:
SMB2U_NorSpr1B_Bullet_InitRt:
.Main:
SMB2U_NorSpr1E_BirdoEgg_InitRt:
.Main:
SMB2U_NorSpr20_Fireball_InitRt:
.Main:
SMB2U_NorSpr22_ClawgripRock_InitRt:
.Main:
SMB2U_NorSpr24_BluePanser_InitRt:
.Main:
SMB2U_NorSpr26_Autobomb_InitRt:
.Main:
SMB2U_NorSpr27_AutobombFireball_InitRt:
.Main:
SMB2U_NorSpr29_Flurry_InitRt:
.Main:
SMB2U_NorSpr32_SmallVeggie_InitRt:
.Main:
SMB2U_NorSpr33_LargeVeggie_InitRt:
.Main:
SMB2U_NorSpr34_UnusedSprite_InitRt:
.Main:
SMB2U_NorSpr35_KoopaShell_InitRt:
.Main:
SMB2U_NorSpr36_Coin_InitRt:
.Main:
SMB2U_NorSpr37_PurpleBomb_InitRt:
.Main:
SMB2U_NorSpr38_RocketShip_InitRt:
.Main:
SMB2U_NorSpr39_MushroomBlock_InitRt:
.Main:
SMB2U_NorSpr3A_POWBlock_InitRt:
.Main:
SMB2U_NorSpr3C_Door_InitRt:
.Main:
SMB2U_NorSpr3E_Potion_InitRt:
.Main:
SMB2U_NorSpr41_MagicCarpet_InitRt:
.Main:
CODE_129F9D:
;$129F9D
	STZ.b !RAM_SMB2U_NorSpr_DecrementingTable7E0086,x
CODE_129F9F:
	STZ.b !RAM_SMB2U_NorSpr_Table7E0079,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_Table7E00B1,x
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	STA.b !RAM_SMB2U_NorSpr_Table7E009F,x
	STA.w !RAM_SMB2U_NorSpr_Table7E044A,x
	STA.b $5B,x
	STA.w !RAM_SMB2U_NorSpr_DecrementingTable7E0438,x
	STA.w !RAM_SMB2U_NorSpr_DecrementingTable7E0453,x
	STA.w !RAM_SMB2U_NorSpr_XSpeedOffset,x
	STA.w !RAM_SMB2U_NorSpr_YSpeedOffset,x
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	STA.w !RAM_SMB2U_NorSpr_Table7E0477,x
	STA.w !RAM_SMB2U_NorSpr_Table7E0480,x
	STA.w !RAM_SMB2U_NorSpr_Table7E0465,x
	STA.w !RAM_SMB2U_NorSpr_Table7E0702,x
	STA.w !RAM_SMB2U_NorSpr_Table7E0D00,x
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_129FD1:
	JSR.w CODE_129F81
CODE_129FD4:
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
CODE_129FD7:
	INY
	TYA
	STA.b !RAM_SMB2U_NorSpr_FacingDirection,x
	LDA.w DATA_1197B0,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	AND.b #$40
	BEQ.b CODE_129FE9
	ASL.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_129FE9:
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr0F_YellowBeezo_InitRt(NULLROM)					; $129FEA
	%ROUTINE_SMB2U_NorSpr17_Phanto_InitRt(NULLROM)						; $12A016
	%ROUTINE_SMB2U_NorSpr09_BobOmb_InitRt(NULLROM)						; $12A023

;--------------------------------------------------------------------

SMB2U_NorSprStatus02_Dead:
.Main:
;$12A02B
	JSR.w SMB2U_CheckForSpriteToSpriteCollision_Main
	JSR.w SMB2U_SubOffScreen_Main
	LDA.b $D8
	AND.b #$04
	BEQ.b CODE_12A03A
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

CODE_12A03A:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	BNE.b CODE_12A0A9
	LDA.w !RAM_SMB2U_NorSpr_IsABossFlag,x
	BEQ.b CODE_12A073
CODE_12A043:
	STA.w !RAM_SMB2U_Level_DisableReadFromSpriteListTableFlag
	JSR.w CODE_12BABA
	JSR.w SMB2U_GenSpr49_TurnOffGenerators_Main
	LDA.b #!Define_SMB2U_LevelMusic_WorldClear
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.w $04F0,x
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.b #$80
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ASL
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	LDA.b #$B0
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	CPY.b #!Define_SMB2U_SpriteID_NorSpr21_Clawgrip
	BNE.b CODE_12A067
	LDA.b #$70
CODE_12A067:
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #$41
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	JMP.w SMB2U_NorSpr3E_Potion_Status01_CODE_12B1FF

CODE_12A073:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr1B_Bullet
	BEQ.b CODE_12A0A9
	INC.w !RAM_SMB2U_NorSpr_EnemiesKilledCounter
	LDY.w !RAM_SMB2U_NorSpr_EnemiesKilledCounter
	CPY.b #$08
	BCC.b CODE_12A0A9
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_EnemiesKilledCounter
	LDA.b #$01
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #$07
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr00_RecoveryHeart
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	SBC.b #$50
else
	SBC.b #$60
endif
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	SBC.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
CODE_12A0A3:
	LDA.b #$FF
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	RTS

CODE_12A0A9:
	ASL.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	SEC
	ROR.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12A0AE:
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
CODE_12A0B1:
	LDA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	BNE.b CODE_12A0B9
	JSR.w SMB2U_UpdateNormalSpritePosition_X
CODE_12A0B9:
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_12A0C4
	CMP.b #$3E
	BCS.b CODE_12A0C8
CODE_12A0C4:
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12A0C8:
	RTS

;--------------------------------------------------------------------

SMB2U_NorSprStatus09_DrawDeadMiniFryguy:
.Main:
;$12A0C9
	JSR.w SMB2U_SubOffScreen_Main
	LDA.b !RAM_SMB2U_NorSprStatus09_DrawDeadMiniFryguy_DespawnTimer,x
	BNE.b CODE_12A0D3
	JMP.w CODE_12A5B9

CODE_12A0D3:
	JSR.w CODE_12A0E1
	JMP.w CODE_12A4A8

DATA_12A0D9:
	db $00,$00,$EC,$EA

DATA_12A0DD:
	db $00,$00,$F6,$00

CODE_12A0E1:
	LDA.b !RAM_SMB2U_NorSprStatus09_DrawDeadMiniFryguy_DespawnTimer,x
	AND.b #$18
	LSR
	LSR
	LSR
	TAX
	LDA.l DATA_12A0D9,x
	BEQ.b CODE_12A166
	STA.w $0712
	LDA.l DATA_12A0DD,x
	STA.w $0713
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.w $0713
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b #$2B
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CMP.b #$F0
	BCC.b CODE_12A166
	JSL.l CODE_14E483
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDX.w $02F8
	LDA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$00].XDisp,x
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$00].YDisp,x
	LDA.w SMB2U_OAMBuffer[$00].Tile,y
	STA.w SMB2U_OAMBuffer[$00].Tile,x
	LDA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$00].Prop,x
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	TXA
	LSR
	LSR
	TAX
	SEP.b #$20
	LDA.b #$03
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	DEC
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
CODE_12A166:
	SEP.b #$10
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

;--------------------------------------------------------------------

SMB2U_NorSprStatus03_DrawCrumblingRock:
.Main:
;$12A16B
	JSR.w SMB2U_SubOffScreen_Main
	LDA.b !RAM_SMB2U_NorSprStatus03_DrawCrumblingRock_DespawnTimer,x
	BEQ.b CODE_12A1A7
	TAY
	LSR
	LSR
	AND.b #$01
	STA.b $6F,x
	LDA.b #$01
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.b #$3C
	CPY.b #$0C
	BCC.b CODE_12A188
	LDA.b #$3E
CODE_12A188:
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3A_POWBlock
	BNE.b CODE_12A19A
	LDA.b #$22
	BRA.b CODE_12A1A1

CODE_12A19A:
	LDA.w SMB2U_OAMBuffer[$00].Prop,y
	AND.b #$F0
	ORA.b #$04
CODE_12A1A1:
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	SEP.b #$10
	RTS

CODE_12A1A7:
	LDA.b #$00
	JSL.l CODE_13FBC2
	JMP.w SMB2U_SubOffScreen_EraseSprite

;--------------------------------------------------------------------

DATA_12A1B0:
	db $40,$2E,$2C

SMB2U_NorSprStatus08_DrawPOWBlockSmoke:
.Main
;$12A1B3
	JSR.w SMB2U_SubOffScreen_Main
	LDA.b !RAM_SMB2U_NorSprStatus08_DrawPOWBlockSmoke_DespawnTimer,x
	BEQ.b CODE_12A1A7
	PHX
	LSR
	LSR
	LSR
	TAX
	LDA.l DATA_12A1B0,x
	STA.w $0711
	TXY
	PLX
	LDA.b #$01
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	STA.b $6F,x
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STA.w $02F8
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	STA.w $02F9
	CPY.b #$02
	BNE.b CODE_12A1EA
	LDA.b #$CA
	JSR.w CODE_12A188
	JSL.l CODE_14E483
CODE_12A1EA:
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.w $0716
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	STA.w $0717
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	STA.w $070F
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	STA.w $0710
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	REP.b #$30
	CLC
	ADC.w #$FFF4
	STA.w $0712
	CLC
	ADC.w #$0018
	STA.w $0714
	LDA.w $0716
	SEC
	SBC.w $070F
	CLC
	ADC.w #$FFFC
	STA.w $0716
	SEP.b #$20
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_15CDE6
	BCS.b CODE_12A271
else
	LDA.w $0717
	BNE.b CODE_12A271
endif
	LDY.w $02F8
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.w $0714
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	LDA.w $0716
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
	LDA.w $0711
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	LDA.b #$66
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	AND.b #$BF
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w $0713
	AND.b #$01
	ORA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	LDA.w $0715
	AND.b #$01
	ORA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
CODE_12A271:
	SEP.b #$10
	RTS

;--------------------------------------------------------------------

CODE_12A274:
	LDA.b #$00
	JSL.l CODE_13FBC2
	JMP.w SMB2U_SubOffScreen_EraseSprite

;--------------------------------------------------------------------

SMB2U_NorSprStatus07_SinkInQuicksand:
.Main:
;$12A27D
	JSR.w SMB2U_SubOffScreen_Main
	JSR.w CODE_12BB1C
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12A28B
	STZ.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
CODE_12A28B:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12A294
	LDA.b #!Define_SMB2U_NorSprStatus01_Normal
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	RTS

CODE_12A294:
	LDA.b !RAM_SMB2U_NorSprStatus07_SinkInQuicksand_DespawnTimer,x
	BEQ.b CODE_12A274
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCS.b CODE_12A2B4
	JSR.w CODE_12AA49
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$03
	STA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$10
	LSR
	LSR
	LSR
	LSR
	ADC.b #$01
	STA.b $6F,x
CODE_12A2B4:
	JSR.w CODE_12B4F0
	JMP.w SMB2U_CheckForSpriteToSpriteCollision_Main

;--------------------------------------------------------------------

DATA_12A2BA:
	db $C6,$C8,$E6,$E8

DATA_12A2BE:
	db $F8,$08,$F8,$08

DATA_12A2C2:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $FF,$00,$FF,$00

DATA_12A020:
	db $F0,$F0,$00,$00

DATA_12A024:
	db $FF,$FF,$00,$00
else
	db $F0,$F0,$00,$00
endif

SMB2U_NorSprStatus04_Explosion:
.Main:
	JSR.w SMB2U_SubOffScreen_Main
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	ORA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
endif
	BNE.b CODE_12A274
	LDA.b !RAM_SMB2U_NorSprStatus04_Explosion_DespawnTimer,x
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BNE.b +
	BRL.w CODE_12A274

+:
else
	BEQ.b CODE_12A274
endif
	CMP.b #$1A
	BCS.b CODE_12A2DF
	SBC.b #$11
	BMI.b CODE_12A2DF
	TAY
	JSR.w CODE_12A334
CODE_12A2DF:
	LDA.b #$01
	JSL.l CODE_13FBC2
	REP.b #$10
	LDX.w #$0000
	LDY.w #$0020
CODE_12A2ED:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.l DATA_12A020,x
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.l DATA_12A024,x
	XBA
	LDA.w $07A5
	JSL.l CODE_15CDE6
	BCS.b CODE_12A322
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CLC
	ADC.l DATA_12A2BE,x
	STA.w $07A7
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	ADC.l DATA_12A2C2,x
	STA.w $07A8
	LDA.w $07A7
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.w $07A5
else
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CLC
	ADC.l DATA_12A2BE,x
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.l DATA_12A2C2,x
endif
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.l DATA_12A2BA,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$06
	ORA.b #$20
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	PHY
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A8
	AND.b #$01
	ORA.b #$02
else
	LDA.b #$02
endif
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PLY
CODE_12A322:
	INY
	INY
	INY
	INY
	INX
	CPX.w #$0004
	BNE.b CODE_12A2ED
	SEP.b #$10
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	JMP.w SMB2U_CheckForSpriteToSpriteCollision_Main

CODE_12A333:
	RTS

CODE_12A334:
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	CLC
	ADC.w DATA_1197B6,y
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.w DATA_1197BF,y
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	CMP.b #$0B
	BCS.b CODE_12A333
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	ADC.w DATA_1197C8,y
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.w DATA_1197D1,y
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$0A
	BCS.b CODE_12A333
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12A381
	LSR
	ROR.b !RAM_SMB2U_Global_ScratchRAM0E
	LSR
	ROR.b !RAM_SMB2U_Global_ScratchRAM0E
	LSR
	ROR.b !RAM_SMB2U_Global_ScratchRAM0E
	LSR
	ROR.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	LDY.b #$FF
CODE_12A371:
	SEC
	SBC.b #$0F
	INY
	BCS.b CODE_12A371
	STY.b !RAM_SMB2U_Global_ScratchRAM0D
	ADC.b #$0F
	ASL
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
CODE_12A381:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	LSR
	LSR
	LSR
	LSR
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	ORA.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.b #$7E
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	LDY.b #$00
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	CMP.b #$0A
	BNE.b CODE_12A39F
	STY.b !RAM_SMB2U_Global_ScratchRAM0D
	STZ.b !RAM_SMB2U_Global_ScratchRAM09
	INY
CODE_12A39F:
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w DATA_1197DA,y
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDY.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.w DATA_11AB11,y
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM08
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
CODE_12A3B5:
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	CLC
	ADC.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	DEY
	BPL.b CODE_12A3B5
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	CLC
	ADC.w #$7000
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM09
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	BNE.b CODE_12A3E9
	LDA.b [!RAM_SMB2U_Global_ScratchRAM07],y
	CMP.b #$AB
	BEQ.b CODE_12A3EA
	CMP.b #$9D
	BEQ.b CODE_12A3EA
	CMP.b #$6D
	BEQ.b CODE_12A3EA
CODE_12A3E9:
	RTS

CODE_12A3EA:
	LDA.b #$40
	STA.b [!RAM_SMB2U_Global_ScratchRAM07],y
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	AND.b #$01
	EOR.b #$01
	ASL
	ASL
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12A3FB
	ASL
CODE_12A3FB:
	PHA
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.b #$08
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	ASL
	ROL.b !RAM_SMB2U_Global_ScratchRAM00
	ASL
	ROL.b !RAM_SMB2U_Global_ScratchRAM00
	AND.b #$E0
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	LSR
	LSR
	LSR
	ORA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte,x
	CLC
	ADC.b #$20
	STA.w SMB2U_StripeImageUploadTable[$04].HighByte,x
	PLA
	ORA.b !RAM_SMB2U_Global_ScratchRAM00
	AND.b #$0F
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	ADC.b #$00
	STA.w SMB2U_StripeImageUploadTable[$04].LowByte,x
	REP.b #$20
	LDA.w #$0300
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$05].LowByte,x
	LDA.w #$00BF
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$03].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$06].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$07].LowByte,x
	TXA
	CLC
	ADC.w #$0010
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	SEP.b #$20
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$08].LowByte,x
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_12A461:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	BEQ.b CODE_12A46A
	DEX
	BPL.b CODE_12A461
	BMI.b CODE_12A487								; Note: This will always branch.

CODE_12A46A:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$F0
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12A477
	TYA
CODE_12A477:
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	JSR.w CODE_129F9F
	JSR.w CODE_12BA43
CODE_12A487:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12A489:
	RTS

;--------------------------------------------------------------------

; Note: Routine that makes door smoke appear (and also a boss defeated door)

SMB2U_NorSprStatus05_SmokePuff:
.Main:
;$12A48A
	JSR.w SMB2U_SubOffScreen_Main
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	ORA.b #$10
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$40
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_NorSprStatus05_SmokePuff_DespawnTimer,x
	BNE.b CODE_12A49E
	JMP.w CODE_12A5B9

CODE_12A49E:
	LSR
	LSR
	LSR
	TAY
	LDA.w DATA_1197DC,y
	JSR.w SMB2U_DrawSmokePuff_Main
CODE_12A4A8:
	LDA.w !RAM_SMB2U_NorSpr_IsABossFlag,x
	BEQ.b CODE_12A489
	LDA.b !RAM_SMB2U_NorSprStatus05_SmokePuff_DespawnTimer,x
	CMP.b #$03
	BNE.b CODE_12A489
	LDY.b #$02
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr21_Clawgrip
	BNE.b CODE_12A4CB
	DEY
	LDA.b #$49
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$38
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$42
	INC
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$4E
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$5C
CODE_12A4CB:
	STY.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage
	STY.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$0C
	INY
	STY.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$18
	STY.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$28
	LDY.b #$03
CODE_12A4DA:
	LDA.w $04F0,x
	AND.b #$01
	ASL
	ASL
	EOR.b #$04
	LDX.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12A4E8
	ASL
CODE_12A4E8:
	LDX.w DATA_11CE40,y
	ORA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage,x
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	DEY
	BPL.b CODE_12A4DA
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12A50B
	LDA.b #$52
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$38
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$42
	INC
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$4E
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$5C
	BRA.b CODE_12A521

CODE_12A50B:
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$06
	BNE.b CODE_12A521
	LDA.b #$4E
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$38
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$42
	INC
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$4E
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage+$5C
CODE_12A521:
	LDA.b #$14
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDY.w $04F0,x
	LDA.b #$7E2000>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$1F
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	PHY
	LDY.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.w DATA_11AB11,y
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM01
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	PLY
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM00
CODE_12A541:
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CLC
	ADC.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	DEY
	BPL.b CODE_12A541
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr21_Clawgrip
	BNE.b CODE_12A564
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	SEC
	SBC.b #$40
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	SBC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
CODE_12A564:
	LDA.b #!RAM_SMB2U_Global_Layer3Map16Table>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.w $04F0,x
	TAX
	LDA.l DATA_11AB25,x
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.l DATA_11AB1B,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$04
	BNE.b CODE_12A586
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	SEC
	SBC.b #$40
	STA.b !RAM_SMB2U_Global_ScratchRAM03
CODE_12A586:
	LDY.b #$B8
	LDA.b #$56
	STA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	LDA.b #$00
	STA.b [!RAM_SMB2U_Global_ScratchRAM03],y
	LDA.b #$56
	LDY.b #$C8
	STA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	LDA.b #$02
	STA.b [!RAM_SMB2U_Global_ScratchRAM03],y
	LDA.b #$40
	LDY.b #$B9
	STA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM03],y
	LDA.b #$40
	LDY.b #$C9
	STA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	LDA.b #$03
	STA.b [!RAM_SMB2U_Global_ScratchRAM03],y
	LDA.b #$40
	LDY.b #$CA
	STA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM03],y
	RTS

CODE_12A5B9:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr2B_MiniFryGuy
	BNE.b CODE_12A5CC
	DEC.w !RAM_SMB2U_NorSpr2A_Fryguy_RemainingMiniFryguys
	BPL.b CODE_12A5CC
	INC.w !RAM_SMB2U_NorSpr_IsABossFlag,x
	INC.b !RAM_SMB2U_NorSpr_SpriteID,x
	JMP.w CODE_12A043

CODE_12A5CC:
	JMP.w SMB2U_SubOffScreen_EraseSprite

;--------------------------------------------------------------------

DATA_12A5CF:
	db $86,$A1,$A0,$87

SMB2U_DrawSmokePuff:
.Main:
;$12A5D3
	PHX
	PHA
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	STZ.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM09-$01
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM0B-$01
	AND.w #$FF00
	BEQ.b CODE_12A5FA
	LDA.w #$0001
	TSB.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12A5FA:
	LDA.b !RAM_SMB2U_Global_ScratchRAM09-$01
	CLC
	ADC.w #$0008
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM0B-$01
	AND.w #$FF00
	BEQ.b CODE_12A60D
	LDA.w #$0002
	TSB.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12A60D:
	SEP.b #$20
	PLA
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	TYX
	REP.b #$30
	TXA
	AND.w #$00FF
	TAX
	SEP.b #$20
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
CODE_12A61F:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w $0713
	JSL.l CODE_15CDE6
	BCS.b CODE_12A62F
else
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w $0713
endif
	LDA.l DATA_12A5CF,x
	STA.w $0712
	JSR.w CODE_12A672
CODE_12A62F:
	PHX
	JSL.l CODE_14E483
	REP.b #$10
	PLX
	LDY.w $02F8
	LDA.l DATA_12A5CF,x
	CLC
	ADC.b #$10
	STA.w $0712
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$08
	STA.w $0713
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	XBA
	LDA.w $0713
	JSL.l CODE_15CDE6
	BCS.b CODE_12A650
endif
	JSR.w CODE_12A672
CODE_12A650:
	PHX
	JSL.l CODE_14E483
	REP.b #$10
	LDY.w $02F8
	PLX
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	EOR.b #$40
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	BNE.b CODE_12A66E
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$11
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
endif
	BRA.b CODE_12A61F

CODE_12A66E:
	SEP.b #$10
	PLX
	RTS

CODE_12A672:
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	LDA.w $0713
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	LDA.b #$26
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	ORA.b #$40
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$01
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LSR
	AND.b #$01
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	RTS

;--------------------------------------------------------------------

SMB2U_NorSprStatus06_DrawDugUpSand:
.Main:
;$12A6B2
	JSR.w SMB2U_SubOffScreen_Main
	LDA.b #$12
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b !RAM_SMB2U_NorSprStatus06_DrawDugUpSand_DespawnTimer,x
	BEQ.b CODE_12A6F4
	LDA.b #$F8
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	LDA.b #$B2
	LDY.b !RAM_SMB2U_NorSprStatus06_DrawDugUpSand_DespawnTimer,x
	CPY.b #$10
	BCS.b CODE_12A6DF
	LDA.b #$80
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.b #$01
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	ASL
	STA.b $6F,x
	INC.b $9F,x
	JSR.w CODE_12AA49
	LDA.b #$B4
CODE_12A6DF:
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w SMB2U_OAMBuffer[$00].Prop,y
	AND.b #$F0
	ORA.b #$02
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	SEP.b #$10
	RTS

CODE_12A6F4:
	CPX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	BNE.b CODE_12A6FD
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_CarryingSomethingFlag
CODE_12A6FD:
	JMP.w SMB2U_SubOffScreen_EraseSprite

;--------------------------------------------------------------------

CODE_12A700:
	LDA.b #$00
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDY.b #$01
	AND.b #$04
	BNE.b CODE_12A725
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr1A_Pokey
	BEQ.b CODE_12A725
	CMP.b #!Define_SMB2U_SpriteID_NorSpr08_Ostro
	BEQ.b CODE_12A725
	CMP.b #!Define_SMB2U_SpriteID_NorSpr2D_HawkmouthBoss
	BEQ.b CODE_12A725
	CMP.b #!Define_SMB2U_SpriteID_NorSpr21_Clawgrip
	BEQ.b CODE_12A725
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	AND.b #$20
	BEQ.b CODE_12A727
CODE_12A725:
	LDY.b #$03
CODE_12A727:
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	CLC
	ADC.w DATA_1197E4,y
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	CMP.w !RAM_SMB2U_Global_CameraXPosLo
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	SBC.w !RAM_SMB2U_Global_CameraXPosHi
	BEQ.b CODE_12A748
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	ORA.w DATA_1197E0,y
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12A748:
	DEY
	BPL.b CODE_12A727
CODE_12A74B:
	RTS

;--------------------------------------------------------------------

SMB2U_SubOffScreen:
.Main:
;$12A74C
	JSR.w CODE_12A700
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STZ.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
else
	LDA.b #$30
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	CPY.b #!Define_SMB2U_SpriteID_NorSpr2C_Wart
	BEQ.b CODE_12A791
	LDA.b #$1E
	CPY.b #!Define_SMB2U_SpriteID_NorSpr38_RocketShip
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr12_Pidgit
	BEQ.b CODE_12A791
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_E|!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
		CPY.w !Define_SMB2U_SpriteID_NorSpr41_MagicCarpet					; Glitch: This should be a constant!
	else
	CPY.b #!Define_SMB2U_SpriteID_NorSpr41_MagicCarpet
	endif
else
	CPY.b #!Define_SMB2U_SpriteID_NorSpr41_MagicCarpet
endif
	BEQ.b CODE_12A791
	LDA.b #$22
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1F_Tryclyde
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr18_VaseDwellingCobrat
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr19_GroundDwellingCobrat
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1C_Birdo
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1D_Mouser
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr21_Clawgrip
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr08_Ostro
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr26_Autobomb
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr2D_HawkmouthBoss
	BEQ.b CODE_12A791
	CPY.b #!Define_SMB2U_SpriteID_NorSpr35_KoopaShell
	BEQ.b CODE_12A791
	LDA.b #$10
CODE_12A791:
	ADC.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.b !RAM_SMB2U_Global_CameraYPosLo
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	SBC.b !RAM_SMB2U_Global_CameraYPosHi
	STA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
endif
	CPY.b #!Define_SMB2U_SpriteID_NorSpr17_Phanto
	BEQ.b CODE_12A74B
	CPY.b #!Define_SMB2U_SpriteID_NorSpr41_MagicCarpet
	BEQ.b CODE_12A74B
	CPY.b #!Define_SMB2U_SpriteID_NorSpr43_LeftFacingHawkmouth
	BEQ.b CODE_12A74B
	CPY.b #!Define_SMB2U_SpriteID_NorSpr2D_HawkmouthBoss
	BEQ.b CODE_12A74B
	TXA
	AND.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$01
	EOR.b !RAM_SMB2U_Global_ScratchRAM00
	BNE.b CODE_12A74B
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	SBC.b #$30
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	SBC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	INC.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	ADC.b #$FF
	PHP
	ADC.b #$30
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	ADC.b #$00
	PLP
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	INC.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b !RAM_SMB2U_Global_ScratchRAM01
	LDY.b !RAM_SMB2U_NorSpr_YPosHi,x
	INY
	TYA
	SBC.b !RAM_SMB2U_Global_ScratchRAM00
	BMI.b CODE_12A83D
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.b !RAM_SMB2U_NorSpr_YPosHi,x
	INY
	TYA
	SBC.b !RAM_SMB2U_Global_ScratchRAM02
	BPL.b CODE_12A83D
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	SBC.b #$30
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	SBC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	INC.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w $04C2
	ADC.b #$30
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.w $04C0
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	INC.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	CMP.b !RAM_SMB2U_Global_ScratchRAM01
	LDY.b !RAM_SMB2U_NorSpr_XPosHi,x
	INY
	TYA
	SBC.b !RAM_SMB2U_Global_ScratchRAM00
	BMI.b CODE_12A834
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	CMP.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.b !RAM_SMB2U_NorSpr_XPosHi,x
	INY
	TYA
	SBC.b !RAM_SMB2U_Global_ScratchRAM02
	BMI.b CODE_12A851
CODE_12A834:
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w DATA_11CC8C,y
	AND.b #$08
	BNE.b CODE_12A851
CODE_12A83D:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BNE.b CODE_12A851
SMB2U_SubOffScreen_EraseSprite:
	LDY.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	BMI.b CODE_12A84C
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	AND.b #$7F
	STA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
CODE_12A84C:
	STZ.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	STZ.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
CODE_12A851:
	RTS

;--------------------------------------------------------------------

SMB2U_NorSprStatus01_Normal:
.Main:
;$12A852
	LDA.b #$01
	STA.w $04A4,x
	LDY.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	DEY
	CPY.b #$1F
	BCS.b CODE_12A862
	INC.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
CODE_12A862:
	JSR.w SMB2U_SubOffScreen_Main
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState08_HasBeenHurt
	BEQ.b CODE_12A887
	LDA.b $D8
	AND.b #$04
	BNE.b CODE_12A8B6
	LDA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	BEQ.b CODE_12A882
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr1A_Pokey
	BEQ.b CODE_12A8C6
	CMP.b #!Define_SMB2U_SpriteID_NorSpr08_Ostro
	BEQ.b CODE_12A8C6
	BRA.b CODE_12A887

CODE_12A882:
	LDA.w $0438,x
	BEQ.b CODE_12A8C6
CODE_12A887:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr2B_MiniFryGuy
	BEQ.b CODE_12A8C6
	CMP.b #!Define_SMB2U_SpriteID_NorSpr00_RecoveryHeart
	BEQ.b CODE_12A8C6
	CMP.b #!Define_SMB2U_SpriteID_NorSpr41_MagicCarpet
	BEQ.b CODE_12A899
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCS.b CODE_12A8C6
CODE_12A899:
	JSR.w CODE_12BB1C
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12A8AA
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState08_HasBeenHurt
	BEQ.b CODE_12A8AA
	JSR.w CODE_12A0B1
CODE_12A8AA:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12A8B3
	DEC.b $9F,x
	JMP.w SMB2U_ProcessCarriedSprite_Main

CODE_12A8B3:
	JSR.w SMB2U_CheckForSpriteToSpriteCollision_Main
CODE_12A8B6:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr18_VaseDwellingCobrat
	BNE.b CODE_12A8C3
	LDA.b $5B,x
	AND.b #$08
	BEQ.b CODE_12A8C3
	RTS

CODE_12A8C3:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

CODE_12A8C6:
	LDY.b #$01
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BEQ.b CODE_12A8D2
	BPL.b CODE_12A8CF
	INY
CODE_12A8CF:
	TYA
	STA.b $6F,x
CODE_12A8D2:
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w DATA_11CC45,y
	AND.b #$20
	BNE.b CODE_12A91A
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$DF
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #$06
	STA.w $0712
	LDA.w $06C2
	BEQ.b CODE_12A8F0
	LDA.b #$04
	STA.w $0712
CODE_12A8F0:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	CMP.w $0712
	BCC.b CODE_12A91A
	LDA.w $0D00,x
	BNE.b CODE_12A91A
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr09_BobOmb
	BNE.b CODE_12A908
	LDA.b $5B,x
	AND.b #$04
	BNE.b CODE_12A90D
CODE_12A908:
	LDA.w DATA_11CC45,y
	BPL.b CODE_12A91A
CODE_12A90D:
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BNE.b CODE_12A91A
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	ORA.b #$20
	AND.b #$EF
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12A91A:
	JSR.w CODE_12A93D
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12A92E
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr0F_YellowBeezo
	BNE.b CODE_12A92E
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CMP.b #$F4
	BCS.b CODE_12A939
CODE_12A92E:
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	BMI.b CODE_12A93A
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CMP.b #$E8
	BCC.b CODE_12A93A
CODE_12A939:
	RTS

CODE_12A93A:
	JMP.w SMB2U_CheckForSpriteToSpriteCollision_Main

CODE_12A93D:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_12A943:
	dw SMB2U_NorSpr00_RecoveryHeart_Status01_Main
	dw SMB2U_NorSpr01_RedShyGuy_Status01_Main
	dw SMB2U_NorSpr02_Tweeter_Status01_Main
	dw SMB2U_NorSpr03_BlueShyGuy_Status01_Main
	dw SMB2U_NorSpr04_Porcupo_Status01_Main
	dw SMB2U_NorSpr05_RedSnifit_Status01_Main
	dw SMB2U_NorSpr06_GreySnifit_Status01_Main
	dw SMB2U_NorSpr07_BlueSnifit_Status01_Main
	dw SMB2U_NorSpr08_Ostro_Status01_Main
	dw SMB2U_NorSpr09_BobOmb_Status01_Main
	dw SMB2U_NorSpr0A_AlbatossCarryingBobomb_Status01_Main
	dw SMB2U_NorSpr0B_RightFlyingAlbatoss_Status01_Main
	dw SMB2U_NorSpr0C_LeftFlyingAlbatoss_Status01_Main
	dw SMB2U_NorSpr0D_FollowingNinji_Status01_Main
	dw SMB2U_NorSpr0E_JumpingNinji_Status01_Main
	dw SMB2U_NorSpr0F_YellowBeezo_Status01_Main
	dw SMB2U_NorSpr10_RedBeezo_Status01_Main
	dw SMB2U_NorSpr11_WartBubble_Status01_Main
	dw SMB2U_NorSpr12_Pidgit_Status01_Main
	dw SMB2U_NorSpr13_Trouter_Status01_Main
	dw SMB2U_NorSpr14_Hoopster_Status01_Main
	dw SMB2U_NorSpr15_VaseRedShyGuySpawner_Status01_Main
	dw SMB2U_NorSpr16_VaseBobOmbSpawner_Status01_Main
	dw SMB2U_NorSpr17_Phanto_Status01_Main
	dw SMB2U_NorSpr18_VaseDwellingCobrat_Status01_Main
	dw SMB2U_NorSpr19_GroundDwellingCobrat_Status01_Main
	dw SMB2U_NorSpr1A_Pokey_Status01_Main
	dw SMB2U_NorSpr1B_Bullet_Status01_Main
	dw SMB2U_NorSpr1C_Birdo_Status01_Main
	dw SMB2U_NorSpr1D_Mouser_Status01_Main
	dw SMB2U_NorSpr1E_BirdoEgg_Status01_Main
	dw SMB2U_NorSpr1F_Tryclyde_Status01_Main
	dw SMB2U_NorSpr20_Fireball_Status01_Main
	dw SMB2U_NorSpr21_Clawgrip_Status01_Main
	dw SMB2U_NorSpr22_ClawgripRock_Status01_Main
	dw SMB2U_NorSpr23_RedPanser_Status01_Main
	dw SMB2U_NorSpr24_BluePanser_Status01_Main
	dw SMB2U_NorSpr25_GreenPanser_Status01_Main
	dw SMB2U_NorSpr26_Autobomb_Status01_Main
	dw SMB2U_NorSpr27_AutobombFireball_Status01_Main
	dw SMB2U_NorSpr28_WaterSpout_Status01_Main
	dw SMB2U_NorSpr29_Flurry_Status01_Main
	dw SMB2U_NorSpr2A_FryGuy_Status01_Main
	dw SMB2U_NorSpr2B_MiniFryguy_Status01_Main
	dw SMB2U_NorSpr2C_Wart_Status01_Main
	dw SMB2U_NorSpr2D_HawkmouthBoss_Status01_Main
	dw SMB2U_NorSpr2E_SlowCounterclockwiseSpark_Status01_Main
	dw SMB2U_NorSpr2F_FastCounterclockwiseSpark_Status01_Main
	dw SMB2U_NorSpr30_SlowClockwiseSpark_Status01_Main
	dw SMB2U_NorSpr31_FastClockwiseSpark_Status01_Main
	dw SMB2U_NorSpr32_SmallVeggie_Status01_Main
	dw SMB2U_NorSpr33_LargeVeggie_Status01_Main
	dw SMB2U_NorSpr34_UnusedSprite_Status01_Main
	dw SMB2U_NorSpr35_KoopaShell_Status01_Main
	dw SMB2U_NorSpr36_Coin_Status01_Main
	dw SMB2U_NorSpr37_PurpleBomb_Status01_Main
	dw SMB2U_NorSpr38_RocketShip_Status01_Main
	dw SMB2U_NorSpr39_MushroomBlock_Status01_Main
	dw SMB2U_NorSpr3A_POWBlock_Status01_Main
	dw SMB2U_NorSpr3B_FallingLog_Status01_Main
	dw SMB2U_NorSpr3C_Door_Status01_Main
	dw SMB2U_NorSpr3D_Key_Status01_Main
	dw SMB2U_NorSpr3E_Potion_Status01_Main
	dw SMB2U_NorSpr3F_Mushroom_Status01_Main
	dw SMB2U_NorSpr40_1Up_Status01_Main
	dw SMB2U_NorSpr41_MagicCarpet_Status01_Main
	dw SMB2U_NorSpr42_RightFacingHawkmouth_Status01_Main
	dw SMB2U_NorSpr43_LeftFacingHawkmouth_Status01_Main
	dw SMB2U_NorSpr44_Crystal_Status01_Main
	dw SMB2U_NorSpr45_Star_Status01_Main
	dw SMB2U_NorSpr46_Stopwatch_Status01_Main

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSprXX_EnemySpawningVase_InitRt(NULLROM)			; $12A9D1
	%ROUTINE_SMB2U_NorSprXX_Spark_InitRt(NULLROM)					; $12A9D9
	%ROUTINE_SMB2U_NorSprXX_Spark_Status01(NULLROM)					; $12A9E9

;--------------------------------------------------------------------

CODE_12AA49:
	INC.b $9F,x
	INC.b $9F,x
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_GenSpr47_AlbatossGenerator(NULLROM)				; $12AA4E
	%ROUTINE_SMB2U_GenSpr48_YellowBeezoGenerator(NULLROM)				; $12AA7F
	%ROUTINE_SMB2U_CheckIfGeneratorShouldSpawnNewSprite(NULLROM)			; $12AAAD
	%ROUTINE_SMB2U_NorSpr20_Fireball_Status01(NULLROM)				; $12AAD4
	%ROUTINE_SMB2U_NorSprXX_Panser_Status01(NULLROM)				; $12AB1F
	%ROUTINE_SMB2U_NorSpr3D_Key_InitRt(NULLROM)					; $12ABB0

;--------------------------------------------------------------------

CODE_12ABCD:
	JMP.w SMB2U_SubOffScreen_EraseSprite

SMB2U_NorSpr44_Crystal_InitRt:
.Main:
SMB2U_NorSpr45_Star_InitRt:
.Main:
SMB2U_NorSpr46_Stopwatch_InitRt:
.Main:
;$12ABD0
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot-$03
CODE_12ABD2:
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	BEQ.b CODE_12ABE2
	CPY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	BEQ.b CODE_12ABE2
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr44_Crystal
	BEQ.b CODE_12ABCD
CODE_12ABE2:
	DEY
	BPL.b CODE_12ABD2
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
	BNE.b CODE_12ABCD
	BEQ.b SMB2U_NorSpr3D_Key_InitRt_CODE_12ABCA					; Note: This will always branch

;--------------------------------------------------------------------

; Note: Unreferenced routine?

CODE_12ABEC:
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12AC16
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr45_Star
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	ADC.b #$D0
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	ADC.b #$E0
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	JSR.w CODE_129F81
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12AC16:
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr45_Star_Status01(NULLROM)				; $12AC17
	%ROUTINE_SMB2U_NorSprXX_EnemySpawningVase_Status01(NULLROM)		; $12AC2B

;--------------------------------------------------------------------

SMB2U_NorSpr42_RightFacingHawkmouth_InitRt:
.Main:
SMB2U_NorSpr43_LeftFacingHawkmouth_InitRt:
.Main:
CODE_12AC7E:
	DEC.b !RAM_SMB2U_NorSpr_YPosLo,x
	DEC.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDY.b #$01
	STY.w $111F
	INY
	STY.w $110B
SMB2U_NorSpr06_GreySnifit_InitRt:
.Main:
SMB2U_NorSpr0E_JumpingNinji_InitRt:
.Main:
SMB2U_NorSpr23_RedPanser_InitRt:
.Main:
SMB2U_NorSpr25_GreenPanser_InitRt:
.Main:
SMB2U_NorSpr3F_Mushroom_InitRt:
.Main:
SMB2U_NorSpr40_1Up_InitRt:
.Main:
CODE_12AC8B:
	JSR.w CODE_129F9D
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSprXX_Hawkmouth_Status01(NULLROM)				; $12AC93
	%ROUTINE_SMB2U_NorSpr13_Trouter_InitRt(NULLROM)					; $12AE16
	%ROUTINE_SMB2U_NorSpr13_Trouter_Status01(NULLROM)				; $12AE2C
	%ROUTINE_SMB2U_NorSpr14_Hoopster_Status01(NULLROM)				; $12AE63
	%ROUTINE_SMB2U_NorSpr00_RecoveryHeart_Status01(NULLROM)				; $12AEC9
	%ROUTINE_SMB2U_NorSpr1C_Birdo_InitRt(NULLROM)					; $12AF33
	%ROUTINE_SMB2U_NorSpr1C_Birdo_Status01(NULLROM)					; $12AF5C

;--------------------------------------------------------------------

SMB2U_NorSpr36_Coin_Status01:
.Main:
;$12B02D
	JSR.w CODE_12AA49
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$EA
	BNE.b CODE_12B03E
	LDA.b #!Define_SMAS_Sound0063_Coin
	STA.w !RAM_SMB2U_Global_SoundCh3
	INC.w !RAM_SMB2U_Player_CurrentCoinCount
SMB2U_NorSpr40_1Up_Status01:
.Main:
CODE_12B03E:
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$10
	BMI.b CODE_12B06A
	JSR.w SMB2U_NorSpr3E_Potion_Status01_CODE_12B1FF
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr40_1Up
	BEQ.b CODE_12B04E
	RTS

CODE_12B04E:
	INC.w !RAM_SMB2U_Player_HasCollected1UpMushroom
	LDA.w !RAM_SMB2U_Player_CurrentLifeCount
	INC
	CMP.b #$64
	BCC.b CODE_12B05B
	LDA.b #$63
CODE_12B05B:
	STA.w !RAM_SMB2U_Player_CurrentLifeCount
	LDA.b #!Define_SMAS_Sound0063_1up
	STA.w !RAM_SMB2U_Global_SoundCh3
	RTS

SMB2U_NorSpr44_Crystal_Status01:
.Main:
;$12B064
	INC.w !RAM_SMB2U_Level_SpriteTileYDispLo
	JSR.w CODE_12B214
SMB2U_NorSpr3F_Mushroom_Status01:
.Main:
SMB2U_NorSpr46_Stopwatch_Status01:
.Main:
CODE_12B06A:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	CMP.b #$01
	BNE.b CODE_12B074
	LDA.b !RAM_SMB2U_Player_DuckingFlag
	BEQ.b CODE_12B077
CODE_12B074:
	JMP.w CODE_12B0DC

CODE_12B077:
	JSR.w SMB2U_ProcessCarriedSprite_Main
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	JSR.w SMB2U_NorSpr3E_Potion_Status01_CODE_12B1FF
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr44_Crystal
	BNE.b CODE_12B0A1
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
	BNE.b CODE_12B0A0
	LDA.b #!Define_SMB2U_LevelMusic_WonSlots
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.b #$60
	STA.w !RAM_SMB2U_NorSprXX_Hawkmouth_WaitBeforeOpeningMouthTimer
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$88
else
	LDA.b #$A4
endif
	STA.w !RAM_SMB2U_Level_WaitBeforeRestoringPreviousMusicTimer
	INC.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
CODE_12B0A0:
	RTS

CODE_12B0A1:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr40_1Up
	BEQ.b CODE_12B0C6
	CMP.b #!Define_SMB2U_SpriteID_NorSpr46_Stopwatch
	BEQ.b CODE_12B0D3
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3F_Mushroom
	BNE.b CODE_12B0CA
	LDX.b $79
	INC.w !RAM_SMB2U_NorSpr3F_Mushroom_CollectedMushroom1,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	INC.w !RAM_SMB2U_Player_NumberOfHealthUpgrades
	JSL.l SMB2U_LoadCheckpointInformation_CODE_14E098
	LDA.b #!Define_SMB2U_LevelMusic_Fanfare1
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.b #$58
	STA.w $079B
	RTS

CODE_12B0C6:
	LDA.b #$09
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12B0CA:
	LDA.b #$E0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b #!Define_SMB2U_NorSprStatus01_Normal
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	RTS

CODE_12B0D3:
	LDA.b #$FF
	STA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	RTS

SMB2U_NorSpr3D_Key_Status01:
.Main:
;$12B0D9
	JSR.w CODE_12B214
SMB2U_NorSpr37_PurpleBomb_Status01:
.Main:
CODE_12B0DC:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b $5B,x
	PHA
	AND.b $6F,x
	BEQ.b CODE_12B0F2
	JSR.w CODE_12C24E
	JSR.w CODE_12B641
	JSR.w CODE_12B641
	JSR.w CODE_12B641
CODE_12B0F2:
	PLA
	AND.b #$04
	BEQ.b CODE_12B114
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$09
	BCC.b CODE_12B10B
	LSR
	LSR
	LSR
	LSR
	TAY
	LDA.w DATA_119819,y
	JSR.w CODE_12B63B
	JMP.w CODE_12B114

CODE_12B10B:
	JSR.w CODE_12B65F
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	BNE.b CODE_12B114
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12B114:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr37_PurpleBomb
	BNE.b CODE_12B143
	LDA.b $86,x
	BNE.b CODE_12B13A
	LDY.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12B126
	STA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
CODE_12B126:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$00
	JSL.l CODE_15CDF2
	BCS.b CODE_12B136
endif
	LDA.b #!Define_SMB2U_NorSprStatus04_Explosion
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	LDA.b #$20
	STA.b !RAM_SMB2U_NorSprStatus04_Explosion_DespawnTimer,x
	LDA.b #!Define_SMAS_Sound0063_CannonShoot
	STA.w !RAM_SMB2U_Global_SoundCh3
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
CODE_12B136:
	STZ.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
else
	LDA.b #$01
	LSR
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
endif
	RTS

CODE_12B13A:
	CMP.b #$40
	BCS.b CODE_12B143
	LDA.b !RAM_SMB2U_Global_FrameCounter
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
SMB2U_NorSpr32_SmallVeggie_Status01:
.Main:
SMB2U_NorSpr33_LargeVeggie_Status01:
.Main:
SMB2U_NorSpr34_UnusedSprite_Status01:
.Main:
CODE_12B143:
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w CODE_12A0B1
	JSL.l CODE_139210
CODE_12B14D:
	LDA.b $B1,x
	BNE.b CODE_12B154
	JMP.w CODE_12BDCF

CODE_12B154:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Entry2

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr3E_Potion_Status01(NULLROM)				; $12B157

;--------------------------------------------------------------------

; Note: Routine responsible for making the key and crystal items "cling" to Birdo

CODE_12B214:
	LDA.b !RAM_SMB2U_NorSpr_DontClingToBirdoFlag,x
	BNE.b CODE_12B224
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot-$03
CODE_12B21A:
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr1C_Birdo
	BEQ.b CODE_12B22B
	DEY
	BPL.b CODE_12B21A
CODE_12B224:
	LDA.b #$01
	STA.b !RAM_SMB2U_NorSpr_DontClingToBirdoFlag,x
	JMP.w CODE_129F81

CODE_12B22B:
	LDA.w !RAM_SMB2U_NorSpr_XPosHi,y
	CMP.b !RAM_SMB2U_NorSpr_XPosHi,x
	BNE.b CODE_12B224
	LDA.w !RAM_SMB2U_NorSpr1C_Birdo_FinalHitTimer,y
	BPL.b CODE_12B23C
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr1C_Birdo_FinalHitTimer,y
CODE_12B23C:
	PHX
	LDX.b #$08
	LDA.w !RAM_SMB2U_NorSpr_FacingDirection,y
	CMP.b #$01
	BEQ.b CODE_12B248
	LDX.b #$F8
CODE_12B248:
	TXA
	PLX
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	CMP.b #!Define_SMB2U_NorSprStatus02_Dead
	BNE.b CODE_12B25C
	LDA.w !RAM_SMB2U_NorSpr_YSpeed,y
	BMI.b CODE_12B25C
	CMP.b #$12
	BCS.b CODE_12B224
CODE_12B25C:
	LDA.w !RAM_SMB2U_NorSpr_XPosLo,y
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w !RAM_SMB2U_NorSpr_YPosLo,y
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	LDA.w DATA_11981D,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b #$E0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	PLA
	PLA
	LDA.b #$07
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	RTS

;--------------------------------------------------------------------

SMB2U_NorSpr0C_LeftFlyingAlbatoss_InitRt:
.Main:
;$12B27C
	JSR.w CODE_129F9D
	LDA.b #$F0
	BNE.b CODE_12B288

SMB2U_NorSpr0B_RightFlyingAlbatoss_InitRt:
.Main:
;$12B283
	JSR.w CODE_129F9D
	LDA.b #$10
CODE_12B288:
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	INC.b !RAM_SMB2U_NorSprXX_Albatoss_IsNotCarryingBobOmb,x
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	SEC
	SBC.b #!Define_SMB2U_SpriteID_NorSpr0B_RightFlyingAlbatoss
	TAY
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	ADC.w DATA_11981F,y
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	ADC.w DATA_11981F+$01,y
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSprXX_Albatoss_Status01(NULLROM)				; $12B2A3

;--------------------------------------------------------------------

SMB2U_NorSpr27_AutobombFireball_Status01:
.Main:
;$12B2EC
	JSR.w CODE_12B2FC
	ASL.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b !RAM_SMB2U_Global_FrameCounter
	LSR
	LSR
	LSR
	ROR.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	RTS

SMB2U_NorSpr1B_Bullet_Status01:
.Main:
SMB2U_NorSpr1E_BirdoEgg_Status01:
.Main:
;$12B2F9
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
CODE_12B2FC:
	JSR.w CODE_12BB1C
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	LDA.b !RAM_SMB2U_NorSprXX_StraightEnemyProjectile_HasHitWall,x
	ORA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12B30C
	JMP.w CODE_12A0AE

CODE_12B30C:
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BPL.b CODE_12B312
	STA.b !RAM_SMB2U_NorSprXX_StraightEnemyProjectile_HasHitWall,x
CODE_12B312:
	LDA.b $5B,x
	AND.b #$03
	BEQ.b CODE_12B331
	STA.b !RAM_SMB2U_NorSprXX_StraightEnemyProjectile_HasHitWall,x
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr1B_Bullet
	BNE.b CODE_12B328
	LDA.b #!Define_SMB2U_NorSprStatus02_Dead
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	INC.b !RAM_SMB2U_NorSpr_YPosLo,x
	INC.b !RAM_SMB2U_NorSpr_YPosLo,x
CODE_12B328:
	JSR.w CODE_12C24E
	JSR.w CODE_12B641
	JSR.w CODE_12B641
CODE_12B331:
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_FindFreeNormalSpriteSlot(NULLROM)				; $12B337
	%ROUTINE_SMB2U_NorSpr17_Phanto_Status01(NULLROM)				; $12B379

;--------------------------------------------------------------------

SMB2U_NorSpr0E_JumpingNinji_Status01:
.Main:
;$12B420
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12B471
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BNE.b CODE_12B42D
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12B42D:
	TXA
	ASL
	ASL
	ASL
	ADC.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$3F
	BNE.b CODE_12B471
	LDA.b $9F,x
	AND.b #$C0
	ASL
	ROL
	ROL
	TAY
	LDA.w DATA_11982C,y
	BNE.b CODE_12B466						; Note: This will always branch

SMB2U_NorSpr0D_FollowingNinji_Status01:
.Main:
;$12B444
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12B471
	LDA.b !RAM_SMB2U_Player_YPosLo
	CLC
	ADC.b #$10
	CMP.b !RAM_SMB2U_NorSpr_YPosLo,x
	BNE.b CODE_12B471
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	INY
	TYA
	CMP.b !RAM_SMB2U_NorSpr_FacingDirection,x
	BNE.b CODE_12B471
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	ADC.b #$28
	CMP.b #$50
	BCS.b CODE_12B471
	LDA.b #$D8
CODE_12B466:
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b $9F,x
	AND.b #$F0
	STA.b $9F,x
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
CODE_12B471:
	JMP.w CODE_12B4D7

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSprXX_Beezo_Status01(NULLROM)				; $12B474

;--------------------------------------------------------------------

SMB2U_NorSpr09_BobOmb_Status01:
.Main:
;$12B4A9
	LDY.b !RAM_SMB2U_NorSpr09_BobOmb_WaitBeforeExplosionTimer,x
	CPY.b #$3A
	BCS.b CODE_12B4D7
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12B4B7
	STZ.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12B4B7:
	DEC.b $9F,x
	TYA
	BNE.b CODE_12B4C7
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12B4C4
	STY.b !RAM_SMB2U_Player_CarryingSomethingFlag
	STY.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
CODE_12B4C4:
	JMP.w CODE_12B126

CODE_12B4C7:
	CMP.b #$30
	BCS.b CODE_12B4D7
	LSR
	BCC.b CODE_12B4D7
	LDA.b !RAM_SMB2U_Global_FrameCounter
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	LDA.b #$01
	STA.b $9F,x
SMB2U_NorSpr01_RedShyGuy_Status01:
.Main:
SMB2U_NorSpr02_Tweeter_Status01:
.Main:
SMB2U_NorSpr03_BlueShyGuy_Status01:
.Main:
SMB2U_NorSpr04_Porcupo_Status01:
.Main:
SMB2U_NorSpr05_RedSnifit_Status01:
.Main:
SMB2U_NorSpr06_GreySnifit_Status01:
.Main:
SMB2U_NorSpr07_BlueSnifit_Status01:
.Main:
CODE_12B4D7:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
CODE_12B4DA:
	JSR.w CODE_12BB1C
	LDA.w !RAM_SMB2U_NorSpr09_BobOmb_EmergeFromVaseTimer,x
	BEQ.b CODE_12B4FE
	LDA.b $5B,x
	AND.b #$08
	BEQ.b CODE_12B4EB
	JMP.w SMB2U_SubOffScreen_EraseSprite

CODE_12B4EB:
	DEC.w !RAM_SMB2U_NorSpr09_BobOmb_EmergeFromVaseTimer,x
	INC.b !RAM_SMB2U_NorSpr09_BobOmb_WaitBeforeExplosionTimer,x
CODE_12B4F0:
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$EF
	ORA.b #$20
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

CODE_12B4FE:
	LDA.b $5B,x
	AND.b $6F,x
	BEQ.b CODE_12B512
	JSR.w CODE_12C24E
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12B512
	JSR.w CODE_12B641
	JSR.w CODE_12B641
CODE_12B512:
	INC.b $9F,x
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr06_GreySnifit
	BNE.b CODE_12B527
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BNE.b CODE_12B527
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12B527:
	JSR.w CODE_12A0B1
	LDA.b $5B,x
	LDY.b !RAM_SMB2U_NorSpr_YSpeed,x
	BPL.b CODE_12B594
	AND.b #$08
	BEQ.b CODE_12B539
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	RTS

CODE_12B539:
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BNE.b CODE_12B577
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr02_Tweeter
	BNE.b CODE_12B565
	DEC.b $9F,x
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_12B54E
	STZ.b $9F,x
	BRA.b CODE_12B579

CODE_12B54E:
	LDY.b #$03
	LDA.b !RAM_SMB2U_NorSpr02_Tweeter_HopCounter,x
	AND.b #$03
	BNE.b CODE_12B558
	LDY.b #$01
CODE_12B558:
	TYA
	AND.b !RAM_SMB2U_Global_FrameCounter
	BNE.b CODE_12B579
	LDA.b $9F,x
	EOR.b #$08
	STA.b $9F,x
	BRA.b CODE_12B579

CODE_12B565:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr06_GreySnifit
	BNE.b CODE_12B577
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$FE
	BNE.b CODE_12B577
	LDA.w $0587
	BPL.b CODE_12B577
	JSR.w SMB2U_SpawnBulletProjectile_LowPriority
CODE_12B577:
	DEC.b $9F,x
CODE_12B579:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr07_BlueSnifit
	BEQ.b CODE_12B583
	CMP.b #!Define_SMB2U_SpriteID_NorSpr03_BlueShyGuy
	BNE.b CODE_12B593
CODE_12B583:
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BNE.b CODE_12B593
	LDA.w $0477,x
	BNE.b CODE_12B593
	INC.w $0477,x
	JMP.w CODE_12C24E

CODE_12B593:
	RTS

CODE_12B594:
	AND.b #$04
	BEQ.b CODE_12B539
	LDA.b #$00
	STA.w $0477,x
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	CPY.b #!Define_SMB2U_SpriteID_NorSpr02_Tweeter
	BNE.b CODE_12B5B9
	LDA.b #$3F
	JSR.w CODE_12B62A
	INC.b !RAM_SMB2U_NorSpr02_Tweeter_HopCounter,x
	LDY.b #$F0
	LDA.b !RAM_SMB2U_NorSpr02_Tweeter_HopCounter,x
	AND.b #$03
	BNE.b CODE_12B5B4
	LDY.b #$E0
CODE_12B5B4:
	STY.b !RAM_SMB2U_NorSpr_YSpeed,x
	JMP.w SMB2U_UpdateNormalSpritePosition_Y

CODE_12B5B9:
	LDA.b #$1F
	CPY.b #!Define_SMB2U_SpriteID_NorSpr09_BobOmb
	BEQ.b CODE_12B62A
	CPY.b #!Define_SMB2U_SpriteID_NorSpr29_Flurry
	BEQ.b CODE_12B62A
	LDA.b #$3F
	CPY.b #!Define_SMB2U_SpriteID_NorSpr0D_FollowingNinji
	BEQ.b CODE_12B62A
	LDA.b #$7F
	CPY.b #!Define_SMB2U_SpriteID_NorSpr05_RedSnifit
	BEQ.b CODE_12B5F3
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	CPY.b #!Define_SMB2U_SpriteID_NorSpr05_RedSnifit			;\ Optimiztion: Duplicate check
	BEQ.b CODE_12B5F3							;/
endif
	CPY.b #!Define_SMB2U_SpriteID_NorSpr07_BlueSnifit
	BEQ.b CODE_12B5F3
	CPY.b #!Define_SMB2U_SpriteID_NorSpr06_GreySnifit
	BNE.b CODE_12B62E
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BNE.b CODE_12B62E
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	INY
	STY.b $6F,x
	LDA.b $9F,x
	AND.b #$3F
	BNE.b CODE_12B5F3
	LDA.b #$E8
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	JMP.w SMB2U_UpdateNormalSpritePosition_Y

CODE_12B5F3:
	LDA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	BEQ.b CODE_12B605
	DEC.b $9F,x
	DEC.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	BNE.b CODE_12B605
	JSR.w SMB2U_SpawnBulletProjectile_LowPriority
	JMP.w CODE_12B64C

CODE_12B605:
	TXA
	ASL
	ASL
	ASL
	ADC.b !RAM_SMB2U_Global_FrameCounter
	ASL
	BNE.b CODE_12B628
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr06_GreySnifit
	BNE.b CODE_12B61A
	JSR.w SMB2U_SpawnBulletProjectile_LowPriority
	JMP.w CODE_12B65B

CODE_12B61A:
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	SEC
	SBC.b #$10
	CMP.b !RAM_SMB2U_Player_YPosLo
	BNE.b CODE_12B628
	LDA.b #$30
	STA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
CODE_12B628:
	LDA.b #$7F
CODE_12B62A:
	AND.b $9F,x
	BEQ.b CODE_12B649
CODE_12B62E:
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12B64C
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$1A
	BCC.b CODE_12B649
	LDA.b #$F0
CODE_12B63B:
	JSR.w CODE_12B661
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
CODE_12B641:									; Note: This gives thrown bouncing sprites friction.
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	ASL
	ROR.b !RAM_SMB2U_NorSpr_XSpeed,x
	RTS

CODE_12B649:
	JSR.w CODE_129F9F
CODE_12B64C:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr01_RedShyGuy
	BNE.b CODE_12B65B
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$04
	BCC.b CODE_12B65B
	JSR.w CODE_129F9F
CODE_12B65B:
	ASL.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LSR.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12B65F:
	LDA.b #$00
CODE_12B661:
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	BCS.b CODE_12B671
	ADC.b #$08
	BCC.b CODE_12B671
	INC.b !RAM_SMB2U_NorSpr_YPosHi,x
CODE_12B671:
	AND.b #$F0
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_SpawnBulletProjectile(NULLROM)				; $12B676

;--------------------------------------------------------------------

SMB2U_ProcessCarriedSprite:
.Main:
;$12B698
	LDA.b !RAM_SMB2U_Player_FacingDirection
	EOR.b #$01
	TAY
	INY
	STY.b !RAM_SMB2U_NorSpr_FacingDirection,x
	LDA.b !RAM_SMB2U_Player_XPosLo
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Player_XPosHi
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.b !RAM_SMB2U_Player_YPosHi
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b !RAM_SMB2U_Player_YPosLo
	LDY.w !RAM_SMB2U_NorSpr_PropertyBits0489,x
	CPY.b #$03
	BEQ.b CODE_12B6BF
	CPY.b #$02
	BEQ.b CODE_12B6BF
	SBC.b #$0E
	BCS.b CODE_12B6BF
	DEC.b !RAM_SMB2U_Global_ScratchRAM07
CODE_12B6BF:
	LDY.b !RAM_SMB2U_Player_BasePose
	CPY.b #$04
	CLC
	BNE.b CODE_12B6D6
	LDY.w $06C2
	CPY.b #$01
	LDY.b !RAM_SMB2U_Player_CharacterGFXSet
	BCC.b CODE_12B6D3
	INY
	INY
	INY
	INY
CODE_12B6D3:
	ADC.w DATA_119832,y
CODE_12B6D6:
	PHP
	LDY.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	CLC
	LDX.w $06C2
	BEQ.b CODE_12B6E6
	INY
	INY
	INY
	INY
	INY
	INY
	INY
CODE_12B6E6:
	ADC.w $1F00-$01,y
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	ADC.w $1F0E-$01,y
	PLP
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	LDY.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	CPY.b #$05
	BCS.b CODE_12B713
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr22_ClawgripRock
	BEQ.b CODE_12B713
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCS.b CODE_12B713
	LDA.w $0438,x
	BNE.b CODE_12B70E
	INC.b $9F,x
CODE_12B70E:
	ASL.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	SEC
	ROR.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12B713:
	JSR.w CODE_12BB66
	JSL.l CODE_139210
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

;--------------------------------------------------------------------

SMB2U_NorSpr39_MushroomBlock_Status01:
.Main:
SMB2U_NorSpr3A_POWBlock_Status01:
.Main:
;$12B71D
	JSR.w CODE_12B721
CODE_12B720:
	RTS

CODE_12B721:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12B72A
	PLA
	PLA
	JMP.w SMB2U_ProcessCarriedSprite_Main

CODE_12B72A:
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3A_POWBlock
	BCS.b CODE_12B738
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Entry2
	BRA.b CODE_12B73B

CODE_12B738:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
CODE_12B73B:
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12B720
	JSR.w CODE_12A0B1
	PLA
	PLA
	LDA.b $5B,x
	PHA
	AND.b #$03
	BEQ.b CODE_12B762
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ADC.b #$08
	AND.b #$F0
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12B762
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
CODE_12B762:
	PLA
	LDY.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_12B7BF
	AND.b #$04
	BEQ.b CODE_12B7BF
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	CMP.b #$26
	BNE.b CODE_12B77A
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BEQ.b CODE_12B77A
	LDA.b #$14
	JMP.w CODE_12B661

CODE_12B77A:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3A_POWBlock
	BNE.b CODE_12B78F
	LDA.b #$20
	STA.w !RAM_SMB2U_Level_ShakeLayer1Timer
	LDA.b #!Define_SMAS_Sound0063_BulletShoot
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDA.b #!Define_SMB2U_NorSprStatus08_DrawPOWBlockSmoke
	JMP.w CODE_12BA45

CODE_12B78F:
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$16
	BCS.b CODE_12B7AB
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BPL.b CODE_12B79C
	EOR.b #$FF
	INC
CODE_12B79C:
	CMP.b #$30
	BCC.b CODE_12B7B3
	LDA.b #$2F
	BIT.b !RAM_SMB2U_NorSpr_XSpeed,x
	BPL.b CODE_12B7A8
	LDA.b #$D1
CODE_12B7A8:
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	RTS

CODE_12B7AB:
	JSR.w CODE_12B65F
	LDA.b #$F5
	JMP.w CODE_12B63B

CODE_12B7B3:
	JSR.w CODE_12B65F
	LDA.b !RAM_SMB2U_NorSpr39_MushroomBlock_TileToTurnInto,x
	JSL.l CODE_13FA0D
	JMP.w SMB2U_SubOffScreen_EraseSprite

CODE_12B7BF:
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr3C_Door_Status01(NULLROM)				; $12B7C0

;--------------------------------------------------------------------

; Note: Something related to the orange door open/close animation.

DATA_12B8E2:
	db $A2,$B2,$A4,$B4,$A3,$B3,$A5,$B5

DATA_12B8EA:
	db $A2,$B2,$8B,$9B,$A3,$B3,$A5,$B5

DATA_12B8F2:
	db $00,$00,$00,$00,$08,$08,$08,$08

DATA_12B8FA:
	db $00,$08,$10,$18,$00,$08,$10,$18

DATA_12B902:
	db $22,$22,$26,$26,$22,$22,$22,$22

CODE_12B90A:
	AND.b #$08
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	REP.b #$10
	LDX.w #$0000
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.b #$07
	STA.b !RAM_SMB2U_Global_ScratchRAM02
CODE_12B91A:
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	REP.b #$20
	LDA.l DATA_12B8F2,x
	AND.w #$00FF
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM04
	STZ.b !RAM_SMB2U_Global_ScratchRAM04
	AND.w #$FF00
	BEQ.b CODE_12B93C
	LDA.w #$0100
	STA.b !RAM_SMB2U_Global_ScratchRAM04
CODE_12B93C:
	SEP.b #$20
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.l DATA_12B8FA,x
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	XBA
	LDA.w $07A5
	JSL.l CODE_15CDE6
	BCS.b CODE_12B980
endif
	LDA.l DATA_12B8F2,x
	CLC
	ADC.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.l DATA_12B8FA,x
	CLC
	ADC.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	BNE.b CODE_12B961
	LDA.l DATA_12B8E2,x
	PHA
	LDA.b #$22
	BRA.b CODE_12B96A

CODE_12B961:
	LDA.l DATA_12B8EA,x
	PHA
	LDA.l DATA_12B902,x
CODE_12B96A:
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	PLA
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	PHY
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PLY
CODE_12B980:
	INX
	INY
	INY
	INY
	INY
	DEC.b !RAM_SMB2U_Global_ScratchRAM02
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BMI.b +
	BRL.w CODE_12B91A

+:
else
	BPL.b CODE_12B91A
endif
	SEP.b #$10
	RTS

;--------------------------------------------------------------------

; Note: Unreferenced routine? It's very similar to the routine at CODE_1298D9.

CODE_12B98C:
	LDA.b #$02
	BNE.b CODE_12B996						; Note: This will always branch.

CODE_12B990:
	LDA.b #$01
	BNE.b CODE_12B996						; Note: This will always branch.

CODE_12B994:
	LDA.b #$00
CODE_12B996:
	PHA
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_12B999:
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	BEQ.b CODE_12B9AF
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3C_Door
	BNE.b CODE_12B9AF
	LDA.b #!Define_SMB2U_NorSprStatus05_SmokePuff
	STA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	LDA.b #$20
	STA.w !RAM_SMB2U_NorSprStatus05_SmokePuff_DespawnTimer,y
CODE_12B9AF:
	DEY
	BPL.b CODE_12B999
	JSR.w SMB2U_FindFreeNormalSpriteSlot_HighPriority
	BMI.b CODE_12B9E9
	LDA.b #$00
	STA.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	STA.w !RAM_SMB2U_NorSpr3C_Door_DespawnTimer
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	PLA
	STA.w !RAM_SMB2U_NorSpr3C_Door_IsLockedFlag,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr3C_Door
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_129F81
	LDA.b !RAM_SMB2U_Player_XPosLo
	ADC.b #$08
	AND.b #$F0
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Player_XPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.b !RAM_SMB2U_Player_YPosLo
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_Player_YPosHi
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	LDA.b #$41
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

CODE_12B9E9:
	PLA
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr35_KoopaShell_Status01(NULLROM)			; $12B9EB

;--------------------------------------------------------------------

CODE_12BA43:
	LDA.b #!Define_SMB2U_NorSprStatus03_DrawCrumblingRock
CODE_12BA45:
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	LDA.b #$18
	STA.b !RAM_SMB2U_NorSprStatus03_DrawCrumblingRock_DespawnTimer,x
CODE_12BA4B:
	RTS

;--------------------------------------------------------------------

SMB2U_EndSpriteProcessingIfBeingCarried:
.Main:
;$12BA4C
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12BA4B
	PLA
	PLA
	JMP.w SMB2U_ProcessCarriedSprite_Main

;--------------------------------------------------------------------

CODE_12BA55:
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b SMB2U_NorSpr3B_FallingLog_InitRt_CODE_12BA69
	PLA							;\ Note: Destructive return
	PLA							;/
	JMP.w CODE_12A0AE

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr3B_FallingLog_InitRt(NULLROM)				; $12BA5F
	%ROUTINE_SMB2U_NorSpr3B_FallingLog_Status01(NULLROM)				; $12BA6A

;--------------------------------------------------------------------

CODE_12BAB4:
	LDA.b #$00
	JSR.w CODE_12BABA
	RTL

CODE_12BABA:
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_12BABE:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	CMP.b #!Define_SMB2U_NorSprStatus01_Normal
	BNE.b CODE_12BB16
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	BEQ.b CODE_12BB08
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr39_MushroomBlock
	BEQ.b CODE_12BAD6
	CMP.b #!Define_SMB2U_SpriteID_NorSpr37_PurpleBomb
	BEQ.b CODE_12BAD6
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCS.b CODE_12BB16
CODE_12BAD6:
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_12BAE3
	CPX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	BNE.b CODE_12BAE3
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_CarryingSomethingFlag
CODE_12BAE3:
	STX.b !RAM_SMB2U_Global_ScratchRAM0E
	JSR.w SMB2U_NorSpr3E_Potion_Status01_CODE_12B1FF
	LDX.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	SEC
	SBC.b !RAM_SMB2U_Global_CameraYPosLo
	STA.w $0797
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	SBC.b !RAM_SMB2U_Global_CameraYPosHi
	STA.w $0798
	BNE.b CODE_12BB02
	LDA.w $0797
	CMP.b #$F0
	BCC.b CODE_12BB05
CODE_12BB02:
	STZ.w !RAM_SMB2U_NorSpr_CurrentStatus,x
CODE_12BB05:
	JMP.w CODE_12BB16

CODE_12BB08:
	LDA.b $5B,x
	BEQ.b CODE_12BB16
	LDA.b #$D8
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b $5B,x
	ORA.b #$10
	STA.b $5B,x
CODE_12BB16:
	DEX
	BPL.b CODE_12BABE
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

;--------------------------------------------------------------------

CODE_12BB1C:
	LDA.b $5B,x
	AND.b #$10
	BEQ.b CODE_12BB65
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12BB2A
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_CarryingSomethingFlag
CODE_12BB2A:
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w DATA_11CC8C,y
	AND.b #$08
	ASL
	BNE.b CODE_12BB40
	LDA.w !RAM_SMB2U_Global_SoundCh2
	BNE.b CODE_12BB43
	LDA.b #!Define_SMAS_Sound0060_SMB2UKillEnemy
	STA.w !RAM_SMB2U_Global_SoundCh1
	BNE.b CODE_12BB43								; Note: This will always branch.

CODE_12BB40:
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_12BB43:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr12_Pidgit
	BNE.b CODE_12BB4F
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BNE.b CODE_12BB4F
	JSR.w SMB2U_SpawnMagicCarpet_Main
CODE_12BB4F:
	LDA.b #!Define_SMB2U_NorSprStatus02_Dead
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	STZ.w !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$DF
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	PHX
	PHY
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	PLY
	PLX
	PLA
	PLA
CODE_12BB65:
	RTS

;--------------------------------------------------------------------

CODE_12BB66:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	XBA
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	REP.b #$20
	CLC
	SBC.b !RAM_SMB2U_Global_ScratchRAM0E
else
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	SBC.b !RAM_SMB2U_Global_CameraYPosLo
endif
	LDY.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12BB7B
	LDY.b !RAM_SMB2U_Player_BasePose
	BNE.b CODE_12BB7B
	LDY.b !RAM_SMB2U_Player_CharacterGFXSet
	DEY
	BEQ.b CODE_12BB7B
	SEC
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	SBC.w #$0001
CODE_12BB7B:
	SEP.b #$20
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	XBA
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
else
	SBC.b #$01
CODE_12BB7B:
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
endif
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	XBA
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	REP.b #$20
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM0E
	SEP.b #$20
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	XBA
	STA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STZ.w $0248
	STZ.w $0249
	RTS

;--------------------------------------------------------------------

DATA_12BBA2:
	db $68,$BA,$BE,$C2

CODE_12BBA6:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	CMP.b #!Define_SMB2U_NorSprStatus01_Normal
	BNE.b CODE_12BBB5
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12BC08
	LDA.b #$68
	BRA.b CODE_12BC0E

CODE_12BBB5:
	LDY.b #$02
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BPL.b CODE_12BBBC
	DEY
CODE_12BBBC:
	STY.b $6F,x
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BPL.b CODE_12BBCC
CODE_12BBC2:
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$3F
	ORA.b #$40
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	BRA.b CODE_12BBDC

CODE_12BBCC:
	CMP.b #$18
	BCC.b CODE_12BBC2
	LDA.b $6F,x
	EOR.b #$03
	STA.b $6F,x
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	ORA.b #$80
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12BBDC:
	LDY.b #$00
	LDA.w $0702,x
	BMI.b CODE_12BBFD
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BPL.b CODE_12BBEE
	CMP.b #$F8
	BCC.b CODE_12BBFD
	INY
	BRA.b CODE_12BBFD

CODE_12BBEE:
	CMP.b #$18
	BCS.b CODE_12BBFD
	INY
	CMP.b #$08
	BCC.b CODE_12BBFD
	INY
	CMP.b #$10
	BCC.b CODE_12BBFD
	INY
CODE_12BBFD:
	PHX
	TYX
	LDA.l DATA_12BBA2,x
	PLX
	STZ.b $9F,x
	BRA.b CODE_12BC0E

CODE_12BC08:
	LDA.b $86,x
	BEQ.b CODE_12BC15
	LDA.b #$60
CODE_12BC0E:
	PHA
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	PLA
	BRA.b CODE_12BC2B

CODE_12BC15:
	JSR.w CODE_12BDCF
	LDA.b #$00
	BRA.b CODE_12BC2B

DATA_12BC1C:
	db $26,$26,$28

CODE_12BC1F:
	db $F8,$F8,$FB,$18,$18,$15

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
DATA_12BA14:
	db $FF,$FF,$FF,$00,$00,$00
endif

DATA_12BC25:
	db $02,$03,$06,$FE,$FD,$FA

CODE_12BC2B:
	LDY.b #$00
	CMP.b #$00
	BEQ.b CODE_12BC37
	INY
	CMP.b #$60
	BEQ.b CODE_12BC37
	INY
CODE_12BC37:
	PHY
	LDA.b $6F,x
	AND.b #$01
	LSR
	ROR
	ROR
	STA.w $0712
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$80
	STA.w $0713
	JSL.l CODE_13FC5B
	PLY
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BEQ.b CODE_12BC53
	RTS
endif

CODE_12BC53:
	TYX
	PHX
	LDA.w $0713
	BEQ.b CODE_12BC5F
	TXA
	CLC
	ADC.b #$03
	TAX
CODE_12BC5F:
	LDA.l CODE_12BC1F,x
	CLC
	ADC.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.l DATA_12BA14,x
	ADC.w !RAM_SMB2U_Level_SpriteTileYDispHi
	STA.w $07A6
endif
	PLX
	PHX
	LDA.w $0712
	BEQ.b CODE_12BC75
	TXA
	CLC
	ADC.b #$03
	TAX
CODE_12BC75:
	REP.b #$20
	LDA.l DATA_12BC25,x
	AND.w #$00FF
	CMP.w #$0080
	BCC.b CODE_12BC86
	ORA.w #$FF00
CODE_12BC86:
	STA.w $0716
	SEP.b #$20
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	PLX
endif
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	REP.b #$20
	CLC
	ADC.w $0716
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$0080
	CMP.w #$0200
	SEP.b #$20
	BCS.b CODE_12BCEA
	LDA.w $07A6
	XBA
	LDA.w $07A5
	JSL.l CODE_15CDE6
	BCS.b CODE_12BCEA
else
	CMP.w #$0180
	BCC.b CODE_12BCA5
	CMP.w #$FF80
	BCS.b CODE_12BCA5
	PLX
	BRA.b CODE_12BCEA

CODE_12BCA5:
	SEP.b #$20
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	XBA
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	PLX
endif
	LDA.l DATA_12BC1C,x
	STA.w $0714
	REP.b #$10
	LDY.w $02F8
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.w $0714
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.w $0713
	ORA.w $0712
	ORA.b #$2A
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDX.w #$0000
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	BEQ.b CODE_12BCE4
	INX
CODE_12BCE4:
	TXA
	ORA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
CODE_12BCEA:
	SEP.b #$30
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

;--------------------------------------------------------------------

CODE_12BCEF:
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	PHA
	JSL.l CODE_139110
	PLA
	ASL
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.b $B1,x
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	ORA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
endif
	BNE.b CODE_12BD54
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	STA.w $07A6
endif
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CLC
	ADC.b #$08
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b $6F,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.w $0213
	AND.b #$71
	ORA.b #$01
	STA.w $0213
	JSL.l CODE_14E483
	STZ.b !RAM_SMB2U_Global_ScratchRAM0B
	LDX.b #$14
	JMP.w CODE_12BEFD

;--------------------------------------------------------------------

SMB2U_GenericSpriteGraphicsRt:
.Main:
;$12BD2F
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w DATA_11993B,y
	CMP.b #$FF
	BEQ.b CODE_12BD54
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1D_Mouser
	BNE.b CODE_12BD3F
	JMP.w SMB2U_NorSpr1D_Mouser_Status01_GFXRt

CODE_12BD3F:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr21_Clawgrip
	BNE.b CODE_12BD46
	JMP.w SMB2U_NorSpr21_Clawgrip_Status01_GFXRt

CODE_12BD46:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr22_ClawgripRock
	BNE.b CODE_12BD4D
	JMP.w SMB2U_NorSpr22_ClawgripRock_Status01_GFXRt

CODE_12BD4D:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr2D_HawkmouthBoss
	BNE.b CODE_12BD55
	JMP.w SMB2U_NorSpr2D_HawkmouthBoss_Status01_GFXRt

CODE_12BD54:
	RTS

CODE_12BD55:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr12_Pidgit
	BNE.b CODE_12BD5C
	JMP.w SMB2U_NorSpr12_Pidgit_Status01_CODE_12C68E

CODE_12BD5C:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr04_Porcupo
	BNE.b CODE_12BD63
	JMP.w CODE_12C1A7

CODE_12BD63:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr33_LargeVeggie
	BNE.b CODE_12BD6A
	JMP.w CODE_12B14D

CODE_12BD6A:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr26_Autobomb
	BNE.b CODE_12BD71
	JMP.w SMB2U_NorSpr26_Autobomb_Status01_CODE_12D50D

CODE_12BD71:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr2A_Fryguy
	BNE.b CODE_12BD78
	JMP.w CODE_12D209

CODE_12BD78:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr43_LeftFacingHawkmouth
	BNE.b CODE_12BD7F
	JMP.w SMB2U_NorSprXX_Hawkmouth_Status01_CODE_12AD36

CODE_12BD7F:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr2C_Wart
	BNE.b CODE_12BD86
	JMP.w CODE_12DC2A

CODE_12BD86:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr28_WaterSpout
	BNE.b CODE_12BD8D
	JMP.w SMB2U_NorSpr28_WaterSpout_Status01_CODE_12D5D6

CODE_12BD8D:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1A_Pokey
	BNE.b CODE_12BD94
	JMP.w SMB2U_NorSpr1A_Pokey_Status01_GFXRt

CODE_12BD94:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr00_RecoveryHeart
	BNE.b CODE_12BD9B
	JMP.w SMB2U_NorSpr00_RecoveryHeart_Status01_CODE_12AEE3

CODE_12BD9B:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr08_Ostro
	BNE.b CODE_12BDA2
	JMP.w CODE_12C8FD

CODE_12BDA2:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1F_Tryclyde
	BNE.b CODE_12BDA9
	JMP.w SMB2U_NorSpr1F_Tryclyde_Status01_CODE_12CAB7

CODE_12BDA9:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1C_Birdo
	BNE.b CODE_12BDB0
	JMP.w CODE_12BBA6

CODE_12BDB0:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr0A_AlbatossCarryingBobomb
	BCC.b CODE_12BDBB
	CPY.b #!Define_SMB2U_SpriteID_NorSpr0D_FollowingNinji
	BCS.b CODE_12BDBB
	JMP.w CODE_12BCEF

CODE_12BDBB:
	CPY.b #!Define_SMB2U_SpriteID_NorSpr41_MagicCarpet
	BNE.b CODE_12BDCF
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STA.w $02F8
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	STA.w $02F9
	JMP.w CODE_12C6E5

CODE_12BDCE:
	RTS

CODE_12BDCF:
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	CPY.b #!Define_SMB2U_SpriteID_NorSpr38_RocketShip
	BNE.b CODE_12BDD8
	JMP.w SMB2U_NorSpr38_RocketShip_Status01_CODE_12D1A8

CODE_12BDD8:
	LDA.w DATA_11993B,y
SMB2U_GenericSpriteGraphicsRt_Entry2:
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BNE.b CODE_12BDCE
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	AND.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDY.b $6F,x
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$18
	BEQ.b CODE_12BE00
	LDY.b #$02
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$02
	BNE.b CODE_12BE00
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BEQ.b CODE_12BE00
	DEY
CODE_12BE00:
	STY.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$44
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	STA.w $07A6
endif
	STZ.w $0700
	STZ.w $0701
	LDA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	AND.b #$02
	LSR
	LDY.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	BEQ.b CODE_12BE1F
	LDA.b #$00
CODE_12BE1F:
	ADC.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	PHX
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	TAX
	LDA.l DATA_15EBA5,x
	PHA
	AND.b #$0F
	ORA.w $0249
	CPX.b #!Define_SMB2U_SpriteID_NorSpr17_Phanto
	BNE.b CODE_12BE38
	ORA.b #$10
CODE_12BE38:
	STA.w $0213
	STZ.w $0218
	PLA
	PHA
	AND.b #$40
	BEQ.b CODE_12BE4F
	LDA.w $0213
	AND.b #$F1
	ORA.w $0248
	STA.w $0213
CODE_12BE4F:
	PLA
	ASL
	ROL.w $0218
	ASL.w $0218
	LDA.l DATA_15EBEC,x
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	PLX
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$A0
	LDY.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12BE80
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	JSL.l CODE_1391DC
	BCS.b CODE_12BE80
	LDA.w $0213
	AND.b #$F1
	STA.w $0213
	TYA
	LSR
	AND.b #$03
	ORA.b !RAM_SMB2U_Global_ScratchRAM08
CODE_12BE80:
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	ASL
	LDA.b $9F,x
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.b #$08
	BEQ.b CODE_12BEAA
	BCC.b CODE_12BE98
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	BNE.b CODE_12BEAA

CODE_12BE98:
	INX
	INX
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	AND.b #$40
	BEQ.b CODE_12BEAA
	INX
	INX
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$20
	BEQ.b CODE_12BEAA
	INX
	INX
CODE_12BEAA:
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STA.w $02F8
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	STA.w $02F9
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	AND.b #$40
	BEQ.b CODE_12BEFD
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	AND.b #$04
	BEQ.b CODE_12BED6
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	CMP.b #$01
	BNE.b CODE_12BED6
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	ADC.b #$0F
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	ASL.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	ASL.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12BED6:
	JSR.w CODE_12C041
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	AND.b #$04
	BEQ.b CODE_12BEFD
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	STA.w $07A6
endif
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	CMP.b #$01
	BEQ.b CODE_12BEFD
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	ADC.b #$0F
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	ASL.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	ASL.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12BEFD:
	JSR.w CODE_12C041
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	CMP.b #$40
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BNE.b +
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	BMI.b ++
+:
	BRL.w CODE_12BF4D

++:
else
	BNE.b CODE_12BF4D
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	BPL.b CODE_12BF4D
endif
CODE_12BF0A:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$20
	BEQ.b CODE_12BF38
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDX.w $0700
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	PHA
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$00].YDisp,x
	PLA
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.w SMB2U_OAMBuffer[$01].YDisp,x
	PHA
	LDA.w SMB2U_OAMBuffer[$01].YDisp,y
	STA.w SMB2U_OAMBuffer[$01].YDisp,x
	PLA
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	TXA
	LSR
	LSR
	TAX
	SEP.b #$20
	LDA.w SMB2U_OAMTileSizeBuffer[$00].Slot,x
	PHA
	LDA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,x
	PLA
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	LDA.w SMB2U_OAMTileSizeBuffer[$01].Slot,x
	PHA
	LDA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,x
	PLA
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	SEP.b #$10
	BRA.b CODE_12BF4D
else
	SEP.b #$10
	BCS.b CODE_12BF4D
endif
CODE_12BF38:
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	PHA
	LDA.w SMB2U_OAMBuffer[$01].YDisp,y
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	PLA
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PHA
	LDA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PLA
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
endif
	SEP.b #$10
CODE_12BF4D:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$10
	BEQ.b CODE_12BF6E
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	ASL
	ORA.w $0213
	AND.b #$3F
	ORA.b #$20
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	ORA.b #$40
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	SEP.b #$10
CODE_12BF6E:
	REP.b #$10
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12BF9E
	REP.b #$20
	LDA.w $02F8
	SEC
	SBC.w #$0004
	STA.w $0700
	SEP.b #$20
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr0F_YellowBeezo
	BEQ.b CODE_12BF9E
	CMP.b #!Define_SMB2U_SpriteID_NorSpr10_RedBeezo
	BEQ.b CODE_12BF9E
	CMP.b #!Define_SMB2U_SpriteID_NorSpr1B_Bullet
	BEQ.b CODE_12BF9E
	CMP.b #!Define_SMB2U_SpriteID_NorSpr20_Fireball
	BEQ.b CODE_12BF9E
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w SMB2U_OAMBuffer[$00].XDisp,y
	CMP.b #$F0
	BCS.b CODE_12BFA1
CODE_12BF9E:
	BRL.w CODE_12C03C

CODE_12BFA1:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr2A_Fryguy
	BNE.b CODE_12BFB3
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	BNE.b CODE_12BFB3
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	CMP.b #$20
	BEQ.b CODE_12BFC2
CODE_12BFB3:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12BFBE
	LDA.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	CMP.b #$19
	BCC.b CODE_12BFC2
CODE_12BFBE:
	JSL.l CODE_14E483
CODE_12BFC2:
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDX.w $02F8
	LDA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$00].XDisp,x
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$00].YDisp,x
	LDA.w SMB2U_OAMBuffer[$00].Tile,y
	STA.w SMB2U_OAMBuffer[$00].Tile,x
	LDA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$00].Prop,x
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	TXA
	LSR
	LSR
	TAX
	SEP.b #$20
	LDA.w $0218
	ORA.b #$01
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	DEC
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	AND.b #$40
	BEQ.b CODE_12C03C
	JSL.l CODE_14E483
	REP.b #$10
	LDY.w $0700
	LDX.w $02F8
	LDA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$00].XDisp,x
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$00].YDisp,x
	LDA.w SMB2U_OAMBuffer[$00].Tile,y
	STA.w SMB2U_OAMBuffer[$00].Tile,x
	LDA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$00].Prop,x
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	TXA
	LSR
	LSR
	TAX
	SEP.b #$20
	LDA.w $0218
	ORA.b #$01
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	DEC
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,x
CODE_12C03C:
	SEP.b #$10
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

CODE_12C041:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STZ.w $07A9
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	REP.b #$20
	CLC
	ADC.w #$0080
	CMP.w #$0200
	SEP.b #$20
	BCS.b +
	LDA.w $07A6
	XBA
	LDA.w $07A5
	JSL.l CODE_15CDE6
	BCC.b CODE_12C065
	INC.w $07A9
	BRA.b CODE_12C065

+:
else
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w $0712
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.w $0713
	REP.b #$20
	LDA.w $0712
	BPL.b CODE_12C05B
	CMP.w #$FF80
	BCS.b CODE_12C065
	BRA.b CODE_12C060

CODE_12C05B:
	CMP.w #$0180
	BCC.b CODE_12C065
CODE_12C060:
	SEP.b #$20
endif
	JMP.w CODE_12C104

CODE_12C065:
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$20
	BEQ.b CODE_12C070
	JMP.w CODE_12C105

CODE_12C070:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	BNE.b CODE_12C079
	LDA.w DATA_11986F,x
	BRA.b CODE_12C07C

CODE_12C079:
	LDA.w DATA_119992,x
CODE_12C07C:
	STA.w $0712
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	LSR
	PHP
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	AND.b #$C0
	TSB.w $0213
	PHX
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12C0A3
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr19_GroundDwellingCobrat
	BNE.b CODE_12C0A3
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$DF
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	AND.b #$DF
	STA.b !RAM_SMB2U_Global_ScratchRAM03
CODE_12C0A3:
	PLX
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	AND.b #$20
	EOR.b #$20
	TSB.w $0213
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	AND.b #$03
	ASL
	PLP
	BCC.b CODE_12C0B7
	ORA.b #$40
CODE_12C0B7:
	ORA.w $0213
	STA.w $0713
	JSL.l CODE_15D007
	REP.b #$10
	LDY.w $02F8
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A9
	BNE.b +
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
+:
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
else
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
endif
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.w $07A6
	ADC.b #$00
	STA.w $07A6
endif
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.w $0713
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	REP.b #$20
	LDA.w $02F8
	CLC
	ADC.w #$0004
	STA.w $02F8
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$08
	LSR
	LSR
	LSR
	ORA.w $0218
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	SEP.b #$10
	INX
	INX
CODE_12C104:
	RTS

CODE_12C105:
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	LSR
	PHP
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	AND.b #$C0
	TSB.w $0213
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	AND.b #$03
	ASL
	PLP
	BCC.b CODE_12C11A
	ORA.b #$40
CODE_12C11A:
	ORA.b #$20
	ORA.w $0213
	STA.w $0712
	AND.b #$40
	BNE.b CODE_12C12F
	LDA.w DATA_119992,x
	PHA
	LDA.w DATA_119992+$01,x
	BRA.b CODE_12C136

CODE_12C12F:
	LDA.w DATA_119992+$01,x
	PHA
	LDA.w DATA_119992,x
CODE_12C136:
	REP.b #$10
	LDY.w $02F8
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	PLA
	STA.w SMB2U_OAMBuffer[$00].Tile,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A9
	BNE.b +
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
+:
	LDA $00
else
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
endif
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.w $07A6
	ADC.b #$00
	STA.w $07A6
endif
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$08
	LSR
	LSR
	LSR
	ORA.w $0218
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$04
	LSR
	LSR
	ORA.w $0218
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	SEP.b #$10
	TXA
	PHA
	JSL.l CODE_14E483
	PLA
	TAX
	LDA.w $0700
	BNE.b CODE_12C1A3
	LDA.w $0701
	BNE.b CODE_12C1A3
	LDY.w $02F8
	STY.w $0700
	LDY.w $02F9
	STY.w $0701
CODE_12C1A3:
	INX
	INX
	INX
	RTS

CODE_12C1A7:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	JSR.w CODE_12BDCF
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$0C
	BNE.b CODE_12C1DF
endif
	LDA.b $9F,x
	AND.b #$0C
	LSR
	LSR
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	REP.b #$30
endif
	LDA.b $6F,x
	ASL
	ASL
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	TAX
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.w DATA_119986,x
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	PHX
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	JSR.w CODE_12BDCF
	PLX
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$0C
	BNE.b CODE_12C1DD
	REP.b #$30
	TXA
	AND.w #$00FF
	TAX
	SEP.b #$20
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
else
	AND.w #$00FF
	TAX
	SEP.b #$20
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	ADC.w DATA_119986,x
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
endif
	LDA.w SMB2U_OAMBuffer[$00].XDisp,y
	ADC.w DATA_11997E,x
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	SEP.b #$10
CODE_12C1DD:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12C1DF:
	RTS

;--------------------------------------------------------------------

SMB2U_CheckPlayerPositionRelativeToSprite:
.Main:
;$12C1E0
	LDA.b !RAM_SMB2U_Player_XPosLo
	SBC.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_Player_XPosHi
	LDY.b #$00
	SBC.b !RAM_SMB2U_NorSpr_XPosHi,x
	BCS.b CODE_12C1EF
	INY
CODE_12C1EF:
	RTS

;--------------------------------------------------------------------

SMB2U_UpdateNormalSpritePosition:
.Y:
;$12C1F0
	TXA
	CLC
	ADC.b #$0A
	TAX
.X:
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CLC
	ADC.w !RAM_SMB2U_NorSpr_XSpeedOffset,x
	PHA
	ASL
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	PLA
	LSR
	LSR
	LSR
	LSR
	CMP.b #$08
	BCC.b CODE_12C20D
	ORA.b #$F0
CODE_12C20D:
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.b #$00
	ASL
	BCC.b CODE_12C215
	DEY
CODE_12C215:
	STY.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w !RAM_SMB2U_NorSpr_SubXPos,x
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w !RAM_SMB2U_NorSpr_SubXPos,x
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ROL.b !RAM_SMB2U_Global_ScratchRAM01
	CPX.b #$0A
	BCS.b CODE_12C243
	LDA.b #$00
	STA.w $04A4,x
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr1B_Bullet
	BEQ.b CODE_12C243
	CMP.b #!Define_SMB2U_SpriteID_NorSpr0F_YellowBeezo
	BEQ.b CODE_12C243
	CMP.b #!Define_SMB2U_SpriteID_NorSpr10_RedBeezo
	BEQ.b CODE_12C243
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12C24B
CODE_12C243:
	LSR.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM02
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
CODE_12C24B:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

;--------------------------------------------------------------------

; Note: Routine that causes sprites to turn around when about to walk off a ledge?

CODE_12C24E:
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	EOR.b #$FF
	CLC								;\ Optimization: INC
	ADC.b #$01							;/
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BEQ.b CODE_12C25F
	LDA.b !RAM_SMB2U_NorSpr_FacingDirection,x
	EOR.b #$03
	STA.b !RAM_SMB2U_NorSpr_FacingDirection,x
CODE_12C25F:
	JMP.w SMB2U_UpdateNormalSpritePosition_X

;--------------------------------------------------------------------

; Note: Unreferenced routine?

CODE_12C262:
	JSR.w SMB2U_NorSpr3E_Potion_Status01_CODE_12B1FF
	RTL

if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) != $00	
	if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br) == $0000 ;[BR]
	%FREE_BYTES(NULLROM, 16, $FF)
	endif
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	%FREE_BYTES(NULLROM, 9, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
else
	if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMASW_br) == $0000
	%FREE_BYTES(NULLROM, 10, $FF)
	endif
endif

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr21_Clawgrip_InitRt(NULLROM)			; $12C270
	%ROUTINE_SMB2U_NorSpr21_Clawgrip_Status01(NULLROM)			; $12C286
	%ROUTINE_SMB2U_NorSpr22_ClawgripRock_Status01(NULLROM)			; $12C469
	%ROUTINE_SMB2U_NorSpr41_MagicCarpet_Status01(NULLROM)			; $12C4F6

;--------------------------------------------------------------------

SMB2U_SpawnMagicCarpet:
.Main:
;$12C5D8
	JSR.w SMB2U_FindFreeNormalSpriteSlot_HighPriority
	BMI.b CODE_12C610
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr41_MagicCarpet
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w !RAM_SMB2U_NorSpr_XPosLo,y
	SEC
	SBC.b #$08
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w !RAM_SMB2U_NorSpr_XPosHi,y
	SBC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.w !RAM_SMB2U_NorSpr_YPosLo,y
	CLC
	ADC.b #$0E
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.w !RAM_SMB2U_NorSpr_YPosHi,y
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	JSR.w CODE_129F81
	LDA.b #$A0
	STA.b !RAM_SMB2U_NorSpr41_MagicCarpet_DespawnTimer,x
CODE_12C610:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr12_Pidgit_Status01(NULLROM)				; $12C613

;--------------------------------------------------------------------

CODE_12C6E5:
	JSL.l CODE_15D21F
	BCS.b SMB2U_NorSpr12_Pidgit_Status01_CODE_12C6E2
	REP.b #$30
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	STY.w $0712
	LDY.w $070B
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	LDA.b !RAM_SMB2U_NorSpr_CurrentSlotID
	AND.w #$00FF
	TAX
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.w #$00FF
	STA.w $0716
	SEP.b #$20
	LDA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	AND.b #$02
	LSR
	LDX.w $0716
	BEQ.b CODE_12C72E
	LDA.b #$00
CODE_12C72E:
	STA.w $0714
	STZ.w $0715
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	ADC.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	CLC
	ADC.w #$0008
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b !RAM_SMB2U_Global_ScratchRAM04
	CLC
	ADC.w #$0010
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b !RAM_SMB2U_Global_ScratchRAM04
	CLC
	ADC.w #$0018
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	SEP.b #$20
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12C789
	LDX.w #$0001
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	BEQ.b CODE_12C76C
	TXA
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
CODE_12C76C:
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	BEQ.b CODE_12C774
	TXA
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
CODE_12C774:
	LDY.w $0712
	LDA.b !RAM_SMB2U_Global_ScratchRAM09
	BEQ.b CODE_12C77F
	TXA
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
CODE_12C77F:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	BEQ.b CODE_12C787
	TXA
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
CODE_12C787:
	BRA.b CODE_12C7B3

CODE_12C789:
	LDX.w $070B
	JSR.w CODE_12C7B8
	LDX.w $070D
	JSR.w CODE_12C7B8
	REP.b #$20
	LDA.w $070B
	CLC
	ADC.w #$0004
	TAX
	SEP.b #$20
	JSR.w CODE_12C7B8
	REP.b #$20
	LDA.w $070D
	CLC
	ADC.w #$0004
	TAX
	SEP.b #$20
	JSR.w CODE_12C7B8
CODE_12C7B3:
	SEP.b #$30
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

CODE_12C7B8:
	LDA.w SMB2U_OAMBuffer[$00].XDisp,x
	CMP.b #$F8
	BCC.b CODE_12C7F7
	PHX
	JSL.l CODE_14E483
	REP.b #$10
	PLX
	LDY.w $02F8
	LDA.w SMB2U_OAMBuffer[$00].XDisp,x
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.w SMB2U_OAMBuffer[$00].Tile,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.w SMB2U_OAMBuffer[$00].Prop,x
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	TXA
	LSR
	LSR
	TAX
	SEP.b #$20
	LDA.b #$01
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,x
	DEC
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
CODE_12C7F7:
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr1D_Mouser_InitRt(NULLROM)				; $12C7F8
	%ROUTINE_SMB2U_NorSpr1D_Mouser_Status01(NULLROM)			; $12C808

;--------------------------------------------------------------------

; Note: Ostro's code

CODE_12C8FD:
	JSR.w CODE_12BDD8
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b !RAM_SMB2U_NorSpr08_Ostro_NoShyGuyRiderFlag,x
else
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	ORA.b !RAM_SMB2U_NorSpr08_Ostro_NoShyGuyRiderFlag,x
endif
	BNE.b CODE_12C935
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	SEC
	SBC.b #$02
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	SBC.b #$00
	STA.w $07A6
endif
	JSR.w CODE_12C936
	JSL.l CODE_14E483
	LDA.w $0213
	PHA
	AND.b #$F1
	ORA.b #$02
	STA.w $0213
	CMP.b #$A3
	BNE.b CODE_12C92A
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A5
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w $07A5
	LDA.w $07A6
	ADC.b #$00
	STA.w $07A6
else
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM00
endif
CODE_12C92A:
	LDX.b #$78
	JSR.w CODE_12C041
	PLA
	STA.w $0213
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12C935:
	RTS

CODE_12C936:
	LDY.b !RAM_SMB2U_NorSpr_FacingDirection,x
	STZ.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.w $0712
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.w $0713
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	STA.w $0714
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	STA.w $0715
	REP.b #$20
	LDA.w DATA_119ABC-$01,y
	AND.w #$00FF
	CMP.w #$0080
	BCC.b CODE_12C960
	ORA.w #$FF00
CODE_12C960:
	CLC
	ADC.w $0712
	SEC
	SBC.w $0714
	SEP.b #$20
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	XBA
	STA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	BEQ.b CODE_12C979
	LDA.b #$08
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12C979:
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr08_Ostro_Status01(NULLROM)					; $12C97A
	%ROUTINE_SMB2U_NorSpr1F_Tryclyde_InitRt(NULLROM)				; $12CA80
	%ROUTINE_SMB2U_NorSpr1F_Tryclyde_Status01(NULLROM)				; $12CA90
	%ROUTINE_SMB2U_NorSprXX_Cobrat_InitRt(NULLROM)					; $12CCBA
	%ROUTINE_SMB2U_NorSprXX_Cobrat_Status01(NULLROM)				; $12CCC5
	%ROUTINE_SMB2U_NorSpr1A_Pokey_InitRt(NULLROM)					; $12CDE8
	%ROUTINE_SMB2U_NorSpr1A_Pokey_Status01(NULLROM)					; $12CDF0
	%ROUTINE_SMB2U_NorSpr38_RocketShip_Status01(NULLROM)				; $12CF9B

;--------------------------------------------------------------------

DATA_12D1FD:
	db $7C,$DC,$80,$E0

DATA_12D201:
	db $80,$E0,$7C,$DC

DATA_12D205:
	db $EC,$EE,$EC,$EE

CODE_12D209:
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	STA.w $071E
	STZ.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.b #$10
	STA.w $071A
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12D222
	INC.b $9F,x
	LDA.b #$08
	STA.w $071A
CODE_12D222:
	LDA.b $9F,x
	AND.b #$08
	LSR
	LSR
	LSR
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDY.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w $0720
	PHA
	CLC
	ADC.w DATA_119AF1,y
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	LDA.b $9F,x
	PHA
	AND.b #$18
	LSR
	LSR
	LSR
	STA.w $0718
	PLA
	AND.b #$0C
	LSR
	LSR
	STA.w $0719
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	AND.b #$7F
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDY.b #$00
	LDA.b $9F,x
	AND.w $071A
	BEQ.b CODE_12D261
	LDY.b #$40
CODE_12D261:
	STY.w $0249
	LDA.w $0718
	LDY.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12D26F
	LDA.w $0719
CODE_12D26F:
	PHX
	TAX
	LDA.l DATA_12D1FD,x
	PLX
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	JSL.l CODE_14E483
	LDA.w $02F8
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w $02F9
	STA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	PLA
	CLC
	LDY.b !RAM_SMB2U_Global_ScratchRAM07
	ADC.w DATA_119AF2,y
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	LDA.w $0718
	LDY.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12D29E
	LDA.w $0719
CODE_12D29E:
	PHX
	TAX
	LDA.l DATA_12D201,x
	PLX
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	LDA.b $9F,x
	STA.w $0721
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	PHA
	AND.b #$BF
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	STZ.b $9F,x
	LDA.w $0720
	CLC
	ADC.b #$F8
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$0E
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	LDA.b #$20
	STA.w $02F8
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STZ.w $02F9
	STZ.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LDY.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12D2DF
	LDA.b #$F0
	BRA.b CODE_12D2EB

CODE_12D2DF:
	STZ.w $0249
	PHX
	LDX.w $0718
	LDA.l DATA_12D205,x
	PLX
CODE_12D2EB:
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	PLA
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.w $0721
	STA.b $9F,x
	LDA.w $071E
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_NorSpr2A_FryGuy_InitRt(NULLROM)					; $12D2FD
	%ROUTINE_SMB2U_NorSpr2A_FryGuy_Status01(NULLROM)				; $12D30A
	%ROUTINE_SMB2U_NorSpr2B_MiniFryguy_Status01(NULLROM)				; $12D3C4
	%ROUTINE_SMB2U_NorSpr26_Autobomb_Status01(NULLROM)				; $12D440
	%ROUTINE_SMB2U_NorSpr28_WaterSpout_InitRt(NULLROM)				; $12D595
	%ROUTINE_SMB2U_NorSpr28_WaterSpout_Status01(NULLROM)				; $12D59D
	%ROUTINE_SMB2U_NorSpr29_Flurry_Status01(NULLROM)				; $12D796
	%ROUTINE_SMB2U_NorSpr2D_HawkmouthBoss_InitRt(NULLROM)				; $12D800
	%ROUTINE_SMB2U_NorSpr2D_HawkmouthBoss_Status01(NULLROM)				; $12D809
	%ROUTINE_SMB2U_GenSpr4A_VeggieGenerator(NULLROM)				; $12DAF6
	%ROUTINE_SMB2U_NorSpr2C_Wart_InitRt(NULLROM)					; $12DB43
	%ROUTINE_SMB2U_NorSpr2C_Wart_Status01(NULLROM)					; $12DB51
	%ROUTINE_SMB2U_NorSpr11_WartBubble_Status01(NULLROM)				; $12DC1C

;--------------------------------------------------------------------

; Note: Wart graphics routine

CODE_12DC29:
	RTS

CODE_12DC2A:
	REP.b #$20
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STA.w $126C
	STA.w $1274
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$03
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	TAY
	REP.b #$20
	LDA.w $1268,y
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	SEP.b #$20
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w $07A7
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	STA.w $07A8
else
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BNE.b CODE_12DC29
endif
	LDY.w !RAM_SMB2U_NorSpr2C_Wart_CurrentHP,x
	BNE.b CODE_12DC56
	LDA.b #$4E
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12DC56:
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	PHA
	PHA
	LDY.b #$AC
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_IsFallingOffscreenFlag,x
	BNE.b CODE_12DC6F
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12DC72
	CMP.b #$30
	BCS.b CODE_12DC6F
	AND.b #$08
	BNE.b CODE_12DC6F
	LDY.b #$9C
CODE_12DC6F:
	TYA
	BNE.b CODE_12DC7A
CODE_12DC72:
	LDA.b #$9C
	LDY.b !RAM_SMB2U_NorSpr2C_Wart_HurtTimer,x
	BEQ.b CODE_12DC7A
	LDA.b #$A0
CODE_12DC7A:
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A5
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	LDA.w $07A6
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
else
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
endif
	REP.b #$20
	LDY.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w $126A,y
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	SEP.b #$20
	LDY.b #$A4
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_IsFallingOffscreenFlag,x
	BNE.b CODE_12DCA7
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12DCA3
	CMP.b #$30
	BCS.b CODE_12DCA7
	AND.b #$08
	BNE.b CODE_12DCA7
	BEQ.b CODE_12DCA9								; Note: This will always branch.

CODE_12DCA3:
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_HurtTimer,x
	BEQ.b CODE_12DCA9
CODE_12DCA7:
	LDY.b #$A8
CODE_12DCA9:
	PLA
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	TYA
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A5
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	LDA.w $07A6
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
else
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
endif
	REP.b #$20
	LDY.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w $126C,y
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	SEP.b #$20
	LDY.b #$B8
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BEQ.b CODE_12DCD2
	LDY.b #$B0
	LDA.w !RAM_SMB2U_NorSpr2C_Wart_AnimationFrameCounter,x
	AND.b #$10
	BEQ.b CODE_12DCD2
	LDY.b #$B4
CODE_12DCD2:
	PLA
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	TYA
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	BEQ.b CODE_12DCE0
CODE_12DCDD:
	BRL.w CODE_12DD70

CODE_12DCE0:
	REP.b #$30
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	AND.w #$00FF
	TAY
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDX.w $1268,y
else
	LDX.w $126C,y
endif
	LDA.w $126E,y
	TAY
	SEP.b #$20
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CLC
	ADC.b #$20
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BCS.b CODE_12DCDD
else
	BCS.b CODE_12DD70
endif
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	STA.w $0712
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A7
	STA.w $0713
	LDA.w $07A8
	STA.w $0714
	LDA.w $0713
	ADC.b #$0F
	STA.w $0715
	PHP
	LDA.w $0714
	ADC.b #$00
	STA.w $0716
	PLP
	LDA.w $0715
	ADC.b #$10
	STA.w $0717
	LDA.w $0716
	ADC.b #$00
	STA.w $0718
	LDA.w $0714
	XBA
	LDA.w $0713
	JSL.l CODE_15CDE6
	BCS.b +
	LDA.w $0713
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
+:
	LDA.w $0716
	XBA
	LDA.w $0715
	JSL.l CODE_15CDE6
	BCS.b +
	LDA.w $0715
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
+:
else
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	SBC.b #$2F
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	ADC.b #$0F
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
	ADC.b #$10
	STA.w $0713
endif
	LDA.w SMB2U_OAMBuffer[$00].Prop,x
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	STA.w $0714
	LDA.b #$C4
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b #$CA
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$04
	LSR
	LSR
	ORA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	STA.w $0715
	JSL.l CODE_14E483
	REP.b #$10
	LDY.w $02F8
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $0718
	XBA
	LDA.w $0717
	JSL.l CODE_15CDE6
	BCS.b CODE_12DD70
	LDA.w $0717
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
endif
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDA.w $0713
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
endif
	LDA.b #$E0
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.w $0714
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w $0715
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
CODE_12DD70:
	SEP.b #$10
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
%FREE_BYTES(NULLROM, 27, $FF)
endif

;--------------------------------------------------------------------

CODE_12DD90:
	JSR.w CODE_12DE5A
	TAY
	LDA.b $46,x
	BMI.b CODE_12DD99
	INY
CODE_12DD99:
	JSR.w CODE_12E445
	BCS.b CODE_12DDA5
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.b #$82
	BEQ.b CODE_12DDA5
	CLC
CODE_12DDA5:
	DEX
	RTS

;--------------------------------------------------------------------

SMB2U_HandleNormalSpriteLevelCollision:
.Entry2:
;$12DDA7
	LDA.b #$04
	BNE.b CODE_12DDAD

.Main:
	LDA.b #$00
CODE_12DDAD:
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	STZ.b !RAM_SMB2U_Global_ScratchRAM0B
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
	JSR.w CODE_12DE5A
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b !RAM_SMB2U_NorSpr_YSpeed-$01,x
	BPL.b CODE_12DDC5
	JSR.w CODE_12DE38
	INC.b !RAM_SMB2U_Global_ScratchRAM07
	INC.b !RAM_SMB2U_Global_ScratchRAM08
	BNE.b CODE_12DE27
CODE_12DDC5:
	INC.b !RAM_SMB2U_Global_ScratchRAM07
	INC.b !RAM_SMB2U_Global_ScratchRAM08
	JSR.w CODE_12DE38
	LDA.b !RAM_SMB2U_NorSpr_SpriteID-$01,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr18_VaseDwellingCobrat
	BEQ.b CODE_12DDEC
	CMP.b #!Define_SMB2U_SpriteID_NorSpr19_GroundDwellingCobrat
	BEQ.b CODE_12DDEC
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	SEC
	SBC.b #$92
	CMP.b #$02
	BCS.b CODE_12DDEC
	ASL
	ADC.b #$01
	STA.b !RAM_SMB2U_NorSpr_YSpeed-$01,x
	LDA.b #!Define_SMB2U_NorSprStatus07_SinkInQuicksand
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus-$01,x
	LDA.b #$FF
	STA.b !RAM_SMB2U_NorSprStatus07_SinkInQuicksand_DespawnTimer-$01,x
CODE_12DDEC:
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	SEC
	SBC.b #$60
	CMP.b #$02
	BCS.b CODE_12DE27
	LDY.w $0438-$01,x
	BNE.b CODE_12DE27
	LDY.b !RAM_SMB2U_NorSpr_SpriteID-$01,x
	CPY.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCC.b CODE_12DE18
	TAY
	LDA.b !RAM_SMB2U_NorSpr_YSpeed-$01,x
	CMP.b #$03
	BCS.b CODE_12DE27
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	AND.b #$03
	BNE.b CODE_12DE27
	LDA.w DATA_11AB2F,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed-$01,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	BNE.b CODE_12DE27
CODE_12DE18:
	LDY.b !RAM_SMB2U_NorSpr_XSpeed-$01,x
	BEQ.b CODE_12DE25
	EOR.b $6E,x
	LSR
	BCS.b CODE_12DE25
	DEC.b $9E,x
	DEC.b $9E,x
CODE_12DE25:
	INC.b $9E,x
CODE_12DE27:
	LDA.b !RAM_SMB2U_NorSpr_XSpeed-$01,x
	CLC
	ADC.w !RAM_SMB2U_NorSpr_XSpeedOffset-$01,x
	BMI.b CODE_12DE33
	INC.b !RAM_SMB2U_Global_ScratchRAM07
	INC.b !RAM_SMB2U_Global_ScratchRAM08
CODE_12DE33:
	JSR.w CODE_12DE38
	DEX
	RTS

CODE_12DE38:
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	JSL.l CODE_13F900
	LDY.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w DATA_11AB31,y
	TAY
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	JSL.l CODE_13F99C
	BCC.b CODE_12DE55
	LDY.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w DATA_11AB39,y
	ORA.b $5A,x
	STA.b $5A,x
CODE_12DE55:
	INC.b !RAM_SMB2U_Global_ScratchRAM07
	INC.b !RAM_SMB2U_Global_ScratchRAM08
	RTS

CODE_12DE5A:
	INX
	LDA.b $5A,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	AND.b #$F0
	STA.b $5A,x
	LDY.w !RAM_SMB2U_NorSpr_PropertyBits0492-$01,x
	LDA.w DATA_11CAFD,y
CODE_12DE69:
	RTS

;--------------------------------------------------------------------

; Note: This routine checks for collisions between normal sprites and/or the player

SMB2U_CheckForSpriteToSpriteCollision:
.Main:
;$12DE6A
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_XSpeedOffset,x
	LDA.b $5B,x
	AND.b #$0F
	STA.b $5B,x
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	CMP.b #!Define_SMB2U_NorSprStatus04_Explosion
	BNE.b CODE_12DE7F
	LDY.b #$06
	BNE.b CODE_12DE9D							; Note: This will always branch.

CODE_12DE7F:
	CMP.b #!Define_SMB2U_NorSprStatus07_SinkInQuicksand
	BEQ.b CODE_12DE96
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1E_BirdoEgg
	BEQ.b CODE_12DE92
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1A_Pokey
	BEQ.b CODE_12DE92
	LDY.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BNE.b CODE_12DE96
CODE_12DE92:
	CMP.b #!Define_SMB2U_NorSprStatus01_Normal
	BNE.b CODE_12DE69
CODE_12DE96:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BNE.b CODE_12DE69
	LDY.w !RAM_SMB2U_NorSpr_PropertyBits0489,x
CODE_12DE9D:
	LDA.w $1128,y
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	LDA.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w $1100,y
	BPL.b CODE_12DEAD
	DEC.b !RAM_SMB2U_Global_ScratchRAM00
CODE_12DEAD:
	CLC
	ADC.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12DEBE
	STA.b !RAM_SMB2U_Global_ScratchRAM01
CODE_12DEBE:
	LDA.w $113C,y
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w $1114,y
	BPL.b CODE_12DECE
	DEC.b !RAM_SMB2U_Global_ScratchRAM00
CODE_12DECE:
	CLC
	ADC.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM03
CODE_12DED9:
	STX.b $EC
	TXA
	BNE.b CODE_12DEFF
	LDA.w !RAM_SMB2U_Player_HideAndFreezePlayerFlag
	ORA.w !RAM_SMB2U_Player_PlayerLocked
	BNE.b CODE_12DEEC
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus-$01,x
	CMP.b #!Define_SMB2U_NorSprStatus02_Dead
	BCC.b CODE_12DEEF
CODE_12DEEC:
	JMP.w CODE_12DF8D

CODE_12DEEF:
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,y
	BEQ.b CODE_12DEFA
	CMP.b #$20
	BCC.b CODE_12DEEC
CODE_12DEFA:
	LDY.b !RAM_SMB2U_Player_DuckingFlag
	JMP.w CODE_12DF44

CODE_12DEFF:
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	CMP.b #!Define_SMB2U_NorSprStatus04_Explosion
	BEQ.b CODE_12DF0F
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,y
	AND.b #$04
	BNE.b CODE_12DF2E
CODE_12DF0F:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus-$01,x
	CMP.b #!Define_SMB2U_NorSprStatus04_Explosion
	BNE.b CODE_12DF19
	LDY.b #$06
	BNE.b CODE_12DF44							; Note: This will always branch.

CODE_12DF19:
	CMP.b #!Define_SMB2U_NorSprStatus07_SinkInQuicksand
	BEQ.b CODE_12DF30
	LDY.b !RAM_SMB2U_NorSpr_SpriteID-$01,x
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1E_BirdoEgg
	BEQ.b CODE_12DF2C
	CPY.b #!Define_SMB2U_SpriteID_NorSpr1A_Pokey
	BEQ.b CODE_12DF2C
	LDY.w $042E,x
	BNE.b CODE_12DF30
CODE_12DF2C:
	CMP.b #!Define_SMB2U_NorSprStatus01_Normal
CODE_12DF2E:
	BNE.b CODE_12DF8D
CODE_12DF30:
	LDA.b $A7,x
	BNE.b CODE_12DF8D
	LDA.b $5A,x
	AND.b #$10
	BNE.b CODE_12DF8D
	LDA.w $046D,x
	AND.b #$04
	BNE.b CODE_12DF8D
	LDY.w $0488,x
CODE_12DF44:
	LDA.w $1128,y
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	LDA.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w $1100,y
	BPL.b CODE_12DF54
	DEC.b !RAM_SMB2U_Global_ScratchRAM00
CODE_12DF54:
	CLC
	ADC.b $28,x
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b $14,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12DF65
	STA.b !RAM_SMB2U_Global_ScratchRAM02
CODE_12DF65:
	LDA.w $113C,y
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	STZ.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w $1114,y
	BPL.b CODE_12DF73
	DEC.b !RAM_SMB2U_Global_ScratchRAM00
CODE_12DF73:
	CLC
	ADC.b $32,x
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b $1E,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	JSL.l CODE_13FAE9
	BCS.b CODE_12DF8D
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	PHA
	JSR.w CODE_12DF96
	PLA
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
CODE_12DF8D:
	DEX
	BMI.b CODE_12DF93
	JMP.w CODE_12DED9

CODE_12DF93:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12DF95:
	RTS

CODE_12DF96:
	TXA
	BNE.b CODE_12DFA4
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_12DFA4
	LDA.w !RAM_SMB2U_Player_CarriedSpriteIndex
	CMP.b !RAM_SMB2U_NorSpr_CurrentSlotID
	BEQ.b CODE_12DF95
CODE_12DFA4:
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	TAY
	LDA.w !RAM_SMB2U_NorSpr_SpriteCollisionTypeTable,y
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_12DFB1:
	dw SMB2U_SpriteCollisionType00_StandardCollision_Main
	dw SMB2U_SpriteCollisionType01_HurtSpriteOnContact_Main
	dw SMB2U_SpriteCollisionType02_SolidOnSidesToPlayer_Main
	dw SMB2U_SpriteCollisionType03_NoPlayerCollision_Main
	dw SMB2U_SpriteCollisionType04_ActLikeDoor_Main

;--------------------------------------------------------------------

SMB2U_SpriteCollisionType04_ActLikeDoor:
.Main:
;$12DFBB
	TXA
	BNE.b CODE_12E017
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_DPadU>>8
	BEQ.b CODE_12E017
	LDA.b $5A
	AND.b #$04
	BEQ.b CODE_12E017
	LDA.w $0426
	CMP.b #$FA
	BCS.b CODE_12E017
	LDA.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	ORA.w !RAM_SMB2U_NorSpr3C_Door_DespawnTimer
	BNE.b CODE_12E017
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_12DFE7
	LDY.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BNE.b CODE_12E017
CODE_12DFE7:
	LDA.w !RAM_SMB2U_Player_TeleportFlag
	BNE.b CODE_12E017
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_XPosLo,y
	STA.b !RAM_SMB2U_Player_XPosLo
	LDA.w !RAM_SMB2U_NorSpr_XPosHi,y
	STA.b !RAM_SMB2U_Player_XPosHi
	JSL.l SMB2U_SetReturnPointForWhenLeavingVaseOrSubspace_Main
	LDA.b #$04
	STA.w !RAM_SMB2U_Player_EntranceTypeToUse
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BNE.b CODE_12E014
	LDA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	STA.w $079D
	LDA.b #$80
	STA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	STA.w $079C
CODE_12E014:
	JMP.w CODE_128B20

CODE_12E017:
	RTS

;--------------------------------------------------------------------

SMB2U_SpriteCollisionType00_StandardCollision:
.Main:
;$12E018
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	TXA
	BNE.b CODE_12E020
	BRL.w CODE_12E0A3

CODE_12E020:
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,y
	ORA.w $045B,x
	BNE.b CODE_12E017
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,y
	BNE.b CODE_12E04C
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	CMP.b #!Define_SMB2U_NorSprStatus04_Explosion
	BEQ.b CODE_12E04C
	TXA
	TAY
	DEY
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	INX
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	CMP.b #!Define_SMB2U_NorSprStatus04_Explosion
	BEQ.b CODE_12E04C
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,y
	BEQ.b CODE_12E0A0
	LDA.b $5A,x
	AND.b #$10
	BNE.b CODE_12E0A0
CODE_12E04C:
	LDA.w $0453,y
	ORA.w !RAM_SMB2U_NorSpr_FlashingTimer,y
	BNE.b CODE_12E091
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,y
	AND.b #$08
	BEQ.b CODE_12E05E
	JSR.w CODE_12E352
CODE_12E05E:
	LDA.w $0465,y
	SEC
	SBC.b #$01
	STA.w $0465,y
	BMI.b CODE_12E077
	JSR.w CODE_12E352
	LDA.b #$21
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,y
	LSR
	STA.w $0438,y
	BNE.b CODE_12E091
CODE_12E077:
	LDA.w $005B,y
	ORA.b #$10
	STA.w $005B,y
	LDA.b #$E0
	STA.w !RAM_SMB2U_NorSpr_YSpeed,y
	LDA.w !RAM_SMB2U_NorSpr_XSpeed,y
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	ASL
	ROR.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !RAM_SMB2U_NorSpr_XSpeed,y
CODE_12E091:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID-$01,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCS.b CODE_12E0A0
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus-$01,x
	CMP.b #!Define_SMB2U_NorSprStatus02_Dead
	BEQ.b CODE_12E0A0
	JSR.w CODE_12E332
CODE_12E0A0:
	LDX.b $EC
	RTS

CODE_12E0A3:
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$08
	BNE.b CODE_12E0F5
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState04_EnterVase
	BEQ.b CODE_12E0F5
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	BNE.b CODE_12E0D9							; Note: !Define_SMB2U_SpriteID_NorSpr00_RecoveryHeart
	STA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	LDA.w !RAM_SMB2U_Player_CurrentHP
	CMP.b #$0F
	BEQ.b CODE_12E0C3
	LDA.b #!Define_SMAS_Sound0063_CollectCherry
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_12E0C3:
	LDY.w !RAM_SMB2U_Player_NumberOfHealthUpgrades
	LDA.w !RAM_SMB2U_Player_CurrentHP
	CLC
	ADC.b #$10
	STA.w !RAM_SMB2U_Player_CurrentHP
	CMP.w DATA_11CBEE,y
	BCC.b CODE_12E0F5
	JSL.l SMB2U_LoadCheckpointInformation_CODE_14E098
	RTS

CODE_12E0D9:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr17_Phanto
	BNE.b CODE_12E0E2
	LDY.w !RAM_SMB2U_NorSpr17_Phanto_ActivationCountdown
	BNE.b CODE_12E0F5
CODE_12E0E2:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr45_Star
	BNE.b CODE_12E0F6
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$32
else
	LDA.b #$3F
endif
	STA.w !RAM_SMB2U_Player_StarPowerTimer
	LDA.b #!Define_SMB2U_LevelMusic_HaveStar
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.b #!Define_SMB2U_NorSprStatus00_EmptySlot
	STA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
CODE_12E0F5:
	RTS

CODE_12E0F6:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr28_WaterSpout
	BNE.b CODE_12E111
	LDA.w $0079,y
	CMP.b #$DC
	BCS.b CODE_12E110
	LDA.w !RAM_SMB2U_Player_StarPowerTimer
	BEQ.b CODE_12E14A
	LDA.b #$DC
	STA.w $0079,y
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_YSpeed,y
CODE_12E110:
	RTS

CODE_12E111:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr2C_Wart
	BNE.b CODE_12E119
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_IsFallingOffscreenFlag,x
	BNE.b CODE_12E110
CODE_12E119:
	LDY.w !RAM_SMB2U_Player_StarPowerTimer
	BEQ.b CODE_12E14A
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	CMP.b #!Define_SMB2U_SpriteID_NorSpr27_AutombombFireball
	BEQ.b CODE_12E128
	CMP.b #!Define_SMB2U_SpriteID_NorSpr20_Fireball
	BNE.b CODE_12E133
CODE_12E128:
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	JSR.w SMB2U_NorSpr35_KoopaShell_Status01_CODE_12BA00
	JMP.w CODE_12E145

CODE_12E133:
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	LDA.w DATA_11AB41,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b #$E0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b $5B,x
	ORA.b #$10
	STA.b $5B,x
CODE_12E145:
	LDX.b $EC
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

CODE_12E14A:
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	CMP.b #!Define_SMB2U_NorSprStatus04_Explosion
	BEQ.b CODE_12E166
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,y
	AND.b #$01
	BNE.b CODE_12E166
	JSR.w CODE_12E37E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	BNE.b CODE_12E162
	RTS

CODE_12E162:
	AND.b #$0B
	BEQ.b CODE_12E169
CODE_12E166:
	JMP.w SMB2U_DamagePlayer_Main

CODE_12E169:
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_InAirFlag
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b $5B,x
	ORA.b #$20
	STA.b $5B,x
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	AND.b #$02
	BNE.b CODE_12E19F
	BIT.b !RAM_SMB2U_Global_ControllerPress1
	BVC.b CODE_12E19F						; Note: !Joypad_X|(!Joypad_Y>>8)
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	ORA.b !RAM_SMB2U_Player_DuckingFlag
	BNE.b CODE_12E19F
	STA.b $5B,x
	STX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	STA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	LDA.b #$07
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	JSL.l CODE_13F9D7
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr12_Pidgit
	BNE.b CODE_12E19F
	JSR.w SMB2U_SpawnMagicCarpet_Main
CODE_12E19F:
	LDX.b $EC
	RTS

;--------------------------------------------------------------------

SMB2U_SpriteCollisionType02_SolidOnSidesToPlayer:
.Main:
;$12E1A2
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	TXA
	BEQ.b CODE_12E1D4
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BNE.b CODE_12E1B5
	LDA.w $005B,y
	AND.b #$04
	BNE.b CODE_12E1D3
CODE_12E1B5:
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,y
	BNE.b CODE_12E1D0
	JSR.w CODE_12E37E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.b $6E,x
	BEQ.b CODE_12E1C9
	DEX
	JSR.w CODE_12C24E
	LDX.b $EC
CODE_12E1C9:
	JSR.w CODE_12E42C
	CPY.b #$00
	BEQ.b CODE_12E1D3
CODE_12E1D0:
	JMP.w CODE_12E2BD

CODE_12E1D3:
	RTS

CODE_12E1D4:
	LDA.w $005B,y
	ORA.b #$40
	STA.w $005B,y
	JSR.w CODE_12E37E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.b $6E
	BEQ.b CODE_12E1E9
	JSL.l CODE_13F9BB
CODE_12E1E9:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.b #$04
	BEQ.b CODE_12E1F2
	JSR.w CODE_12E169
CODE_12E1F2:
	JSR.w CODE_12E42C
	CPY.b #$01
	BNE.b CODE_12E228
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_YSpeed,y
	BEQ.b CODE_12E228
	AND.b #$80
	ASL
	ROL
	TAY
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.w DATA_11AB43,y
	BEQ.b CODE_12E228
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_YSpeed,y
	EOR.b #$FF
	CLC
	ADC.b #$01
	STA.w !RAM_SMB2U_NorSpr_YSpeed,y
	LDA.b #$01
	STA.b !RAM_SMB2U_Player_DuckingFlag
	LDA.b #$04
	STZ.w $078C
	STA.b !RAM_SMB2U_Player_BasePose
	LDA.b #$10
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
CODE_12E228:
	RTS

;--------------------------------------------------------------------

SMB2U_SpriteCollisionType03_NoPlayerCollision:
.Main:
	TXA
	BEQ.b CODE_12E228
	JMP.w CODE_12E2BD

;--------------------------------------------------------------------

SMB2U_SpriteCollisionType01_HurtSpriteOnContact:
.Main:
;$12E22F
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	TXA
	BNE.b CODE_12E266
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	CMP.b #!Define_SMB2U_NorSprStatus04_Explosion
	BNE.b CODE_12E241
	LDA.w !RAM_SMB2U_Player_StarPowerTimer
	BEQ.b CODE_12E263
CODE_12E240:
	RTS

CODE_12E241:
	JSR.w CODE_12E37E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.b #$08
	BEQ.b CODE_12E25A
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BNE.b CODE_12E240
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	STY.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.b #$01
	STA.w !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,y
	INC.b !RAM_SMB2U_Player_CarryingSomethingFlag
CODE_12E25A:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.b #$04
	BEQ.b CODE_12E240
	JMP.w CODE_12E169

CODE_12E263:
	JMP.w SMB2U_DamagePlayer_Main

CODE_12E266:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID-$01,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr2C_Wart
	BNE.b CODE_12E28A
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_SpitBubblesTimer-$01,x
	BEQ.b CODE_12E2CC
	LDA.b #!Define_SMB2U_NorSprStatus00_EmptySlot
	STA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	JSR.w CODE_12E332
	LDA.b #$60
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer-$01,x
	LSR
	STA.w $0438-$01,x
	LDA.w !RAM_SMB2U_NorSpr2C_Wart_CurrentHP-$01,x
	BNE.b CODE_12E289
	INC.w !RAM_SMB2U_Level_DisableScrollingFlag				;\ Glitch: If you kill Wart while he is offscreen, this will cause a softlock!
										;/ However, removing this has the side effect where the light door will appear on the far left if you head there before it appears.
CODE_12E289:
	RTS

CODE_12E28A:
	CMP.b #!Define_SMB2U_SpriteID_NorSpr32_SmallVeggie
	BCS.b CODE_12E289
	CMP.b #!Define_SMB2U_SpriteID_NorSpr11_WartBubble
	BNE.b CODE_12E29D
	LDA.b #!Define_SMB2U_NorSprStatus05_SmokePuff
	STA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	LDA.b #$1E
	STA.w !RAM_SMB2U_NorSprStatus05_SmokePuff_DespawnTimer,y
	RTS

CODE_12E29D:
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	CMP.b #$04
	BEQ.b CODE_12E2BF
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr35_KoopaShell
	BEQ.b CODE_12E2BD
	LDA.b #$E8
	STA.w !RAM_SMB2U_NorSpr_YSpeed,y
	STX.b !RAM_SMB2U_Global_ScratchRAM00
	LDX.b !RAM_SMB2U_NorSpr_XSpeed,y
	BMI.b CODE_12E2B8
	LDA.b #$18
CODE_12E2B8:
	STA.w !RAM_SMB2U_NorSpr_XSpeed,y
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
CODE_12E2BD:
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12E2BF:
	JSR.w CODE_12E332
	BNE.b CODE_12E2CC
	LDA.b !RAM_SMB2U_Player_XSpeed,x
	ASL
	ROR.b !RAM_SMB2U_Player_XSpeed,x
	ASL
	ROR.b !RAM_SMB2U_Player_XSpeed,x
CODE_12E2CC:
	RTS

;--------------------------------------------------------------------

SMB2U_DamagePlayer:
.Main:
;$12E2CD
	LDA.b !RAM_SMB2U_Player_HurtTimer
	BNE.b CODE_12E304
	LDA.w !RAM_SMB2U_Player_CurrentHP
	SEC
	SBC.b #$10
	BCC.b CODE_12E305
	STA.w !RAM_SMB2U_Player_CurrentHP
	LDY.b #$7F
	STY.b !RAM_SMB2U_Player_HurtTimer
	LDY.b #$00
	STY.b !RAM_SMB2U_Player_YSpeed
	STY.b !RAM_SMB2U_Player_XSpeed
	CMP.b #$10
	BCC.b CODE_12E2FF
	LDA.w !RAM_SMB2U_Player_OnScreenPosXLo
	SEC
	SBC.w !RAM_SMB2U_Level_SpriteTileXDispLo
	ASL
	ASL
	STA.b !RAM_SMB2U_Player_XSpeed
	LDA.b #$C0
	LDY.b !RAM_SMB2U_Player_YSpeed
	BPL.b CODE_12E2FD
	LDA.b #$00
CODE_12E2FD:
	STA.b !RAM_SMB2U_Player_YSpeed
CODE_12E2FF:
	LDA.b #!Define_SMAS_Sound0060_SMB2UHurt
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_12E304:
	RTS

CODE_12E305:
	TXA
	PHA
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr0F_YellowBeezo
	BCS.b CODE_12E31B
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	INY
	TYA
	CMP.b $6F,x
	BEQ.b CODE_12E31B
	JSR.w CODE_12C24E
CODE_12E31B:
	PLA
	TAX
	LDA.b #$C0
	STA.b !RAM_SMB2U_Player_YSpeed
	LDA.b #$20
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	BMI.b CODE_12E32D
	LSR
	STA.w $0438,y
CODE_12E32D:
	JSL.l CODE_14E39F
	RTS

;--------------------------------------------------------------------

CODE_12E332:
	LDA.w $0452,x
	ORA.w $045B,x
	BNE.b CODE_12E37D
	LDA.w $046D,x
	AND.b #$08
	BEQ.b CODE_12E344
	JSR.w CODE_12E352
CODE_12E344:
	DEC.w $0464,x
	BMI.b CODE_12E36C
	LDA.b #$21
	STA.w $045B,x
	LSR
	STA.w $0438-$01,x
CODE_12E352:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID-$01,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr2C_Wart
	BNE.b CODE_12E366
	LDA.w !RAM_SMB2U_NorSpr2C_Wart_CurrentHP-$01,x
	BNE.b CODE_12E366
	LDA.b #!Define_SMB2U_LevelMusic_StopMusicCommand
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.b #!Define_SMAS_Sound0063_BossDefeat
	BRA.b CODE_12E368

CODE_12E366:
	LDA.b #!Define_SMAS_Sound0063_StunEnemy
CODE_12E368:
	STA.w !RAM_SMB2U_Global_SoundCh3
	RTS

CODE_12E36C:
	LDA.b $5A,x
	ORA.b #$10
	STA.b $5A,x
	LDA.b #$E0
	STA.b $46,x
	LDA.w !RAM_SMB2U_NorSpr_XSpeed,y
	STA.b $3C,x
	LDA.b #$00
CODE_12E37D:
	RTS

;--------------------------------------------------------------------

CODE_12E37E:
	LDA.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w $0427
	CMP.b #$F4
	BCS.b CODE_12E3AB
	LDA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDY.b #$02
	CMP.b !RAM_SMB2U_Player_XPosLo,x
	BMI.b CODE_12E396
	LDY.b #$01
CODE_12E396:
	STY.b !RAM_SMB2U_Global_ScratchRAM0F
	TYA
	AND.b $6E,x
	BEQ.b CODE_12E3AA
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w $04A4,y
	BNE.b CODE_12E3AA
	LDA.w !RAM_SMB2U_NorSpr_XSpeed,y
	STA.w !RAM_SMB2U_Player_XSpeedOffset,x
CODE_12E3AA:
	RTS

CODE_12E3AB:
	LDA.w !RAM_SMB2U_NorSpr_YPosLo,y
	CPX.b #$01
	BCS.b CODE_12E3BA
	PHA
	LDY.b !RAM_SMB2U_Player_DuckingFlag
	PLA
	SEC
	SBC.w DATA_11AB45,y
CODE_12E3BA:
	CMP.b !RAM_SMB2U_Player_YPosLo,x
	BMI.b CODE_12E3F5
	LDA.b !RAM_SMB2U_Player_YSpeed,x
	BPL.b CODE_12E3CB
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_YSpeed,y
	BMI.b CODE_12E3D8
	BRA.b CODE_12E42B

CODE_12E3CB:
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w $04A4,y
	BNE.b CODE_12E3D8
	LDA.w !RAM_SMB2U_NorSpr_XSpeed,y
	STA.w !RAM_SMB2U_Player_XSpeedOffset,x
CODE_12E3D8:
	LDY.b #$00
	INC.w $0427
	BPL.b CODE_12E3E0
	DEY
CODE_12E3E0:
	LDA.w $0427
	CLC
	ADC.b !RAM_SMB2U_Player_YPosLo,x
	STA.b !RAM_SMB2U_Player_YPosLo,x
	TYA
	ADC.b !RAM_SMB2U_Player_YPosHi,x
	STA.b !RAM_SMB2U_Player_YPosHi,x
	LDA.b !RAM_SMB2U_Player_YSpeed,x
	BMI.b CODE_12E42B
	LDY.b #$04
	BNE.b CODE_12E413								; Note: This will always branch

CODE_12E3F5:
	LDA.b !RAM_SMB2U_Player_YSpeed,x
	BEQ.b CODE_12E404
	BPL.b CODE_12E42B
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr36_Coin
	BEQ.b CODE_12E42B
CODE_12E404:
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr44_Crystal
	BEQ.b CODE_12E42B
	CMP.b #!Define_SMB2U_SpriteID_NorSpr39_MushroomBlock
	BEQ.b CODE_12E42B
	LDY.b #$08
CODE_12E413:
	STY.b !RAM_SMB2U_Global_ScratchRAM0F
	LDY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w $04A4,y
	BNE.b CODE_12E422
	LDA.w !RAM_SMB2U_NorSpr_YSpeed,y
	STA.w !RAM_SMB2U_Player_YSpeedOffset,x
CODE_12E422:
	LDA.b #$10
	STA.b !RAM_SMB2U_Player_YSpeed,x
	STZ.w $0411,x
	INC.b $9E,x
CODE_12E42B:
	RTS

;--------------------------------------------------------------------

CODE_12E42C:
	LDY.b #$00
	LDA.b $5A,x
	ORA.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.b #$0C
	CMP.b #$0C
	BEQ.b CODE_12E443
	LDA.b $5A,x
	ORA.b !RAM_SMB2U_Global_ScratchRAM0F
	AND.b #$03
	CMP.b #$03
	BNE.b CODE_12E444
	INY
CODE_12E443:
	INY
CODE_12E444:
	RTS

;--------------------------------------------------------------------

CODE_12E445:
	JSL.l CODE_13F900
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.b #$09
CODE_12E44D:
	CMP.w DATA_119B50,y
	BEQ.b CODE_12E456
	DEY
	BPL.b CODE_12E44D
	CLC
CODE_12E456:
	RTS

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
%FREE_BYTES(NULLROM, 41, $FF)
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
%FREE_BYTES(NULLROM, 9, $FF)
endif

;--------------------------------------------------------------------

CODE_12E460:
	ASL
	TAX
	JMP.w (DATA_12E465,x)

DATA_12E465:
	dw CODE_12E7E9
	dw CODE_12E7E9
	dw CODE_12E7E9
	dw CODE_12E7E9
	dw CODE_12E7E9
	dw CODE_12E89A
	dw CODE_12E89A
	dw CODE_12E89A
	dw CODE_12EDA1
	dw CODE_12E994
	dw CODE_12E958
	dw CODE_12E958
	dw CODE_12EC18

;--------------------------------------------------------------------

CODE_12E47F:
	ASL
	TAX
	JMP.w (DATA_12E484,x)

DATA_12E484:
	dw CODE_12E921
	dw CODE_12E921
	dw CODE_12E921
	dw CODE_12E921
	dw CODE_12E921
	dw CODE_12E921
	dw CODE_12EB07
	dw CODE_12EB07
	dw CODE_12EB07
	dw CODE_12EF72
	dw CODE_12EF72
	dw CODE_12EF72
	dw CODE_12EB32
	dw CODE_12EB32
	dw CODE_12ED1C
	dw CODE_12F040

;--------------------------------------------------------------------

CODE_12E4A4:
	LDA.w $050F
	ASL
	TAX
	JMP.w (DATA_12E4AC,x)

DATA_12E4AC:
	dw CODE_12EACF
	dw CODE_12EAEF
	dw CODE_12EB7F
	dw CODE_12E7F7
	dw CODE_12E870
	dw CODE_12EA71
	dw CODE_12EA71
	dw CODE_12EC63
	dw CODE_12EBC6
	dw CODE_12EBC6
	dw CODE_12F06A
	dw CODE_12F091
	dw CODE_12EF72
	dw CODE_12EF72
	dw CODE_12EF23
	dw CODE_12EE90

;--------------------------------------------------------------------

DATA_12E4CC:
	db $3D,$3C

CODE_12E4CE:
	LDA.w $050F
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w $0545
	LDX.w $050F
	CPX.b #$07
	BCS.b CODE_12E4E2
	LDA.w $0544
CODE_12E4E2:
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0F
	TAX
	LDA.w $050F
	CMP.b #$03
	BNE.b CODE_12E51A
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$1C
	BNE.b CODE_12E4F8
	LDA.b #$2A
	BRL.w CODE_12E5A8

CODE_12E4F8:
	CMP.b #$20
	BNE.b CODE_12E501
	LDA.b #$29
	BRL.w CODE_12E5A8

CODE_12E501:
	CMP.b #$21
	BNE.b CODE_12E50A
	LDA.b #$2B
	BRL.w CODE_12E5A8

CODE_12E50A:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_1_3
	BEQ.b CODE_12E515
	CMP.b #!Define_SMB2U_LevelID_4_3
	BNE.b CODE_12E51A
CODE_12E515:
	LDA.b #$28
	BRL.w CODE_12E5A8

CODE_12E51A:
	STX.b !RAM_SMB2U_Global_ScratchRAM07
	STY.b !RAM_SMB2U_Global_ScratchRAM08
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDA.w DATA_11B564,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.w DATA_11B56B,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.b #DATA_11B572>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	LDY.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b [!RAM_SMB2U_Global_ScratchRAM0C],y
	STZ.w $0762
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_6_3
	BNE.b CODE_12E546
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_6_3_Cliff
	BNE.b CODE_12E546
	BRA.b CODE_12E55C

CODE_12E546:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_5_2
	BNE.b CODE_12E558
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_5_2_Cliff
	BEQ.b CODE_12E55C
	CPX.b #!Define_SMB2U_SublevelID_5_2_POWBlockShaft
	BEQ.b CODE_12E55C
CODE_12E558:
	LDX.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12E564
CODE_12E55C:
	JSR.w CODE_12E5B4
	LDX.w $0762
	BNE.b CODE_12E5AD
CODE_12E564:
	JSR.w CODE_12E7A6
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	CMP.b #$B0
	BNE.b CODE_12E589
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_4_3
	BNE.b CODE_12E589
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_4_3_TowerRoof
	BNE.b CODE_12E589
	JSR.w CODE_12F1F3
	LDX.w $050E
	LDA.l DATA_12E4CC,x
	BRA.b CODE_12E5A4

CODE_12E589:
	CMP.b #$B0
	BNE.b CODE_12E5A4
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_1_3
	BNE.b CODE_12E59B
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_1_3_TowerBasement
	BEQ.b CODE_12E5A2
CODE_12E59B:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_3_3
	BNE.b CODE_12E5A4
CODE_12E5A2:
	LDA.b #$3E
CODE_12E5A4:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BRA.b CODE_12E5AA

CODE_12E5A8:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12E5AA:
	JSR.w CODE_12F13A
CODE_12E5AD:
	RTS

DATA_12E5AE:
	db $04,$10

DATA_12E5B0:
	db $07,$13

DATA_12E5B2:
	db $09,$18

CODE_12E5B4:
	STA.w $0721
	CMP.b #$AE
	BEQ.b CODE_12E5BC
	RTS

CODE_12E5BC:
	LDA.w $0768
	BNE.b CODE_12E5C4
	BRL.w CODE_12E690

CODE_12E5C4:
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $0713
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0714
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.b #$0F
	BNE.b CODE_12E5D7
	BRL.w CODE_12E65C

CODE_12E5D7:
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	DEY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12E610
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BEQ.b CODE_12E65C
	JSR.w CODE_12E763
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.b #$F0
	BEQ.b CODE_12E601
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	SEC
	SBC.b #$10
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12E601
	LDA.b #$00
	BRA.b CODE_12E67F

CODE_12E601:
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.b #$10
	LSR
	LSR
	LSR
	LSR
	TAX
	LDA.l DATA_12E5AE,x
	BRA.b CODE_12E67F

CODE_12E610:
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.b #$0F
	BEQ.b CODE_12E619
	JSR.w CODE_12E6BE
CODE_12E619:
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.b #$F0
	BEQ.b CODE_12E63F
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	SEC
	SBC.b #$10
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BEQ.b CODE_12E63B
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$7000
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BNE.b CODE_12E63F
CODE_12E63B:
	LDA.b #$03
	BRA.b CODE_12E67F

CODE_12E63F:
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	DEY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$C2
	BEQ.b CODE_12E601
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.b #$10
	LSR
	LSR
	LSR
	LSR
	TAX
	LDA.l DATA_12E5B0,x
	BRA.b CODE_12E67F

CODE_12E65C:
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.b #$F0
	BEQ.b CODE_12E672
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	SEC
	SBC.b #$10
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12E672
	LDA.b #$08
	BRA.b CODE_12E67F

CODE_12E672:
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.b #$10
	LSR
	LSR
	LSR
	LSR
	TAX
	LDA.l DATA_12E5B2,x
CODE_12E67F:
	LDX.w $0713
	STX.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.w $0714
	STX.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F154
CODE_12E690:
	INC.w $0762
	LDA.w $0721
	RTS

;--------------------------------------------------------------------

DATA_12E697:
	db $01,$02,$05,$06,$11,$12,$00,$04
	db $10,$03,$07,$13

DATA_12E6A3:
	db $02,$01,$06,$05,$12,$11,$01,$05
	db $11,$02,$06,$12

DATA_12E6AF:
	db $08,$09,$18

DATA_12E6B2:
	db $00,$10,$04

DATA_12E6B5:
	db $01,$06,$12

DATA_12E6B8:
	db $03,$07,$13

DATA_12E6BB:
	db $01,$05,$11

CODE_12E6BE:
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	DEY
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0714
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BNE.b CODE_12E6D2
	BRL.w CODE_12E75D

CODE_12E6D2:
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_1
	BNE.b CODE_12E6FA
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_5_1_WaterfallCave
	BNE.b CODE_12E6FA
	LDX.b #$02
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12E6E9:
	CMP.l DATA_12E6AF,x
	BEQ.b CODE_12E6F4
	DEX
	BPL.b CODE_12E6E9
	BRA.b CODE_12E713

CODE_12E6F4:
	LDA.l DATA_12E6B5,x
	BRA.b CODE_12E758

CODE_12E6FA:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BEQ.b CODE_12E75D
	CMP.b #$04
	BEQ.b CODE_12E75D
	CMP.b #$10
	BEQ.b CODE_12E75D
	LDX.b #$02
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12E70A:
	CMP.l DATA_12E6AF,x
	BEQ.b CODE_12E754
	DEX
	BPL.b CODE_12E70A
CODE_12E713:
	DEY
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BNE.b CODE_12E73A
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDX.b #$02
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12E729:
	CMP.l DATA_12E6B8,x
	BEQ.b CODE_12E734
	DEX
	BPL.b CODE_12E729
	BRA.b CODE_12E75D

CODE_12E734:
	LDA.l DATA_12E6BB,x
	BRA.b CODE_12E758

CODE_12E73A:
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDX.b #$0B
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12E743:
	CMP.l DATA_12E697,x
	BEQ.b CODE_12E74E
	DEX
	BPL.b CODE_12E743
	BRA.b CODE_12E75D

CODE_12E74E:
	LDA.l DATA_12E6A3,x
	BRA.b CODE_12E758

CODE_12E754:
	LDA.l DATA_12E6B2,x
CODE_12E758:
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	DEY
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12E75D:
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	RTS

CODE_12E763:
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	INY
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0714
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BEQ.b CODE_12E7A0
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$03
	BEQ.b CODE_12E7A0
	CMP.b #$07
	BEQ.b CODE_12E7A0
	CMP.b #$13
	BEQ.b CODE_12E7A0
	LDX.b #$05
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12E78C:
	CMP.l DATA_12E697,x
	BEQ.b CODE_12E797
	DEX
	BPL.b CODE_12E78C
	BRA.b CODE_12E75D

CODE_12E797:
	LDA.l DATA_12E6A3,x
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	INY
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12E7A0:
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	RTS

;--------------------------------------------------------------------

CODE_12E7A6:
	CMP.b #$07
	BNE.b CODE_12E7BC
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	BMI.b CODE_12E7B5
	CPY.b #$10
	BPL.b CODE_12E7B5
	JSR.w CODE_12E7BD
CODE_12E7B5:
	LDX.w $050E
	BNE.b CODE_12E7BC
	LDA.b #$18
CODE_12E7BC:
	RTS

CODE_12E7BD:
	STA.w $02C6
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $02C9
	SEC
	SBC.w #$0010
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$18
	BNE.b CODE_12E7DC
	LDA.b #$07
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
CODE_12E7DC:
	REP.b #$20
	LDA.w $02C9
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	LDA.w $02C6
	RTS

;--------------------------------------------------------------------

CODE_12E7E9:
	LDY.b $E7
CODE_12E7EB:
	JSR.w CODE_12E4CE
	JSR.w CODE_12F8DA
	DEC.w $050E
	BPL.b CODE_12E7EB
	RTS

;--------------------------------------------------------------------

CODE_12E7F7:
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$05
	BEQ.b CODE_12E827
	LDY.b $E7
	LDA.b #$52
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	LDA.b $E7
	CLC
	ADC.b #$10
	TAY
	LDA.b #$52
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$05
	BEQ.b CODE_12E822
	CMP.b #$06
	BEQ.b CODE_12E822
	JSR.w CODE_12F92C
CODE_12E822:
	JSL.l CODE_14F7B2
	RTS

CODE_12E827:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_6_3
	BNE.b CODE_12E835
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_6_3_BobOmbCave
	BEQ.b CODE_12E851
CODE_12E835:
	LDY.b $E7
	LDA.b #$52
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	TYA
	CLC
	ADC.b #$10
	TAY
	LDA.b #$52
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSL.l CODE_14F7B2
	RTS

CODE_12E851:
	LDY.b $E7
	DEY
	LDA.b #$52
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INY
	LDA.b #$52
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDX.b #$02
CODE_12E85F:
	TYA
	CLC
	ADC.b #$10
	TAY
	LDA.b #$52
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	DEX
	BPL.b CODE_12E85F
	JSL.l CODE_14F7FC
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns the light doors.

CODE_12E870:
	LDY.b $E7
	LDA.b #$52
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	LDY.b $E7
	TYA
	CLC
	ADC.b #$10
	TAY
	LDA.b #$52
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$05
	BEQ.b CODE_12E895
	CMP.b #$06
	BEQ.b CODE_12E895
	JSR.w CODE_12F92C
CODE_12E895:
	JSL.l CODE_14F7D7
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns in various things.

CODE_12E89A:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_4_3
	BNE.b CODE_12E8A8
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_4_3_ColdLake
	BEQ.b CODE_12E902
CODE_12E8A8:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_3
	BNE.b CODE_12E8B6
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_5_3_TreeInterior
	BEQ.b CODE_12E8FF
CODE_12E8B6:
	LDY.b $E7
	LDA.w $050F
	CMP.b #$06
	BNE.b CODE_12E8DD
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_3
	BNE.b CODE_12E8DD
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_5_3_ClawgripsRoom
	BNE.b CODE_12E8DD
CODE_12E8CD:
	LDA.b #$36								;\ Note: Clawgrip's rock
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y				;/
	JSR.w CODE_12F13A
	JSR.w CODE_12F918
	DEC.w $050E
	BPL.b CODE_12E8CD
	RTS

CODE_12E8DD:
	LDA.w $050F
	CMP.b #$06
	BNE.b CODE_12E8F4
	LDA.b #$00
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F154
	STY.b !RAM_SMB2U_Global_ScratchRAM08
	JSR.w CODE_12E763
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	BRA.b CODE_12E8F7

CODE_12E8F4:
	JSR.w CODE_12E4CE
CODE_12E8F7:
	JSR.w CODE_12F918
	DEC.w $050E
	BPL.b CODE_12E8F4
CODE_12E8FF:
	RTS

DATA_12E900:
	db $07,$13

CODE_12E902:
	LDY.b $E7
CODE_12E904:
	TYA
	AND.b #$10
	LSR
	LSR
	LSR
	LSR
	TAX
	LDA.l DATA_12E900,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F154
	TYA
	CLC
	ADC.b #$10
	CMP.b #$B0
	BCS.b CODE_12E920
	TAY
	BRA.b CODE_12E904

CODE_12E920:
	RTS

;--------------------------------------------------------------------

; Note: Routine that loads a mushroom block, POW block, breakable rock, vine/chain (standable), mini vase, or ladder (standable)

CODE_12E921:
	LDX.w $050F
	CPX.b #$05
	BNE.b CODE_12E92E
	LDA.w $0545
	BEQ.b CODE_12E92E
	INX
CODE_12E92E:
	LDA.w DATA_11B675,x
	LDY.w !RAM_SMB2U_Level_CurrentWorld
	CPY.b #$06
	BEQ.b CODE_12E93B
	LDA.w DATA_11B66E,x
CODE_12E93B:
	LDY.w $00E7
	PHA
	DEY
	JSR.w CODE_12F0BF
	JSL.l CODE_159895
	INY
	INY
	JSR.w CODE_12F0FC
	JSL.l CODE_1598DF
	DEY
	PLA
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns in cloud/log platforms.

CODE_12E958:
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$04
	BNE.b CODE_12E962
	JMP.w CODE_12EE3F

CODE_12E962:
	LDY.b $E7
	LDA.w $050F
	SEC
	SBC.b #$0A
	TAX
	LDA.w DATA_11B67C,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEC.w $050E
	BEQ.b CODE_12E988
CODE_12E978:
	JSR.w CODE_12F8DA
	LDA.w DATA_11B67E,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEC.w $050E
	BNE.b CODE_12E978
CODE_12E988:
	JSR.w CODE_12F8DA
	LDA.w DATA_11B680,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns the wavy hill ledges.

CODE_12E994:
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$06
	BNE.b CODE_12E99E
	JMP.w CODE_12EFF7

CODE_12E99E:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	BNE.b CODE_12E9B8									; Note: !Define_SMB2U_LevelID_1_1
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_5_3_Cave
	BNE.b CODE_12E9B8
	LDA.w $00E9
	CMP.b #$09
	BNE.b CODE_12E9B8
	LDA.w $00E7
	CMP.b #$0F
	BEQ.b CODE_12E9F0
CODE_12E9B8:
	LDX.b #$00
CODE_12E9BA:
	STX.b !RAM_SMB2U_Global_ScratchRAM0B
	LDX.b $E9
	JSR.w CODE_12F8B4
	LDX.b !RAM_SMB2U_Global_ScratchRAM0B
	LDY.b $E7
	LDA.w $050E
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	JSR.w CODE_12E9F1
	INX
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	BEQ.b CODE_12E9DA
CODE_12E9D2:
	JSR.w CODE_12F8DA
	JSR.w CODE_12E9F1
	BNE.b CODE_12E9D2
CODE_12E9DA:
	JSR.w CODE_12F8DA
	INX
	JSR.w CODE_12E9F1
	LDA.b $E7
	CLC
	ADC.b #$10
	CMP.b #$F0
	BCS.b CODE_12E9F0
	LDX.b #$03
	STA.b $E7
	BRA.b CODE_12E9BA

CODE_12E9F0:
	RTS

CODE_12E9F1:
	STX.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0714
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BEQ.b CODE_12EA08
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	BRA.b CODE_12EA6C

CODE_12EA08:
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	TXA
	BNE.b CODE_12EA2A
	LDX.b #$02
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.w DATA_11B68B,x
	BEQ.b CODE_12EA25
	DEX
	CMP.w DATA_11B68B,x
	BEQ.b CODE_12EA25
	DEX
	CMP.w DATA_11B68B,x
	BNE.b CODE_12EA48
CODE_12EA25:
	LDA.w DATA_11B68E,x
	BNE.b CODE_12EA5B
CODE_12EA2A:
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
	CPX.b #$02
	BNE.b CODE_12EA48
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.w DATA_11B68B,x
	BEQ.b CODE_12EA43
	DEX
	CMP.w DATA_11B68B,x
	BEQ.b CODE_12EA43
	DEX
	CMP.w DATA_11B68B,x
	BNE.b CODE_12EA48
CODE_12EA43:
	LDA.w DATA_11B691,x
	BNE.b CODE_12EA5B
CODE_12EA48:
	LDX.b #$08
CODE_12EA4A:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.w DATA_11B682,x
	BEQ.b CODE_12EA56
	DEX
	BPL.b CODE_12EA4A
	BRA.b CODE_12EA6C

CODE_12EA56:
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.w DATA_11B682,x
CODE_12EA5B:
	PHA
	DEY
	JSR.w CODE_12F0BF
	INY
	PLA
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	INY
	JSR.w CODE_12F0FC
	DEY
CODE_12EA6C:
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
	DEC.b !RAM_SMB2U_Global_ScratchRAM07
	RTS

;--------------------------------------------------------------------

; Note: Palm tree object code.

CODE_12EA71:
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$04
	BEQ.b CODE_12EAA1
	LDA.w $050F
	SEC
	SBC.b #$05
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	TAX
	LDY.b $E7
	LDA.w DATA_11B694,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
CODE_12EA8B:
	JSR.w CODE_12F918
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12EAA0
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w DATA_11B696,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	BNE.b CODE_12EA8B
CODE_12EAA0:
	RTS

CODE_12EAA1:
	LDX.b #$00
	LDA.w $050F
	CMP.b #$05
	BEQ.b CODE_12EAAB
	INX
CODE_12EAAB:
	STX.b !RAM_SMB2U_Global_ScratchRAM07
	LDY.b $E7
	LDA.w DATA_11B698,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
CODE_12EAB7:
	JSR.w CODE_12F918
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12EACE
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w DATA_11B69A,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	CPY.b #$E0
	BCC.b CODE_12EAB7
CODE_12EACE:
	RTS

;--------------------------------------------------------------------

; Note: Object that draws 2 tile wide small clouds, but only in 3-1.
; Disabling the check for 3-1 will reveal Nintendo never actually removed these clouds from other levels.

CODE_12EACF:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_3_1
	BNE.b CODE_12EAEE
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_3_1_SkyCliff
	BNE.b CODE_12EAEE
	LDY.b $E7
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	INY
	LDA.b #$02
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
CODE_12EAEE:
	RTS

;--------------------------------------------------------------------

; Note: Object that draws 1 tile wide small clouds, but only in 3-1.
; Disabling the check for 3-1 will reveal Nintendo never actually removed these clouds from other levels.

CODE_12EAEF:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_3_1
	BNE.b CODE_12EB06
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_3_1_SkyCliff
	BNE.b CODE_12EB06
	LDY.b $E7
	LDA.b #$03
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
CODE_12EB06:
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns the enterable vase tiles: 

CODE_12EB07:
	LDY.b $E7
	LDA.w $050F
	SEC
	SBC.b #$06
	TAX
	LDA.w DATA_11B69C,x
CODE_12EB13:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSR.w CODE_12F918
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12EB25
	LDA.b #$6B
	BRA.b CODE_12EB13

CODE_12EB25:
	TYA
	SEC
	SBC.b #$10
	TAY
	LDA.b #$6C
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns top of vines

CODE_12EB32:
	LDY.b $E7
	LDA.w $050F
	CMP.b #$0D
	BEQ.b CODE_12EB57
	DEY
	JSR.w CODE_12F0BF
	JSL.l CODE_159895
	INY
	LDA.b #$C1
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	INY
	JSR.w CODE_12F0FC
	JSL.l CODE_1598DF
	DEY
CODE_12EB54:
	JSR.w CODE_12F918
CODE_12EB57:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12EB7E
	DEY
	JSR.w CODE_12F0BF
	JSL.l CODE_159895
	INY
	LDA.b #$C2
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	INY
	JSR.w CODE_12F0FC
	JSL.l CODE_1598DF
	DEY
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12EB54
	CPY.b #$E0
	BCC.b CODE_12EB54
CODE_12EB7E:
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns the bottom vine tiles

CODE_12EB7F:
	LDY.b $E7
	DEY
	JSL.l CODE_159895
	INY
	LDA.b #$C3
CODE_12EB89:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	INY
	JSL.l CODE_1598DF
	DEY
	TYA
	SEC
	SBC.b #$10
	TAY
	CMP.b #$F0
	BCS.b CODE_12EBA7
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12EBA7
	LDA.b #$C2
	BRA.b CODE_12EB89

CODE_12EBA7:
	RTS

;--------------------------------------------------------------------

; Note: Routine that spawns collectable items and a few misc. things.

CODE_12EBA8:
	LDX.w $050F
	LDA.w DATA_11B69F,x
	CMP.b #$5A
	BNE.b CODE_12EBBC
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	LDA.w DATA_11B69F,x							; Optimization: This table was loaded three instructions ago, and A hasn't changed...
endif
	LDY.w $0242
	BNE.b CODE_12EBBC
	LDA.b #$EB
CODE_12EBBC:
	LDY.b $E7
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	RTS

;--------------------------------------------------------------------

; Note: Object that draws bricks/waterfall tiles?

CODE_12EBC4:
	STA.b $E7
CODE_12EBC6:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_1_3
	BEQ.b CODE_12EBD5
	CMP.b #!Define_SMB2U_LevelID_3_3
	BEQ.b CODE_12EBD5
	CMP.b #!Define_SMB2U_LevelID_4_3
	BNE.b CODE_12EBD8
CODE_12EBD5:
	BRL.w CODE_12F174

CODE_12EBD8:
	LDA.w $050F
	SEC
	SBC.b #$08
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDX.b $E9
	JSR.w CODE_12F8B4
	LDY.b $E7
	LDA.b #$05
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12EC17
CODE_12EBF1:
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$06
	BNE.b CODE_12EBFF
	JSL.l CODE_15A090
	RTS

CODE_12EBFF:
	LDA.w DATA_11B6AE,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSR.w CODE_12F8DA
	DEC.b !RAM_SMB2U_Global_ScratchRAM07
	BPL.b CODE_12EBF1
	LDA.b $E7
	CLC
	ADC.b #$10
	CMP.b #$F0
	BCC.b CODE_12EBC4
CODE_12EC17:
	RTS

;--------------------------------------------------------------------

; Note: Object that draws the waterfall tiles (body)

CODE_12EC18:
	STZ.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$03
	BNE.b CODE_12EC28
	JSL.l CODE_159DCA
	RTS

CODE_12EC26:
	STA.b $E7
CODE_12EC28:
	LDX.b $E9
	JSR.w CODE_12F8B4
	LDY.b $E7
	DEY
	JSR.w CODE_12F0BF
	JSL.l CODE_159895
	INY
	LDA.w $050E
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
CODE_12EC3F:
	LDA.w DATA_11B6B2,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSR.w CODE_12F8DA
	DEC.b !RAM_SMB2U_Global_ScratchRAM07
	BPL.b CODE_12EC3F
	JSR.w CODE_12F0FC
	JSL.l CODE_1598DF
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b $E7
	CLC
	ADC.b #$10
	CMP.b #$F0
	BCC.b CODE_12EC26
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns the Pyramids.

CODE_12EC63:
	LDY.b $E7
	STZ.b !RAM_SMB2U_Global_ScratchRAM08
	STZ.w $0242
CODE_12EC6A:
	PHY
	TYA
	CLC
	ADC.b #$10
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BEQ.b CODE_12EC79
	INC.w $0242
CODE_12EC79:
	PLY
	LDA.w $0242
	BEQ.b CODE_12EC83
	LDA.b #$8A
	BRA.b CODE_12EC85

CODE_12EC83:
	LDA.b #$84
CODE_12EC85:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
	BEQ.b CODE_12ECDF
	INY
	LDA.w $0242
	BEQ.b CODE_12EC98
	LDA.b #$8B
	BRA.b CODE_12EC9A

CODE_12EC98:
	LDA.b #$88
CODE_12EC9A:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEX
	BEQ.b CODE_12ECCE
CODE_12ECA2:
	INY
	LDA.w $0242
	BEQ.b CODE_12ECAC
	LDA.b #$8C
	BRA.b CODE_12ECAE

CODE_12ECAC:
	LDA.b #$85
CODE_12ECAE:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEX
	BNE.b CODE_12ECA2
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
CODE_12ECB8:
	INY
	LDA.w $0242
	BEQ.b CODE_12ECC2
	LDA.b #$8D
	BRA.b CODE_12ECC4

CODE_12ECC2:
	LDA.b #$86
CODE_12ECC4:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEX
	CPX.b #$01
	BNE.b CODE_12ECB8
CODE_12ECCE:
	INY
	LDA.w $0242
	BEQ.b CODE_12ECD8
	LDA.b #$8E
	BRA.b CODE_12ECDA

CODE_12ECD8:
	LDA.b #$89
CODE_12ECDA:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
CODE_12ECDF:
	INY
	LDA.w $0242
	BEQ.b CODE_12ECE9
	LDA.b #$8F
	BRA.b CODE_12ECEB

CODE_12ECE9:
	LDA.b #$87
CODE_12ECEB:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	CMP.b #$8F
	BNE.b CODE_12ECF5
	RTS

CODE_12ECF5:
	INC.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM08
	TAY
	JMP.w CODE_12EC6A

;--------------------------------------------------------------------

; Note: Unreferenced routine?

CODE_12ED05:
	LDY.b $E7
	LDA.b #$31
CODE_12ED09:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSR.w CODE_12F918
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BEQ.b CODE_12ED18
	RTS

CODE_12ED18:
	LDA.b #$32
	BRA.b CODE_12ED09

;--------------------------------------------------------------------

; Note: Unused object

CODE_12ED1C:
	RTS

;--------------------------------------------------------------------

; Note: Whale object code

CODE_12ED1D:
	LDY.b $E7
	LDA.w $050F
	SEC
	SBC.b #$0C
	TAX
	CMP.b #$03
	BEQ.b CODE_12ED2F
	LDA.w $0246
	BEQ.b CODE_12ED41
CODE_12ED2F:
	PHX
	TAX
	DEX
	JSR.w CODE_12F0A5
	LDA.w DATA_11B6D7,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSR.w CODE_12F8DA
	PLX
CODE_12ED41:
	LDA.w DATA_11B6C3,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEC.w $050E
	JSR.w CODE_12F8DA
	LDA.w DATA_11B6C7,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEC.w $050E
CODE_12ED5A:
	JSR.w CODE_12F8DA
	LDA.w DATA_11B6CB,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEC.w $050E
	LDA.w $050E
	CMP.b #$01
	BNE.b CODE_12ED5A
	JSR.w CODE_12F8DA
	LDA.w DATA_11B6CF,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEC.w $050E
	JSR.w CODE_12F8DA
	LDA.w DATA_11B6D3,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	CPX.b #$03
	BEQ.b CODE_12ED91
	LDX.w $0246
	BEQ.b CODE_12EDA0
CODE_12ED91:
	DEX
	JSR.w CODE_12F8DA
	LDA.w DATA_11B6DA,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSR.w CODE_12F0A5
CODE_12EDA0:
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns a whale tail or the diagonal chain in world 7.

CODE_12EDA1:
	STZ.w $0242
	STZ.w $0246
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$06
	BNE.b CODE_12EDB1
	JMP.w CODE_12F091

CODE_12EDB1:
	LDA.w $050E
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b #$0C
	STA.w $050F
	JSR.w CODE_12ED1D
	INC.w $050F
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	STA.w $050E
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	LDX.b $E9
	JSR.w CODE_12F8B4
	INC.w $0246
	JSR.w CODE_12ED1D
	INC.w $050F
	TYA
	AND.b #$F0
	CMP.b #$B0
	BNE.b CODE_12EDED
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	CMP.b #$0D
	BMI.b CODE_12EE15
	INC.w $0242
	BRA.b CODE_12EE15

CODE_12EDED:
	INC.w $0242
CODE_12EDF0:
	STZ.w $0247
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	STA.w $050E
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	CMP.b #$B0
	BCC.b CODE_12EE03
CODE_12EE03:
	LDX.b $E9
	JSR.w CODE_12F8B4
	INC.w $0246
	JSR.w CODE_12ED1D
	TYA
	AND.b #$F0
	CMP.b #$B0
	BNE.b CODE_12EE2A
CODE_12EE15:
	INC.w $0247
	JSR.w CODE_12F8DA
	JSR.w CODE_12F8DA
	LDA.b #$E1
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	INC.w $050F
	BRA.b CODE_12EDF0

CODE_12EE2A:
	LDA.w $050F
	CMP.b #$0E
	BCC.b CODE_12EDF0
	JSR.w CODE_12F8DA
	JSR.w CODE_12F8DA
	LDA.b #$11
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	RTS

;--------------------------------------------------------------------

; Note: Log/cloud object seen in 5-3.

CODE_12EE3F:
	LDY.b $E7
	LDA.w $050F
	SEC
	SBC.b #$0A
	TAX
	JSR.w CODE_12EE85
	LDA.w DATA_11B6DF,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSL.l CODE_159D4B
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	DEC.w $050E
	BEQ.b CODE_12EE72
CODE_12EE5E:
	JSR.w CODE_12F8DA
	LDA.w DATA_11B6E2,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSL.l CODE_159D4B
	DEC.w $050E
	BNE.b CODE_12EE5E
CODE_12EE72:
	JSR.w CODE_12F8DA
	JSR.w CODE_12EE85
	LDA.w DATA_11B6E4,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSL.l CODE_159D4B
	RTS

CODE_12EE85:
	STX.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BEQ.b CODE_12EE8F
	LDX.b #$02
CODE_12EE8F:
	RTS

;--------------------------------------------------------------------

; Note: Object that draws the large trees seen in 5-3.

CODE_12EE90:
	STZ.b !RAM_SMB2U_Global_ScratchRAM07
CODE_12EE92:
	STZ.w $024A
CODE_12EE95:
	LDY.b $E7
	LDX.b $E9
	JSR.w CODE_12F8B4
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12EED5
CODE_12EEA2:
	LDA.w $024A
	CLC
	ADC.b #$5C
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F154
	INC.w $024A
	LDA.w $024A
	AND.b #$0F
	CMP.b #$0C
	BEQ.b CODE_12EEBE
	JSR.w CODE_12F8DA
	BRA.b CODE_12EEA2

CODE_12EEBE:
	LDY.b $E7
	JSR.w CODE_12F918
	STY.b $E7
	INC.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w $024A
	CMP.b #$1C
	BEQ.b CODE_12EE92
	LDA.b #$10
	STA.w $024A
	BRA.b CODE_12EE95

CODE_12EED5:
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	CMP.b #$0F
	BEQ.b CODE_12EF22
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_3
	BNE.b CODE_12EEEF
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_5_3_BigTreePlain
	BNE.b CODE_12EEEF
	LDA.b $E9
	CMP.b #$08
	BNE.b CODE_12EF22
CODE_12EEEF:
	TYA
	SEC
	SBC.b #$11
	TAY
	LDA.b #$0E
	CLC
	ADC.b #$5C
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F154
	INY
	LDA.b #$0F
	CLC
	ADC.b #$5C
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDX.b #$0A
CODE_12EF08:
	JSR.w CODE_12F8DA
	DEX
	BPL.b CODE_12EF08
	LDA.b #$0C
	CLC
	ADC.b #$5C
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F8DA
	LDA.b #$0D
	CLC
	ADC.b #$5C
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F154
CODE_12EF22:
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns the dirt wall tiles seen behind the bob-omb door gate in 6-3

CODE_12EF23:
	LDA.b $E7
	STA.w $0721
	LDX.b #$00
CODE_12EF2A:
	LDY.b $E7
	LDA.w DATA_11B6ED,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$83
	BEQ.b CODE_12EF3A
	JSR.w CODE_12F154
	BRA.b CODE_12EF3D

CODE_12EF3A:
	JSR.w CODE_12F13A
CODE_12EF3D:
	INX
	INY
	LDA.w DATA_11B6ED,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$83
	BEQ.b CODE_12EF4D
	JSR.w CODE_12F154
	BRA.b CODE_12EF50

CODE_12EF4D:
	JSR.w CODE_12F13A
CODE_12EF50:
	INX
	INY
	LDA.w DATA_11B6ED,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F154
	INX
	INY
	LDY.b $E7
	TYA
	CLC
	ADC.b #$10
	STA.b $E7
	CPX.b #$1B
	BNE.b CODE_12EF2A
	LDA.w $0721
	STA.b $E7
	JSL.l CODE_15A2A7
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns in various doors: Locked, orange, brown, black, black, black.

CODE_12EF72:
	LDY.b $E7
	LDA.w $050F
	CMP.b #$09
	BNE.b CODE_12EF83
	LDA.w !RAM_SMB2U_Player_HasUnlockedDoor
	BEQ.b CODE_12EF83
	INC.w $050F
CODE_12EF83:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_7_2
	BNE.b CODE_12EF9C
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_7_2_LevelEntrance
	BNE.b CODE_12EF9C
	LDA.w $050F
	CMP.b #$0B
	BNE.b CODE_12EF9C
	LDX.b #$05
	BRA.b CODE_12EFA3

CODE_12EF9C:
	LDA.w $050F
	SEC
	SBC.b #$09
	TAX
CODE_12EFA3:
	LDA.w DATA_11B708,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	JSR.w CODE_12F918
	LDA.w DATA_11B70E,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$05
	BEQ.b CODE_12EFC4
	CMP.b #$06
	BEQ.b CODE_12EFC4
	JSR.w CODE_12F92C
CODE_12EFC4:
	RTS

;--------------------------------------------------------------------

CODE_12EFC5:
	LDY.b $E7
	LDA.w $050F
	SEC
	SBC.b #$0A
	TAX
	LDA.w DATA_11B714,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEC.w $050E
	BEQ.b CODE_12EFEB
CODE_12EFDB:
	JSR.w CODE_12F8DA
	LDA.w DATA_11B719,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	DEC.w $050E
	BNE.b CODE_12EFDB
CODE_12EFEB:
	JSR.w CODE_12F8DA
	LDA.w DATA_11B71E,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	RTS

CODE_12EFF7:
	LDA.w $050E
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b #$0C
	STA.w $050F
	JSR.w CODE_12EFC5
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	TAY
	LDA.b #$0D
	STA.w $050F
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	STA.w $050E
	JSR.w CODE_12EFC5
CODE_12F019:
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	TAY
	LDA.b #$0E
	STA.w $050F
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	STA.w $050E
	LDX.b $E9
	JSR.w CODE_12F8B4
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12F03F
	JSR.w CODE_12EFC5
	LDA.b $E7
	CMP.b #$E0
	BCC.b CODE_12F019
CODE_12F03F:
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns in various types of vertical logs?

CODE_12F040:
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDY.b $E7
	LDA.w DATA_11B723,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
CODE_12F04D:
	JSR.w CODE_12F918
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12F069
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDA.w DATA_11B72A,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	CPX.b #$04
	BNE.b CODE_12F04D
	CPY.b #$E0
	BCC.b CODE_12F04D
CODE_12F069:
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns Wart's veggie machine.

CODE_12F06A:
	DEC.b $E7
	DEC.b $E7
	LDX.b #$00
CODE_12F070:
	LDY.b $E7
	LDA.b #$05
	STA.w $0712
CODE_12F077:
	LDA.w DATA_11D04C,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INX
	CPX.b #$18
	BEQ.b CODE_12F090
	INY
	DEC.w $0712
	BPL.b CODE_12F077
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	BRA.b CODE_12F070

CODE_12F090:
	RTS

;--------------------------------------------------------------------

; Note: Object that spawns the diagonal chain seen in 7-2.

CODE_12F091:
	LDY.b $E7
CODE_12F093:
	LDA.b #$58
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	TYA
	CLC
	ADC.b #$0F
	TAY
	DEC.w $050E
	BNE.b CODE_12F093
	RTS

;--------------------------------------------------------------------

CODE_12F0A5:
	DEY
	TYA
	AND.b #$0F
	CMP.b #$0F
	BNE.b CODE_12F0BE
	TYA
	CLC
	ADC.b #$10
	TAY
	STX.b !RAM_SMB2U_Global_ScratchRAM0B
	LDX.b $E9
	DEX
	STX.b !RAM_SMB2U_Global_ScratchRAM0D
	JSR.w CODE_12F8B4
	LDX.b !RAM_SMB2U_Global_ScratchRAM0B
CODE_12F0BE:
	RTS

;--------------------------------------------------------------------

CODE_12F0BF:
	PHX
	STY.w $02C7
	TYA
	AND.b #$0F
	CMP.b #$0F
	BEQ.b CODE_12F0F7
	TYA
	BMI.b CODE_12F0D1
	CMP.b #$10
	BMI.b CODE_12F0F7
CODE_12F0D1:
	SEC
	SBC.b #$10
	TAY
	LDX.b #$03
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.w DATA_11B731,x
	BEQ.b CODE_12F0F7
	LDX.b #$03
	LDY.w $02C7
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12F0E5:
	CMP.w DATA_11B731,x
	BNE.b CODE_12F0F4
	LDA.w DATA_11B735,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	BRA.b CODE_12F0F7

CODE_12F0F4:
	DEX
	BPL.b CODE_12F0E5
CODE_12F0F7:
	LDY.w $02C7
	PLX
	RTS

;--------------------------------------------------------------------

CODE_12F0FC:
	PHX
	STY.w $02C7
	TYA
	AND.b #$0F
	BEQ.b CODE_12F135
	TYA
	BMI.b CODE_12F10C
	CMP.b #$10
	BMI.b CODE_12F135
CODE_12F10C:
	SEC
	SBC.b #$10
	TAY
	LDX.b #$03
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12F114:
	CMP.w DATA_11B739,x
	BEQ.b CODE_12F135
	DEX
	BPL.b CODE_12F114
	LDX.b #$03
	LDY.w $02C7
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12F123:
	CMP.w DATA_11B739,x
	BNE.b CODE_12F132
	LDA.w DATA_11B73D,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	BRA.b CODE_12F135

CODE_12F132:
	DEX
	BPL.b CODE_12F123
CODE_12F135:
	LDY.w $02C7
	PLX
	RTS

;--------------------------------------------------------------------

CODE_12F13A:
	STA.w $076E
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $076F
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$00
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDA.w $076F
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w $076E
	RTS

;--------------------------------------------------------------------

CODE_12F154:
	STA.w $076E
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $076F
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDA.w $076F
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w $076E
	RTS

;--------------------------------------------------------------------

; Note: Seems to be an object used in levels like 1-3.

DATA_12F16E:
	db $20,$1C,$1C,$1C,$1C,$21

CODE_12F174:
	STZ.b !RAM_SMB2U_Global_ScratchRAM08
	LDX.b $E9
	JSR.w CODE_12F8B4
	JSR.w CODE_12F1C5
	LDY.b $E7
	LDA.b #$05
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BEQ.b CODE_12F194
	CMP.b #$1B
	BEQ.b CODE_12F1AE
	CMP.b #$1D
	BEQ.b CODE_12F1AE
	BRA.b CODE_12F1C4

CODE_12F194:
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.w $0719
	BEQ.b CODE_12F19F
	TAX
	STZ.w $0719
CODE_12F19F:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$1D
	BEQ.b CODE_12F1AE
	LDA.l DATA_12F16E,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
CODE_12F1AE:
	JSR.w CODE_12F8DA
	INC.b !RAM_SMB2U_Global_ScratchRAM08
	DEC.b !RAM_SMB2U_Global_ScratchRAM07
	BPL.b CODE_12F194
	LDA.b $E7
	CLC
	ADC.b #$10
	CMP.b #$F0
	BCS.b CODE_12F1C4
	STA.b $E7
	BRA.b CODE_12F174

CODE_12F1C4:
	RTS

CODE_12F1C5:
	STZ.w $0719
	LDY.b $E7
	JSR.w CODE_12F0A5
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$21
	BEQ.b CODE_12F1DB
	CMP.b #$2B
	BNE.b CODE_12F1E2
	LDA.b #$2A
	BRA.b CODE_12F1DD

CODE_12F1DB:
	LDA.b #$1C
CODE_12F1DD:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.w $0719
CODE_12F1E2:
	RTS

;--------------------------------------------------------------------

DATA_12F1E3:
	db $00,$02,$02,$02,$04,$00,$02,$02
	db $02,$04

DATA_12F1ED:
	db $1B,$1A,$1D,$1D,$1F,$1E

CODE_12F1F3:
	LDA.w $0768
	BEQ.b CODE_12F22F
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $0715
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0716
	STY.w $0717
	JSR.w CODE_12F918
	LDA.w $076A
	LSR
	TAX
	LDA.l DATA_12F1E3,x
	CLC
	ADC.w $050E
	TAX
	LDA.l DATA_12F1ED,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F13A
	INC.w $076A
	LDA.w $0715
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w $0716
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w $0717
CODE_12F22F:
	RTS

;--------------------------------------------------------------------

DATA_12F230:
	db $40,$40,$40,$40,$00,$00,$00,$00

DATA_12F238:
	dw $2000,$5800,$9000,$C800

CODE_12F240:
	LDA.w $00FE
	EOR.b #$0F
	TAX
	REP.b #$20
	LDA.w #$3800
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.l DATA_12F230,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.l DATA_12F238,x
	LDY.b #$7E2000>>16
	JSL.l SMB2U_InitializeSelectedRAM_Entry2				; Note: Call to SMAS function
	SEP.b #$20
	RTS

;--------------------------------------------------------------------

CODE_12F260:
	SEP.b #$20
	RTS

;--------------------------------------------------------------------

CODE_12F263:
	LDA.w $0776
	BNE.b CODE_12F299
	STZ.w !RAM_SMB2U_Global_Layer1XPosLo
	STZ.w !RAM_SMB2U_Global_Layer1YPosLo
	STZ.w !RAM_SMB2U_Global_Layer2XPosLo
	STZ.w !RAM_SMB2U_Global_Layer2YPosLo
	STZ.w !RAM_SMB2U_Global_Layer3XPosLo
	STZ.w !RAM_SMB2U_Global_Layer3YPosLo
	STZ.w $0538
	STZ.w $026C
	STZ.w $0750
	STZ.b $D5
	STZ.w $02C1
	STZ.w $074F
	STZ.b $E6
	STZ.b !RAM_SMB2U_Global_CameraYPosHi
	STZ.b !RAM_SMB2U_Global_CameraYPosLo
	STZ.w !RAM_SMB2U_Global_CameraXPosHi
	STZ.w !RAM_SMB2U_Global_CameraXPosLo
	STZ.b $D8
CODE_12F299:
	RTS

;--------------------------------------------------------------------

CODE_12F29A:
	REP.b #$20
	LDA.w #$A000
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #$00FF
	XBA
	ORA.w #$00FF
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w #!RAM_SMB2U_Global_Layer2Map16Table
	LDY.b #!RAM_SMB2U_Global_Layer2Map16Table>>16
	JSL.l SMB2U_InitializeSelectedRAM_Entry2				; Note: Call to SMAS function
	SEP.b #$20
	RTS

;--------------------------------------------------------------------

; Note: Something related to loading the level palette

CODE_12F2B6:
	STY.b !RAM_SMB2U_Global_ScratchRAM0E
	STX.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDA.l DATA_148000,x
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.l DATA_14800E,x
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b #DATA_148000>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	BRA.b CODE_12F2E6

CODE_12F2CF:
	STY.b !RAM_SMB2U_Global_ScratchRAM0E
	STX.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDA.l DATA_148007,x
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.l DATA_148015,x
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b #DATA_148000>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM09
CODE_12F2E6:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.b [!RAM_SMB2U_Global_ScratchRAM07],y
	LDY.b !RAM_SMB2U_Global_ScratchRAM0E
	LDX.b !RAM_SMB2U_Global_ScratchRAM0D
	RTS

SMB2U_BufferLevelPalette:
.Main:
;$12F2EF
	JSL.l CODE_12F5D2
	LDY.b #$00
	LDA.b ($D9),y
	PHA
	JSR.w CODE_12F2B6
	PLA
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
	REP.b #$30
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	PHA
	AND.w #$0038
	ASL
	ASL
	ASL
	ASL
	ASL
	TAY
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	AND.w #$00FF
	BEQ.b CODE_12F31A
	LDA.b [!RAM_SMB2U_Global_ScratchRAM07],y
	BRA.b CODE_12F31D

CODE_12F31A:
	LDA.w #$0000
CODE_12F31D:
	STA.w $04BC
	LDX.w #$0000
CODE_12F323:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM07],y
	STA.w SMB2U_PaletteMirror[$00].LowByte,x
	INY
	INY
	INX
	INX
	CPX.w #$0100
	BNE.b CODE_12F323
	SEP.b #$30
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	CMP.b #$30
	BEQ.b CODE_12F33D
	JSL.l CODE_13DD50
CODE_12F33D:
	JSR.w CODE_12F2CF
	REP.b #$20
	PLA
	AND.w #$0003
	ASL
	ASL
	ASL
	ASL
	ASL
	ASL
	TAY
	LDX.b #$00
CODE_12F34F:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM07],y
	STA.w SMB2U_PaletteMirror[$E0].LowByte,x
	INY
	INY
	INX
	INX
	CPX.b #$40
	BNE.b CODE_12F34F
	SEP.b #$20
	JSL.l CODE_13DC00
	REP.b #$20
	LDY.b #$1E
CODE_12F366:
	LDA.w !RAM_SMB2U_Player_CurrentCharactersPalette,y
	STA.w SMB2U_PaletteMirror[$80].LowByte,y
	DEY
	DEY
	BPL.b CODE_12F366
	LDX.b #$7E
CODE_12F372:
	LDA.w DATA_11BB1C,x
	STA.w SMB2U_PaletteMirror[$90].LowByte,x
	DEX
	DEX
	BPL.b CODE_12F372
	LDA.w $04BC
	STA.w SMB2U_PaletteMirror[$00].LowByte
	STA.w SMB2U_PaletteMirror[$10].LowByte
	SEP.b #$20
	JSL.l CODE_13E457
	JSR.w CODE_12FF53
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	RTL

;--------------------------------------------------------------------

SMB2U_GenerateSubspaceLevelData:
.Main:
;$12F394
	JSR.w CODE_12FFB0
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	STA.w $051B
	LDA.b #$30
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	JSL.l SMB2U_BufferSubspacePaletteData_Main
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	STA.b $E9
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	CLC
	ADC.b #$08
	BCC.b CODE_12F3B4
	INC.b $E9
CODE_12F3B4:
	AND.b #$F0
	PHA
	SEC
	SBC.w !RAM_SMB2U_Global_CameraXPosLo
	STA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	PLA
	LSR
	LSR
	LSR
	LSR
	STA.b $E5
	LDA.b #$00
	STA.b $E6
	LDA.b $E9
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	JSR.w CODE_12FF86
	JSR.w CODE_12F8A7
	LDY.b $E7
	LDX.b #$0F
CODE_12F3D6:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_12F427
	STY.w $0713
	TXY
	STA.b [$C4],y
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0714
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w $0713
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BEQ.b CODE_12F406
	LDA.b $C5
	STA.w $0715
	CLC
	ADC.b #$70
	STA.b $C5
	TXY
	LDA.b #$01
	STA.b [$C4],y
	LDA.w $0715
	STA.b $C5
CODE_12F406:
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w $0713
	TYA
	CLC
	ADC.b #$10
	TAY
	TXA
	CLC
	ADC.b #$10
	TAX
	AND.b #$F0
	BNE.b CODE_12F3D6
	TYA
	AND.b #$0F
	TAY
	JSR.w CODE_12F8DA
	DEX
	BPL.b CODE_12F3D6
	RTL

CODE_12F427:
	STY.b !RAM_SMB2U_Global_ScratchRAM08
	STX.b !RAM_SMB2U_Global_ScratchRAM07
	CMP.b #$41
	BEQ.b CODE_12F435
	CMP.b #$42
	BEQ.b CODE_12F435					; Note: It seems that map16 tiles 41 and 42 are the mushrooms found in subspace.
	BRA.b CODE_12F44A

CODE_12F435:
	SEC
	SBC.b #$41
	TAY
	LDA.w !RAM_SMB2U_NorSpr3F_Mushroom_CollectedMushroom1,y
	BNE.b CODE_12F443
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	JSR.w SMB2U_SpawnSubspaceMushroom_Main
CODE_12F443:
	LDA.b #$41
	BRA.b CODE_12F44A

CODE_12F447:
	LDA.w DATA_11B839,x
CODE_12F44A:
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	RTS

;--------------------------------------------------------------------

SMB2U_LoadGenericVaseLevelData:
.Main:
;$12F44F
	LDX.b #$00
	STX.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	JSR.w CODE_12FFB0
	JSR.w CODE_12FF86
	LDY.b #$00
	LDA.b #$40
CODE_12F45D:
	STA.b [$C4],y
	INY
	BNE.b CODE_12F45D
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.b #$04
	TAX
	LDA.l DATA_15A400,x
	DEC
	DEC
	STA.w !RAM_SMB2U_Level_CurrentVaseInteriorSublevel
	JSL.l SMB2U_LoadVaseInteriorLevelData_Main
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	STA.w $051B
	LDA.b #!Define_SMB2U_SublevelID_X_X_GenericVase
	STA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.b #$0A
	JSR.w CODE_12F5E8
	LDY.b #$02
	LDA.b ($D9),y
	AND.b #$03
	STA.w $0544
	LDA.b ($D9),y
	LSR
	LSR
	AND.b #$03
	STA.w $0545
	JSR.w CODE_12F5E8
	LDA.b #$0A
	STA.b $E9
	LDA.b #$00
	STA.b $E6
	STA.b $E5
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	JSR.w CODE_12F610
	LDA.b #$01
	STA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

CODE_12F4B5:
	LDY.b #$03
	LDA.b (!RAM_SMB2U_Global_ScratchRAM05),y
	AND.b #$03
	STA.w $0546
	CMP.w $0547
	BEQ.b CODE_12F4CF
	LDA.w !RAM_SMB2U_Player_StarPowerTimer
	CMP.b #$08
	BCS.b CODE_12F4CF
	LDA.b #$80
	STA.w $0603
CODE_12F4CF:
	RTS

;--------------------------------------------------------------------

; Note: Routine that loads the level data.

CODE_12F4D0:
	STZ.w $02B7
CODE_12F4D3:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	CMP.b #$09
	BCC.b CODE_12F4E0
	JSR.w CODE_12F240
CODE_12F4E0:
	JSL.l CODE_14D1B2
	LDA.w $02B7
	BEQ.b CODE_12F4D3
if !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) == $00
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOnFBlank
endif
	JSR.w CODE_12F4F1
	RTL

CODE_12F4F1:
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	PHA
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11CF30,x
	STA.w $02E5
	STA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
CODE_12F502:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.l DATA_11D0AD,x
	STA.b $D9
	LDA.l DATA_11D17F,x
	STA.b $DA
	JSR.w CODE_12F55F
	JSL.l CODE_15A123
	JSL.l CODE_159C8C
	DEC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	BPL.b CODE_12F502
	PLA
	STA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	JSL.l CODE_159C53
	JSL.l CODE_15A1A3
	JSR.w CODE_12F53A
	RTS

CODE_12F53A:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	BNE.b CODE_12F55E								; Note: !Define_SMB2U_LevelID_1_1
	LDA.b #$7E3E7F
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$7E3E7F>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$7E3E7F>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.b #$00
	LDA.b #$CA
CODE_12F54F:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	TYA
	CLC
	ADC.b #$10
	CMP.b #$D0
	BEQ.b CODE_12F55E
	TAY
	LDA.b #$C7
	BRA.b CODE_12F54F

CODE_12F55E:
	RTS

CODE_12F55F:
	LDY.b #$03
	LDA.b ($D9),y
	LSR
	AND.b #$1C
	STA.w $0560
	LDY.b #$00
	LDA.b ($D9),y
	ASL
	LDA.b #$00
	ROL
	STA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	STZ.b $E9
	LDY.b #$02
	LDA.b ($D9),y
	TAX
	LSR
	LSR
	LSR
	LSR
	STA.w !RAM_SMB2U_Level_ScreensInLvl
	TXA
	AND.b #$03
	STA.w $0544
	TXA
	LSR
	LSR
	AND.b #$03
	STA.w $0545
	DEY
	LDA.b ($D9),y
	AND.b #$1F
	CMP.b #$1F
	BEQ.b CODE_12F5C1
	STA.w $0543
	INY
	INY
	INY
	STZ.b $E5
	STZ.b $E6
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.l DATA_15A400,x
	BEQ.b CODE_12F5BE
	CMP.b #$01
	BNE.b CODE_12F5C1
	JSL.l CODE_159400
	BRA.b CODE_12F5C1

CODE_12F5BE:
	JSR.w CODE_12F720
CODE_12F5C1:
	STZ.b $E6
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	JSR.w CODE_12F60E
	LDA.b #$22
	ORA.b !RAM_SMB2U_Global_FrameCounter
	STA.w $0585
	RTS

;--------------------------------------------------------------------

CODE_12F5D2:
;$12F5D2
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	LDA.w DATA_11D098,y
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAY
	LDA.w DATA_11D0AD,y
	STA.b $D9
	LDA.w DATA_11D17F,y
	STA.b $DA
	RTL

;--------------------------------------------------------------------

CODE_12F5E8:
	LDA.b #$1A00>>8
	STA.b $DA
	STZ.b $D9
	RTS

;--------------------------------------------------------------------

CODE_12F5EF:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_139E00,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.l DATA_139E16,x
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.l DATA_139EE8,x
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.l DATA_139E15
	STA.b !RAM_SMB2U_Global_ScratchRAM07
CODE_12F60D:
	RTS

;--------------------------------------------------------------------

; Note: Routine that loads tileset specific objects?

CODE_12F60E:
	STZ.b $E9
CODE_12F610:
	LDY.b !RAM_SMB2U_Global_ScratchRAM04
CODE_12F612:
	INY
	LDA.b ($D9),y
	CMP.b #$FF
	BEQ.b CODE_12F60D
	AND.b #$0F
	STA.b $E5
	LDA.b ($D9),y
	AND.b #$F0
	CMP.b #$F0
	BNE.b CODE_12F630
	LDA.b $E5
	STY.b !RAM_SMB2U_Global_ScratchRAM0F
	JSR.w CODE_12F690
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	BRA.b CODE_12F612

CODE_12F630:
	JSR.w CODE_12F67C
	INY
	STY.b !RAM_SMB2U_Global_ScratchRAM04
	JSR.w CODE_12F8A7
	LDA.b ($D9),y
	LSR
	LSR
	LSR
	LSR
	STA.w $050F
	CMP.b #$03
	BCS.b CODE_12F65F
	PHA
	LDA.b ($D9),y
	AND.b #$0F
	STA.w $050F
	PLA
	BEQ.b CODE_12F674
	CMP.b #$01
	BNE.b CODE_12F65A
	JSR.w CODE_12E4A4
	BRA.b CODE_12F610

CODE_12F65A:
	JSR.w CODE_12EBA8
	BRA.b CODE_12F610

CODE_12F65F:
	LDA.b ($D9),y
	AND.b #$0F
	STA.w $050E
	LDA.w $050F
	SEC
	SBC.b #$03
	STA.w $050F
	JSR.w CODE_12E460
	BRA.b CODE_12F610

CODE_12F674:
	LDA.w $050F
	JSR.w CODE_12E47F
	BRA.b CODE_12F610

;--------------------------------------------------------------------

CODE_12F67C:
	CLC
	ADC.b $E6
	BCC.b CODE_12F685
	ADC.b #$0F
	BRA.b CODE_12F68B

CODE_12F685:
	CMP.b #$F0
	BNE.b CODE_12F68D
	LDA.b #$00
CODE_12F68B:
	INC.b $E9
CODE_12F68D:
	STA.b $E6
	RTS

;--------------------------------------------------------------------

CODE_12F690:
	ASL
	TAX
	JMP.w (DATA_12F695,x)

DATA_12F695:
	dw CODE_12F6CA
	dw CODE_12F6CA
	dw CODE_12F6B8
	dw CODE_12F6B6
	dw CODE_12F708
	dw CODE_12F6CD
	dw CODE_12F6CA

;--------------------------------------------------------------------

CODE_12F6A3:
	ASL
	TAX
	JMP.w (DATA_12F6A8,x)

DATA_12F6A8:
	dw CODE_12F6EE
	dw CODE_12F6F3
	dw CODE_12F6C0
	dw CODE_12F6BD
	dw CODE_12F70D
	dw CODE_12F712
	dw CODE_12F713

;--------------------------------------------------------------------

CODE_12F6B6:
	INC.b $E9
CODE_12F6B8:
	INC.b $E9
	STZ.b $E6
	RTS

;--------------------------------------------------------------------

CODE_12F6BD:
	INC.w $0542
CODE_12F6C0:
	INC.w $0542
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
	STZ.b !RAM_SMB2U_Global_ScratchRAM09
	RTL

;--------------------------------------------------------------------

CODE_12F6C8:
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_12F6CA:
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
	RTS

;--------------------------------------------------------------------

CODE_12F6CD:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	INY
	LDA.b $E9
	ASL
	TAX
	LDA.b ($D9),y
	STA.w $051F,x
	INY
	INX
	LDA.b ($D9),y
	STA.w $051F,x
	STY.b !RAM_SMB2U_Global_ScratchRAM0F
	RTS

;--------------------------------------------------------------------

CODE_12F6E3:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	INY
	LDA.b ($D9),y
	LSR
	LSR
	LSR
	LSR
	LSR
	RTS

CODE_12F6EE:
	JSR.w CODE_12F6E3
	BRA.w CODE_12F6F9

CODE_12F6F3:
	JSR.w CODE_12F6E3
	CLC
	ADC.b #$08
CODE_12F6F9:
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12F707
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	ASL
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
CODE_12F707:
	RTL

;--------------------------------------------------------------------

CODE_12F708:
	STZ.b $E9
	STZ.b $E6
	RTS

;--------------------------------------------------------------------

CODE_12F70D:
	STZ.w $0542
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
CODE_12F712:
	RTL

;--------------------------------------------------------------------

CODE_12F713:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	INY
	LDA.b ($D9),y
	AND.b #$0F
	ASL
	ASL
	STA.w $0560
	RTL

;--------------------------------------------------------------------

; Note: Routine that loads the object data?

CODE_12F720:
	STZ.w $0542
	STZ.b !RAM_SMB2U_Global_ScratchRAM09
CODE_12F725:
	LDA.b ($D9),y
	CMP.b #$FF
	BNE.b CODE_12F737
	LDA.w !RAM_SMB2U_Level_ScreensInLvl
	INC
	INC
	STA.w $0542
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
	BRA.b CODE_12F77D

CODE_12F737:
	LDA.b ($D9),y
	AND.b #$F0
	BEQ.b CODE_12F761
	CMP.b #$F0
	BNE.b CODE_12F765
	STZ.w $02C8
	LDA.b ($D9),y
	AND.b #$0F
	STY.b !RAM_SMB2U_Global_ScratchRAM0F
	JSL.l CODE_12F6A3
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b ($D9),y
	AND.b #$0F
	CMP.b #$02
	BCC.b CODE_12F77D
	CMP.b #$06
	BEQ.b CODE_12F761
	CMP.b #$05
	BNE.b CODE_12F762
	INY
CODE_12F761:
	INY
CODE_12F762:
	INY
	BRA.b CODE_12F725

CODE_12F765:
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM09
	BCC.b CODE_12F76E
	ADC.b #$0F
	BRA.b CODE_12F774

CODE_12F76E:
	CMP.b #$F0
	BNE.b CODE_12F777
	LDA.b #$00
CODE_12F774:
	INC.w $0542
CODE_12F777:
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	INY
	INY
	BRA.b CODE_12F725

CODE_12F77D:
	JSR.w CODE_12F8A7
	JSL.l CODE_12F7D2
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12F796
	INC.b $E5
	LDA.b $E5
	CMP.b #$10
	BNE.b CODE_12F79B
	INC.b $E9
	STZ.b $E5
	BRA.b CODE_12F79B

CODE_12F796:
	LDA.b #$10
	JSR.w CODE_12F67C
CODE_12F79B:
	LDA.b $E9
	CMP.w $0542
	BNE.b CODE_12F77D
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12F7AE
	LDA.b $E5
	CMP.b !RAM_SMB2U_Global_ScratchRAM0E
	BCC.b CODE_12F77D
	BCS.b CODE_12F7B4								; Note: This will always branch.

CODE_12F7AE:
	LDA.b $E6
	CMP.b !RAM_SMB2U_Global_ScratchRAM0E
	BCC.b CODE_12F77D
CODE_12F7B4:
	LDA.b ($D9),y
	CMP.b #$FF
	BEQ.b CODE_12F7D1
	INY
	LDA.b ($D9),y
	AND.b #$1F
	STA.w $0543
	INY
	JMP.w CODE_12F725

;--------------------------------------------------------------------

CODE_12F7C6:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12F7CE
	LDA.w DATA_11B7BD,x
	RTS

CODE_12F7CE:
	LDA.w DATA_11B741,x
CODE_12F7D1:
	RTS

;--------------------------------------------------------------------

; Note: Something related to the grassy ground object.

CODE_12F7D2:
	STY.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.w $0543
	ASL
	ASL
	TAX
	LDY.b $E7
CODE_12F7DC:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12F7E6
	LDA.l DATA_11B7BD,x
	BRA.b CODE_12F7EA

CODE_12F7E6:
	LDA.l DATA_11B741,x
CODE_12F7EA:
	STA.w $0717
	JSR.w CODE_12F815
	LDA.w $0717
	JSR.w CODE_12F817
	LDA.w $0717
	JSR.w CODE_12F819
	LDA.w $0717
	JSR.w CODE_12F81B
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12F80C
	INX
	BCC.b CODE_12F7DC
	LDY.b !RAM_SMB2U_Global_ScratchRAM04
	RTL

CODE_12F80C:
	INX
	TYA
	AND.b #$0F
	BNE.b CODE_12F7DC
	LDY.b !RAM_SMB2U_Global_ScratchRAM04
	RTL

CODE_12F815:
	LSR
	LSR
CODE_12F817:
	LSR
	LSR
CODE_12F819:
	LSR
	LSR
CODE_12F81B:
	AND.b #$03
	STX.w !RAM_SMB2U_Global_ScratchRAM7E0210
	BEQ.b CODE_12F88C
	CLC
	ADC.w $0560
	TAX
	STX.b !RAM_SMB2U_Global_ScratchRAM0C
	STY.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12F842
	LDA.w DATA_11AB8F,x
	STA.b $DC
	LDA.w DATA_11AB9D,x
	STA.b $DD
	LDA.b #DATA_11ABC4>>16
	STA.b $DE
	BRA.b CODE_12F850

CODE_12F842:
	LDA.w DATA_11AB88,x
	STA.b $DC
	LDA.w DATA_11AB96,x
	STA.b $DD
	LDA.b #DATA_11ABA4>>16
	STA.b $DE
CODE_12F850:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.b [$DC],y
	PHA
	LDA.b $E9
	BNE.b CODE_12F862
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	AND.b #$0F
	BNE.b CODE_12F862
	PLA
	BRA.b CODE_12F880

CODE_12F862:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	AND.b #$F0
	BNE.b CODE_12F86B
	PLA
	BRA.b CODE_12F883

CODE_12F86B:
	PLA
	JSR.w CODE_12FEF4
	CPY.b #$00
	BEQ.b CODE_12F880
	LDX.w $02C8
	BNE.b CODE_12F87D
	JSR.w CODE_12FE34
	BRA.b CODE_12F880

CODE_12F87D:
	JSR.w CODE_12FE84
CODE_12F880:
	JSR.w CODE_12FF2F
CODE_12F883:
	JSR.w CODE_12FFC6
	LDX.b !RAM_SMB2U_Global_ScratchRAM0C
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12F88C:
	LDX.w !RAM_SMB2U_Global_ScratchRAM7E0210
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12F895
	INY
	RTS

CODE_12F895:
	TYA
	CLC
	ADC.b #$10
	TAY
	AND.b #$F0
	BNE.b CODE_12F8A6
	LDA.w $02C8
	BNE.b CODE_12F8A6
	INC.w $02C8
CODE_12F8A6:
	RTS

;--------------------------------------------------------------------

CODE_12F8A7:
	LDX.b $E9
	JSR.w CODE_12F8B4
	LDA.b $E6
	CLC
	ADC.b $E5
	STA.b $E7
	RTS

CODE_12F8B4:
	STY.w $02F5
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	DEC
	BEQ.b CODE_12F8C6
	PHX
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.l DATA_11AB11,x
	PLX
CODE_12F8C6:
	CLC
	ADC.w DATA_11AAFB,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w DATA_11AAF0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w DATA_11AB06,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.w $02F5
	RTS

;--------------------------------------------------------------------

CODE_12F8DA:
	INY
	TYA
	AND.b #$0F
	BNE.b CODE_12F917
	TYA
	SEC
	SBC.b #$10
	TAY
	STX.b !RAM_SMB2U_Global_ScratchRAM0B
	LDX.b $E9
	CPX.b #$06
	BNE.b CODE_12F90F
	LDA.w $0246
	CMP.b #$01
	BEQ.b CODE_12F8FA
	CMP.b #$02
	BEQ.b CODE_12F900
	BRA.b CODE_12F90F

CODE_12F8FA:
	CPY.b #$B0
	BNE.b CODE_12F90F
	BRA.b CODE_12F904

CODE_12F900:
	CPY.b #$C0
	BNE.b CODE_12F90F
CODE_12F904:
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	CMP.b #$04
	BNE.b CODE_12F90F
	LDA.w $0247
	BEQ.b CODE_12F910
CODE_12F90F:
	INX
CODE_12F910:
	STX.b !RAM_SMB2U_Global_ScratchRAM0D
	JSR.w CODE_12F8B4
	LDX.b !RAM_SMB2U_Global_ScratchRAM0B
CODE_12F917:
	RTS

;--------------------------------------------------------------------

CODE_12F918:
	TYA
	CLC
	ADC.b #$10
	TAY
	CMP.b #$F0
	BCC.b CODE_12F92B
	LDX.b $E9
	INX
	JSR.w CODE_12F8B4
	TYA
	AND.b #$0F
	TAY
CODE_12F92B:
	RTS

;--------------------------------------------------------------------

CODE_12F92C:
	LDY.b !RAM_SMB2U_Global_ScratchRAM04
	INY
	LDA.b ($D9),y
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	INY
	LDA.b ($D9),y
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	STY.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.b $E9
	ASL
	TAY
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	STA.w $051F,y
	INY
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	STA.w $051F,y
	RTS

;--------------------------------------------------------------------

; Note: Unreferenced routine?

CODE_12F94A:
	LSR
	BCS.b CODE_12F958
	LDA.b #$01
	STA.b $C9
	ASL
	STA.b $C8
	LDA.b #$00
	BRA.b CODE_12F95F

CODE_12F958:
	STZ.b $C9
	STZ.b $C8
	LDA.w DATA_119B3C,y
CODE_12F95F:
	STA.w $0507
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_SpawnSubspaceMushroom(NULLROM)					; $12F963
	%ROUTINE_SMB2U_UploadLevelPreviewLevelTilemap(NULLROM)				; $12F9C3

;--------------------------------------------------------------------

; Note: Routine that initializes a bunch of stripe image RAM tables

CODE_12FA14:
	LDA.b !RAM_SMB2U_Player_CharacterGFXSet
	ASL
	ASL
	ASL
	ASL
	ASL
	REP.b #$30
	AND.w #$00FF
	TAY
	LDX.w #$0000
CODE_12FA24:
	PHX
	TYX
	LDA.l DATA_11BA9C,x
	PLX
	STA.w !RAM_SMB2U_Player_CurrentCharactersPalette,x
	INY
	INY
	INX
	INX
	CPX.w #$0020
	BCC.b CODE_12FA24
	SEP.b #$30
CODE_12FA39:
	LDX.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.l DATA_11BA3C,x
	TAY
	LDX.b #$00
CODE_12FA42:
	PHX
	TYX
	LDA.l SMB2U_CharacterStats,x
	PLX
	STA.w !RAM_SMB2U_Player_GrabBigObjectDelayFrame6,x
	INY
	INX
	CPX.b #$17
	BCC.b CODE_12FA42
	PHD
	REP.b #$20
	LDX.b #$2F
CODE_12FA57:
	LDA.l SMB2U_SlotMachine_PayoutStripeImage,x
	STA.w !RAM_SMB2U_SlotMachine_PayoutStripeImageText,x
	DEX
	DEX
	BPL.b CODE_12FA57
	LDA.w #$1100
	TCD
	LDX.b #$9C
CODE_12FA68:
	LDA.l DATA_11BCE6,x
	STA.b !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage,x
	DEX
	DEX
	CPX.b #$FE
	BNE.b CODE_12FA68
	SEP.b #$20
	LDX.b #$17
CODE_12FA78:
	LDA.l DATA_11BB9C,x
	STA.b $1150,x
	DEX
	BPL.b CODE_12FA78
	LDX.b #$4F
CODE_12FA83:
	LDA.l DATA_11CB9E,x
	STA.b $1100,x
	DEX
	BPL.b CODE_12FA83
	LDA.b #$1200>>8
	XBA
	LDA.b #$1200
	TCD
	LDX.b #$03
CODE_12FA94:
	LDA.l DATA_11BBB4,x
	STA.b !RAM_SMB2U_NorSpr41_MagicCarpet_AccelerationTBL,x
	DEX
	BPL.b CODE_12FA94
	LDX.b #$49
CODE_12FA9F:
	LDA.l DATA_11CD61,x
	STA.b !RAM_SMB2U_NorSpr_SpriteCollisionTypeTable,x
	DEX
	BPL.b CODE_12FA9F
	REP.b #$20
	LDX.b #$0C
CODE_12FAAC:
	LDA.l DATA_11BBB8,x
	STA.b $1268,x
	DEX
	BPL.b CODE_12FAAC
	SEP.b #$20
	PLD
	LDX.b #$6C
CODE_12FABA:
	LDA.l DATA_11CDD3,x
	STA.w !RAM_SMB2U_Level_SpawningLightDoorStripeImage,x
	DEX
	BPL.b CODE_12FABA
	RTL

;--------------------------------------------------------------------

; Note: Routine that loads the current sublevel (or it's header data)?

DATA_12FAC5:
	db !Define_SMB2U_LevelID_2_1
	db !Define_SMB2U_LevelID_2_2
	db !Define_SMB2U_LevelID_2_3
	db !Define_SMB2U_LevelID_5_2
	db !Define_SMB2U_LevelID_6_1
	db !Define_SMB2U_LevelID_6_1
	db !Define_SMB2U_LevelID_6_1
	db !Define_SMB2U_LevelID_1_2

DATA_12FACD:
	db !Define_SMB2U_SublevelID_2_1_SandyPyramidInterior
	db !Define_SMB2U_SublevelID_2_2_SandCave
	db !Define_SMB2U_SublevelID_2_3_PyramidShaft
	db !Define_SMB2U_SublevelID_5_2_Vase
	db !Define_SMB2U_SublevelID_6_1_SandyVaseWithPhanto
	db !Define_SMB2U_SublevelID_6_1_SandyVase
	db !Define_SMB2U_SublevelID_6_1_Vase
	db !Define_SMB2U_SublevelID_1_2_VaseWithPhanto

CODE_12FAD5:
	JSR.w CODE_12F263
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.w DATA_11D0AD,x
	STA.b $D9
	LDA.w DATA_11D17F,x
	STA.b $DA
	LDY.b #$00
	LDA.b ($D9),y
	ASL
	LDA.b #$00
	ROL
	STA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	LDY.b #$02
	LDA.b ($D9),y
	LSR
	LSR
	LSR
	LSR
	STA.w !RAM_SMB2U_Level_ScreensInLvl
	LDA.b ($D9),y
	AND.b #$03
	STA.w $0544
	LDA.b ($D9),y
	LSR
	LSR
	AND.b #$03
	STA.w $0545
	LDX.b #$08
CODE_12FB15:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	DEX
	BMI.b CODE_12FB7B
	CMP.l DATA_12FAC5,x
	BNE.b CODE_12FB15
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.l DATA_12FACD,x
	BNE.b CODE_12FB15
	LDY.b #$03
	LDA.b ($D9),y
	LSR
	AND.b #$1C
	STA.w $0560
	DEY
	DEY
	LDA.b ($D9),y
	AND.b #$1F
	CMP.b #$1F
	BEQ.b CODE_12FB7B
	STA.w $0543
	STZ.b $E9
	STZ.b $E5
	STZ.b $E6
	INY
	INY
	INY
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12FB78
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.l DATA_15A400,x
	BEQ.b CODE_12FB78
	CMP.b #$01
	BNE.b CODE_12FB6A
	JSL.l CODE_159400
	BRA.b CODE_12FB7B

CODE_12FB6A:
	DEC
	DEC
	STA.w !RAM_SMB2U_Level_CurrentVaseInteriorSublevel
	JSR.w CODE_12FF98
	JSL.l SMB2U_LoadVaseInteriorLevelData_Main
	BRA.b CODE_12FB7B

CODE_12FB78:
	JSR.w CODE_12F720
CODE_12FB7B:
	JSR.w CODE_12FC45
	JSR.w CODE_12FCA5
	STZ.b $E9
	STZ.b $E6
	STZ.b $E5
	STZ.b !RAM_SMB2U_Global_ScratchRAM04
	JSR.w CODE_12FBA8
	RTL

DATA_12FB8D:
	db $09,$0A,$0B,$13,$14,$1C,$1D,$05
	db $03,$2B,$2D,$21,$26,$27,$22,$25
	db $2A,$23,$24,$28,$50,$00,$01,$29
	db $04,$02,$12

CODE_12FBA8:
	LDY.b #$03
	STY.b !RAM_SMB2U_Global_ScratchRAM04
CODE_12FBAC:
	LDY.b !RAM_SMB2U_Global_ScratchRAM04
CODE_12FBAE:
	INY
	LDA.b ($D9),y
	CMP.b #$FF
	BNE.b CODE_12FBB6
	RTS

CODE_12FBB6:
	LDA.b ($D9),y
	AND.b #$0F
	STA.b $E5
	LDA.b ($D9),y
	AND.b #$F0
	CMP.b #$F0
	BNE.b CODE_12FBCF
	LDA.b $E5
	STY.b !RAM_SMB2U_Global_ScratchRAM0F
	JSR.w CODE_12F690
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	BRA.b CODE_12FBAE

CODE_12FBCF:
	JSR.w CODE_12F67C
	INY
	STY.b !RAM_SMB2U_Global_ScratchRAM04
	LDX.b #$1A
	LDA.b ($D9),y
CODE_12FBD9:
	CMP.l DATA_12FB8D,x
	BEQ.b CODE_12FBFA
	DEX
	BPL.b CODE_12FBD9
	AND.b #$F0
	CMP.b #$50
	BEQ.b CODE_12FBFA
	CMP.b #$80
	BEQ.b CODE_12FBFA
	CMP.b #$30
	BEQ.b CODE_12FBFA
	CMP.b #$40
	BEQ.b CODE_12FBFA
	CMP.b #$A0
	BEQ.b CODE_12FBFA
	BRA.b CODE_12FBAC

CODE_12FBFA:
	STY.b !RAM_SMB2U_Global_ScratchRAM04
	JSR.w CODE_12F8A7
	LDA.b ($D9),y
	LSR
	LSR
	LSR
	LSR
	STA.w $050F
	CMP.b #$03
	BCS.b CODE_12FC26
	PHA
	LDA.b ($D9),y
	AND.b #$0F
	STA.w $050F
	PLA
	BEQ.b CODE_12FC3C
	CMP.b #$01
	BNE.b CODE_12FC20
	JSR.w CODE_12E4A4
	BRA.b CODE_12FBAC

CODE_12FC20:
	JSR.w CODE_12EBA8
	BRL.w CODE_12FBAC

CODE_12FC26:
	LDA.b ($D9),y
	AND.b #$0F
	STA.w $050E
	LDA.w $050F
	SEC
	SBC.b #$03
	STA.w $050F
	JSR.w CODE_12E460
	BRL.w CODE_12FBAC

CODE_12FC3C:
	LDA.w $050F
	JSR.w CODE_12E47F
	BRL.w CODE_12FBAC

CODE_12FC45:
	LDA.w $0776
	BNE.b CODE_12FCA4
	LDX.b #$00
	JSR.w CODE_12F8B4
	LDY.w !RAM_SMB2U_Level_ScreensInLvl
	REP.b #$30
	LDA.w #$00F0
CODE_12FC57:
	DEY
	BMI.b CODE_12FC60
	CLC
	ADC.w #$00F0
	BRA.b CODE_12FC57

CODE_12FC60:
	DEC
	STA.w $02C9
	TAY
	SEP.b #$20
CODE_12FC67:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$64
	BNE.b CODE_12FC9F
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $0713
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0714
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$7000
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BNE.b CODE_12FC95
	LDA.w $0713
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$40
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12FC95:
	LDA.w $0713
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
CODE_12FC9F:
	DEY
	BPL.b CODE_12FC67
	SEP.b #$10
CODE_12FCA4:
	RTS

CODE_12FCA5:
	LDX.b #$06
	LDA.w !RAM_SMB2U_Level_CurrentLevel
CODE_12FCAA:
	CMP.l DATA_11CF44,x
	BEQ.b CODE_12FCB5
	DEX
	BPL.b CODE_12FCAA
	BRA.b CODE_12FCEE

CODE_12FCB5:
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.l DATA_11CF4B,x
	BNE.b CODE_12FCEE
	LDX.b #$00
	JSR.w CODE_12F8B4
	REP.b #$10
	LDY.w $02C9
CODE_12FCC8:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$56
	BNE.b CODE_12FCD2
	LDA.b #$40
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12FCD2:
	DEY
	BPL.b CODE_12FCC8
	SEP.b #$10
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$06
	BNE.b CODE_12FCEE
	LDX.b #$7E5998>>8
	STX.b !RAM_SMB2U_Global_ScratchRAM02
	LDX.b #$7E5998
	STX.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$B9
	STA.b [!RAM_SMB2U_Global_ScratchRAM01]
	LDY.b #$10
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12FCEE:
	RTS

;--------------------------------------------------------------------

DATA_12FCEF:
	db !Define_SMB2U_LevelID_2_1
	db !Define_SMB2U_LevelID_5_2
	db !Define_SMB2U_LevelID_5_2
	db !Define_SMB2U_LevelID_5_2
	db !Define_SMB2U_LevelID_6_3
	db !Define_SMB2U_LevelID_6_3

DATA_12FCF5:
	db !Define_SMB2U_SublevelID_2_1_LevelEntrance
	db !Define_SMB2U_SublevelID_5_2_Cliff
	db !Define_SMB2U_SublevelID_5_2_POWBlockShaft
	db !Define_SMB2U_SublevelID_5_2_Vase
	db !Define_SMB2U_SublevelID_6_3_Cliff
	db !Define_SMB2U_SublevelID_6_3_SkyPyramid

SMB2U_LoadLayer2BGHeader:
.Main:
;$12FCFB
	JSR.w CODE_12F5EF
	LDY.b #$00
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$01
	STA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$02
	STA.w $02C4
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$04
	BEQ.b CODE_12FD19
	LDA.b #$4F
	STA.w !RAM_SMB2U_Global_VCountTimerLo
CODE_12FD19:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$10
	LSR
	LSR
	LSR
	LSR
	STA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	ROL
	ROL
	ROL
	AND.b #$03
	STA.w $074E
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$08
	STA.w !RAM_SMB2U_Level_UseCandleFlamePaletteAnimationFlag
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$20
	STA.w !RAM_SMB2U_Level_UseGiantPhantoBGPaletteAnimationFlag
	STZ.b $E9
	STZ.b $E6
	STZ.b !RAM_SMB2U_Global_ScratchRAM04
	STZ.w !RAM_SMB2U_Level_UseIceCrystalBGPaletteAnimationFlag
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_4_2
	BNE.b CODE_12FD57
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	BEQ.b CODE_12FD64									; Note: !Define_SMB2U_SublevelID_4_2_LevelEntrance
	CMP.b #!Define_SMB2U_SublevelID_4_2_BirdosRoom
	BEQ.b CODE_12FD64
	BRA.b CODE_12FD67

CODE_12FD57:
	CMP.b #!Define_SMB2U_LevelID_4_3
	BNE.b CODE_12FD67
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	BEQ.b CODE_12FD64									; Note: !Define_SMB2U_SublevelID_4_3_LevelEntrance
	CMP.b #!Define_SMB2U_SublevelID_4_3_EntryToFryguysRoom
	BCC.b CODE_12FD67
CODE_12FD64:
	INC.w !RAM_SMB2U_Level_UseIceCrystalBGPaletteAnimationFlag
CODE_12FD67:
	STZ.w !RAM_SMB2U_Level_AnimatedTileBankToUse
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_3_1
	BNE.b CODE_12FD7B
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_3_1_WaterfallCliff
	BNE.b CODE_12FD7B
	INC.w !RAM_SMB2U_Level_AnimatedTileBankToUse
CODE_12FD7B:
	STZ.w !RAM_SMB2U_Level_UseLayer3StarBGPaletteAnimationFlag
	LDX.b #$05
CODE_12FD80:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.l DATA_12FCEF,x
	BNE.b CODE_12FD96
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.l DATA_12FCF5,x
	BNE.b CODE_12FD96
	INC.w !RAM_SMB2U_Level_UseLayer3StarBGPaletteAnimationFlag
	RTL

CODE_12FD96:
	DEX
	BPL.b CODE_12FD80
	RTL

;--------------------------------------------------------------------

; Note: Something related to layer 2 backgrounds.

CODE_12FD9A:
	JSR.w CODE_12F29A
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	PHA
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11CF30,x
	STA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
CODE_12FDAB:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_139E00,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.l DATA_139E16,x
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.l DATA_139EE8,x
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.l DATA_139E15
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	STZ.b $E9
	STZ.b $E6
	STZ.b $E5
	STZ.b !RAM_SMB2U_Global_ScratchRAM04
	JSL.l CODE_139729
	DEC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	BPL.b CODE_12FDAB
	PLA
	STA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	RTL

;--------------------------------------------------------------------

CODE_12FDDF:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	BMI.b CODE_12FDE7
	CMP.b #$10
	BMI.b CODE_12FE33
CODE_12FDE7:
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $02C9
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	AND.b #$0F
	BNE.b CODE_12FE02
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	SEC
	SBC.w #$00E0
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
CODE_12FE02:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	SEC
	SBC.b #$11
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$A7
	BEQ.b CODE_12FE12
	CMP.b #$40
	BNE.b CODE_12FE2A
CODE_12FE12:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
	DEY
	LDX.b #$03
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12FE19:
	CMP.l DATA_11B735,x
	BEQ.b CODE_12FE24
	DEX
	BPL.b CODE_12FE19
	BRA.b CODE_12FE2A

CODE_12FE24:
	LDA.l DATA_11B731,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12FE2A:
	REP.b #$20
	LDA.w $02C9
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
CODE_12FE33:
	RTS

;--------------------------------------------------------------------

CODE_12FE34:
	STA.w $02C5
	JSR.w CODE_12FDDF
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	BMI.b CODE_12FE42
	CMP.b #$10
	BMI.b CODE_12FE80
CODE_12FE42:
	LDA.w $02C5
	CMP.b #$A7
	BEQ.b CODE_12FE61
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	SEC
	SBC.b #$10
	TAY
	LDX.b #$03
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12FE53:
	CMP.l DATA_11B73D,x
	BEQ.b CODE_12FE80
	DEX
	BPL.b CODE_12FE53
	CMP.w $02C5
	BEQ.b CODE_12FE80
CODE_12FE61:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
	DEY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12FE80
	LDX.b #$03
	LDA.w $02C5
CODE_12FE6F:
	CMP.l DATA_11B739,x
	BEQ.b CODE_12FE7A
	DEX
	BPL.b CODE_12FE6F
	BRA.b CODE_12FE80

CODE_12FE7A:
	LDA.l DATA_11B73D,x
	BRA.b CODE_12FE83

CODE_12FE80:
	LDA.w $02C5
CODE_12FE83:
	RTS

;--------------------------------------------------------------------

CODE_12FE84:
	STA.w $02C5
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $02C9
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	AND.b #$0F
	BNE.b CODE_12FEA2
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	SEC
	SBC.w #$00E0
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
CODE_12FEA2:
	LDX.b #$03
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
	DEY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12FEA9:
	CMP.l DATA_11B735,x
	BEQ.b CODE_12FEB4
	DEX
	BPL.b CODE_12FEA9
	BRA.b CODE_12FEBA

CODE_12FEB4:
	LDA.l DATA_11B731,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_12FEBA:
	REP.b #$20
	LDA.w $02C9
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	LDA.w $02C5
	CMP.b #$A7
	BNE.b CODE_12FECE
	LDA.b #$3A
	BRA.b CODE_12FEF3

CODE_12FECE:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	SEC
	SBC.b #$10
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_12FEF0
	LDX.b #$03
	LDA.w $02C5
CODE_12FEDF:
	CMP.l DATA_11B731,x
	BEQ.b CODE_12FEEA
	DEX
	BPL.b CODE_12FEDF
	BRA.b CODE_12FEF0

CODE_12FEEA:
	LDA.l DATA_11B735,x
	BRA.b CODE_12FEF3

CODE_12FEF0:
	LDA.w $02C5
CODE_12FEF3:
	RTS

;--------------------------------------------------------------------

CODE_12FEF4:
	STA.w $02C5
	LDY.b #$00
	LDX.b #$07
CODE_12FEFB:
	LDA.w $02C5
	CMP.l DATA_11CF12,x
	BNE.b CODE_12FF16
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.l DATA_11CF1A,x
	BNE.b CODE_12FF16
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.l DATA_11CF22,x
	BEQ.b CODE_12FF1A
CODE_12FF16:
	DEX
	BPL.b CODE_12FEFB
	INY
CODE_12FF1A:
	LDA.w $02C5
	RTS

;--------------------------------------------------------------------

; Note: These JSLs lead to routines that apply hacks to the level data in order to "correct" certain things.

SMB2U_HandleLevelDataHacks:
.Main:
;$12FF1E
	JSL.l CODE_15A244
	JSL.l CODE_159EB9
	JSL.l CODE_15993E
	JSL.l SMB2U_FixCutoffLedgesIn3_1VerticalSublevel_Main
	RTL

;--------------------------------------------------------------------

CODE_12FF2F:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_4_3
	BNE.b CODE_12FF4E
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_4_3_ColdLake
	BNE.b CODE_12FF4E
	LDX.b #$02
CODE_12FF3F:
	CMP.l DATA_11CF2A,x
	BNE.b CODE_12FF4B
	LDA.l DATA_11CF2D,x
	BRA.b CODE_12FF4E

CODE_12FF4B:
	DEX
	BPL.b CODE_12FF3F
CODE_12FF4E:
	RTS

;--------------------------------------------------------------------

DATA_12FF4F:
	db !Define_SMB2U_LevelID_2_1
	db !Define_SMB2U_LevelID_5_2

DATA_12FF51:
	db !Define_SMB2U_SublevelID_2_1_GenericVase
	db !Define_SMB2U_SublevelID_5_2_Vase

CODE_12FF53:
	LDX.b #$01
CODE_12FF55:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.l DATA_12FF4F,x
	BNE.b CODE_12FF67
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.l DATA_12FF51,x
	BEQ.b CODE_12FF6B
CODE_12FF67:
	DEX
	BPL.b CODE_12FF55
	RTS

CODE_12FF6B:
	REP.b #$20
	LDA.l DATA_14BF80
	STA.w $04BC
	LDX.b #$00
CODE_12FF76:
	LDA.l DATA_14BF80,x
	STA.w SMB2U_PaletteMirror[$00].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_12FF76
	SEP.b #$20
	RTS

;--------------------------------------------------------------------

CODE_12FF86:
	LDX.b #$0A
	LDA.w DATA_11AAF0,x
	STA.b $C4
	LDA.w DATA_11AAFB,x
	STA.b $C5
	LDA.w DATA_11AB06,x
	STA.b $C6
	RTS

;--------------------------------------------------------------------

CODE_12FF98:
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.l DATA_11AB11,x
	CLC
	ADC.w DATA_11AAFB
	STA.b $C5
	LDA.w DATA_11AAF0
	STA.b $C4
	LDA.w DATA_11AB06
	STA.b $C6
	RTS

;--------------------------------------------------------------------

CODE_12FFB0:
	PHB
	LDA.b #$7E9960>>16
	PHA
	PLB
	REP.b #$20
	LDX.b #$FE
CODE_12FFB9:
	STZ.w $7E9960,x
	DEX
	DEX
	CPX.b #$FE
	BNE.b CODE_12FFB9
	SEP.b #$20
	PLB
	RTS

;--------------------------------------------------------------------

CODE_12FFC6:
	CMP.b #$B0
	BNE.b CODE_12FFF5
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_1_3
	BEQ.b CODE_12FFDD
	CPX.b #!Define_SMB2U_LevelID_3_3
	BEQ.b CODE_12FFDD
	CPX.b #!Define_SMB2U_LevelID_4_3
	BEQ.b CODE_12FFDD
	CPX.b #!Define_SMB2U_LevelID_6_3
	BNE.b CODE_12FFF5
CODE_12FFDD:
	LDX.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_12FFF3
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	AND.b #$0F
	BNE.b CODE_12FFEB
	LDA.b #$3F
	BRA.b CODE_12FFF5

CODE_12FFEB:
	CMP.b #$0F
	BNE.b CODE_12FFF3
	LDA.b #$76
	BRA.b CODE_12FFF5

CODE_12FFF3:
	LDA.b #$3E
CODE_12FFF5:
	RTS

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br) != $0000 ;[BR]
	%FREE_BYTES(NULLROM, 14-3, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_U|!ROM_SMAS_J1) != $00
	%FREE_BYTES(NULLROM, 14, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_J) != $00
	%FREE_BYTES(NULLROM, 37, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMASW_br) == $0000 ;[BR]
	%FREE_BYTES(NULLROM, 10, $FF)
endif
%BANK_END(<EndBank>)
endmacro

;#############################################################################################################
;#############################################################################################################

macro SMB2UBank13Macros(StartBank, EndBank)
%BANK_START(<StartBank>)

; Note: Routine that loads the graphics for a level?.

DATA_138000:
	dw SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndGrasslandObjects,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndDesertObjects,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndGrasslandObjects,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndSnowObjects
	dw SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndGrasslandObjects,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndDesertObjects,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndSkyObjects

DATA_13800E:
	db SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndGrasslandObjects>>16,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndDesertObjects>>16,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndGrasslandObjects>>16,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndSnowObjects>>16
	db SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndGrasslandObjects>>16,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndDesertObjects>>16,SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndSkyObjects>>16

DATA_138015:
	dw SMB2U_UncompressedGFX_Sprite_GrasslandEnemies,SMB2U_UncompressedGFX_Sprite_DesertEnemies,SMB2U_UncompressedGFX_Sprite_GrasslandEnemies,SMB2U_UncompressedGFX_Sprite_SnowEnemies
	dw SMB2U_UncompressedGFX_Sprite_GrasslandEnemies,SMB2U_UncompressedGFX_Sprite_DesertEnemies,SMB2U_UncompressedGFX_Sprite_SkyEnemies

DATA_138023:
	db SMB2U_UncompressedGFX_Sprite_GrasslandEnemies>>16,SMB2U_UncompressedGFX_Sprite_DesertEnemies>>16,SMB2U_UncompressedGFX_Sprite_GrasslandEnemies>>16,SMB2U_UncompressedGFX_Sprite_SnowEnemies>>16
	db SMB2U_UncompressedGFX_Sprite_GrasslandEnemies>>16,SMB2U_UncompressedGFX_Sprite_DesertEnemies>>16,SMB2U_UncompressedGFX_Sprite_SkyEnemies>>16

DATA_13802A:											; Note: This table is not used by this routine
	dw SMB2U_UncompressedGFX_Sprite_Mouser,SMB2U_UncompressedGFX_Sprite_Tryclyde,SMB2U_UncompressedGFX_Sprite_Mouser,SMB2U_UncompressedGFX_Sprite_Fryguy
	dw SMB2U_UncompressedGFX_Sprite_Clawgrip,SMB2U_UncompressedGFX_Sprite_Tryclyde,SMB2U_UncompressedGFX_Sprite_Wart1

DATA_138038:
	dw SMB2U_UncompressedGFX_FG_StandardGrasslandTiles,SMB2U_UncompressedGFX_FG_StandardDesertTiles,SMB2U_UncompressedGFX_FG_StandardGrasslandTiles,SMB2U_UncompressedGFX_FG_StandardSnowTiles
	dw SMB2U_UncompressedGFX_FG_StandardGrasslandTiles,SMB2U_UncompressedGFX_FG_StandardDesertTiles,SMB2U_UncompressedGFX_FG_StandardSkyTiles

DATA_138046:
	db SMB2U_UncompressedGFX_FG_StandardGrasslandTiles>>16,SMB2U_UncompressedGFX_FG_StandardDesertTiles>>16,SMB2U_UncompressedGFX_FG_StandardGrasslandTiles>>16,SMB2U_UncompressedGFX_FG_StandardSnowTiles>>16
	db SMB2U_UncompressedGFX_FG_StandardGrasslandTiles>>16,SMB2U_UncompressedGFX_FG_StandardDesertTiles>>16,SMB2U_UncompressedGFX_FG_StandardSkyTiles>>16

DATA_13804D:
	dw SMB2U_UncompressedGFX_FG_GlobalTiles2,SMB2U_UncompressedGFX_FG_GlobalTiles2,SMB2U_UncompressedGFX_FG_GlobalTiles2,SMB2U_UncompressedGFX_FG_GlobalTiles2
	dw SMB2U_UncompressedGFX_FG_GlobalTiles2,SMB2U_UncompressedGFX_FG_GlobalTiles2,SMB2U_UncompressedGFX_FG_GlobalTiles2

DATA_13805B:
	db SMB2U_UncompressedGFX_FG_GlobalTiles2>>16,SMB2U_UncompressedGFX_FG_GlobalTiles2>>16,SMB2U_UncompressedGFX_FG_GlobalTiles2>>16,SMB2U_UncompressedGFX_FG_GlobalTiles2>>16
	db SMB2U_UncompressedGFX_FG_GlobalTiles2>>16,SMB2U_UncompressedGFX_FG_GlobalTiles2>>16,SMB2U_UncompressedGFX_FG_GlobalTiles2>>16

CODE_138062:
	REP.b #$20
	LDA.w #SMB2U_UncompressedGFX_Sprite_Global1
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Sprite_Global1>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$1000
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$6000
	JSR.w CODE_138AE7
	LDA.w #SMB2U_UncompressedGFX_Sprite_Global2
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Sprite_Global2>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$1800							; Note: This also loads SMB2U_UncompressedGFX_Sprite_StandardEnemies
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$6800
	JSR.w CODE_138AE7
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	AND.w #$00FF
	TAY
	ASL
	TAX
	PHX
	LDA.l DATA_138000,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	TYX
	LDA.l DATA_13800E,x
	TAX
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$7400
	JSR.w CODE_138AE7
	PLX
	PHX
	LDA.l DATA_138015,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	TYX
	LDA.l DATA_138023,x
	TAX
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$7800
	JSR.w CODE_138AE7
	LDA.w #SMB2U_UncompressedGFX_Sprite_Albatoss
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Sprite_Albatoss>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$7C00
	JSR.w CODE_138AE7
	PLX
	PHX
	LDA.l DATA_138038,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	TYX
	LDA.l DATA_138046,x
	TAX
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$1000
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2000
	JSR.w CODE_138AC4
	LDA.w #SMB2U_UncompressedGFX_FG_GlobalTiles1
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_GlobalTiles1>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2800
	JSR.w CODE_138AC4
	PLX
	LDA.l DATA_13804D,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	TYX
	LDA.l DATA_13805B,x
	TAX
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2C00
	JSR.w CODE_138AC4
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

DATA_13812A:														; Info: Level...
	db SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 1-1
	db SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 1-2
	db SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_GiantPhanto1>>8,$1B0000>>8,$1B0000>>8,$1B0000>>8,$1B0000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 1-3
	db SMB2U_UncompressedGFX_BG_Desert1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,$000000>>8,SMB2U_UncompressedGFX_BG_Desert1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 2-1
	db SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_Desert1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_Desert1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 2-2
	db SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_Desert1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_GiantPhanto1>>8,$000000>>8,$000000>>8			; 2-3
	db SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 3-1
	db SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 3-2
	db SMB2U_UncompressedGFX_BG_Jungle1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,$1B0000>>8,$1B0000>>8,$1B0000>>8,$1B0000>>8,SMB2U_UncompressedGFX_BG_GiantPhanto1>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,$1B0000>>8,$000000>>8			; 3-3
	db SMB2U_UncompressedGFX_BG_SnowHills1>>8,SMB2U_UncompressedGFX_BG_SnowHills1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 4-1
	db SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,SMB2U_UncompressedGFX_BG_SnowHills1>>8,SMB2U_UncompressedGFX_BG_SnowHills1>>8,$000000>>8,SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 4-2
	db SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,SMB2U_UncompressedGFX_BG_SnowHills1>>8,$000000>>8,$1C0000>>8,$000000>>8,SMB2U_UncompressedGFX_BG_GiantPhanto1>>8,SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,$000000>>8,$000000>>8			; 4-3
	db SMB2U_UncompressedGFX_BG_Jungle1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 5-1
	db $000000>>8,SMB2U_UncompressedGFX_BG_NightGrassyHills>>8,SMB2U_UncompressedGFX_BG_NightGrassyHills>>8,SMB2U_UncompressedGFX_BG_NightGrassyHills>>8,SMB2U_UncompressedGFX_BG_NightGrassyHills>>8,SMB2U_UncompressedGFX_BG_NightGrassyHills>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 5-2
	db $000000>>8,SMB2U_UncompressedGFX_BG_Jungle1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 5-3
	db SMB2U_UncompressedGFX_BG_Desert1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_Desert1>>8,$000000>>8,$000000>>8,$000000>>8			; 6-1
	db SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_NightGrassyHills>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 6-2
	db SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_Desert1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,$000000>>8,$000000>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,SMB2U_UncompressedGFX_BG_PyramidInterior1>>8,$000000>>8,$000000>>8,$000000>>8			; 6-3
	db $000000>>8,SMB2U_UncompressedGFX_BG_SkyStructures1>>8,SMB2U_UncompressedGFX_BG_SkyStructures1>>8,$000000>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 7-1
	db $000000>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,SMB2U_UncompressedGFX_BG_WartsFortress1>>8,$000000>>8			; 7-2

DATA_1381F2:
	db SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 1-1
	db SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 1-2
	db SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_GiantPhanto2>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 1-3
	db SMB2U_UncompressedGFX_BG_Desert2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,$000000>>8,SMB2U_UncompressedGFX_BG_Desert2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 2-1
	db SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_Desert2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_Desert2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 2-2
	db SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_Desert2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_GiantPhanto2>>8,$000000>>8,$000000>>8			; 2-3
	db SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 3-1
	db SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 3-2
	db SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,SMB2U_UncompressedGFX_BG_GiantPhanto2>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,$000000>>8			; 3-3
	db SMB2U_UncompressedGFX_BG_SnowHills2>>8,SMB2U_UncompressedGFX_BG_SnowHills2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 4-1
	db $000000>>8,SMB2U_UncompressedGFX_BG_SnowHills2>>8,SMB2U_UncompressedGFX_BG_SnowHills2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 4-2
	db $000000>>8,SMB2U_UncompressedGFX_BG_SnowHills2>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,SMB2U_UncompressedGFX_BG_Warehouse1>>8,$000000>>8,SMB2U_UncompressedGFX_BG_GiantPhanto2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 4-3
	db SMB2U_UncompressedGFX_BG_Jungle2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 5-1
	db $000000>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 5-2
	db $000000>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,$000000>>8,SMB2U_UncompressedGFX_BG_Jungle2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 5-3
	db SMB2U_UncompressedGFX_BG_Desert2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_Desert2>>8,$000000>>8,$000000>>8,$000000>>8			; 6-1
	db SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 6-2
	db SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_Desert2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,$000000>>8,$000000>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,SMB2U_UncompressedGFX_BG_PyramidInterior2>>8,$000000>>8,$000000>>8,$000000>>8			; 6-3
	db $000000>>8,SMB2U_UncompressedGFX_BG_SkyStructures2>>8,SMB2U_UncompressedGFX_BG_SkyStructures2>>8,$000000>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 7-1
	db $000000>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,SMB2U_UncompressedGFX_BG_WartsFortress2>>8,$000000>>8			; 7-2

DATA_1382BA:
	db SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 1-1
	db SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 1-2
	db SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_GiantPhanto3>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 1-3
	db $000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 2-1
	db $000000>>8,SMB2U_UncompressedGFX_BG_DesertCliff>>8,$000000>>8,$000000>>8,SMB2U_UncompressedGFX_BG_DesertCliff>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 2-2
	db $000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,SMB2U_UncompressedGFX_BG_GiantPhanto3>>8,$000000>>8,$000000>>8			; 2-3
	db SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 3-1
	db SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 3-2
	db SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,SMB2U_UncompressedGFX_BG_GiantPhanto3>>8,SMB2U_UncompressedGFX_BG_GentleHills>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,$000000>>8			; 3-3
	db SMB2U_UncompressedGFX_BG_StripedHills>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 4-1
	db SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,$000000>>8,SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 4-2
	db SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,SMB2U_UncompressedGFX_BG_StripedHills>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,SMB2U_UncompressedGFX_BG_Warehouse2>>8,$000000>>8,SMB2U_UncompressedGFX_BG_GiantPhanto3>>8,SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,SMB2U_UncompressedGFX_BG_IceCrystalCave>>8,$000000>>8,$000000>>8			; 4-3
	db SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 5-1
	db SMB2U_UncompressedGFX_BG_Underground>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 5-2
	db SMB2U_UncompressedGFX_BG_Underground>>8,$000000>>8,SMB2U_UncompressedGFX_BG_Underground>>8,SMB2U_UncompressedGFX_BG_Underground>>8,$000000>>8,SMB2U_UncompressedGFX_BG_Underground>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 5-3
	db SMB2U_UncompressedGFX_BG_DesertCliff>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,SMB2U_UncompressedGFX_BG_DesertCliff>>8,$000000>>8,$000000>>8,$000000>>8			; 6-1
	db $000000>>8,SMB2U_UncompressedGFX_BG_GentleHills>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 6-2
	db $000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 6-3
	db $000000>>8,SMB2U_UncompressedGFX_BG_SkyStructures3>>8,SMB2U_UncompressedGFX_BG_SkyStructures3>>8,$000000>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,$000000>>8,$000000>>8,$000000>>8,$000000>>8			; 7-1
	db $000000>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,SMB2U_UncompressedGFX_BG_WartsFortress3>>8,$000000>>8			; 7-2

DATA_138382:
	db SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 1-1
	db SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 1-2
	db SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_GiantPhanto1>>16,$1B0000>>16,$1B0000>>16,$1B0000>>16,$1B0000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 1-3
	db SMB2U_UncompressedGFX_BG_Desert1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,$000000>>16,SMB2U_UncompressedGFX_BG_Desert1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 2-1
	db SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_Desert1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_Desert1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 2-2
	db SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_Desert1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_GiantPhanto1>>16,$000000>>16,$000000>>16			; 2-3
	db SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 3-1
	db SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 3-2
	db SMB2U_UncompressedGFX_BG_Jungle1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,$1B0000>>16,$1B0000>>16,$1B0000>>16,$1B0000>>16,SMB2U_UncompressedGFX_BG_GiantPhanto1>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,$1B0000>>16,$000000>>16			; 3-3
	db SMB2U_UncompressedGFX_BG_SnowHills1>>16,SMB2U_UncompressedGFX_BG_SnowHills1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 4-1
	db SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,SMB2U_UncompressedGFX_BG_SnowHills1>>16,SMB2U_UncompressedGFX_BG_SnowHills1>>16,$000000>>16,SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 4-2
	db SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,SMB2U_UncompressedGFX_BG_SnowHills1>>16,$000000>>16,$1C0000>>16,$000000>>16,SMB2U_UncompressedGFX_BG_GiantPhanto1>>16,SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,$000000>>16,$000000>>16			; 4-3
	db SMB2U_UncompressedGFX_BG_Jungle1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 5-1
	db $000000>>16,SMB2U_UncompressedGFX_BG_NightGrassyHills>>16,SMB2U_UncompressedGFX_BG_NightGrassyHills>>16,SMB2U_UncompressedGFX_BG_NightGrassyHills>>16,SMB2U_UncompressedGFX_BG_NightGrassyHills>>16,SMB2U_UncompressedGFX_BG_NightGrassyHills>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 5-2
	db $000000>>16,SMB2U_UncompressedGFX_BG_Jungle1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 5-3
	db SMB2U_UncompressedGFX_BG_Desert1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_Desert1>>16,$000000>>16,$000000>>16,$000000>>16			; 6-1
	db SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_NightGrassyHills>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 6-2
	db SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_Desert1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,$000000>>16,$000000>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,SMB2U_UncompressedGFX_BG_PyramidInterior1>>16,$000000>>16,$000000>>16,$000000>>16			; 6-3
	db $000000>>16,SMB2U_UncompressedGFX_BG_SkyStructures1>>16,SMB2U_UncompressedGFX_BG_SkyStructures1>>16,$000000>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 7-1
	db $000000>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,SMB2U_UncompressedGFX_BG_WartsFortress1>>16,$000000>>16			; 7-2

DATA_13844A:
	db SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 1-1
	db SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 1-2
	db SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_GiantPhanto2>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 1-3
	db SMB2U_UncompressedGFX_BG_Desert2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,$000000>>16,SMB2U_UncompressedGFX_BG_Desert2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 2-1
	db SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_Desert2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_Desert2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 2-2
	db SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_Desert2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_GiantPhanto2>>16,$000000>>16,$000000>>16			; 2-3
	db SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 3-1
	db SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 3-2
	db SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,SMB2U_UncompressedGFX_BG_GiantPhanto2>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,$000000>>16			; 3-3
	db SMB2U_UncompressedGFX_BG_SnowHills2>>16,SMB2U_UncompressedGFX_BG_SnowHills2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 4-1
	db $000000>>16,SMB2U_UncompressedGFX_BG_SnowHills2>>16,SMB2U_UncompressedGFX_BG_SnowHills2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 4-2
	db $000000>>16,SMB2U_UncompressedGFX_BG_SnowHills2>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,SMB2U_UncompressedGFX_BG_Warehouse1>>16,$000000>>16,SMB2U_UncompressedGFX_BG_GiantPhanto2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 4-3
	db SMB2U_UncompressedGFX_BG_Jungle2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 5-1
	db $000000>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 5-2
	db $000000>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,$000000>>16,SMB2U_UncompressedGFX_BG_Jungle2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 5-3
	db SMB2U_UncompressedGFX_BG_Desert2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_Desert2>>16,$000000>>16,$000000>>16,$000000>>16			; 6-1
	db SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 6-2
	db SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_Desert2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,$000000>>16,$000000>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,SMB2U_UncompressedGFX_BG_PyramidInterior2>>16,$000000>>16,$000000>>16,$000000>>16			; 6-3
	db $000000>>16,SMB2U_UncompressedGFX_BG_SkyStructures2>>16,SMB2U_UncompressedGFX_BG_SkyStructures2>>16,$000000>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 7-1
	db $000000>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,SMB2U_UncompressedGFX_BG_WartsFortress2>>16,$000000>>16			; 7-2

DATA_138512:
	db SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 1-1
	db SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 1-2
	db SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_GiantPhanto3>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 1-3
	db $000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 2-1
	db $000000>>16,SMB2U_UncompressedGFX_BG_DesertCliff>>16,$000000>>16,$000000>>16,SMB2U_UncompressedGFX_BG_DesertCliff>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 2-2
	db $000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,SMB2U_UncompressedGFX_BG_GiantPhanto3>>16,$000000>>16,$000000>>16			; 2-3
	db SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 3-1
	db SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 3-2
	db SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,SMB2U_UncompressedGFX_BG_GiantPhanto3>>16,SMB2U_UncompressedGFX_BG_GentleHills>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,$000000>>16			; 3-3
	db SMB2U_UncompressedGFX_BG_StripedHills>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 4-1
	db SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,$000000>>16,SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 4-2
	db SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,SMB2U_UncompressedGFX_BG_StripedHills>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,SMB2U_UncompressedGFX_BG_Warehouse2>>16,$000000>>16,SMB2U_UncompressedGFX_BG_GiantPhanto3>>16,SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,SMB2U_UncompressedGFX_BG_IceCrystalCave>>16,$000000>>16,$000000>>16			; 4-3
	db SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 5-1
	db SMB2U_UncompressedGFX_BG_Underground>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 5-2
	db SMB2U_UncompressedGFX_BG_Underground>>16,$000000>>16,SMB2U_UncompressedGFX_BG_Underground>>16,SMB2U_UncompressedGFX_BG_Underground>>16,$000000>>16,SMB2U_UncompressedGFX_BG_Underground>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 5-3
	db SMB2U_UncompressedGFX_BG_DesertCliff>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,SMB2U_UncompressedGFX_BG_DesertCliff>>16,$000000>>16,$000000>>16,$000000>>16			; 6-1
	db $000000>>16,SMB2U_UncompressedGFX_BG_GentleHills>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 6-2
	db $000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 6-3
	db $000000>>16,SMB2U_UncompressedGFX_BG_SkyStructures3>>16,SMB2U_UncompressedGFX_BG_SkyStructures3>>16,$000000>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,$000000>>16,$000000>>16,$000000>>16,$000000>>16			; 7-1
	db $000000>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,SMB2U_UncompressedGFX_BG_WartsFortress3>>16,$000000>>16

CODE_1385DA:
	LDA.w $0770
	BEQ.b CODE_1385E3
	LDA.b #$06
	BRA.b CODE_1385E6

CODE_1385E3:
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
CODE_1385E6:
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	STZ.b !RAM_SMB2U_Global_ScratchRAM01
	REP.b #$30
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	AND.w #$00FF
	TAX
	LDA.l DATA_11D098,x
	AND.w #$00FF
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	TAX
	LDA.l DATA_13812A,x
	AND.w #$00FF
	XBA
	STA.w $02CB
	LDA.l DATA_1381F2,x
	AND.w #$00FF
	XBA
	STA.w $02CD
	LDA.l DATA_1382BA,x
	AND.w #$00FF
	XBA
	STA.w $02CF
	LDA.l DATA_138382,x
	STA.w $02D1
	LDA.l DATA_13844A,x
	STA.w $02D3
	LDA.l DATA_138512,x
	STA.w $02D5
	SEP.b #$10
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	CPX.b #$06
	BNE.b CODE_138646
	LDA.w #SMB2U_UncompressedGFX_FG_SkyFortressInterior
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_SkyFortressInterior>>16
	BRA.b CODE_13864D

CODE_138646:
	LDA.w #SMB2U_UncompressedGFX_FG_RockyGround
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_RockyGround>>16
CODE_13864D:
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3000
	JSR.w CODE_138AC4
	LDA.w $02CB
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.w $02D1
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3400
	JSR.w CODE_138AC4
	LDA.w $02CD
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.w $02D3
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3800
	JSR.w CODE_138AC4
	LDA.w $02CF
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.w $02D5
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3C00
	JSR.w CODE_138AC4
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_1_3
	BEQ.b CODE_1386BC
	CPX.b #!Define_SMB2U_LevelID_3_3
	BEQ.b CODE_1386BC
	CPX.b #!Define_SMB2U_LevelID_4_3
	BEQ.b CODE_1386BC
	CPX.b #!Define_SMB2U_LevelID_6_3
	BNE.b CODE_1386D2
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_6_3_BirdosRoom
	BEQ.b CODE_1386BC
	LDA.w #SMB2U_UncompressedGFX_FG_GlobalTiles2
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_GlobalTiles2>>16
	BRA.b CODE_1386C3

CODE_1386BC:
	LDA.w #SMB2U_UncompressedGFX_FG_BrickBuilding
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_BrickBuilding>>16
CODE_1386C3:
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2C00
	JSR.w CODE_138AC4
	BRA.b CODE_1386ED

CODE_1386D2:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_7_2
	BNE.b CODE_1386ED
	LDA.w #SMB2U_UncompressedGFX_FG_VeggieMachine
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_VeggieMachine>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2C00
	JSR.w CODE_138AC4
CODE_1386ED:
	LDX.b #$00
	STX.w $0773
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_2_1
	BNE.b CODE_138704
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_2_1_SandyPyramidInterior
	BEQ.b CODE_13871D
	CPX.b #!Define_SMB2U_SublevelID_2_1_BirdosRoom
	BEQ.b CODE_13871D
CODE_138704:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_2_3
	BNE.b CODE_138736
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_2_3_PyramidShaft
	BEQ.b CODE_13871D
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_2_3_PyramidHallway
	BEQ.b CODE_13871D
	CPX.b #!Define_SMB2U_SublevelID_2_3_PhantoRoom
	BNE.b CODE_138736
CODE_13871D:
	LDA.w #SMB2U_UncompressedGFX_FG_PyramidInterior
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_PyramidInterior>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3000
	JSR.w CODE_138AC4
	LDX.b #$01
	STX.w $0773
CODE_138736:
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

; Note: Routine that loads in some of the FG graphics.
; ScratchRAM $0D: Gfx address
; ScratchRAM $0F: Gfx address bank
; ScratchRAM $0B: Gfx size
; Last A value before JSR: VRAM address target (Tile Address / 2)

DATA_138739:
	dw SMB2U_UncompressedGFX_FG_IceRock,SMB2U_UncompressedGFX_FG_GiantTree

SMB2U_UploadGiantTreeOrIceRockFGGraphicsHack:
.Main:
;$13873D
	REP.b #$20
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_5_3
	BNE.b CODE_13874A
	LDX.b #$02
	BRA.b CODE_13874D

CODE_13874A:
	LDX.w !RAM_SMB2U_Player_VaseWarpType
CODE_13874D:
	LDA.l DATA_138739,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_IceRock>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$4000
	JSR.w CODE_138AC4
	LDA.w #SMB2U_UncompressedGFX_FG_BrickBuilding
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_BrickBuilding>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$4400
	JSR.w CODE_138AC4
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

DATA_138779:
	db (!Define_SMB2U_LevelID_1_3*$0A)+!Define_SMB2U_SublevelID_1_3_MousersRoom
	db (!Define_SMB2U_LevelID_2_3*$0A)+!Define_SMB2U_SublevelID_2_3_TryclydesRoom
	db (!Define_SMB2U_LevelID_3_3*$0A)+!Define_SMB2U_SublevelID_3_3_MousersRoom
	db (!Define_SMB2U_LevelID_4_3*$0A)+!Define_SMB2U_SublevelID_4_3_FryguysRoom
	db (!Define_SMB2U_LevelID_5_3*$0A)+!Define_SMB2U_SublevelID_5_3_ClawgripsRoom
	db (!Define_SMB2U_LevelID_6_3*$0A)+!Define_SMB2U_SublevelID_6_3_TryclydesRoom
	db (!Define_SMB2U_LevelID_7_2*$0A)+!Define_SMB2U_SublevelID_7_2_WartsRoom

SMB2U_UploadBossSpriteGraphics:
.Main:
;$138780
	LDA.b #$06
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
CODE_138791:
	CMP.l DATA_138779,x
	BEQ.b CODE_13879D
	DEX
	BPL.b CODE_138791
	BRL.w CODE_1387D7

CODE_13879D:
	CPX.b #$06
	BNE.b CODE_1387BB
	PHX
	REP.b #$20
	LDA.w #SMB2U_UncompressedGFX_Sprite_Wart2
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Sprite_Wart2>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$7800
	JSR.w CODE_138AE7
	SEP.b #$20
	PLX
CODE_1387BB:
	TXA
	ASL
	TAX
	REP.b #$20
	LDA.l DATA_13802A,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Sprite_Mouser>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$7C00
	JSR.w CODE_138AE7
	SEP.b #$20
CODE_1387D7:
	RTL

;--------------------------------------------------------------------
; Note:
; ScratchRAM$0D: Gfx address
; ScratchRAM $0F: Gfx address bank
; ScratchRAM $0B: Gfx size
; Last A value before JSR: VRAM address target (Tile Address / 2)

SMB2U_UploadTitleScreenGraphics:
.Main:
;$1387D8
	REP.b #$20
	
	LDA.w #SMB2U_UncompressedGFX_TitleScreenBorder
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_TitleScreenBorder>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2000
	JSR.w CODE_138AC4
	
	LDA.w #SMB2U_UncompressedGFX_TitleScreenLogo
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_TitleScreenLogo>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2400
	JSR.w CODE_138AC4
	
	LDA.w #SMB2U_UncompressedGFX_TitleScreenCharacters
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_TitleScreenCharacters>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2800
	JSR.w CODE_138AC4
	
	LDA.w #SMB2U_UncompressedGFX_GameOverTiles
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_GameOverTiles>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2C00
	JSR.w CODE_138AC4

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
;[BR] GFX for the translation credits on top of the screen
	LDA.w #SMB2U_TitleScreenTLCreditsGFX
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_TitleScreenTLCreditsGFX>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #SMB2U_TitleScreenTLCreditsGFX_End-SMB2U_TitleScreenTLCreditsGFX
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$4000
	JSR.w CODE_138AC4
endif

	SEP.b #$20
	RTL

;--------------------------------------------------------------------

CODE_13882D:
	REP.b #$20
	LDA.w #SMB2U_UncompressedGFX_BonusChanceText
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_BonusChanceText>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2400
	JSR.w CODE_138AC4
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

SMB2U_UploadCharacterSelectScreenGraphics:
.Main:
;$138846
	REP.b #$20

	LDA.w #SMB2U_UncompressedGFX_Curtain
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Curtain>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$1000
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3000
	JSR.w CODE_138AC4

	LDA.w #SMB2U_UncompressedGFX_CharacterSelectCharacters
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_CharacterSelectCharacters>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3800
	JSR.w CODE_138AC4

	LDA.w #SMB2U_ErrorMessageFontGFX_Main
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_ErrorMessageFontGFX_Main>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3C00
	JSR.w CODE_138AC4

	SEP.b #$20
	RTL

;--------------------------------------------------------------------

SMB2U_UploadEndingPart1Graphics:
.Main:
;$138887
	REP.b #$20
	LDA.w #SMB2U_UncompressedGFX_BG_EndingScreen1
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_BG_EndingScreen1>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3400
	JSR.w CODE_138AC4
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

SMB2U_UploadEndingPart2Graphics:
.Main:
;$1388A0
	REP.b #$20
	
	LDA.w #SMB2U_UncompressedGFX_EndingScreen2Tiles
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_EndingScreen2Tiles>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2C00
	JSR.w CODE_138AC4
	
	LDA.w #SMB2U_ErrorMessageFontGFX_Main
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_ErrorMessageFontGFX_Main>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3C00
	JSR.w CODE_138AC4
	
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #SMB2U_UncompressedGFX_Sprite_EndingScreen2_1
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Sprite_EndingScreen2_1>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$7C00
	JSR.w CODE_138AE7
	
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #SMB2U_UncompressedGFX_Sprite_EndingScreen2_2
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Sprite_EndingScreen2_2>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$7800
	JSR.w CODE_138AE7
	
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

SMB2U_UploadEndingPart3Graphics:
.Main:
;$1388F5
	REP.b #$20
	LDA.w #SMB2U_UncompressedGFX_AnimatedSleepingMario
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_AnimatedSleepingMario>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2000
	JSR.w CODE_138AC4

	LDA.w #SMB2U_UncompressedGFX_StaticSleepingMario
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_StaticSleepingMario>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$1800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2400
	JSR.w CODE_138AC4

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	LDA.w #$3000
else
	LDA.w #$4000								; Optimization: The graphics file being loaded is 12 KB, not 16 KB.
endif
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #SMB2U_UncompressedGFX_Sprite_EndingScreen3
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Sprite_EndingScreen3>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$6000
	JSR.w CODE_138AE7

	SEP.b #$20
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine? (Possibly an unused routine for the level preview graphics)

CODE_138936:
	PHB
	PHK
	PLB
	REP.b #$20
	
	LDA.w #SMB2U_UncompressedGFX_FG_AnimatedTilesBank18
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_AnimatedTilesBank18>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2000
	JSR.w CODE_138AC4
	
	LDA.w #SMB2U_UncompressedGFX_LevelPreviewTiles
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_LevelPreviewTiles>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2400
	JSR.w CODE_138AC4

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR] Freeing up space
	LDA.w #SMB2U_UncompressedGFX_ShadedFont
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_ShadedFont>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2800
	JSR.w CODE_138AC4

	LDA.w #SMB2U_UncompressedGFX_LevelPreviewBorder
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_LevelPreviewBorder>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2C00
	JSR.w CODE_138AC4
	
	LDA.w #SMB2U_ErrorMessageFontGFX_Main
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_ErrorMessageFontGFX_Main>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$3C00
	JSR.w CODE_138AC4
endif	
	SEP.b #$20
	PLB
	RTL

;--------------------------------------------------------------------

SMB2U_UploadLayer3Graphics:
.Main:
;$1389A3
	PHB
	PHK
	PLB
	REP.b #$20
	LDA.w #SMB2U_UncompressedGFX_Layer3
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_Layer3>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$1000
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$5800
	JSR.w CODE_138AC4
	SEP.b #$20
	PLB
	RTL

;--------------------------------------------------------------------

DATA_1389C0:
	dw SMB2U_UncompressedGFX_FG_AnimatedTilesBank18,SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$200,SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$0400,SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$0600,SMB2U_UncompressedGFX_LevelPreviewTiles,SMB2U_UncompressedGFX_LevelPreviewTiles+$0200,SMB2U_UncompressedGFX_LevelPreviewTiles+$0400,SMB2U_UncompressedGFX_LevelPreviewTiles+$0600
	dw SMB2U_UncompressedGFX_ShadedFont,SMB2U_UncompressedGFX_ShadedFont+$0200,SMB2U_UncompressedGFX_ShadedFont+$0400,SMB2U_UncompressedGFX_ShadedFont+$0600,SMB2U_UncompressedGFX_LevelPreviewBorder,SMB2U_UncompressedGFX_LevelPreviewBorder+$0200,SMB2U_UncompressedGFX_LevelPreviewBorder+$0400,SMB2U_UncompressedGFX_LevelPreviewBorder+$0600

DATA_1389E0:
	db SMB2U_UncompressedGFX_FG_AnimatedTilesBank18>>16,SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$0200>>16,SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$0400>>16,SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$0600>>16,SMB2U_UncompressedGFX_LevelPreviewTiles>>16,SMB2U_UncompressedGFX_LevelPreviewTiles+$0200>>16,SMB2U_UncompressedGFX_LevelPreviewTiles+$0400>>16,SMB2U_UncompressedGFX_LevelPreviewTiles+$0600>>16
	db SMB2U_UncompressedGFX_ShadedFont>>16,SMB2U_UncompressedGFX_ShadedFont+$0200>>16,SMB2U_UncompressedGFX_ShadedFont+$0400>>16,SMB2U_UncompressedGFX_ShadedFont+$0600>>16,SMB2U_UncompressedGFX_LevelPreviewBorder>>16,SMB2U_UncompressedGFX_LevelPreviewBorder+$0200>>16,SMB2U_UncompressedGFX_LevelPreviewBorder+$0400>>16,SMB2U_UncompressedGFX_LevelPreviewBorder+$0600>>16

DATA_1389F0:
	dw $2000,$2100,$2200,$2300,$2400,$2500,$2600,$2700
	dw $2800,$2900,$2A00,$2B00,$2C00,$2D00,$2E00,$2F00

SMB2U_UploadLevelPreviewOrPauseMenuGraphics:
.Main:
;$138A10
	REP.b #$20
	LDA.w !RAM_SMB2U_Global_UploadLevelPreviewGraphicsIndex
	AND.w #$00FF
	BEQ.b CODE_138A3A
	DEC.w !RAM_SMB2U_Global_UploadLevelPreviewGraphicsIndex
	DEC
	TAX
	LDA.l DATA_1389E0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	TXA
	ASL
	TAX
	LDA.l DATA_1389C0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.w #$0200
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.l DATA_1389F0,x
	JSR.w CODE_138AC4
CODE_138A3A:
	LDA.w !RAM_SMB2U_Global_HandlePauseMenuGraphicsUploadFlag
	AND.w #$00FF
	BEQ.b CODE_138A62
	CMP.w #$0002
	BEQ.b CODE_138A4E
	LDA.w #SMB2U_UncompressedGFX_PauseMenu
	LDX.b #SMB2U_UncompressedGFX_PauseMenu>>16
	BRA.b CODE_138A53

CODE_138A4E:
	LDA.w #SMB2U_UncompressedGFX_Sprite_StandardEnemies
	LDX.b #SMB2U_UncompressedGFX_Sprite_StandardEnemies>>16
CODE_138A53:
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$7000
	JSR.w CODE_138AE7
CODE_138A62:
	SEP.b #$20
	STZ.w !RAM_SMB2U_Global_HandlePauseMenuGraphicsUploadFlag
	RTL

;--------------------------------------------------------------------

CODE_138A68:
	REP.b #$20
	LDA.w #SMB2U_UncompressedGFX_TitleScreenBorder
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_TitleScreenBorder>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$2000
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	JSR.w CODE_138AC4
	LDA.w #SMB2U_UncompressedGFX_SlotMachineReels
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_SlotMachineReels>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$7800
	JSR.w CODE_138AE7
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

SMB2U_UploadWarpScreenGraphics:
	REP.b #$20

	LDA.w #SMB2U_UncompressedGFX_WarpZoneTiles
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_WarpZoneTiles>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2C00
	JSR.w CODE_138AC4

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
;[BR] GFX for the translated WARP
	LDA.w #SMB2U_WarpBRTitleGFX
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_WarpBRTitleGFX>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #SMB2U_WarpBRTitleGFX_End-SMB2U_WarpBRTitleGFX
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$2400
	JSR.w CODE_138AC4
endif

	SEP.b #$20
	RTL

;--------------------------------------------------------------------

CODE_138AAB:
	REP.b #$20
	LDA.w #SMB2U_UncompressedGFX_FG_GiantTree
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b #SMB2U_UncompressedGFX_FG_GiantTree>>16
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w #$0800
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	LDA.w #$4000
	JSR.w CODE_138AC4
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

CODE_138AC4:
	LDX.b #$80
	STX.w !REGISTER_VRAMAddressIncrementValue
	STA.w !REGISTER_VRAMAddressLo
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STA.w DMA[$00].Parameters
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	STA.w DMA[$00].SourceLo
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	STX.w DMA[$00].SourceBank
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	STA.w DMA[$00].SizeLo
	LDX.b #$01
	STX.w !REGISTER_DMAEnable
	RTS

CODE_138AE7:					; Note: Duplicate of the above routine.
	LDX.b #$80
	STX.w !REGISTER_VRAMAddressIncrementValue
	STA.w !REGISTER_VRAMAddressLo
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STA.w DMA[$00].Parameters
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	STA.w DMA[$00].SourceLo
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	STX.w DMA[$00].SourceBank
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	STA.w DMA[$00].SizeLo
	LDX.b #$01
	STX.w !REGISTER_DMAEnable
	RTS

;--------------------------------------------------------------------

; Note: Routine that handles uploading dynamic graphics.

DATA_138B0A:
	dw SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0000,SMB2U_UncompressedGFX_Sprite_DynamicSprites+$00C0
	dw SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0180,SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0240
	dw SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0300,SMB2U_UncompressedGFX_Sprite_DynamicSprites+$03C0
	dw SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0480,SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0540

DATA_138B1A:
	dw SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0600,SMB2U_UncompressedGFX_Sprite_DynamicSprites+$06C0
	dw SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0780,SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0840
	dw SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0900,SMB2U_UncompressedGFX_Sprite_DynamicSprites+$09C0
	dw SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0A80,SMB2U_UncompressedGFX_Sprite_DynamicSprites+$0B40

CODE_138B2A:
	PHD
	REP.b #$20
	LDA.w #DMA[$00].Parameters
	TCD
	LDY.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror				; Glitch: This line reads from open bus at $43FE!
	CPY.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	BEQ.b CODE_138B44
	LDY.w $0217
	BNE.b CODE_138B48
	LDY.w !RAM_SMB2U_Ending_SleepingMarioAnimationIndex
	BEQ.b CODE_138B44
	JMP.w CODE_138C7D

CODE_138B44:
	SEP.b #$20
	PLD
	RTL

CODE_138B48:
	LDX.b #$80
	STX.w !REGISTER_VRAMAddressIncrementValue
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STA.b DMA[$00].Parameters
	LDX.w !RAM_SMB2U_Global_HandlePauseMenuGraphicsUploadFlag
	BNE.b CODE_138BBA
	STA.b DMA[$01].Parameters
	STA.b DMA[$02].Parameters
	LDX.b #SMB2U_UncompressedGFX_Player>>16
	STX.b DMA[$00].SourceBank
	STX.b DMA[$01].SourceBank
	LDX.b #SMB2U_UncompressedGFX_Sprite_DynamicSprites>>16
	STX.b DMA[$02].SourceBank
	LDA.w #$0040
	STA.b DMA[$00].SizeLo
	STA.b DMA[$01].SizeLo
	LDA.w #$00C0
	STA.b DMA[$02].SizeLo
	LDA.w #$6000
	STA.w !REGISTER_VRAMAddressLo
	LDA.w !RAM_SMB2U_Global_FrameCounter					; Optimization: Unnecessary absolute addressing
	AND.w #$0038
	LSR
	LSR
	TAX
	LDA.w !RAM_SMB2U_Player_TopHeadTileSourceAddressLo
	STA.b DMA[$00].SourceLo
	LDA.w !RAM_SMB2U_Player_TopBodyTileSourceAddressLo
	STA.b DMA[$01].SourceLo
	LDA.l DATA_138B0A,x
	STA.b DMA[$02].SourceLo
	LDY.b #$07
	STY.w !REGISTER_DMAEnable
	LDA.w #$0040
	STA.b DMA[$00].SizeLo
	STA.b DMA[$01].SizeLo
	LDA.w #$00C0
	STA.b DMA[$02].SizeLo
	LDA.w #$6100
	STA.w !REGISTER_VRAMAddressLo
	LDA.w !RAM_SMB2U_Player_BottomHeadTileSourceAddressLo
	STA.b DMA[$00].SourceLo
	LDA.w !RAM_SMB2U_Player_BottomBodyTileSourceAddressLo
	STA.b DMA[$01].SourceLo
	LDA.l DATA_138B1A,x
	STA.b DMA[$02].SourceLo
	STY.w !REGISTER_DMAEnable
CODE_138BBA:
	LDA.w #$0200
	STA.b DMA[$00].SizeLo
	LDA.w !RAM_SMB2U_Global_TileAnimationVRAMAddressLo
	STA.w !REGISTER_VRAMAddressLo
	LDA.w !RAM_SMB2U_Global_TileAnimationSourceAddressLo
	STA.b DMA[$00].SourceLo
	LDY.w !RAM_SMB2U_Global_TileAnimationSourceAddressBank
	STY.b DMA[$00].SourceBank
	LDX.b #$01
	STX.w !REGISTER_DMAEnable
	LDA.w #$0040
	STA.b DMA[$00].SizeLo
	LDA.w #$22E0
	STA.w !REGISTER_VRAMAddressLo
	LDA.w !RAM_SMB2U_Global_ConveyorBeltTileAnimationSourceAddressLo
	STA.b DMA[$00].SourceLo
	STY.b DMA[$00].SourceBank
	STX.w !REGISTER_DMAEnable
	SEP.b #$20
	PLD
	RTL

;--------------------------------------------------------------------

DATA_138BED:
	dw SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$0000
	dw SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$0600
	dw SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$0C00
	dw SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$1200
	dw SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$1800
	dw SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$1E00
	dw SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$2400
	dw SMB2U_UncompressedGFX_FG_AnimatedTilesBank18+$2A00

DATA_138BFD:
	dw $0000,$0200,$0400

DATA_138C03:
	dw $2000,$2100,$2200

DATA_138C09:
	db SMB2U_UncompressedGFX_FG_AnimatedTilesBank18>>16,SMB2U_UncompressedGFX_FG_AnimatedTilesBank1D>>16

SMB2U_LevelTileAnimations:
.Main:
;$138C0B
	LDA.w !RAM_SMB2U_Ending_SleepingMarioAnimationIndex
	BEQ.b CODE_138C13
	JMP.w SMB2U_SetSleepingMariosAnimationFrame_Main

CODE_138C13:
	INC.w !RAM_SMB2U_Global_TileAnimationUploadIndex
	LDA.w !RAM_SMB2U_Global_TileAnimationUploadIndex
	CMP.b #$03
	BCC.b CODE_138C20
	STZ.w !RAM_SMB2U_Global_TileAnimationUploadIndex
CODE_138C20:
	INC.w !RAM_SMB2U_Global_TileAnimationFrameCounter
	LDA.w !RAM_SMB2U_Global_TileAnimationFrameCounter
	CMP.b #$08
	BCC.b CODE_138C30
	INC.w !RAM_SMB2U_Global_TileAnimationFrameIndex
	STZ.w !RAM_SMB2U_Global_TileAnimationFrameCounter
CODE_138C30:
	LDA.w !RAM_SMB2U_Global_TileAnimationFrameIndex
	AND.b #$07
	ASL
	TAX
	REP.b #$20
	LDA.l DATA_138BED,x
	STA.w !RAM_SMB2U_Global_TileAnimationSourceAddressLo
	LDA.w !RAM_SMB2U_Global_TileAnimationUploadIndex
	AND.w #$00FF
	ASL
	TAX
	LDA.w !RAM_SMB2U_Global_TileAnimationSourceAddressLo
	CLC
	ADC.l DATA_138BFD,x
	STA.w !RAM_SMB2U_Global_TileAnimationSourceAddressLo
	LDA.l DATA_138C03,x
	STA.w !RAM_SMB2U_Global_TileAnimationVRAMAddressLo
	LDX.w !RAM_SMB2U_Level_AnimatedTileBankToUse
	LDA.l DATA_138C09,x
	AND.w #$00FF
	TAY
	STY.w !RAM_SMB2U_Global_TileAnimationSourceAddressBank
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.w #$0007
	ASL
	TAX
	LDA.l DATA_138BED,x
	CLC
	ADC.w #$05C0
	STA.w !RAM_SMB2U_Global_ConveyorBeltTileAnimationSourceAddressLo
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

; Note: Something related to the ending sleeping Mario.

CODE_138C7D:
	LDX.b #$80
	STX.w !REGISTER_VRAMAddressIncrementValue
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STA.b DMA[$00].Parameters
	LDA.w #$0800
	STA.b DMA[$00].SizeLo
	LDA.w #$2000
	STA.w !REGISTER_VRAMAddressLo
	LDA.w !RAM_SMB2U_Global_TileAnimationSourceAddressLo
	STA.b DMA[$00].SourceLo
	LDY.b #SMB2U_UncompressedGFX_AnimatedSleepingMario>>16
	STY.b DMA[$00].SourceBank
	LDX.b #$01
	STX.w !REGISTER_DMAEnable
	SEP.b #$20
	PLD
	RTL

;--------------------------------------------------------------------

DATA_138CA4:
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$0000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$0800
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$1000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$1800
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$2000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$2800
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$3000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$3800
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$3000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$2800
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$2000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$1800
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$1000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$0800

DATA_138CC0:
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$5000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$4800
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$4000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$5800
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$4000,SMB2U_UncompressedGFX_AnimatedSleepingMario+$4800
	dw SMB2U_UncompressedGFX_AnimatedSleepingMario+$5000

SMB2U_SetSleepingMariosAnimationFrame:
.Main:
;$138CCE
	LDA.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	ASL
	TAX
	REP.b #$20
	LDA.w !RAM_SMB2U_Ending_SleepingMarioAnimationIndex
	AND.w #$0003
	CMP.w #$0002
	BEQ.b CODE_138CE8
	LDA.l DATA_138CA4,x
	STA.w !RAM_SMB2U_Global_TileAnimationSourceAddressLo
	BRA.b CODE_138CEF

CODE_138CE8:
	LDA.l DATA_138CC0,x
	STA.w !RAM_SMB2U_Global_TileAnimationSourceAddressLo
CODE_138CEF:
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

CODE_138CF2:
	LDA.b #$04
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$05
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$07
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$09
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$0B
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$0D
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$0F
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$11
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$13
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$15
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$17
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$19
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$1B
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$1D
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$1F
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$21
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$23
	RTL

;--------------------------------------------------------------------

CODE_138D25:
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$05
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$07
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$09
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$0B
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$0D
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$0F
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$11
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$13
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$15
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$17
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$19
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$1B
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$1D
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$1F
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$21
	STZ.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$23
	RTL

;--------------------------------------------------------------------

SMB2U_BufferSlotMachineCoinAndLifeCounterText:
.Main:
;$138D56
	REP.b #$20
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR] Stripe image size
	LDX.b #$30
else
	LDX.b #$2E
endif
CODE_138D5A:
	LDA.w DATA_11BBC6,x
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText,x
	DEX
	DEX
	BPL.b CODE_138D5A
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

SMB2U_BufferCharacterSelectLifeCounterText:
.Main:
;$138D67
	LDX.b #SMB2U_CharacterSelectLifCounterStripeImage_End-SMB2U_CharacterSelectLifCounterStripeImage_Main-$01
CODE_138D69:
	LDA.l SMB2U_CharacterSelectLifCounterStripeImage_Main,x
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage,x
	DEX
	BPL.b CODE_138D69
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_138D74:
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_R
	BEQ.b ADDR_138D96
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	INC.w !RAM_SMB2U_Level_CurrentLevel
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	STA.w !RAM_SMB2U_Player_CheckpointLevel
	CMP.w DATA_11C9B4+$01,x
	BNE.b ADDR_138DC1
	LDA.w DATA_11C9B4,x
	STA.w !RAM_SMB2U_Level_CurrentLevel
	STA.w !RAM_SMB2U_Player_CheckpointLevel
	BRA.b ADDR_138DC1

ADDR_138D96:
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_L
	BNE.b ADDR_138D9F
	BRL.w ADDR_138E26

ADDR_138D9F:
	INC.w !RAM_SMB2U_Level_CurrentWorld
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	STX.w $0405
	LDA.w DATA_11C9B4,x
	STA.w !RAM_SMB2U_Level_CurrentLevel
	STA.w !RAM_SMB2U_Player_CheckpointLevel
	CPX.b #$07
	BNE.b ADDR_138DC1
	STZ.w !RAM_SMB2U_Level_CurrentWorld
	STZ.w $0405
	STZ.w !RAM_SMB2U_Level_CurrentLevel
	STZ.w !RAM_SMB2U_Player_CheckpointLevel
ADDR_138DC1:
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	INC
	ORA.b #$80
	STA.w !RAM_SMB2U_LevelPreview_WorldNumberStripeImage+$14
	LDA.b #$0C
	STA.w !RAM_SMB2U_LevelPreview_WorldNumberStripeImage+$15
	LDY.b #$0C
ADDR_138DD1:
	LDA.b #$BF
	STA.w !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage+$04,y
	LDA.b #$00
	STA.w !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage+$05,y
	DEY
	DEY
	BPL.b ADDR_138DD1
	LDY.w !RAM_SMB2U_Level_CurrentWorld
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	SEC
	SBC.w DATA_11C9B4,y
	STA.w $0629
	CLC
	ADC.b #$81
	STA.w !RAM_SMB2U_LevelPreview_WorldNumberStripeImage+$18
	LDA.b #$0C
	STA.w !RAM_SMB2U_LevelPreview_WorldNumberStripeImage+$19
	LDA.w DATA_11C9B4+$01,y
	SEC
	SBC.w DATA_11C9B4,y
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.b #$00
	TXY
ADDR_138E03:
	LDA.b #$EB
	CPX.w $0629
	BNE.b ADDR_138E0C
	LDA.b #$EC
ADDR_138E0C:
	STA.w !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage+$04,y
	LDA.b #$1C
	STA.w !RAM_SMB2U_LevelPreview_ProgressSquaresStripeImage+$05,y
	INY
	INY
	INY
	INY
	INX
	CPX.b !RAM_SMB2U_Global_ScratchRAM03
	BCC.b ADDR_138E03
	LDA.b #$FF
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage
	LDA.b #$08
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
ADDR_138E26:
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_138E27:
	LDY.b #$C0
ADDR_138E29:
	CMP.b #$0A
	BCC.b ADDR_138E32
	SBC.b #$0A
	INY
	BRA.b ADDR_138E29

ADDR_138E32:
	ORA.b #$C0
	CPY.b #$C0
	BNE.b ADDR_138E3A
	LDY.b #$BF
ADDR_138E3A:
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_InitializePauseMenuWindowingAndColorMathParameters(NULLROM)		; $138E3B

;--------------------------------------------------------------------

SMB2U_HandleLevelPauseMenuWindowingAndColorMath:
.Main:
;$138EEB
	REP.b #$30
	LDA.w !RAM_SMB2U_Level_PauseMenuOpenCloseFrameIndex
	AND.w #$00FF
	ASL
	TAX
	LDA.l DATA_138FB7,x
	STA.w $0712
	LDA.l DATA_138FC1,x
	STA.w $0714
	LDA.l DATA_138FCB,x
	STA.w $0716
	LDA.l DATA_138FC9
	STA.w $0718
	LDA.l DATA_138FBF
	TAX
CODE_138F16:
	LDA.w #$00FF
	CPX.w $0714
	BCS.b CODE_138F26
	CPX.w $0712
	BCC.b CODE_138F26
	LDA.w $0716
CODE_138F26:
	STA.l !RAM_SMB2U_Level_PauseMenuWindow1HDMATable,x
	INX
	INX
	CPX.w $0718
	BNE.b CODE_138F16
	LDA.w #$0066
	TAX
CODE_138F35:
	LDA.w #$C43B
	STA.l !RAM_SMB2U_Level_PauseMenuWindow2HDMATable,x
	INX
	INX
	CPX.w #$013A
	BNE.b CODE_138F35
	SEP.b #$30
	LDA.w $0232
	BNE.b CODE_138FA9
	LDA.b #$CA
	STA.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
	LDX.b #$FF
	LDY.b #$FC
	LDA.w $0231
	BNE.b CODE_138F5C
	LDX.b #$01
	LDY.b #$04
CODE_138F5C:
	TYA
	CLC
	ADC.w $0245
	STA.w $0245
	LDA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	AND.b #$20
	ORA.w $0245
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	LDA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	AND.b #$40
	ORA.w $0245
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	LDA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	AND.b #$80
	ORA.w $0245
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	TXA
	CLC
	ADC.w !RAM_SMB2U_Level_PauseMenuOpenCloseFrameIndex
	STA.w !RAM_SMB2U_Level_PauseMenuOpenCloseFrameIndex
	BMI.b CODE_138F95
	CMP.b #$05
	BEQ.b CODE_138F9F
	BRA.b CODE_138FA9

CODE_138F95:
	STZ.w !RAM_SMB2U_Level_PauseMenuOpenCloseFrameIndex
	LDA.b #$02
	STA.w !RAM_SMB2U_Global_HandlePauseMenuGraphicsUploadFlag
	BRA.b CODE_138FA4

CODE_138F9F:
	LDA.b #$C0
	STA.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
CODE_138FA4:
	LDA.b #$01
	STA.w $0232
CODE_138FA9:
	LDA.b #$88
	STA.w !RAM_SMB2U_Global_HDMAEnableMirror
	LDA.b #$17
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	STA.w !RAM_SMB2U_Global_MainScreenWindowMaskMirror
	RTL

DATA_138FB7:								; Y Position of pause menu as it closes?
	dw $00C6,$00AE,$0096,$007E

DATA_138FBF:
	dw $0068

DATA_138FC1:
	dw $00F6,$010E,$0126,$013E

DATA_138FC9:
	dw $0154

DATA_138FCB:
	dw $9070,$A060,$B050,$C040
	dw $CA36

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_InitializePauseMenuWindowHDMATable(NULLROM)			; $138FD5

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_13904E:
	LDX.b #$FF
ADDR_139050:
	LDA.l UNK_14C563,x
	STA.w $14BB,x
	DEX
	CPX.b #$FF
	BNE.b ADDR_139050
	STX.w $14C5
	JSR.w ADDR_139067
	LDA.b #$02
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	RTL

ADDR_139067:
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	INY
	TYA
	JSR.w ADDR_1390C9
	INX
	TXA
	ORA.b #$00
	STA.w $14BF
	LDY.w !RAM_SMB2U_Player_CurrentLifeCount
	DEY
	TYA
	JSR.w ADDR_1390C9
	STY.w $14C9
	STA.w $14CB
	LDY.b #$0C
ADDR_139089:
	LDA.b #$2F
	STA.w $14CD,y
	DEY
	DEY
	CPY.b #$02
	BNE.b ADDR_139089
	LDY.w !RAM_SMB2U_Level_CurrentWorld
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	SEC
	SBC.w DATA_11C9B4,y
	STA.w $0629
	CLC
	ADC.b #$01
	STA.w $14C3
	LDA.w DATA_11C9B4+$01,y
	SEC
	SBC.w DATA_11C9B4,y
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.b #$00
	TXY
ADDR_1390B3:
	LDA.b #$FD
	CPX.w $0629
	BNE.b ADDR_1390BC
	LDA.b #$F6
ADDR_1390BC:
	STA.w $14D1,y
	INY
	INY
	INY
	INY
	INX
	CPX.b !RAM_SMB2U_Global_ScratchRAM03
	BCC.b ADDR_1390B3
	RTS

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_1390C9:
	LDY.b #$00
ADDR_1390CB:
	CMP.b #$0A
	BCC.b ADDR_1390D5
	SBC.b #$0A
	INY
	JMP.w ADDR_1390CB

ADDR_1390D5:
	ORA.b #$00
	CPY.b #$00
	BNE.b ADDR_1390DD
	LDY.b #$2F
ADDR_1390DD:
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_UpdateSlotMachineReelYPosition(NULLROM)					; $1390DE

;--------------------------------------------------------------------

Albatoss_SpriteTileIndexTable:
	db $E0,$E2
	db $E4,$E6
	db $E8,$EA
	db $EC,$EE
	db $C0,$C2
	db $C4,$C6
	db $C8,$CA
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR] Restoring the 8th frame pt.1: Adding the frame's indexes
	db $CC,$CE
endif

CODE_139110:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.w $0713
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w $0712
	REP.b #$20
	CLC
	ADC.w #$0080
	CMP.w #$0200
	SEP.b #$20
	BCS.b +
	JSL.l CODE_15CDDF
	BCC.b ++
+:
	RTL

++:
else
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w $0712
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.w $0713
	REP.b #$20
	LDA.w $0712
	BPL.b CODE_13912A
	CMP.w #$FF80
	BCS.b CODE_139131
	BRA.b CODE_139137

CODE_13912A:
	CMP.w #$0180
	BCC.b CODE_139131
	BRA.b CODE_139137

CODE_139131:
	SEP.b #$20
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BEQ.b CODE_13913A
CODE_139137:
	SEP.b #$20
	RTL
endif

CODE_13913A:
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b $6F,x
	LSR
	PHP
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$80
	PLP
	BCC.b CODE_13914C
	ORA.b #$40
CODE_13914C:
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	REP.b #$30
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.b $9F,x
	AND.w #$00FF
	ASL
	TAX
	LDA.w $0712
	CLC
	ADC.w #$0010
	SEP.b #$20
	XBA
	STA.w $0714
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	CLC
	ADC.b #$10
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
	LDA.l Albatoss_SpriteTileIndexTable,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.l Albatoss_SpriteTileIndexTable+$01,x
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	ORA.b #$23
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	AND.b #$40
	BEQ.b CODE_1391A5
	LDA.w SMB2U_OAMBuffer[$00].Tile,y
	PHA
	LDA.w SMB2U_OAMBuffer[$01].Tile,y
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	PLA
	STA.w SMB2U_OAMBuffer[$01].Tile,y
CODE_1391A5:
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w $0713
	BPL.b CODE_1391B5
	EOR.b #$FF
	INC
CODE_1391B5:
	AND.b #$01
	ORA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	LDA.w $0714
	BPL.b CODE_1391C4
	EOR.b #$FF
	INC
CODE_1391C4:
	AND.b #$01
	ORA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	SEP.b #$10
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTL

;--------------------------------------------------------------------

DATA_1391D0:
	db !Define_SMB2U_SpriteID_NorSpr1D_Mouser,!Define_SMB2U_SpriteID_NorSpr21_Clawgrip,!Define_SMB2U_SpriteID_NorSpr2C_Wart
	db !Define_SMB2U_SpriteID_NorSpr1C_Birdo,!Define_SMB2U_SpriteID_NorSpr1F_Tryclyde,!Define_SMB2U_SpriteID_NorSpr2A_Fryguy

DATA_1391D6:
	db $0A,$02,$0A,$04,$0A,$06

CODE_1391DC:
	PHX
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDX.b #$05
CODE_1391E1:
	CMP.l DATA_1391D0,x
	BEQ.b CODE_1391EF
	DEX
	BPL.b CODE_1391E1
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	CLC
	BRA.b CODE_139207

CODE_1391EF:
	LDX.w !RAM_SMB2U_Global_BossFlashingPaletteIndex
	LDA.l DATA_1391D6,x
	STA.w $0712
	LDA.w $0213
	AND.b #$F1
	ORA.w $0712
	STA.w $0213
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	SEC
CODE_139207:
	PLX
	RTL

;--------------------------------------------------------------------

DATA_139209:
	db $C4,$D4,$C5

DATA_13920C:
	db $FD,$FF,$0B,$00

CODE_139210:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr37_PurpleBomb
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BNE.b CODE_139254
else
	BNE.b CODE_139252
endif
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$03
	BNE.b CODE_13921E
	INC.b $9F,x
CODE_13921E:
	LDA.b $9F,x
	CMP.b #$03
	BCC.b CODE_139228
	LDA.b #$00
	STZ.b $9F,x
CODE_139228:
	STA.w $0714
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.w $0713
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w $0712
	REP.b #$20
	CLC
	ADC.w #$0080
	CMP.w #$0200
	SEP.b #$20
	BCS.b +
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$FB
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$FF
	XBA
	LDA.w $07A5
	JSL.l CODE_15CDE6
	BCC.b CODE_139255
+:
else
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w $0712
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.w $0713
	REP.b #$20
	LDA.w $0712
	BPL.b CODE_139245
	CMP.w #$FF80
	BCS.b CODE_13924C
	BRA.b CODE_139252

CODE_139245:
	CMP.w #$0180
	BCC.b CODE_13924C
	BRA.b CODE_139252

CODE_13924C:
	SEP.b #$20
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BEQ.b CODE_139255
CODE_139252:
	SEP.b #$20
endif
CODE_139254:
	RTL

CODE_139255:
	LDA.b $6F,x
	DEC
	ASL
	TAX
	REP.b #$20
	LDA.l DATA_13920C,x
	CLC
	ADC.w $0712
	STA.w $0712
	SEP.b #$20
	LDX.w $0714
	LDA.l DATA_139209,x
	STA.w $0716
	REP.b #$30
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	CLC
	ADC.w #$0004
	TAY
	SEP.b #$20
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A5
else
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$FB
endif
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.w $0716
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b #$24
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w $0713
	BPL.b CODE_1392A9
	EOR.b #$FF
	INC
CODE_1392A9:
	AND.b #$01
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	SEP.b #$10
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTL

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
%FREE_BYTES(NULLROM, 80, $FF)
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
%FREE_BYTES(NULLROM, 77-3, $FF)
else
%FREE_BYTES(NULLROM, 77, $FF)
endif

;--------------------------------------------------------------------

CODE_139300:
	ASL
	TAX
	JMP.w (DATA_139305,x)

DATA_139305:
	dw CODE_1393DC
	dw CODE_1393DC

;--------------------------------------------------------------------

CODE_139309:
	ASL
	TAX
	JMP.w (DATA_13930E,x)

DATA_13930E:
	dw CODE_139439
	dw CODE_139472
	dw CODE_139472
	dw CODE_139472
	dw CODE_139472

;--------------------------------------------------------------------

CODE_139318:
	LDA.w $050F
	ASL
	TAX
	JMP.w (DATA_139320,x)

DATA_139320:
	dw CODE_1394CF
	dw CODE_1394B5
	dw CODE_1395AE
	dw CODE_13993E
	dw CODE_13997C
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1394CF
	dw CODE_13993E
	dw CODE_13951D
	dw CODE_13951D
	dw CODE_139A2A
	dw CODE_139A2A
	dw CODE_139A2A
	dw CODE_13951D
	dw CODE_13951D
	dw CODE_139AA2
	dw CODE_1394CF
	dw CODE_1394CF
	dw CODE_1394B5
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_139AEF
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1394B5
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1395AE
	dw CODE_139B34
	dw CODE_139B34
	dw CODE_139B34
	dw CODE_139B34
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1394CF
	dw CODE_139BA6
	dw CODE_139BA6
	dw CODE_139BA6
	dw CODE_139BA6
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_139C94
	dw CODE_13993E
	dw CODE_1394F6
	dw CODE_1394F6
	dw CODE_1394F6
	dw CODE_1394F6
	dw CODE_1394F6
	dw CODE_1394F6
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_13993E
	dw CODE_139D38
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_13951D
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9
	dw CODE_1399A9

;--------------------------------------------------------------------

DATA_1393DA:
	db $3C,$02

CODE_1393DC:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	SEC
	SBC.b #$70
	LSR
	LSR
	LSR
	LSR
	TAX
	LDA.l DATA_1393DA,x
	STA.w $0712
	LDA.w $050E
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.b $E9
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
CODE_1393F6:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0E
	JSR.w CODE_1397DC
	LDX.b #$07
	LDA.b $E7
	AND.b #$F0
	TAY
	LDA.w $0712
	XBA
	LDA.w $0712
CODE_139409:
	REP.b #$20
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	SEP.b #$20
	INY
	INY
	DEX
	BPL.b CODE_139409
	DEC.b !RAM_SMB2U_Global_ScratchRAM08
	BMI.b CODE_139430
	LDA.b $E7
	CLC
	ADC.b #$10
	CMP.b #$F0
	BCC.b CODE_13942B
	INC.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	CMP.b #$0A
	BEQ.b CODE_139430
	LDA.b #$00
CODE_13942B:
	STA.b $E7
	BRL.w CODE_1393F6

CODE_139430:
	RTS

;--------------------------------------------------------------------

DATA_139431:
	db $FF,$2A,$FF,$FF,$FF,$FF,$2D,$FF

CODE_139439:
	LDA.b $E9
	STA.w $0247
	LDA.b #$80
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	LDA.b #$31
	STA.b !RAM_SMB2U_Global_ScratchRAM09
CODE_139446:
	JSR.w CODE_139705
	AND.b #$07
	TAX
	LDA.l DATA_139431,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_1396D2
	CPY.b #$30
	BCC.b CODE_139446
	TYA
	AND.b #$0F
	TAY
	JSR.w CODE_1396B0
	LDA.w $0247
	STA.b $E9
	CMP.b #$0A
	BNE.b CODE_139446
	LDA.b #$00
	STA.b $E9
	STA.b $E6
	STA.b $E5
	RTS

;--------------------------------------------------------------------

CODE_139472:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b $E9
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w $050F
	SEC
	SBC.b #$01
	ASL
	TAX
	LDA.l DATA_13DA0E,x
	STA.b $C4
	LDA.l DATA_13DA0E+$01,x
	STA.b $C5
	LDA.b #DATA_13DA16>>16
	STA.b $C6
CODE_139490:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b [$C4],y
	CMP.b #$FF
	BEQ.b CODE_1394B4
	CMP.b #$F0
	BEQ.b CODE_1394A9
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	INY
	LDA.b [$C4],y
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.b !RAM_SMB2U_Global_ScratchRAM0E
	BRA.b CODE_1394B0

CODE_1394A9:
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	JSR.w CODE_1397DC
CODE_1394B0:
	INC.b !RAM_SMB2U_Global_ScratchRAM0E
	BRA.b CODE_139490

CODE_1394B4:
	RTS

;--------------------------------------------------------------------

CODE_1394B5:
	LDX.b #$01
	LDA.w $050F
	CLC
	ADC.b #$10
CODE_1394BD:
	CMP.l DATA_13D464,x
	BEQ.b CODE_1394C6
	DEX
	BPL.b CODE_1394BD
CODE_1394C6:
	LDY.b $E7
	LDA.l DATA_13D466,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	RTS

;--------------------------------------------------------------------

; Note: Single plant in rocky wall layer 2 object (also draws other things)

CODE_1394CF:
	LDX.b #$02
	LDA.w $050F
	CLC
	ADC.b #$10
CODE_1394D7:
	CMP.l DATA_13D468,x
	BEQ.b CODE_1394E0
	DEX
	BPL.b CODE_1394D7
CODE_1394E0:
	TXA
	ASL
	TAX
	LDY.b $E7
	LDA.l DATA_13D46B,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INX
	JSR.w CODE_1396B0
	LDA.l DATA_13D46B,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	RTS

;--------------------------------------------------------------------

CODE_1394F6:
	LDX.b #$05
	LDA.w $050F
	CLC
	ADC.b #$10
CODE_1394FE:
	CMP.l DATA_13D471,x
	BEQ.b CODE_139507
	DEX
	BPL.b CODE_1394FE
CODE_139507:
	TXA
	ASL
	TAX
	LDY.b $E7
	LDA.l DATA_13D477,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INX
	JSR.w CODE_1396D2
	LDA.l DATA_13D477,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	RTS

;--------------------------------------------------------------------

; Note: Double plant in rocky wall layer 2 object

CODE_13951D:
	LDX.b #$04
	LDA.w $050F
	CLC
	ADC.b #$10
CODE_139525:
	CMP.l DATA_13D497,x
	BEQ.b CODE_13952E
	DEX
	BPL.b CODE_139525
CODE_13952E:
	TXA
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0E
	TAX
	LDY.b $E7
	STY.b !RAM_SMB2U_Global_ScratchRAM0E
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_13953F:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$02
	BNE.b CODE_13954E
	PHX
	JSR.w CODE_139580
	PLX
	CMP.b #$00
	BNE.b CODE_139552
CODE_13954E:
	LDA.l DATA_13D49C,x
CODE_139552:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INX
	JSR.w CODE_1396D2
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$02
	BNE.b CODE_139567
	PHX
	JSR.w CODE_139580
	PLX
	CMP.b #$00
	BNE.b CODE_13956B
CODE_139567:
	LDA.l DATA_13D49C,x
CODE_13956B:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$03
	BEQ.b CODE_13957F
	INX
	LDY.b !RAM_SMB2U_Global_ScratchRAM0E
	JSR.w CODE_1396B0
	STY.b !RAM_SMB2U_Global_ScratchRAM0E
	BRA.b CODE_13953F

CODE_13957F:
	RTS

CODE_139580:
	LDX.b #$09
CODE_139582:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.l DATA_13D4BA,x
	BNE.b CODE_139594
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.l DATA_13D4C4,x
	BEQ.b CODE_139599
CODE_139594:
	DEX
	BPL.b CODE_139582
	BRA.b CODE_1395A6

CODE_139599:
	LDX.b #$06
CODE_13959B:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.l DATA_13D4CE,x
	BEQ.b CODE_1395A9
	DEX
	BPL.b CODE_13959B
CODE_1395A6:
	LDA.b #$00
	RTS

CODE_1395A9:
	LDA.l DATA_13D4D5,x
	RTS

;--------------------------------------------------------------------

CODE_1395AE:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w $050F
	CMP.b #$02
	BEQ.b CODE_1395BB
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_1395BB:
	LDY.b $E7
	LDA.b $E9
	STA.w $0712
	STZ.b !RAM_SMB2U_Global_ScratchRAM08
CODE_1395C4:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	CPX.b #$01
	BNE.b CODE_1395D2
	DEY
	LDA.l DATA_13DAA2
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INY
CODE_1395D2:
	LDA.l DATA_13DA8E,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
	BEQ.b CODE_139602
CODE_1395DC:
	JSR.w CODE_139660
	BCS.b CODE_139621
	PHX
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.l DATA_13DA93,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	PLX
	DEX
	BNE.b CODE_1395DC
	LDX.b !RAM_SMB2U_Global_ScratchRAM08
CODE_1395F0:
	JSR.w CODE_139660
	BCS.b CODE_139621
	PHX
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.l DATA_13DA98,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	PLX
	DEX
	BNE.b CODE_1395F0
CODE_139602:
	JSR.w CODE_139660
	BCS.b CODE_139621
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.l DATA_13DA9D,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CPX.b #$01
	BNE.b CODE_139621
	INY
	LDA.l DATA_13DAA3
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INY
	LDA.l DATA_13DAA4
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_139621:
	INC.b !RAM_SMB2U_Global_ScratchRAM08
	LDX.b $E9
	STX.w $0712
	JSR.w CODE_1397DC
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM08
	TAY
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$03
	BPL.b CODE_13964C
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$02
	BEQ.b CODE_13965F
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$FF
	BEQ.b CODE_139659
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
	BRA.b CODE_139659

CODE_13964C:
	TYA
	AND.b #$F0
	CMP.b #$A0
	BEQ.b CODE_13965F
	CMP.b #$90
	BNE.b CODE_139659
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_139659:
	JSR.w CODE_139689
	BRL.w CODE_1395C4

CODE_13965F:
	RTS

CODE_139660:
	PHX
	LDA.b $E7
	AND.b #$F0
	STA.w $0713
	INY
	TYA
	AND.b #$F0
	CMP.w $0713
	BEQ.b CODE_139686
	LDA.b $E7
	AND.b #$F0
	TAY
	INC.w $0712
	LDX.w $0712
	JSR.w CODE_1397DC
	CPX.b #$0A
	BNE.b CODE_139686
	PLX
	SEC
	RTS

CODE_139686:
	PLX
	CLC
	RTS

CODE_139689:
	LDA.b $E7
	AND.b #$F0
	STA.w $0713
	TYA
	AND.b #$F0
	CMP.w $0713
	BEQ.b CODE_1396AF
	TYA
	AND.b #$0F
	STA.w $0713
	LDA.b $E7
	AND.b #$F0
	ORA.w $0713
	TAY
	DEC.w $0712
	LDX.w $0712
	JSR.w CODE_1397DC
CODE_1396AF:
	RTS

;--------------------------------------------------------------------

CODE_1396B0:
	INY
	TYA
	AND.b #$0F
	BEQ.b CODE_1396BF
	LDA.w $02E4
	BEQ.b CODE_1396D1
	LDX.b $E9
	BRA.b CODE_1396CC

CODE_1396BF:
	TYA
	SEC
	SBC.b #$10
	TAY
	STX.b !RAM_SMB2U_Global_ScratchRAM0B
	LDX.b $E9
	INX
	STX.w $0247
CODE_1396CC:
	JSR.w CODE_1397DC
	LDX.b !RAM_SMB2U_Global_ScratchRAM0B
CODE_1396D1:
	RTS

;--------------------------------------------------------------------

CODE_1396D2:
	TYA
	CLC
	ADC.b #$10
	TAY
	CMP.b #$F0
	BCC.b CODE_139704
	LDA.w $050F
	CLC
	ADC.b #$10
	CMP.b #$2A
	BEQ.b CODE_1396EB
	LDX.b $E9
	INX
	JSR.w CODE_1397DC
CODE_1396EB:
	TYA
	AND.b #$0F
	TAY
	LDX.b #$06
	LDA.w $050F
	CLC
	ADC.b #$10
CODE_1396F7:
	CMP.l DATA_13DB60,x
	BEQ.b CODE_139701
	DEX
	BPL.b CODE_1396F7
	RTS

CODE_139701:
	INC.w $02E4
CODE_139704:
	RTS

;--------------------------------------------------------------------

CODE_139705:
	LDA.b !RAM_SMB2U_Global_ScratchRAM09
	ASL
	ASL
	SEC
	ADC.b !RAM_SMB2U_Global_ScratchRAM09
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	ASL.b !RAM_SMB2U_Global_ScratchRAM0A
	LDA.b #$20
	BIT.b !RAM_SMB2U_Global_ScratchRAM0A
	BCS.b CODE_13971A
	BNE.b CODE_13971C
	BEQ.b CODE_13971E

CODE_13971A:
	BNE.b CODE_13971E
CODE_13971C:
	INC.b !RAM_SMB2U_Global_ScratchRAM0A
CODE_13971E:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0A
	EOR.b !RAM_SMB2U_Global_ScratchRAM09
	RTS

;--------------------------------------------------------------------

; Note: Layer 2 background loading routine?

DATA_139723:
	db $00,$10,$20,$30,$40,$50

CODE_139729:
	STZ.b $E9
	LDY.b #$01
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$80
	BNE.b CODE_139736
	JSR.w CODE_13986E
CODE_139736:
	INC.b !RAM_SMB2U_Global_ScratchRAM04
CODE_139738:
	LDY.b !RAM_SMB2U_Global_ScratchRAM04
CODE_13973A:
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	CMP.b #$FF
	BNE.b CODE_139742
	RTL

CODE_139742:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$0F
	STA.b $E5
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$F0
	CMP.b #$F0
	BNE.b CODE_13975E
	LDA.b $E5
	STY.b !RAM_SMB2U_Global_ScratchRAM08
	JSR.w CODE_1397C1
	JSR.w CODE_13992F
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	BRA.b CODE_13973A

CODE_13975E:
	STA.b $E6
	INY
	STY.b !RAM_SMB2U_Global_ScratchRAM04
	JSR.w CODE_1397D3
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	LSR
	LSR
	LSR
	LSR
	STA.w $050F
	CMP.b #$07
	BCS.b CODE_1397A2
	PHA
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$0F
	STA.w $050F
	PLA
	BEQ.b CODE_1397B8
	CMP.b #$01
	BNE.b CODE_139788
	JSR.w CODE_139318
	BRL.w CODE_139738

CODE_139788:
	CMP.b #$07
	BPL.b CODE_13979F
	DEC
	TAX
	LDA.w $050F
	CLC
	ADC.l DATA_139723,x
	STA.w $050F
	JSR.w CODE_139318
	BRL.w CODE_139738

CODE_13979F:
	BRL.w CODE_139738

CODE_1397A2:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$0F
	STA.w $050E
	LDA.w $050F
	SEC
	SBC.b #$07
	STA.w $050F
	JSR.w CODE_139300
	BRL.w CODE_139738

CODE_1397B8:
	LDA.w $050F
	JSR.w CODE_139309
	BRL.w CODE_139738

CODE_1397C1:
	ASL
	TAX
	JMP.w (DATA_1397C6,x)

DATA_1397C6:
	dw CODE_1397CC
	dw CODE_1397CA

;--------------------------------------------------------------------

CODE_1397CA:
	INC.b $E9
CODE_1397CC:
	INC.b $E9
	LDA.b #$00
	STA.b $E6
	RTS

;--------------------------------------------------------------------

CODE_1397D3:
	LDX.b $E9
	LDA.b $E6
	CLC
	ADC.b $E5
	STA.b $E7
CODE_1397DC:
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.w DATA_11AAFB,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w DATA_11AAF0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #!RAM_SMB2U_Global_Layer2Map16Table>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	RTS

;--------------------------------------------------------------------

CODE_1397F3:
	REP.b #$30
	LDA.w $02D9
	STA.l $7F0002
	LDA.w #$8000
	STA.l $7F0004
	LDX.w #$0000
CODE_139806:
	LDA.b [$C4]
	AND.w #$00FF
	CMP.w #$00FF
	BEQ.b CODE_139834
	ASL
	ASL
	ASL
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0006,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0008,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0046,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0048,x
	BRA.b CODE_139847

CODE_139834:
	LDA.w #$00BF
	STA.l $7F0006,x
	STA.l $7F0008,x
	STA.l $7F0046,x
	STA.l $7F0048,x
CODE_139847:
	LDA.b $C4
	CLC
	ADC.w #$0001
	STA.b $C4
	INX
	INX
	INX
	INX
	CPX.w #$0040
	BNE.b CODE_139806
	LDA.w #$FFFF
	STA.l $7F0086
	LDA.w $02D9
	XBA
	CLC
	ADC.w #$0040
	XBA
	STA.w $02D9
	SEP.b #$30
	RTS

;--------------------------------------------------------------------

CODE_13986E:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$7F
	ASL
	TAX
	LDA.l DATA_13C661,x
	STA.b $C4
	INX
	LDA.l DATA_13C661,x
	STA.b $C5
	LDA.b #DATA_13C6AF>>16
	STA.b $C6
	LDY.b #$00
	LDA.b [$C4],y
	AND.b #$F0
	STA.w $02DC
	LSR
	LSR
	LSR
	LSR
	STA.w $02DE
	LDA.b [$C4],y
	AND.b #$0F
	STA.w $02DD
	INC.w $02DD
	STZ.b !RAM_SMB2U_Global_ScratchRAM0C
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
CODE_1398A3:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0D
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
	JSR.w CODE_139913
	JSR.w CODE_1398C4
	JSR.w CODE_1398D6
	INC.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	CMP.w $02DD
	BMI.b CODE_1398BB
	STZ.b !RAM_SMB2U_Global_ScratchRAM0C
CODE_1398BB:
	INC.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	CMP.b #$10
	BNE.b CODE_1398A3
	RTS

;--------------------------------------------------------------------

CODE_1398C4:
	LDA.w $02DC
	BEQ.b CODE_1398D5
CODE_1398C9:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.w $02DC
	BNE.b CODE_1398C9
CODE_1398D5:
	RTS

;--------------------------------------------------------------------

CODE_1398D6:
	JSR.w CODE_1398F7
CODE_1398D9:
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$FF
	BNE.b CODE_1398E9
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.b [$C4],y
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_1398E9:
	INC.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$F0
	BNE.b CODE_1398D9
	RTS

;--------------------------------------------------------------------

CODE_1398F7:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	BEQ.b CODE_139910
	ASL
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b !RAM_SMB2U_Global_ScratchRAM0C
CODE_139903:
	DEX
	BMI.b CODE_139910
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	SEC
	SBC.w $02DE
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	BRA.b CODE_139903

CODE_139910:
	INC.b !RAM_SMB2U_Global_ScratchRAM0D
	RTS

;--------------------------------------------------------------------

CODE_139913:
	LDX.b $E9
	LDA.w DATA_11AAF0,x
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.w DATA_11AAFB,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$7F
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	RTS

;--------------------------------------------------------------------

CODE_13992F:
	LDY.b !RAM_SMB2U_Global_ScratchRAM08
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$80
	BNE.b CODE_13993B
	JSR.w CODE_13986E
CODE_13993B:
	INC.b !RAM_SMB2U_Global_ScratchRAM08
	RTS

;--------------------------------------------------------------------

; Note: Small jungle tree layer 2 object (may also be other things

CODE_13993E:
	LDX.b #$03
	LDA.w $050F
	CLC
	ADC.b #$10
CODE_139946:
	CMP.l DATA_13D483,x
	BEQ.b CODE_13994F
	DEX
	BPL.b CODE_139946
CODE_13994F:
	TXA
	ASL
	ASL
	TAX
	LDY.b $E7
	LDA.l DATA_13D487,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_1396D2
	INX
	LDA.l DATA_13D487,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INX
	LDY.b $E7
	JSR.w CODE_1396B0
	LDA.l DATA_13D487,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_1396D2
	INX
	LDA.l DATA_13D487,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	RTS

;--------------------------------------------------------------------

; Note: Large jungle tree layer 2 object.

CODE_13997C:
	LDY.b $E7
	LDX.b #$00
CODE_139980:
	LDA.l DATA_13D4DC,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	STY.w $02DE
	LDY.b $E7
	INX
	CPX.b #$02
	BEQ.b CODE_1399A3
	CPX.b #$07
	BEQ.b CODE_1399A0
	CPX.b #$0A
	BEQ.b CODE_1399A8
	LDY.w $02DE
	JSR.w CODE_1396D2
	BRA.b CODE_139980

CODE_1399A0:
	JSR.w CODE_1396B0
CODE_1399A3:
	JSR.w CODE_1396B0
	BRA.b CODE_139980

CODE_1399A8:
	RTS

;--------------------------------------------------------------------

CODE_1399A9:
	LDX.b #$33
	LDA.w $050F
	CLC
	ADC.b #$10
CODE_1399B1:
	CMP.l DATA_13D4E6,x
	BEQ.b CODE_1399BA
	DEX
	BPL.b CODE_1399B1
CODE_1399BA:
	TXA
	ASL
	TAX
	LDA.l DATA_13D51A,x
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	INX
	LDA.l DATA_13D51A,x
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	LDA.b #DATA_13D582>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	LDY.b #$00
	LDA.b [!RAM_SMB2U_Global_ScratchRAM08],y
	AND.b #$F0
	LSR
	LSR
	LSR
	LSR
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.b [!RAM_SMB2U_Global_ScratchRAM08],y
	AND.b #$0F
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	JSR.w CODE_1399E9
	STZ.w $02E4
	RTS

CODE_1399E9:
	LDA.b #$01
	STA.w $02E3
	LDA.b $E7
	STA.w $02E2
	LDA.b $E7
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
CODE_1399F7:
	LDY.w $02E3
	LDA.b [!RAM_SMB2U_Global_ScratchRAM08],y
	LDY.w $02E2
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.w $02E3
	LDY.w $02E2
	JSR.w CODE_1396D2
	STY.w $02E2
	DEC.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	BPL.b CODE_1399F7
	DEC.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	BMI.b CODE_139A29
	LDY.b !RAM_SMB2U_Global_ScratchRAM0C
	JSR.w CODE_1396B0
	STY.b !RAM_SMB2U_Global_ScratchRAM0C
	STY.w $02E2
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	BRA.b CODE_1399F7

CODE_139A29:
	RTS

;--------------------------------------------------------------------

CODE_139A2A:
	LDA.w $050F
	SEC
	SBC.b #$0E
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0C
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	TAX
	LDY.b $E7
	STY.b !RAM_SMB2U_Global_ScratchRAM0E
CODE_139A3D:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_2_3
	BNE.b CODE_139A4B
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #$04
	BEQ.b CODE_139A65
CODE_139A4B:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_6_1
	BNE.b CODE_139A69
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #$03
	BEQ.b CODE_139A65
	CMP.b #$04
	BEQ.b CODE_139A65
	CMP.b #$05
	BEQ.b CODE_139A65
	CMP.b #$06
	BNE.b CODE_139A69
CODE_139A65:
	LDA.b #$05
	BRA.b CODE_139A6B

CODE_139A69:
	LDA.b #$04
CODE_139A6B:
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
CODE_139A6D:
	LDA.l DATA_13D9BE,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	TYA
	CLC
	ADC.b #$10
	TAY
	LDA.l DATA_13D9C8,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	TYA
	CLC
	ADC.b #$10
	TAY
	DEC.b !RAM_SMB2U_Global_ScratchRAM0D
	BPL.b CODE_139A6D
	LDA.l DATA_13D9D2,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INX
	TXA
	LDX.b !RAM_SMB2U_Global_ScratchRAM0C
	CMP.l DATA_13D9DC,x
	BEQ.b CODE_139AA1
	TAX
	LDY.b !RAM_SMB2U_Global_ScratchRAM0E
	JSR.w CODE_1396B0
	STY.b !RAM_SMB2U_Global_ScratchRAM0E
	BRA.b CODE_139A3D

CODE_139AA1:
	RTS

;--------------------------------------------------------------------

CODE_139AA2:
	LDY.b $E7
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_139AA8:
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
CODE_139AAA:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.l DATA_13D9DF,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	STY.b !RAM_SMB2U_Global_ScratchRAM0D
	TYA
	CLC
	ADC.b #$10
	TAY
	STX.b !RAM_SMB2U_Global_ScratchRAM0C
	JSR.w CODE_139ADA
	LDX.b !RAM_SMB2U_Global_ScratchRAM0C
	CMP.b #$00
	BNE.b CODE_139AC8
	LDA.l DATA_13D9E3
CODE_139AC8:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
	INY
	DEC.b !RAM_SMB2U_Global_ScratchRAM0E
	BPL.b CODE_139AAA
	DEC.b !RAM_SMB2U_Global_ScratchRAM0F
	BMI.b CODE_139AD9
	LDA.b #$03
	BRA.b CODE_139AA8

CODE_139AD9:
	RTS

CODE_139ADA:
	LDX.b #$05
CODE_139ADC:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.l DATA_13D9E4,x
	BEQ.b CODE_139AEA
	DEX
	BPL.b CODE_139ADC
	LDA.b #$00
	RTS

CODE_139AEA:
	LDA.l DATA_13D9EA,x
	RTS

;--------------------------------------------------------------------

CODE_139AEF:
	LDY.b $E7
	STY.b !RAM_SMB2U_Global_ScratchRAM0C
	STZ.b !RAM_SMB2U_Global_ScratchRAM0D
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_139AF7:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
CODE_139AF9:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.l DATA_13D9F7,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	CMP.b #$17
	BEQ.b CODE_139B32
	INC.b !RAM_SMB2U_Global_ScratchRAM0E
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.l DATA_13D9F0,x
	CMP.b !RAM_SMB2U_Global_ScratchRAM0E
	BEQ.b CODE_139B27
	TYA
	AND.b #$F0
	CMP.b #$E0
	BEQ.b CODE_139B21
	JSR.w CODE_1396D2
	BRA.b CODE_139AF9

CODE_139B21:
	INC.b !RAM_SMB2U_Global_ScratchRAM0D
	INC.b !RAM_SMB2U_Global_ScratchRAM0D
	INC.b !RAM_SMB2U_Global_ScratchRAM0D
CODE_139B27:
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
	LDY.b !RAM_SMB2U_Global_ScratchRAM0C
	JSR.w CODE_1396B0
	STY.b !RAM_SMB2U_Global_ScratchRAM0C
	BRA.b CODE_139AF7

CODE_139B32:
	RTS

;--------------------------------------------------------------------

CODE_139B33:
	RTS

CODE_139B34:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0D
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.w $050F
	SEC
	SBC.b #$31
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDY.b $E7
CODE_139B42:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0D
	LDY.b $E7
	LDA.l DATA_13DAA9,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_1396D2
	LDA.l DATA_13DAAE,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_1396D2
	LDA.l DATA_13DAB3,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_139B5E:
	JSR.w CODE_1396D2
	LDA.l DATA_13DAB8,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	TYA
	AND.b #$F0
	CMP.b #$E0
	BNE.b CODE_139B5E
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	INC.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	CMP.l DATA_13DAA5,x
	BEQ.b CODE_139BA5
	CPX.b #$02
	BNE.b CODE_139B86
	CMP.b #$02
	BNE.b CODE_139B97
	INC.b !RAM_SMB2U_Global_ScratchRAM0D
	BRA.b CODE_139B97

CODE_139B86:
	CMP.b #$03
	BPL.b CODE_139B8C
	BRA.b CODE_139B97

CODE_139B8C:
	LDA.l DATA_13DAA5,x
	SEC
	SBC.b #$03
	CMP.b !RAM_SMB2U_Global_ScratchRAM0E
	BCS.b CODE_139B99
CODE_139B97:
	INC.b !RAM_SMB2U_Global_ScratchRAM0D
CODE_139B99:
	LDY.w $00E7
	JSR.w CODE_1396B0
	STY.w $00E7
	BRL.w CODE_139B42

CODE_139BA5:
	RTS

;--------------------------------------------------------------------

CODE_139BA6:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.w $050F
	SEC
	SBC.b #$39
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
CODE_139BB2:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0C
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
	LDY.b $E7
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0E
	TAX
	LDA.l DATA_13DABD,x
	PHX
	JSR.w CODE_139C24
	PLX
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.b !RAM_SMB2U_Global_ScratchRAM0C
	JSR.w CODE_1396D2
	LDA.l DATA_13DACD,x
	PHX
	JSR.w CODE_139C24
	PLX
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.b !RAM_SMB2U_Global_ScratchRAM0C
	TYA
	AND.b #$F0
	CMP.b #$E0
	BEQ.b CODE_139C0A
CODE_139BE2:
	JSR.w CODE_1396D2
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0E
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0F
	TAX
	LDA.l DATA_13DADD,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	TYA
	AND.b #$F0
	CMP.b #$E0
	BEQ.b CODE_139C0A
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$50
	BNE.b CODE_139BE2
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
	BRA.b CODE_139BE2

CODE_139C0A:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	CMP.b #$03
	BEQ.b CODE_139C1E
	LDY.w $00E7
	JSR.w CODE_1396B0
	STY.w $00E7
	INC.b !RAM_SMB2U_Global_ScratchRAM0E
	BRL.w CODE_139BB2

CODE_139C1E:
	PHX
	JSR.w CODE_139C57
	PLX
	RTS

CODE_139C24:
	STA.w $0247
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	CMP.b #$0C
	BEQ.b CODE_139C53
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	BEQ.b CODE_139C3B
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	BEQ.b CODE_139C3B
	CMP.b #$03
	BEQ.b CODE_139C3B
	BRA.b CODE_139C53

CODE_139C3B:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$FF
	BEQ.b CODE_139C53
	LDX.b #$05
CODE_139C43:
	CMP.l DATA_13DB2D,x
	BEQ.b CODE_139C4E
	DEX
	BPL.b CODE_139C43
	BRA.b CODE_139C53

CODE_139C4E:
	LDA.l DATA_13DB33,x
	RTS

CODE_139C53:
	LDA.w $0247
	RTS

CODE_139C57:
	LDY.w $00E7
	JSR.w CODE_1396B0
	TYA
	CLC
	ADC.b #$10
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$32
	BNE.b CODE_139C6E
	LDA.b #$45
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BRA.b CODE_139C87

CODE_139C6E:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$FF
	BEQ.b CODE_139C87
	LDX.b #$05
CODE_139C76:
	CMP.l DATA_13DB39,x
	BEQ.b CODE_139C81
	DEX
	BPL.b CODE_139C76
	BRA.b CODE_139C87

CODE_139C81:
	LDA.l DATA_13DB3F,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_139C87:
	TYA
	AND.b #$F0
	CMP.b #$E0
	BEQ.b CODE_139C93
	JSR.w CODE_1396D2
	BRA.b CODE_139C6E

CODE_139C93:
	RTS

;--------------------------------------------------------------------

CODE_139C94:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_2
	BNE.b CODE_139CAA
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #$02
	BEQ.b CODE_139CA6
	CMP.b #$03
	BNE.b CODE_139CAA
CODE_139CA6:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$D0
else
	LDA.b #$C0
endif
	BRA.b CODE_139CAC

CODE_139CAA:
	LDA.b #$B0
CODE_139CAC:
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
	LDY.b $E7
CODE_139CB2:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.l DATA_13DB45,x
	JSR.w CODE_139CE0
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_139CBD:
	JSR.w CODE_1396D2
	TYA
	AND.b #$F0
	CMP.b !RAM_SMB2U_Global_ScratchRAM0D
	BEQ.b CODE_139CCF
	LDA.l DATA_13DB47,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BRA.b CODE_139CBD

CODE_139CCF:
	JSR.w CODE_139D04
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	BNE.b CODE_139CDF
	LDY.b $E7
	JSR.w CODE_1396B0
	INC.b !RAM_SMB2U_Global_ScratchRAM0E
	BRA.b CODE_139CB2

CODE_139CDF:
	RTS

CODE_139CE0:
	STA.w $0247
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$FF
	BEQ.b CODE_139CFE
	LDX.b #$01
CODE_139CED:
	CMP.l DATA_13DB49,x
	BEQ.b CODE_139CF8
	DEX
	BPL.b CODE_139CED
	BRA.b CODE_139CFE

CODE_139CF8:
	LDA.l DATA_13DB4B,x
	BRA.b CODE_139D01

CODE_139CFE:
	LDA.w $0247
CODE_139D01:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	RTS

CODE_139D04:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	ASL
	TAX
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.l DATA_13DB4D,x
	BEQ.b CODE_139D17
	INX
	CMP.l DATA_13DB4D,x
	BNE.b CODE_139D1E
CODE_139D17:
	LDA.l DATA_13DB51,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	RTS

CODE_139D1E:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	ASL
	TAX
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.l DATA_13DB55,x
	BEQ.b CODE_139D31
	INX
	CMP.l DATA_13DB55,x
	BNE.b CODE_139D37
CODE_139D31:
	LDA.l DATA_13DB59,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_139D37:
	RTS

;--------------------------------------------------------------------

CODE_139D38:
	LDY.b $E7
	LDA.l DATA_13DB5D
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_1396D2
	LDA.l DATA_13DB5E
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_1396D2
	LDA.l DATA_13DB5F
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	RTS

;--------------------------------------------------------------------

CODE_139D53:
	STZ.w $0770
	STZ.b $C4
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_6_1
	BNE.b CODE_139D6B
	LDA.w $051B
	BNE.b CODE_139D6B							; Note: !Define_SMB2U_SublevelID_6_1_LevelEntrance
	INC.w $0770
	LDA.b #$80
	BRA.b CODE_139D6D

CODE_139D6B:
	LDA.b #$60
CODE_139D6D:
	STA.b $C5
	LDA.b #$7F
	STA.b $C6
	LDA.w $0770
	BNE.b CODE_139D85
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	BRA.b CODE_139D8E

CODE_139D85:
	LDX.b #$0F
	LDA.l DATA_11D098,x
	CLC
	ADC.b #$06
CODE_139D8E:
	TAX
	LDA.l DATA_13A61D,x
	ASL
	TAX
	LDA.l DATA_13A6E5,x
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	INX
	LDA.l DATA_13A6E5,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #DATA_13A701>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	STZ.w $02D7
	STZ.w $02D8
	STZ.w $02DA
	LDA.b #$10
	STA.w $02D9
CODE_139DB4:
	JSL.l CODE_118B89
	JSR.w CODE_1397F3
	LDA.w $02D9
	CMP.b #$14
	BNE.b CODE_139DB4
	LDA.b #$00
	STA.l $7F0000
	STA.l $7F0001
	DEC
	STA.l $7F0002
	STZ.w !RAM_SMB2U_Global_Layer2XPosLo
	STZ.w !RAM_SMB2U_Global_Layer2XPosHi
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	LDA.b #$40
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	LDA.b #$80
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	RTL

%FREE_BYTES(NULLROM, 25, $FF)

;--------------------------------------------------------------------

DATA_139E00:
	db !Define_SMB2U_LevelID_1_1*$0A,!Define_SMB2U_LevelID_1_2*$0A,!Define_SMB2U_LevelID_1_3*$0A
	db !Define_SMB2U_LevelID_2_1*$0A,!Define_SMB2U_LevelID_2_2*$0A,!Define_SMB2U_LevelID_2_3*$0A
	db !Define_SMB2U_LevelID_3_1*$0A,!Define_SMB2U_LevelID_3_2*$0A,!Define_SMB2U_LevelID_3_3*$0A
	db !Define_SMB2U_LevelID_4_1*$0A,!Define_SMB2U_LevelID_4_2*$0A,!Define_SMB2U_LevelID_4_3*$0A
	db !Define_SMB2U_LevelID_5_1*$0A,!Define_SMB2U_LevelID_5_2*$0A,!Define_SMB2U_LevelID_5_3*$0A
	db !Define_SMB2U_LevelID_6_1*$0A,!Define_SMB2U_LevelID_6_2*$0A,!Define_SMB2U_LevelID_6_3*$0A
	db !Define_SMB2U_LevelID_7_1*$0A,!Define_SMB2U_LevelID_7_2*$0A,!Define_SMB2U_LevelID_7_3*$0A

DATA_139E15:
	db DATA_139FBA>>16

DATA_139E16:																; Info: Layer 2 BG...
	db DATA_139FBA,DATA_139FBA,DATA_139FC7,DATA_139FF8,DATA_139FF8,DATA_13A0E5,DATA_13A0E5,DATA_13A0E5,DATA_13A0E5,DATA_13A0E5	; 1-1
	db DATA_139FC7,DATA_139FF8,DATA_139FC7,DATA_13A0E8,DATA_13A0E8,DATA_13A0F3,DATA_13A0F3,DATA_13A0F3,DATA_13A0F3,DATA_13A0F3	; 1-2
	db DATA_139FC7,DATA_13A0F3,DATA_13A0F6,DATA_13A1B3,DATA_13A252,DATA_13A252,DATA_13A252,DATA_13A252,DATA_13A252,DATA_13A252	; 1-3
	db DATA_13A289,DATA_13A2AE,DATA_13A2BD,DATA_13A2BD,DATA_13A2F6,DATA_13A2BD,DATA_13A2BD,DATA_13A2BD,DATA_13A2BD,DATA_13A2BD	; 2-1
	db DATA_13A2FD,DATA_13A30E,DATA_13A2FD,DATA_13A34D,DATA_13A356,DATA_13A2FD,DATA_13A367,DATA_13A367,DATA_13A367,DATA_13A367	; 2-2
	db DATA_13A2FD,DATA_13A289,DATA_13A2FD,DATA_13A2AE,DATA_13A370,DATA_13A2BD,DATA_13A37B,DATA_13A0F3,DATA_13A38A,DATA_13A38A	; 2-3
	db DATA_13A38D,DATA_139FBA,DATA_139FF8,DATA_13A392,DATA_139FF8,DATA_13A395,DATA_13A395,DATA_13A395,DATA_13A395,DATA_13A395	; 3-1
	db DATA_13A395,DATA_13A3A2,DATA_13A3A2,DATA_13A3AD,DATA_13A3AD,DATA_13A3AD,DATA_13A3AD,DATA_13A3AD,DATA_13A3AD,DATA_13A3AD	; 3-2
	db DATA_139FF8,DATA_139FC7,DATA_13A1B3,DATA_13A0F6,DATA_13A0F6,DATA_13A0F6,DATA_13A0F3,DATA_13A3AD,DATA_13A252,DATA_13A3B4	; 3-3
	db DATA_13A3B4,DATA_13A3D7,DATA_13A418,DATA_13A418,DATA_13A418,DATA_13A418,DATA_13A418,DATA_13A418,DATA_13A418,DATA_13A418	; 4-1
	db DATA_13A418,DATA_13A3D7,DATA_13A3B4,DATA_13A41D,DATA_13A418,DATA_13A420,DATA_13A420,DATA_13A420,DATA_13A420,DATA_13A420	; 4-2
	db DATA_13A418,DATA_13A3B4,DATA_13A0F6,DATA_13A0F6,DATA_13A423,DATA_13A0F3,DATA_13A418,DATA_13A418,DATA_13A426,DATA_13A426	; 4-3
	db DATA_13A426,DATA_139FF8,DATA_139FF8,DATA_13A42B,DATA_13A42B,DATA_13A42B,DATA_13A42B,DATA_13A42B,DATA_13A42B,DATA_13A42B	; 5-1
	db DATA_139FF8,DATA_13A42B,DATA_13A48C,DATA_13A4B7,DATA_13A4E4,DATA_13A4EB,DATA_13A50A,DATA_13A50A,DATA_13A50A,DATA_13A50A	; 5-2
	db DATA_139FF8,DATA_139FC7,DATA_139FF8,DATA_13A50A,DATA_13A519,DATA_13A51C,DATA_13A51C,DATA_13A51C,DATA_13A51C,DATA_13A51C	; 5-3
	db DATA_13A30E,DATA_13A2FD,DATA_13A2FD,DATA_13A560,DATA_13A560,DATA_13A560,DATA_13A567,DATA_13A567,DATA_13A567,DATA_13A567	; 6-1
	db DATA_13A2FD,DATA_13A578,DATA_13A2FD,DATA_13A585,DATA_13A585,DATA_13A585,DATA_13A585,DATA_13A585,DATA_13A585,DATA_13A585	; 6-2
	db DATA_13A2FD,DATA_13A289,DATA_13A2FD,DATA_139FBA,DATA_13A585,DATA_13A2BD,DATA_13A37B,DATA_13A588,DATA_13A588,DATA_13A588	; 6-3
	db DATA_139FBA,DATA_13A588,DATA_13A588,DATA_139FBA,DATA_13A5B1,DATA_13A5B1,DATA_13A5B1,DATA_13A5B1,DATA_13A5B1,DATA_13A5B1	; 7-1
	db DATA_13A5B6,DATA_13A5B9,DATA_13A5B9,DATA_13A5B9,DATA_13A5B9,DATA_13A5D8,DATA_13A5FB,DATA_13A5FB,DATA_13A5FB,DATA_139FBA	; 7-2
	db DATA_13A610,DATA_13A610,DATA_13A610,DATA_13A610,DATA_13A610,DATA_13A610,DATA_13A610,DATA_13A610,DATA_13A610,DATA_13A610	; 7-3 (unused?)

DATA_139EE8:																				; Info: Layer 2 BG...
	db DATA_139FBA>>8,DATA_139FBA>>8,DATA_139FC7>>8,DATA_139FF8>>8,DATA_139FF8>>8,DATA_13A0E5>>8,DATA_13A0E5>>8,DATA_13A0E5>>8,DATA_13A0E5>>8,DATA_13A0E5>>8	; 1-1
	db DATA_139FC7>>8,DATA_139FF8>>8,DATA_139FC7>>8,DATA_13A0E8>>8,DATA_13A0E8>>8,DATA_13A0F3>>8,DATA_13A0F3>>8,DATA_13A0F3>>8,DATA_13A0F3>>8,DATA_13A0F3>>8	; 1-2
	db DATA_139FC7>>8,DATA_13A0F3>>8,DATA_13A0F6>>8,DATA_13A1B3>>8,DATA_13A252>>8,DATA_13A252>>8,DATA_13A252>>8,DATA_13A252>>8,DATA_13A252>>8,DATA_13A252>>8	; 1-3
	db DATA_13A289>>8,DATA_13A2AE>>8,DATA_13A2BD>>8,DATA_13A2BD>>8,DATA_13A2F6>>8,DATA_13A2BD>>8,DATA_13A2BD>>8,DATA_13A2BD>>8,DATA_13A2BD>>8,DATA_13A2BD>>8	; 2-1
	db DATA_13A2FD>>8,DATA_13A30E>>8,DATA_13A2FD>>8,DATA_13A34D>>8,DATA_13A356>>8,DATA_13A2FD>>8,DATA_13A367>>8,DATA_13A367>>8,DATA_13A367>>8,DATA_13A367>>8	; 2-2
	db DATA_13A2FD>>8,DATA_13A289>>8,DATA_13A2FD>>8,DATA_13A2AE>>8,DATA_13A370>>8,DATA_13A2BD>>8,DATA_13A37B>>8,DATA_13A0F3>>8,DATA_13A38A>>8,DATA_13A38A>>8	; 2-3
	db DATA_13A38D>>8,DATA_139FBA>>8,DATA_139FF8>>8,DATA_13A392>>8,DATA_139FF8>>8,DATA_13A395>>8,DATA_13A395>>8,DATA_13A395>>8,DATA_13A395>>8,DATA_13A395>>8	; 3-1
	db DATA_13A395>>8,DATA_13A3A2>>8,DATA_13A3A2>>8,DATA_13A3AD>>8,DATA_13A3AD>>8,DATA_13A3AD>>8,DATA_13A3AD>>8,DATA_13A3AD>>8,DATA_13A3AD>>8,DATA_13A3AD>>8	; 3-2
	db DATA_139FF8>>8,DATA_139FC7>>8,DATA_13A1B3>>8,DATA_13A0F6>>8,DATA_13A0F6>>8,DATA_13A0F6>>8,DATA_13A0F3>>8,DATA_13A3AD>>8,DATA_13A252>>8,DATA_13A3B4>>8	; 3-3
	db DATA_13A3B4>>8,DATA_13A3D7>>8,DATA_13A418>>8,DATA_13A418>>8,DATA_13A418>>8,DATA_13A418>>8,DATA_13A418>>8,DATA_13A418>>8,DATA_13A418>>8,DATA_13A418>>8	; 4-1
	db DATA_13A418>>8,DATA_13A3D7>>8,DATA_13A3B4>>8,DATA_13A41D>>8,DATA_13A418>>8,DATA_13A420>>8,DATA_13A420>>8,DATA_13A420>>8,DATA_13A420>>8,DATA_13A420>>8	; 4-2
	db DATA_13A418>>8,DATA_13A3B4>>8,DATA_13A0F6>>8,DATA_13A0F6>>8,DATA_13A423>>8,DATA_13A0F3>>8,DATA_13A418>>8,DATA_13A418>>8,DATA_13A426>>8,DATA_13A426>>8	; 4-3
	db DATA_13A426>>8,DATA_139FF8>>8,DATA_139FF8>>8,DATA_13A42B>>8,DATA_13A42B>>8,DATA_13A42B>>8,DATA_13A42B>>8,DATA_13A42B>>8,DATA_13A42B>>8,DATA_13A42B>>8	; 5-1
	db DATA_139FF8>>8,DATA_13A42B>>8,DATA_13A48C>>8,DATA_13A4B7>>8,DATA_13A4E4>>8,DATA_13A4EB>>8,DATA_13A50A>>8,DATA_13A50A>>8,DATA_13A50A>>8,DATA_13A50A>>8	; 5-2
	db DATA_139FF8>>8,DATA_139FC7>>8,DATA_139FF8>>8,DATA_13A50A>>8,DATA_13A519>>8,DATA_13A51C>>8,DATA_13A51C>>8,DATA_13A51C>>8,DATA_13A51C>>8,DATA_13A51C>>8	; 5-3
	db DATA_13A30E>>8,DATA_13A2FD>>8,DATA_13A2FD>>8,DATA_13A560>>8,DATA_13A560>>8,DATA_13A560>>8,DATA_13A567>>8,DATA_13A567>>8,DATA_13A567>>8,DATA_13A567>>8	; 6-1
	db DATA_13A2FD>>8,DATA_13A578>>8,DATA_13A2FD>>8,DATA_13A585>>8,DATA_13A585>>8,DATA_13A585>>8,DATA_13A585>>8,DATA_13A585>>8,DATA_13A585>>8,DATA_13A585>>8	; 6-2
	db DATA_13A2FD>>8,DATA_13A289>>8,DATA_13A2FD>>8,DATA_139FBA>>8,DATA_13A585>>8,DATA_13A2BD>>8,DATA_13A37B>>8,DATA_13A588>>8,DATA_13A588>>8,DATA_13A588>>8	; 6-3
	db DATA_139FBA>>8,DATA_13A588>>8,DATA_13A588>>8,DATA_139FBA>>8,DATA_13A5B1>>8,DATA_13A5B1>>8,DATA_13A5B1>>8,DATA_13A5B1>>8,DATA_13A5B1>>8,DATA_13A5B1>>8	; 7-1
	db DATA_13A5B6>>8,DATA_13A5B9>>8,DATA_13A5B9>>8,DATA_13A5B9>>8,DATA_13A5B9>>8,DATA_13A5D8>>8,DATA_13A5FB>>8,DATA_13A5FB>>8,DATA_13A5FB>>8,DATA_139FBA>>8	; 7-2
	db DATA_13A610>>8,DATA_13A610>>8,DATA_13A610>>8,DATA_13A610>>8,DATA_13A610>>8,DATA_13A610>>8,DATA_13A610>>8,DATA_13A610>>8,DATA_13A610>>8,DATA_13A610>>8	; 7-3 (unused?)

DATA_139FBA:
	incbin "Levels/Backgrounds/BGDATA_139FBA.bin"

DATA_139FC7:
	incbin "Levels/Backgrounds/BGDATA_139FC7.bin"

DATA_139FF8:
	incbin "Levels/Backgrounds/BGDATA_139FF8.bin"

DATA_13A0E5:										; Note: Blank BG?
	incbin "Levels/Backgrounds/BGDATA_13A0E5.bin"

DATA_13A0E8:
	incbin "Levels/Backgrounds/BGDATA_13A0E8.bin"

DATA_13A0F3:
	incbin "Levels/Backgrounds/BGDATA_13A0F3.bin"

DATA_13A0F6:
	incbin "Levels/Backgrounds/BGDATA_13A0F6.bin"

DATA_13A1B3:
	incbin "Levels/Backgrounds/BGDATA_13A1B3.bin"

DATA_13A252:
	incbin "Levels/Backgrounds/BGDATA_13A252.bin"

DATA_13A289:
	incbin "Levels/Backgrounds/BGDATA_13A289.bin"

DATA_13A2AE:
	incbin "Levels/Backgrounds/BGDATA_13A2AE.bin"

DATA_13A2BD:										; Note: Horizontal Pyramid interior BG?
	incbin "Levels/Backgrounds/BGDATA_13A2BD.bin"

DATA_13A2F6:
	incbin "Levels/Backgrounds/BGDATA_13A2F6.bin"

DATA_13A2FD:
	incbin "Levels/Backgrounds/BGDATA_13A2FD.bin"

DATA_13A30E:
	incbin "Levels/Backgrounds/BGDATA_13A30E.bin"

DATA_13A34D:
	incbin "Levels/Backgrounds/BGDATA_13A34D.bin"

DATA_13A356:
	incbin "Levels/Backgrounds/BGDATA_13A356.bin"

DATA_13A367:
	incbin "Levels/Backgrounds/BGDATA_13A367.bin"

DATA_13A370:
	incbin "Levels/Backgrounds/BGDATA_13A370.bin"

DATA_13A37B:
	incbin "Levels/Backgrounds/BGDATA_13A37B.bin"

DATA_13A38A:
	incbin "Levels/Backgrounds/BGDATA_13A38A.bin"

DATA_13A38D:
	incbin "Levels/Backgrounds/BGDATA_13A38D.bin"

DATA_13A392:
	incbin "Levels/Backgrounds/BGDATA_13A392.bin"

DATA_13A395:
	incbin "Levels/Backgrounds/BGDATA_13A395.bin"

DATA_13A3A2:
	incbin "Levels/Backgrounds/BGDATA_13A3A2.bin"

DATA_13A3AD:
	incbin "Levels/Backgrounds/BGDATA_13A3AD.bin"

DATA_13A3B4:
	incbin "Levels/Backgrounds/BGDATA_13A3B4.bin"

DATA_13A3D7:
	incbin "Levels/Backgrounds/BGDATA_13A3D7.bin"

DATA_13A418:
	incbin "Levels/Backgrounds/BGDATA_13A418.bin"

DATA_13A41D:
	incbin "Levels/Backgrounds/BGDATA_13A41D.bin"

DATA_13A420:
	incbin "Levels/Backgrounds/BGDATA_13A420.bin"

DATA_13A423:
	incbin "Levels/Backgrounds/BGDATA_13A423.bin"

DATA_13A426:
	incbin "Levels/Backgrounds/BGDATA_13A426.bin"

DATA_13A42B:
	incbin "Levels/Backgrounds/BGDATA_13A42B.bin"

DATA_13A48C:
	incbin "Levels/Backgrounds/BGDATA_13A48C.bin"

DATA_13A4B7:
	incbin "Levels/Backgrounds/BGDATA_13A4B7.bin"

DATA_13A4E4:
	incbin "Levels/Backgrounds/BGDATA_13A4E4.bin"

DATA_13A4EB:
	incbin "Levels/Backgrounds/BGDATA_13A4EB.bin"

DATA_13A50A:
	incbin "Levels/Backgrounds/BGDATA_13A50A.bin"

DATA_13A519:
	incbin "Levels/Backgrounds/BGDATA_13A519.bin"

DATA_13A51C:
	incbin "Levels/Backgrounds/BGDATA_13A51C.bin"

DATA_13A560:
	incbin "Levels/Backgrounds/BGDATA_13A560.bin"

DATA_13A567:
	incbin "Levels/Backgrounds/BGDATA_13A567.bin"

DATA_13A578:
	incbin "Levels/Backgrounds/BGDATA_13A578.bin"

DATA_13A585:
	incbin "Levels/Backgrounds/BGDATA_13A585.bin"

DATA_13A588:
	incbin "Levels/Backgrounds/BGDATA_13A588.bin"

DATA_13A5B1:
	incbin "Levels/Backgrounds/BGDATA_13A5B1.bin"

DATA_13A5B6:
	incbin "Levels/Backgrounds/BGDATA_13A5B6.bin"

DATA_13A5B9:
	incbin "Levels/Backgrounds/BGDATA_13A5B9.bin"

DATA_13A5D8:
	incbin "Levels/Backgrounds/BGDATA_13A5D8.bin"

DATA_13A5FB:
	incbin "Levels/Backgrounds/BGDATA_13A5FB.bin"

DATA_13A610:
	incbin "Levels/Backgrounds/BGDATA_13A610.bin"

;--------------------------------------------------------------------

DATA_13A613:
	dw DATA_13A615

DATA_13A615:
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00

;--------------------------------------------------------------------

; Note: Layer 2 background map16 data.

DATA_13A61D:
	db $00,$00,$00,$01,$01,$00,$00,$00,$00,$00
	db $00,$01,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$0D,$02,$02,$02,$00,$00,$00,$00,$00
	db $03,$05,$05,$00,$03,$00,$00,$00,$00,$00
	db $05,$04,$05,$05,$04,$05,$00,$00,$00,$00
	db $05,$03,$05,$05,$05,$05,$05,$0D,$00,$00
	db $00,$00,$01,$00,$01,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $01,$00,$02,$02,$02,$02,$0D,$08,$02,$00
	db $07,$07,$00,$00,$00,$00,$00,$00,$00,$00
	db $06,$07,$07,$00,$06,$00,$00,$00,$00,$00
	db $06,$07,$02,$02,$00,$0D,$06,$06,$00,$00
	db $00,$01,$01,$00,$00,$00,$00,$00,$00,$00
	db $01,$0B,$0B,$0B,$0B,$0B,$00,$00,$00,$00
	db $01,$00,$01,$0C,$00,$01,$00,$00,$00,$00
	db $04,$05,$05,$05,$05,$05,$04,$00,$00,$00
	db $05,$08,$05,$00,$00,$00,$00,$00,$00,$00
	db $05,$03,$05,$00,$00,$05,$05,$00,$00,$00
	db $00,$09,$09,$00,$0A,$0A,$00,$00,$00,$00
	db $00,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$00

DATA_13A6E5:
	dw DATA_13A701						; Jungle
	dw DATA_13A969						; Brown rocky cave
	dw DATA_13A9C9
	dw DATA_13AE41
	dw DATA_13B029
	dw DATA_13B201
	dw DATA_13B351
	dw DATA_13B3D1
	dw DATA_13B7C9
	dw DATA_13B9E1
	dw DATA_13BDB1
	dw DATA_13C151
	dw DATA_13C309
	dw DATA_13C3E9

DATA_13A701:
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$00,$1D,$01,$1D,$10,$1D,$13,$1D
	db $02,$1D,$03,$1D,$13,$1D,$13,$1D,$04,$1D,$05,$1D,$13,$1D,$15,$1D
	db $20,$1D,$13,$1D,$30,$1D,$31,$1D,$13,$1D,$13,$1D,$32,$1D,$33,$1D
	db $13,$1D,$25,$1D,$34,$1D,$35,$1D,$21,$1D,$13,$1D,$13,$1D,$13,$1D
	db $13,$1D,$11,$1D,$13,$1D,$13,$1D,$13,$1D,$13,$1D,$22,$1D,$13,$1D
	db $13,$1D,$13,$1D,$13,$1D,$12,$1D,$06,$1D,$07,$1D,$16,$1D,$13,$1D
	db $08,$1D,$09,$1D,$13,$1D,$13,$1D,$0A,$1D,$0B,$1D,$13,$1D,$1B,$1D
	db $26,$1D,$13,$1D,$36,$1D,$37,$1D,$13,$1D,$13,$1D,$38,$1D,$39,$1D
	db $13,$1D,$2B,$1D,$3A,$1D,$3B,$1D,$14,$1D,$13,$1D,$24,$1D,$13,$1D
	db $13,$1D,$17,$1D,$13,$1D,$27,$1D,$18,$1D,$13,$1D,$28,$1D,$13,$1D
	db $13,$1D,$19,$1D,$13,$1D,$29,$1D,$13,$1D,$13,$1D,$13,$1D,$13,$1D
	db $80,$1D,$81,$1D,$4A,$05,$4B,$05,$82,$1D,$83,$1D,$EE,$05,$EF,$05
	db $5A,$05,$5B,$05,$B7,$05,$B7,$05,$FA,$05,$FB,$05,$B7,$05,$B7,$05
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$40,$1D,$41,$1D,$70,$1D,$71,$1D,$42,$1D,$43,$1D
	db $BF,$00,$BF,$00,$44,$1D,$45,$1D,$84,$1D,$85,$1D,$94,$1D,$95,$1D
	db $86,$1D,$87,$1D,$96,$1D,$97,$1D,$50,$1D,$51,$1D,$60,$1D,$61,$1D
	db $52,$1D,$53,$1D,$62,$1D,$63,$1D,$54,$1D,$55,$1D,$64,$1D,$65,$1D
	db $66,$1D,$67,$1D,$76,$1D,$77,$1D,$68,$1D,$69,$1D,$78,$1D,$79,$1D
	db $A4,$1D,$A5,$1D,$76,$1D,$B5,$1D,$A6,$1D,$A7,$1D,$78,$1D,$79,$1D
	db $72,$1D,$73,$1D,$7A,$1D,$6B,$1D,$74,$1D,$67,$1D,$75,$1D,$77,$1D
	db $6C,$1D,$6D,$1D,$7C,$1D,$7D,$1D,$6E,$1D,$6F,$1D,$7E,$1D,$7F,$1D
	db $7A,$1D,$7B,$1D,$7A,$1D,$7B,$1D,$4E,$1D,$4F,$1D,$56,$1D,$57,$1D
	db $5E,$1D,$5F,$1D,$58,$1D,$59,$1D,$4C,$1D,$4D,$1D,$5C,$1D,$5D,$1D
	db $80,$1D,$81,$1D,$58,$1D,$59,$1D,$82,$1D,$83,$1D,$56,$1D,$57,$1D
	db $13,$1D,$13,$1D,$88,$1D,$89,$1D,$B8,$1D,$B9,$1D,$8A,$1D,$8B,$1D
	db $13,$1D,$13,$1D,$8C,$1D,$8D,$1D,$90,$1D,$91,$1D,$A0,$1D,$A1,$1D
	db $92,$1D,$93,$1D,$A2,$1D,$A3,$1D,$98,$1D,$99,$1D,$A8,$1D,$A9,$1D
	db $9A,$1D,$9B,$1D,$AA,$1D,$AB,$1D,$9C,$1D,$9D,$1D,$AC,$1D,$AD,$1D
	db $8E,$1D,$8F,$1D,$9E,$1D,$9F,$1D,$AE,$1D,$AF,$1D,$BE,$1D,$BF,$1D
	db $B0,$1D,$B1,$1D,$9E,$1D,$B6,$1D,$B2,$1D,$B3,$1D,$78,$1D,$BF,$1D
	db $BA,$1D,$BB,$1D,$7A,$1D,$6B,$1D,$13,$1D,$8F,$1D,$BD,$1D,$9F,$1D
	db $C0,$05,$C1,$05,$D0,$05,$D1,$05,$C2,$05,$C3,$05,$D2,$05,$D3,$05
	db $E0,$05,$E1,$05,$F0,$05,$F1,$05,$E2,$05,$E3,$05,$F2,$05,$F3,$05
	db $88,$11,$89,$11,$98,$11,$99,$11,$8A,$11,$8B,$11,$9A,$11,$9B,$11
	db $A8,$11,$A9,$11,$B8,$11,$B9,$11,$AA,$11,$AB,$11,$BA,$11,$BB,$11
	db $B8,$11,$B9,$11,$BA,$11,$BB,$11

DATA_13A969:
	db $C4,$05,$C5,$05,$D4,$05,$D5,$05,$C6,$05,$C7,$05,$D6,$05,$D7,$05
	db $E4,$05,$E5,$05,$F4,$05,$F5,$05,$E6,$05,$E7,$05,$F6,$05,$F7,$05
	db $C6,$05,$C7,$05,$D6,$05,$DB,$05,$C4,$05,$C5,$05,$D8,$05,$F9,$05
	db $E6,$05,$EB,$05,$F6,$05,$F7,$05,$E8,$05,$E9,$05,$F4,$05,$F5,$05
	db $C4,$05,$C9,$05,$D8,$05,$D9,$05,$CA,$05,$CB,$05,$DA,$05,$D7,$05
	db $C4,$05,$C9,$05,$D4,$05,$F8,$05,$CA,$05,$CB,$05,$DA,$05,$DB,$05

DATA_13A9C9:
	db $E5,$05,$C4,$05,$E5,$05,$C4,$05,$C4,$05,$CF,$05,$C4,$05,$CF,$05
	db $C6,$05,$C7,$05,$E5,$05,$C4,$05,$C7,$05,$C7,$05,$C4,$05,$C4,$05
	db $E4,$05,$C6,$05,$F4,$05,$E5,$05,$C7,$05,$E4,$05,$C4,$05,$F4,$05
	db $D5,$05,$D6,$05,$C4,$05,$C4,$05,$D7,$05,$E5,$05,$C4,$05,$E5,$05
	db $C4,$05,$C4,$05,$C4,$05,$C4,$05,$C4,$05,$CA,$05,$C4,$05,$DA,$05
	db $CB,$05,$D4,$05,$DB,$05,$D4,$05,$E5,$05,$C4,$05,$D5,$05,$D6,$05
	db $C4,$05,$C4,$05,$D6,$05,$D6,$05,$F4,$05,$E5,$05,$D7,$05,$D5,$05
	db $C4,$05,$F4,$05,$D6,$05,$D7,$05,$C4,$05,$D5,$05,$C4,$05,$C6,$05
	db $D6,$05,$D6,$05,$C7,$05,$C7,$05,$D6,$05,$CA,$05,$C7,$05,$DA,$05
	db $D6,$05,$D7,$05,$C7,$05,$E4,$05,$C4,$05,$C4,$05,$C6,$05,$C7,$05
	db $D5,$05,$D6,$05,$C6,$05,$C7,$05,$C3,$05,$C0,$05,$D3,$05,$D0,$05
	db $C0,$05,$C0,$05,$D0,$05,$D0,$05,$C0,$05,$C2,$05,$D0,$05,$D2,$05
	db $D4,$05,$D4,$05,$D1,$05,$C5,$05,$D4,$05,$D4,$05,$C5,$05,$C5,$05
	db $D4,$05,$D4,$05,$C5,$05,$C1,$05,$D4,$05,$CC,$05,$C5,$05,$DC,$05
	db $CD,$05,$D4,$05,$DD,$05,$D4,$05,$E6,$05,$E7,$05,$C5,$05,$CE,$05
	db $F6,$05,$F7,$05,$CF,$05,$DE,$05,$D4,$05,$D4,$05,$DF,$05,$85,$05
	db $D4,$45,$D4,$05,$C5,$45,$C5,$05,$D4,$45,$D4,$05,$C5,$45,$B0,$05
	db $A0,$05,$A1,$05,$B1,$05,$B2,$05,$A2,$05,$A3,$05,$B3,$05,$84,$05
	db $D4,$05,$D4,$05,$C5,$05,$D1,$05,$D4,$05,$C4,$05,$D4,$05,$C4,$05
	db $E0,$05,$E1,$05,$C4,$05,$F0,$05,$E2,$05,$E3,$05,$F1,$05,$F2,$05
	db $C4,$05,$C4,$05,$C4,$05,$90,$05,$80,$05,$81,$05,$91,$05,$92,$05
	db $82,$05,$83,$05,$93,$05,$F5,$05,$F5,$05,$C4,$45,$C4,$05,$C4,$45
	db $94,$05,$95,$05,$94,$05,$95,$05,$C4,$05,$E5,$05,$C4,$05,$E5,$05
	db $D4,$05,$C4,$05,$D4,$05,$D6,$05,$C4,$05,$C8,$05,$D6,$05,$D8,$05
	db $C9,$05,$D4,$05,$D9,$05,$D4,$05,$F5,$05,$C4,$45,$C4,$05,$C4,$05
	db $C4,$05,$E5,$05,$C4,$05,$D5,$05,$D4,$05,$C7,$05,$D4,$05,$C4,$05
	db $C4,$05,$CA,$05,$C6,$05,$DA,$05,$C4,$05,$C4,$05,$C7,$05,$E4,$05
	db $C4,$05,$C6,$05,$C4,$05,$E5,$05,$E8,$05,$E9,$05,$F8,$05,$F9,$05
	db $EA,$05,$EB,$05,$FA,$05,$FB,$05,$D4,$05,$CC,$05,$D1,$05,$DC,$05
	db $F5,$05,$C4,$45,$E5,$05,$C4,$45,$D6,$05,$D6,$05,$E4,$05,$C6,$05
	db $D6,$05,$D7,$05,$C7,$05,$C7,$05,$D5,$05,$CA,$05,$C7,$05,$DA,$05
	db $D5,$05,$D6,$05,$C4,$05,$C6,$05,$F4,$05,$E5,$05,$F4,$05,$E5,$05
	db $C4,$05,$C8,$05,$C4,$05,$D8,$05,$D6,$05,$D6,$05,$C4,$05,$C6,$05
	db $D6,$05,$D6,$05,$C7,$05,$E4,$05,$F4,$05,$D5,$05,$F4,$05,$C6,$05
	db $D6,$05,$D7,$05,$C4,$05,$C4,$05,$D4,$05,$D4,$05,$D1,$05,$C1,$05
	db $D4,$05,$CC,$05,$C5,$05,$DC,$05,$EC,$05,$ED,$05,$FC,$05,$FD,$05
	db $EE,$05,$EF,$05,$FE,$05,$FF,$05,$CD,$05,$D4,$05,$DD,$05,$D4,$05
	db $D4,$05,$D4,$05,$D1,$05,$D1,$05,$E5,$05,$F4,$05,$E5,$05,$F4,$05
	db $E5,$05,$E5,$05,$E5,$05,$E5,$05,$E5,$05,$E5,$05,$E5,$05,$D5,$05
	db $D6,$05,$D6,$05,$C6,$05,$C7,$05,$C4,$05,$C4,$05,$C7,$05,$C7,$05
	db $D6,$05,$D6,$05,$C4,$05,$C4,$05,$D5,$05,$D6,$05,$C7,$05,$E4,$05
	db $C7,$05,$CA,$05,$C4,$05,$DA,$05,$C4,$05,$CA,$05,$D6,$05,$DA,$05
	db $C6,$05,$CA,$05,$E5,$05,$DA,$05,$E5,$05,$C8,$05,$D5,$05,$D8,$05
	db $F5,$05,$E4,$05,$C4,$05,$F4,$05,$F5,$05,$C4,$05,$D5,$05,$D6,$05
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $B4,$05,$B5,$05,$B4,$05,$B5,$05,$C4,$05,$A7,$05,$C4,$05,$A7,$05
	db $C7,$05,$E4,$05,$D6,$05,$D7,$05,$C6,$05,$C7,$05,$D5,$05,$D6,$05
	db $D4,$05,$C7,$05,$D4,$05,$D6,$05,$C6,$05,$CA,$05,$D5,$05,$DA,$05
	db $C7,$05,$A7,$05,$D6,$05,$AB,$05,$D4,$05,$E4,$05,$D4,$05,$D7,$05
	db $C7,$05,$CA,$05,$D6,$05,$DA,$05,$C6,$05,$A7,$05,$D5,$05,$A7,$05
	db $B8,$05,$B9,$05,$A8,$05,$A9,$05,$D4,$05,$D4,$05,$D4,$05,$C5,$05
	db $CA,$05,$CB,$05,$A4,$05,$A5,$05,$D4,$05,$D4,$05,$D4,$05,$B0,$05
	db $D4,$05,$B6,$05,$C5,$05,$A6,$05,$88,$05,$89,$05,$98,$05,$99,$05
	db $8F,$05,$81,$05,$91,$05,$92,$05,$8C,$05,$8D,$05,$9C,$05,$9D,$05
	db $8E,$05,$C4,$05,$9E,$05,$C4,$05,$C4,$05,$8C,$05,$C4,$05,$9C,$05
	db $8D,$05,$8E,$05,$9D,$05,$9E,$05,$C4,$05,$A7,$05,$C4,$05,$B7,$05
	db $D4,$05,$F4,$05,$D4,$05,$F4,$05,$A8,$05,$A9,$05,$88,$05,$89,$05
	db $B4,$05,$B5,$05,$86,$05,$87,$05,$F5,$05,$C4,$05,$C4,$05,$C4,$05
	db $88,$05,$89,$05,$88,$05,$89,$05,$96,$05,$97,$05,$B4,$05,$B5,$05
	db $8A,$05,$AA,$05,$9A,$05,$BA,$05,$8B,$05,$8B,$05,$9B,$05,$9B,$05
	db $8B,$05,$8A,$05,$9B,$05,$9A,$05,$B6,$05,$B6,$05,$A6,$05,$A6,$05
	db $A7,$05,$A7,$05,$B7,$05,$B7,$05,$A7,$05,$A7,$05,$A7,$05,$A7,$05
	db $A7,$05,$AB,$05,$A7,$05,$A7,$05,$D4,$05,$8C,$05,$D4,$05,$9C,$05
	db $C6,$05,$A7,$05,$D5,$05,$AB,$05,$C7,$05,$A7,$05,$D6,$05,$A7,$05
	db $D4,$05,$B6,$05,$C5,$05,$C5,$05,$8E,$05,$F4,$05,$9E,$05,$F4,$05
	db $C4,$05,$C4,$05,$BB,$05,$C4,$05,$E8,$05,$AC,$05,$F8,$05,$BC,$05
	db $AD,$05,$EB,$05,$BD,$05,$FB,$05,$EC,$05,$AE,$05,$FC,$05,$BE,$05
	db $AF,$05,$EF,$05,$BF,$05,$FF,$05,$A7,$05,$A7,$05,$B7,$05,$AB,$05
	db $C4,$45,$CA,$05,$C4,$05,$DA,$05

DATA_13AE41:
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$8F,$09,$9E,$09,$9F,$09
	db $BE,$00,$BE,$00,$BE,$00,$BE,$00,$80,$1D,$81,$1D,$90,$1D,$91,$1D
	db $82,$1D,$84,$1D,$92,$1D,$94,$1D,$85,$1D,$81,$1D,$95,$1D,$91,$1D
	db $83,$1D,$BF,$00,$93,$1D,$BF,$00,$BF,$00,$68,$05,$68,$05,$69,$05
	db $6A,$05,$BF,$00,$6B,$05,$6A,$05,$40,$1D,$41,$1D,$50,$1D,$51,$1D
	db $BF,$00,$BF,$00,$52,$1D,$53,$1D,$BF,$00,$45,$1D,$54,$1D,$55,$1D
	db $46,$1D,$47,$1D,$56,$1D,$57,$1D,$BF,$00,$87,$1D,$88,$1D,$97,$1D
	db $A5,$1D,$A1,$1D,$B5,$1D,$B1,$1D,$A2,$1D,$A4,$1D,$B2,$1D,$B4,$1D
	db $A2,$1D,$86,$1D,$B2,$1D,$96,$1D,$BF,$00,$BF,$00,$4A,$1D,$4B,$1D
	db $BF,$00,$BF,$00,$48,$1D,$49,$1D,$BF,$00,$BF,$00,$4C,$1D,$4D,$1D
	db $BF,$00,$68,$05,$78,$05,$79,$05,$69,$05,$6C,$05,$7A,$05,$7A,$05
	db $6D,$05,$6B,$05,$7B,$05,$7B,$05,$6A,$05,$BF,$00,$7C,$05,$7D,$05
	db $60,$1D,$71,$1D,$70,$1D,$71,$1D,$62,$1D,$63,$1D,$71,$1D,$73,$1D
	db $70,$1D,$65,$1D,$71,$1D,$75,$1D,$66,$1D,$67,$1D,$76,$1D,$77,$1D
	db $98,$1D,$89,$1D,$71,$1D,$99,$1D,$8A,$1D,$8B,$1D,$9A,$1D,$9B,$1D
	db $A6,$1D,$A7,$1D,$B6,$1D,$B7,$1D,$A8,$1D,$A9,$1D,$B8,$1D,$B9,$1D
	db $AA,$1D,$AB,$1D,$BA,$1D,$BB,$1D,$AC,$1D,$AD,$1D,$BC,$1D,$BD,$1D
	db $AB,$1D,$AE,$1D,$B8,$1D,$BE,$1D,$AF,$1D,$AB,$1D,$BF,$1D,$BB,$1D
	db $8C,$1D,$8D,$1D,$9C,$1D,$9D,$1D,$5A,$1D,$5B,$1D,$71,$1D,$70,$1D
	db $58,$1D,$59,$1D,$71,$1D,$70,$1D,$5C,$1D,$5D,$1D,$71,$1D,$70,$1D
	db $5E,$1D,$5F,$1D,$71,$1D,$70,$1D,$70,$1D,$71,$1D,$71,$1D,$70,$1D
	db $BF,$00,$BF,$00,$BF,$00,$8E,$05,$BF,$00,$BF,$00,$8E,$05,$BF,$00
	db $61,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$72,$05,$BF,$00
	db $BF,$00,$BF,$00,$72,$45,$BF,$00,$8E,$05,$BF,$00,$BF,$00,$8E,$05
	db $BF,$00,$61,$05,$BF,$00,$BF,$00,$72,$05,$BF,$00,$BF,$00,$BF,$00
	db $8E,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$8E,$05,$BF,$00,$BF,$00
	db $BF,$00,$72,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$61,$05
	db $BF,$00,$8E,$05,$61,$05,$BF,$00,$69,$05,$6C,$05,$6C,$05,$69,$05
	db $6D,$05,$6B,$05,$6B,$05,$6D,$05,$5E,$1D,$6E,$1D,$71,$1D,$70,$1D
	db $BF,$00,$45,$1D,$74,$1D,$55,$1D,$BF,$00,$BF,$00,$BF,$00,$64,$1D
	db $AE,$18,$AF,$18,$AE,$18,$AF,$18

DATA_13B029:
	db $E8,$05,$E9,$05,$F8,$05,$F9,$05,$EA,$05,$EB,$05,$FA,$05,$FB,$05
	db $C0,$05,$C1,$05,$D0,$05,$D1,$05,$F6,$05,$F7,$05,$D2,$05,$D3,$05
	db $F4,$05,$F5,$05,$D0,$05,$D1,$05,$C2,$05,$E7,$05,$D2,$05,$CB,$05
	db $CC,$05,$C1,$05,$DC,$05,$D1,$05,$E0,$05,$E1,$05,$F0,$05,$F1,$05
	db $E2,$05,$E3,$05,$F2,$05,$F3,$05,$E2,$05,$E3,$05,$F2,$05,$DB,$05
	db $CD,$05,$E1,$05,$DD,$05,$F1,$05,$C8,$05,$C9,$05,$D8,$05,$D9,$05
	db $C4,$05,$C5,$05,$D4,$05,$D5,$05,$C6,$05,$C7,$05,$D6,$05,$D7,$05
	db $C0,$1D,$C1,$1D,$D0,$1D,$D1,$1D,$C2,$1D,$C3,$1D,$D2,$1D,$D3,$1D
	db $CE,$05,$C5,$05,$DE,$05,$D5,$05,$E4,$05,$E5,$05,$C8,$05,$C9,$05
	db $E5,$05,$E5,$05,$C9,$05,$C9,$05,$C4,$1D,$C5,$1D,$D4,$1D,$D5,$1D
	db $C6,$1D,$C7,$1D,$D6,$1D,$D7,$1D,$E0,$1D,$E1,$1D,$F0,$1D,$F1,$1D
	db $E2,$1D,$E3,$1D,$F2,$1D,$F3,$1D,$D8,$05,$D9,$05,$D8,$05,$D9,$05
	db $D9,$05,$D9,$05,$D9,$05,$D9,$05,$C9,$05,$C9,$05,$D9,$05,$D9,$05
	db $C9,$05,$CA,$05,$D9,$05,$DA,$05,$E0,$1D,$E1,$05,$F0,$1D,$F1,$1D
	db $E5,$05,$E6,$05,$C9,$05,$CA,$05,$C6,$1D,$C7,$1D,$D6,$1D,$D7,$1D
	db $D9,$05,$DA,$05,$D9,$05,$DA,$05,$C6,$1D,$C7,$1D,$C6,$1D,$D7,$1D
	db $BF,$00,$68,$05,$68,$05,$69,$05,$6A,$05,$BF,$00,$6B,$05,$6A,$05
	db $69,$05,$6C,$05,$6C,$05,$6C,$05,$6D,$05,$6B,$05,$7B,$05,$7B,$05
	db $C2,$1D,$E7,$1D,$D2,$1D,$CB,$1D,$7B,$05,$7B,$05,$7B,$05,$7B,$05
	db $7D,$05,$BF,$00,$7C,$05,$7D,$05,$BF,$00,$68,$05,$78,$05,$79,$05
	db $6C,$05,$6C,$05,$7A,$05,$7A,$05,$C6,$1D,$E3,$1D,$D6,$1D,$DB,$1D
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $6C,$05,$6C,$05,$7A,$05,$7A,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $E0,$1D,$E1,$1D,$F0,$1D,$F1,$1D,$E2,$1D,$E3,$1D,$F2,$1D,$F3,$1D
	db $C4,$1D,$C5,$1D,$D4,$1D,$D5,$1D,$C6,$1D,$C7,$1D,$D6,$1D,$D7,$1D
	db $EC,$1D,$ED,$1D,$FC,$1D,$FD,$1D,$EE,$05,$EF,$05,$FE,$05,$FF,$05
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$CF,$05,$E1,$05,$DF,$05,$F1,$05
	db $CF,$05,$C5,$05,$DF,$05,$D5,$05

DATA_13B201:
	db $88,$1D,$89,$1D,$98,$1D,$99,$1D,$8A,$1D,$8B,$1D,$9A,$1D,$9B,$1D
	db $48,$1D,$49,$1D,$58,$1D,$59,$1D,$4A,$1D,$4B,$1D,$5A,$1D,$5B,$1D
	db $84,$1D,$85,$1D,$84,$1D,$95,$1D,$68,$1D,$69,$1D,$78,$1D,$79,$1D
	db $6A,$1D,$6B,$1D,$7A,$1D,$7B,$1D,$87,$1D,$8B,$1D,$97,$1D,$9B,$1D
	db $88,$1D,$8C,$1D,$98,$1D,$9C,$1D,$49,$1D,$4A,$1D,$59,$1D,$5A,$1D
	db $4B,$1D,$84,$1D,$5B,$1D,$84,$1D,$A8,$1D,$A9,$1D,$B8,$1D,$B9,$1D
	db $AA,$1D,$AB,$1D,$BA,$1D,$BB,$1D,$4C,$1D,$4D,$1D,$5C,$1D,$5D,$1D
	db $4E,$1D,$4F,$1D,$5E,$1D,$5F,$1D,$84,$1D,$86,$1D,$84,$1D,$96,$1D
	db $6C,$1D,$6D,$1D,$7C,$1D,$7D,$1D,$6E,$1D,$6F,$1D,$7E,$1D,$7F,$1D
	db $A4,$1D,$AB,$1D,$B4,$1D,$BB,$1D,$A8,$1D,$8D,$1D,$B8,$1D,$9D,$1D
	db $4D,$1D,$4E,$1D,$5D,$1D,$5E,$1D,$4F,$1D,$84,$1D,$5F,$1D,$84,$1D
	db $80,$1D,$81,$1D,$90,$1D,$91,$1D,$82,$1D,$83,$1D,$92,$1D,$93,$1D
	db $84,$1D,$A5,$1D,$84,$1D,$B5,$1D,$A0,$1D,$A1,$1D,$B0,$1D,$B1,$1D
	db $A2,$1D,$A3,$1D,$B2,$1D,$B3,$1D,$A6,$1D,$8B,$1D,$B6,$1D,$9B,$1D
	db $88,$1D,$80,$1D,$98,$1D,$90,$1D,$81,$1D,$82,$1D,$91,$1D,$92,$1D
	db $83,$1D,$84,$1D,$93,$1D,$84,$1D,$40,$1D,$41,$1D,$50,$1D,$51,$1D
	db $42,$1D,$43,$1D,$52,$1D,$53,$1D,$40,$1D,$41,$1D,$46,$1D,$47,$1D
	db $44,$1D,$45,$1D,$54,$1D,$55,$1D,$60,$1D,$61,$1D,$70,$1D,$71,$1D
	db $62,$1D,$63,$1D,$72,$1D,$73,$1D,$60,$1D,$61,$1D,$66,$1D,$67,$1D
	db $64,$1D,$65,$1D,$74,$1D,$75,$1D,$56,$1D,$57,$1D,$70,$1D,$71,$1D
	db $76,$1D,$77,$1D,$50,$1D,$51,$1D,$8E,$1D,$8F,$1D,$9E,$1D,$9F,$1D

DATA_13B351:
	db $40,$05,$41,$05,$50,$05,$51,$05,$42,$05,$43,$05,$52,$05,$53,$05
	db $60,$05,$61,$05,$70,$05,$71,$05,$62,$05,$63,$05,$72,$05,$73,$05
	db $44,$05,$45,$05,$54,$05,$55,$05,$46,$05,$47,$05,$56,$05,$57,$05
	db $64,$05,$65,$05,$74,$05,$75,$05,$66,$05,$67,$05,$76,$05,$77,$05
	db $6C,$05,$6D,$05,$7C,$05,$7D,$05,$6E,$05,$6F,$05,$7E,$05,$7F,$05
	db $68,$05,$69,$05,$78,$05,$79,$05,$6A,$05,$6B,$05,$7A,$05,$7B,$05
	db $48,$05,$49,$05,$58,$05,$59,$05,$4A,$05,$4B,$05,$5A,$05,$5B,$05
	db $4C,$05,$4D,$05,$5C,$05,$5D,$05,$4E,$05,$4F,$05,$5E,$05,$5F,$05

DATA_13B3D1:
	db $80,$1D,$81,$1D,$90,$1D,$91,$1D,$82,$1D,$83,$1D,$92,$1D,$93,$1D
	db $84,$1D,$85,$1D,$94,$1D,$95,$1D,$86,$1D,$87,$1D,$96,$1D,$97,$1D
	db $A0,$1D,$A1,$1D,$B0,$1D,$B1,$1D,$A2,$1D,$A3,$1D,$B2,$1D,$B3,$1D
	db $A4,$1D,$A5,$1D,$B4,$1D,$B5,$1D,$A6,$1D,$A7,$1D,$B6,$1D,$B7,$1D
	db $BF,$00,$BF,$00,$BF,$00,$41,$1D,$BF,$00,$73,$1D,$42,$1D,$43,$1D
	db $88,$1D,$89,$1D,$44,$1D,$44,$1D,$8A,$1D,$8B,$1D,$44,$1D,$44,$1D
	db $8C,$1D,$8D,$1D,$59,$1D,$5A,$1D,$8E,$1D,$8F,$1D,$59,$1D,$5A,$1D
	db $73,$5D,$BF,$00,$45,$1D,$46,$1D,$BF,$00,$BF,$00,$47,$1D,$BF,$00
	db $50,$1D,$51,$1D,$60,$1D,$61,$1D,$52,$1D,$53,$1D,$62,$1D,$64,$1D
	db $53,$1D,$54,$1D,$63,$1D,$64,$1D,$55,$1D,$56,$1D,$65,$1D,$66,$1D
	db $57,$1D,$58,$1D,$67,$1D,$68,$1D,$BF,$00,$6A,$1D,$42,$1D,$43,$1D
	db $6A,$5D,$BF,$00,$45,$1D,$46,$1D,$70,$1D,$71,$1D,$49,$1D,$4A,$1D
	db $72,$1D,$71,$1D,$4B,$1D,$4A,$1D,$75,$1D,$76,$1D,$4C,$1D,$4D,$1D
	db $77,$1D,$78,$1D,$4E,$1D,$4F,$1D,$49,$1D,$71,$1D,$49,$1D,$4A,$1D
	db $4C,$1D,$4D,$1D,$4C,$1D,$4D,$1D,$4E,$1D,$4F,$1D,$4E,$1D,$4F,$1D
	db $BF,$00,$69,$1D,$BF,$00,$5C,$1D,$83,$1D,$84,$1D,$5D,$1D,$5E,$1D
	db $69,$5D,$BF,$00,$5F,$1D,$BF,$00,$BF,$00,$6C,$1D,$BF,$00,$7C,$1D
	db $6D,$1D,$6E,$1D,$7D,$1D,$7E,$1D,$6F,$1D,$BF,$00,$7F,$1D,$BF,$00
	db $6B,$1D,$6B,$5D,$44,$1D,$44,$1D,$BF,$00,$79,$1D,$42,$1D,$43,$1D
	db $8B,$1D,$8C,$1D,$44,$1D,$59,$1D,$7A,$1D,$BF,$00,$5A,$1D,$46,$1D
	db $98,$0D,$99,$0D,$A8,$0D,$A9,$0D,$9A,$0D,$9B,$0D,$AA,$0D,$AB,$0D
	db $B2,$0C,$B3,$0C,$BF,$00,$BF,$00,$B4,$0C,$B6,$0C,$B5,$0C,$B7,$0C
	db $B8,$0C,$BF,$00,$B9,$0C,$BF,$00,$BF,$00,$C1,$1D,$D0,$1D,$D1,$1D
	db $C2,$1D,$C3,$1D,$E5,$1D,$D3,$1D,$C4,$1D,$C5,$1D,$D4,$1D,$D5,$1D
	db $C6,$1D,$BF,$00,$D6,$1D,$D7,$1D,$E0,$1D,$D3,$1D,$F0,$1D,$D5,$1D
	db $D4,$1D,$D5,$1D,$E4,$1D,$E5,$1D,$E4,$1D,$E5,$1D,$D3,$1D,$D4,$1D
	db $E6,$1D,$E7,$1D,$D5,$1D,$F7,$1D,$BF,$00,$C1,$05,$D0,$05,$D1,$05
	db $C2,$05,$C3,$05,$E5,$05,$D3,$05,$C8,$05,$C9,$05,$D4,$05,$D5,$05
	db $CA,$05,$D4,$1D,$DA,$05,$DB,$05,$D5,$1D,$E4,$1D,$E5,$1D,$D3,$1D
	db $E5,$1D,$E3,$1D,$D4,$1D,$F3,$1D,$E1,$1D,$E5,$1D,$F1,$1D,$D4,$1D
	db $D3,$1D,$D4,$1D,$D5,$1D,$E4,$1D,$D5,$1D,$F8,$05,$FB,$05,$FC,$05
	db $F9,$05,$FA,$05,$E5,$05,$D3,$05,$C4,$05,$C5,$05,$D4,$05,$D5,$05
	db $C6,$05,$BF,$00,$D6,$05,$D7,$05,$E0,$05,$D3,$05,$F0,$05,$D5,$05
	db $D4,$05,$D5,$05,$E4,$05,$E5,$05,$E4,$05,$E5,$05,$D3,$05,$D4,$05
	db $E6,$05,$EB,$05,$D5,$05,$CB,$05,$EC,$05,$D5,$1D,$D8,$1D,$E5,$1D
	db $E4,$1D,$F4,$1D,$D3,$1D,$F5,$1D,$D2,$1D,$E4,$1D,$E2,$1D,$D3,$1D
	db $E5,$1D,$D3,$1D,$D4,$1D,$D5,$1D,$EA,$05,$D3,$05,$C7,$05,$D5,$05
	db $E6,$05,$E7,$05,$D5,$05,$F7,$05,$E1,$05,$E5,$05,$F1,$05,$D4,$05
	db $D3,$05,$D4,$05,$D5,$05,$E4,$05,$D5,$05,$E4,$05,$E5,$05,$D3,$05
	db $E5,$05,$E3,$05,$D4,$05,$F3,$05,$E8,$1D,$D4,$1D,$D9,$1D,$E4,$1D
	db $D5,$1D,$F6,$1D,$E5,$1D,$E3,$1D,$F2,$1D,$D5,$1D,$E1,$1D,$E5,$1D
	db $D2,$05,$E4,$05,$E2,$05,$D3,$05,$E5,$05,$D3,$05,$D4,$05,$D5,$05
	db $E4,$05,$F4,$05,$D3,$05,$F5,$05,$E9,$1D,$D3,$1D,$CC,$1D,$D5,$1D
	db $D4,$1D,$F3,$1D,$E4,$1D,$F4,$1D,$F1,$1D,$D4,$1D,$D2,$1D,$E4,$1D
	db $C0,$1D,$C5,$1D,$CC,$1D,$D5,$1D,$F2,$05,$D5,$05,$E1,$05,$E5,$05
	db $D5,$05,$F6,$05,$E5,$05,$E3,$05,$DC,$1D,$E5,$1D,$E8,$1D,$D4,$1D
	db $D3,$1D,$F5,$1D,$D5,$1D,$F6,$1D,$E2,$1D,$D3,$1D,$F2,$1D,$D5,$1D
	db $BF,$00,$C1,$11,$D0,$11,$D1,$11,$C2,$11,$C3,$11,$E5,$11,$D3,$11
	db $C4,$11,$C5,$11,$D4,$11,$D5,$11,$C6,$11,$BF,$00,$D6,$11,$D7,$11
	db $F1,$05,$D4,$05,$D2,$05,$E4,$05,$D4,$05,$F3,$05,$E4,$05,$F4,$05
	db $D9,$1D,$E4,$1D,$E9,$1D,$D3,$1D,$E0,$11,$D3,$11,$F0,$11,$D5,$11
	db $D4,$11,$D5,$11,$E4,$11,$E5,$11,$E4,$11,$E5,$11,$D3,$11,$D4,$11
	db $E6,$11,$E7,$11,$D5,$11,$F7,$11,$E2,$05,$D3,$05,$F2,$05,$D5,$05
	db $D3,$05,$F5,$05,$D5,$05,$F6,$05,$CC,$1D,$D5,$1D,$DC,$1D,$E5,$1D
	db $E1,$11,$E5,$11,$F1,$11,$D4,$11,$D3,$11,$D4,$11,$D5,$11,$E4,$11
	db $D5,$11,$E4,$11,$E5,$11,$D3,$11,$E5,$11,$E3,$11,$D4,$11,$F3,$11
	db $D2,$11,$E4,$11,$E2,$11,$D3,$11,$E5,$11,$D3,$11,$D4,$11,$D5,$11
	db $E4,$11,$F4,$11,$D3,$11,$F5,$11,$F2,$11,$D5,$11,$E1,$11,$E5,$11
	db $D5,$11,$F6,$11,$E5,$11,$E3,$11,$F1,$11,$D4,$11,$D2,$11,$E4,$11
	db $D4,$11,$F3,$11,$E4,$11,$F4,$11,$D3,$1D,$D4,$1D,$D5,$1D,$F8,$05
	db $D5,$1D,$F6,$1D,$F9,$05,$FA,$05,$BF,$00,$BF,$00,$C4,$05,$C5,$05
	db $BF,$00,$BF,$00,$C6,$05,$BF,$00,$FB,$05,$FC,$05,$EA,$05,$D3,$05
	db $D6,$05,$D7,$05,$E6,$05,$E7,$05,$C7,$05,$D5,$05,$E1,$05,$E5,$05
	db $D5,$05,$F7,$05,$E5,$05,$E3,$05

DATA_13B7C9:
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$8F,$09,$9E,$09,$9F,$09
	db $BF,$00,$BF,$00,$D0,$1D,$D1,$1D,$C0,$1D,$C1,$1D,$D2,$1D,$D3,$1D
	db $C2,$1D,$C3,$1D,$F3,$1D,$E0,$1D,$BF,$00,$BF,$00,$E1,$1D,$E2,$1D
	db $BF,$00,$BF,$00,$E4,$1D,$E5,$1D,$C6,$1D,$C7,$1D,$E6,$1D,$F9,$1D
	db $C8,$1D,$C9,$1D,$D9,$1D,$D5,$1D,$BF,$00,$BF,$00,$D7,$1D,$D8,$1D
	db $BF,$00,$BF,$00,$C0,$1D,$C1,$1D,$BF,$00,$BF,$00,$C2,$1D,$C3,$1D
	db $D0,$1D,$D1,$1D,$D2,$1D,$F3,$1D,$D2,$1D,$F3,$1D,$F3,$1D,$E3,$1D
	db $F3,$1D,$F3,$1D,$F3,$1D,$F3,$1D,$E3,$1D,$F3,$1D,$F3,$1D,$F3,$1D
	db $F0,$1D,$F1,$1D,$F3,$1D,$F0,$1D,$E7,$1D,$E8,$1D,$F2,$1D,$F1,$1D
	db $E9,$1D,$D9,$1D,$E7,$1D,$E8,$1D,$D9,$1D,$F9,$1D,$E9,$1D,$D9,$1D
	db $D5,$1D,$D6,$1D,$D9,$1D,$D5,$1D,$D7,$1D,$D8,$1D,$F4,$1D,$F5,$1D
	db $D2,$1D,$D3,$1D,$F3,$1D,$F3,$1D,$F3,$1D,$E0,$1D,$F3,$1D,$F3,$1D
	db $E1,$1D,$E2,$1D,$F0,$1D,$F1,$1D,$E1,$1D,$E2,$1D,$F2,$1D,$F1,$1D
	db $D0,$1D,$D1,$1D,$F6,$1D,$F7,$1D,$D2,$1D,$F3,$1D,$F8,$1D,$F3,$1D
	db $F3,$1D,$D3,$1D,$F3,$1D,$F3,$1D,$F3,$1D,$F3,$1D,$F3,$1D,$E3,$1D
	db $F3,$1D,$F3,$1D,$D3,$1D,$F3,$1D,$F0,$1D,$F2,$1D,$F3,$1D,$F0,$1D
	db $F2,$1D,$F1,$1D,$F2,$1D,$F2,$1D,$D4,$1D,$C5,$1D,$F6,$1D,$F7,$1D
	db $D2,$1D,$F3,$1D,$F8,$1D,$E3,$1D,$E4,$1D,$E5,$1D,$E6,$1D,$D9,$1D
	db $E6,$1D,$D9,$1D,$F9,$1D,$D9,$1D,$D9,$1D,$D9,$1D,$D9,$1D,$D9,$1D
	db $D9,$1D,$F9,$1D,$D9,$1D,$D9,$1D,$D2,$1D,$F3,$1D,$F3,$1D,$D3,$1D
	db $F3,$1D,$E3,$1D,$F3,$1D,$F3,$1D,$F3,$1D,$F0,$1D,$F3,$1D,$F3,$1D
	db $BF,$00,$BF,$00,$BF,$00,$8E,$05,$BF,$00,$BF,$00,$8E,$05,$BF,$00
	db $61,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$72,$05,$BF,$00
	db $BF,$00,$BF,$00,$72,$45,$BF,$00,$8E,$05,$BF,$00,$BF,$00,$8E,$05
	db $BF,$00,$61,$05,$BF,$00,$BF,$00,$72,$05,$BF,$00,$BF,$00,$BF,$00
	db $8E,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$8E,$05,$BF,$00,$BF,$00
	db $BF,$00,$72,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$61,$05
	db $BF,$00,$8E,$05,$61,$05,$BF,$00,$F2,$1D,$F1,$1D,$F0,$1D,$F2,$1D
	db $F2,$1D,$F2,$1D,$F0,$1D,$F2,$1D,$F6,$1D,$F7,$1D,$F2,$1D,$F1,$1D
	db $F8,$1D,$F3,$1D,$F6,$1D,$F7,$1D,$F3,$1D,$F3,$1D,$F8,$1D,$F3,$1D
	db $F2,$1D,$F2,$1D,$F2,$1D,$F2,$1D,$D9,$1D,$D9,$1D,$E9,$1D,$D9,$1D
	db $F9,$1D,$D9,$1D,$D9,$1D,$D9,$1D,$D9,$1D,$D9,$1D,$C4,$1D,$C5,$1D
	db $C4,$1D,$C5,$1D,$D2,$1D,$F3,$1D,$D2,$1D,$F3,$1D,$F3,$1D,$F3,$1D
	db $D3,$1D,$F3,$1D,$F3,$1D,$F3,$1D

DATA_13B9E1:
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$00,$1D,$01,$1D,$10,$1D,$C2,$1D
	db $C7,$1D,$C8,$1D,$C2,$1D,$C2,$1D,$C9,$1D,$CA,$1D,$C2,$1D,$CB,$1D
	db $20,$1D,$C2,$1D,$30,$1D,$31,$1D,$C2,$1D,$C2,$1D,$32,$1D,$33,$1D
	db $C2,$1D,$CC,$1D,$CE,$1D,$CD,$1D,$C3,$1D,$C2,$1D,$C2,$1D,$C2,$1D
	db $C2,$1D,$C0,$1D,$C2,$1D,$C2,$1D,$C2,$1D,$C2,$1D,$C4,$1D,$C2,$1D
	db $C2,$1D,$C2,$1D,$C2,$1D,$C1,$1D,$CF,$1D,$D0,$1D,$D1,$1D,$C2,$1D
	db $08,$1D,$09,$1D,$C2,$1D,$C2,$1D,$0A,$1D,$C5,$1D,$C2,$1D,$C6,$1D
	db $26,$1D,$C2,$1D,$36,$1D,$37,$1D,$C2,$1D,$C2,$1D,$38,$1D,$39,$1D
	db $C2,$1D,$2B,$1D,$3A,$1D,$3B,$1D,$14,$1D,$C2,$1D,$24,$1D,$C2,$1D
	db $C2,$1D,$17,$1D,$C2,$1D,$27,$1D,$18,$1D,$C2,$1D,$28,$1D,$C2,$1D
	db $C2,$1D,$19,$1D,$C2,$1D,$29,$1D,$C2,$1D,$C2,$1D,$C2,$1D,$C2,$1D
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$41,$1D,$BF,$00,$41,$1D,$42,$1D,$43,$1D
	db $42,$1D,$42,$5D,$44,$1D,$44,$5D,$41,$5D,$BF,$00,$43,$5D,$42,$5D
	db $BF,$00,$BF,$00,$41,$5D,$BF,$00,$42,$1D,$43,$1D,$44,$1D,$45,$1D
	db $44,$1D,$45,$1D,$40,$1D,$40,$1D,$46,$1D,$47,$1D,$56,$1D,$57,$1D
	db $45,$5D,$44,$5D,$40,$1D,$40,$5D,$43,$5D,$42,$5D,$45,$5D,$44,$5D
	db $BF,$00,$41,$1D,$50,$1D,$51,$1D,$42,$1D,$43,$1D,$52,$1D,$53,$1D
	db $44,$1D,$45,$1D,$54,$1D,$54,$1D,$5E,$1D,$5E,$1D,$54,$1D,$54,$1D
	db $5E,$1D,$5E,$1D,$54,$5D,$54,$5D,$45,$5D,$44,$5D,$54,$5D,$54,$5D
	db $43,$5D,$42,$5D,$53,$5D,$52,$5D,$41,$5D,$BF,$00,$51,$5D,$50,$5D
	db $48,$1D,$49,$1D,$BF,$00,$4C,$1D,$4A,$1D,$4B,$1D,$4D,$1D,$BF,$00
	db $BF,$00,$48,$1D,$BF,$00,$BF,$00,$49,$1D,$4A,$1D,$4C,$1D,$4D,$1D
	db $4B,$1D,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$66,$5D,$BF,$00,$BF,$00
	db $64,$1D,$65,$1D,$73,$1D,$74,$1D,$B7,$1D,$C2,$1D,$C2,$1D,$C2,$1D
	db $BF,$00,$5C,$1D,$BF,$00,$5C,$1D,$5D,$1D,$65,$1D,$5D,$1D,$74,$1D
	db $66,$1D,$BF,$00,$BF,$00,$BF,$00,$5C,$1D,$5D,$1D,$5C,$1D,$5D,$1D
	db $65,$1D,$66,$1D,$74,$1D,$BF,$00,$73,$1D,$74,$1D,$73,$1D,$74,$1D
	db $5D,$1D,$74,$1D,$5D,$1D,$74,$1D,$74,$1D,$BF,$00,$74,$1D,$BF,$00
	db $C7,$1D,$5C,$1D,$C2,$1D,$5C,$1D,$A8,$05,$A9,$05,$B8,$05,$B9,$05
	db $C9,$1D,$80,$1D,$C2,$1D,$90,$1D,$74,$1D,$BF,$00,$74,$1D,$BF,$00
	db $C2,$1D,$5C,$1D,$C2,$1D,$5C,$1D,$A0,$05,$A1,$05,$B0,$05,$B1,$05
	db $5B,$05,$5A,$05,$4E,$05,$4F,$05,$A2,$05,$A3,$05,$B2,$05,$B3,$05
	db $A4,$05,$A5,$05,$B4,$05,$B5,$05,$81,$1D,$74,$1D,$C2,$1D,$92,$1D
	db $91,$1D,$94,$1D,$C2,$1D,$C2,$1D,$99,$1D,$CA,$1D,$C2,$1D,$CB,$1D
	db $BF,$00,$5C,$1D,$BF,$00,$58,$1D,$5D,$1D,$74,$1D,$59,$1D,$74,$1D
	db $7D,$05,$7E,$05,$6F,$05,$7F,$05,$4F,$05,$4E,$05,$4E,$05,$4F,$05
	db $83,$05,$84,$05,$93,$05,$C2,$1D,$85,$05,$86,$05,$C2,$1D,$C2,$1D
	db $87,$05,$88,$05,$C2,$1D,$98,$05,$A6,$05,$4E,$05,$B6,$05,$4F,$05
	db $8B,$05,$8C,$05,$C2,$1D,$C2,$1D,$89,$05,$8A,$05,$C2,$1D,$9A,$05
	db $95,$05,$96,$05,$97,$05,$C2,$1D,$AE,$05,$AF,$05,$BE,$05,$BF,$05
	db $9B,$05,$9C,$05,$C2,$1D,$C2,$1D,$02,$1D,$03,$1D,$C2,$1D,$75,$1D
	db $04,$1D,$AC,$1D,$76,$1D,$43,$1D,$C2,$1D,$C0,$1D,$C2,$1D,$75,$1D
	db $C3,$1D,$75,$1D,$76,$1D,$43,$1D,$76,$1D,$43,$1D,$44,$1D,$45,$1D
	db $C2,$1D,$75,$1D,$55,$1D,$51,$1D,$76,$1D,$43,$1D,$52,$1D,$53,$1D
	db $82,$1D,$49,$1D,$C2,$1D,$4C,$1D,$4A,$1D,$68,$1D,$4D,$1D,$70,$1D
	db $5F,$1D,$5F,$1D,$40,$1D,$40,$1D,$67,$1D,$49,$1D,$40,$1D,$4C,$1D
	db $5D,$1D,$70,$1D,$5D,$1D,$70,$1D,$40,$1D,$40,$1D,$40,$1D,$40,$1D
	db $40,$1D,$AA,$1D,$40,$1D,$BA,$1D,$AB,$1D,$AB,$5D,$BB,$1D,$BC,$1D
	db $AD,$1D,$40,$1D,$BD,$1D,$40,$1D,$40,$1D,$5C,$1D,$40,$1D,$5C,$1D
	db $5D,$1D,$BF,$00,$5D,$1D,$BF,$00,$5B,$05,$5C,$1D,$4E,$05,$5C,$1D
	db $40,$1D,$61,$1D,$40,$1D,$61,$1D,$62,$1D,$79,$1D,$72,$1D,$7B,$1D
	db $7A,$1D,$40,$1D,$7C,$1D,$40,$1D,$4F,$05,$5C,$1D,$4E,$05,$58,$1D
	db $8D,$1D,$8E,$1D,$9D,$1D,$C2,$1D,$77,$1D,$78,$1D,$C2,$1D,$C2,$1D
	db $9E,$1D,$8F,$1D,$C2,$1D,$9F,$1D,$6A,$1D,$6A,$1D,$6A,$1D,$6A,$1D
	db $6B,$1D,$6E,$1D,$6A,$1D,$6D,$1D,$40,$1D,$40,$1D,$6E,$1D,$40,$1D
	db $40,$1D,$5C,$1D,$40,$1D,$58,$1D,$5D,$1D,$BF,$00,$59,$1D,$BF,$00

DATA_13BDB1:
	db $6E,$05,$6F,$05,$46,$05,$46,$05,$7E,$05,$7F,$05,$8E,$05,$8F,$05
	db $6E,$05,$6F,$05,$47,$05,$46,$05,$46,$05,$46,$05,$56,$05,$89,$05
	db $46,$05,$46,$05,$56,$05,$56,$05,$44,$05,$45,$05,$54,$05,$55,$05
	db $47,$05,$46,$05,$47,$05,$46,$05,$46,$05,$46,$05,$46,$05,$46,$05
	db $47,$05,$46,$05,$57,$05,$89,$05,$66,$05,$67,$05,$76,$05,$76,$05
	db $47,$05,$46,$05,$57,$05,$56,$05,$87,$05,$88,$05,$97,$05,$98,$05
	db $88,$45,$87,$45,$98,$45,$97,$45,$66,$05,$66,$05,$77,$05,$76,$05
	db $66,$05,$66,$05,$76,$05,$76,$05,$76,$05,$76,$05,$76,$05,$76,$05
	db $76,$05,$76,$05,$BB,$05,$BC,$05,$60,$05,$61,$05,$70,$05,$71,$05
	db $62,$05,$63,$05,$72,$05,$73,$05,$63,$45,$62,$45,$73,$45,$72,$45
	db $61,$45,$60,$45,$71,$45,$70,$45,$77,$05,$76,$05,$77,$05,$76,$05
	db $8B,$05,$8C,$05,$9B,$05,$9C,$05,$8D,$05,$76,$05,$76,$05,$76,$05
	db $80,$05,$81,$05,$90,$05,$91,$05,$82,$05,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$82,$45,$BF,$00,$BF,$00,$81,$45,$80,$45,$91,$45,$90,$45
	db $64,$05,$65,$05,$74,$05,$75,$05,$99,$05,$9A,$05,$A9,$05,$AA,$05
	db $A0,$05,$A1,$05,$B0,$05,$B1,$05,$A1,$45,$A0,$45,$B1,$45,$B0,$45
	db $86,$05,$65,$05,$96,$05,$75,$05,$74,$05,$75,$05,$6C,$05,$6D,$05
	db $B9,$05,$BA,$05,$7C,$05,$7D,$05,$A2,$05,$A3,$05,$B2,$05,$B3,$05
	db $A3,$45,$A2,$45,$B3,$45,$B2,$05,$A6,$05,$75,$05,$86,$05,$6D,$05
	db $4C,$1D,$4D,$1D,$5C,$1D,$5D,$1D,$4E,$1D,$4F,$1D,$5E,$1D,$5F,$1D
	db $43,$1D,$53,$1D,$53,$1D,$51,$1D,$48,$1D,$49,$1D,$78,$1D,$79,$1D
	db $4A,$1D,$4B,$1D,$7A,$1D,$7B,$1D,$43,$1D,$53,$1D,$52,$1D,$51,$1D
	db $43,$1D,$53,$1D,$50,$1D,$51,$1D,$43,$1D,$53,$1D,$50,$1D,$43,$1D
	db $43,$1D,$53,$1D,$50,$1D,$40,$1D,$43,$1D,$53,$1D,$41,$1D,$51,$1D
	db $40,$1D,$41,$1D,$50,$1D,$51,$1D,$68,$1D,$69,$1D,$58,$1D,$59,$1D
	db $6A,$1D,$6B,$1D,$5A,$1D,$5B,$1D,$42,$1D,$41,$1D,$52,$1D,$51,$1D
	db $40,$1D,$41,$1D,$41,$1D,$40,$1D,$40,$1D,$41,$1D,$53,$1D,$43,$1D
	db $40,$1D,$41,$1D,$53,$1D,$51,$1D,$40,$1D,$41,$1D,$50,$1D,$50,$1D
	db $40,$1D,$41,$1D,$50,$1D,$43,$1D,$40,$1D,$41,$1D,$50,$1D,$40,$1D
	db $40,$1D,$41,$1D,$41,$1D,$43,$1D,$40,$1D,$41,$1D,$41,$1D,$51,$1D
	db $51,$1D,$50,$1D,$53,$1D,$51,$1D,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $68,$1D,$69,$1D,$78,$1D,$79,$1D,$6A,$1D,$6B,$1D,$7A,$1D,$7B,$1D
	db $40,$1D,$41,$1D,$50,$1D,$E4,$1D,$40,$1D,$41,$1D,$E5,$1D,$D4,$1D
	db $43,$1D,$53,$1D,$D5,$1D,$51,$1D,$C4,$1D,$F4,$1D,$D0,$1D,$EA,$1D
	db $C7,$1D,$C7,$5D,$FA,$1D,$FB,$1D,$F4,$5D,$C5,$1D,$EA,$5D,$F0,$1D
	db $40,$1D,$41,$1D,$C8,$1D,$C9,$1D,$42,$1D,$41,$1D,$52,$1D,$E7,$1D
	db $43,$1D,$53,$1D,$E6,$1D,$E7,$1D,$40,$1D,$41,$1D,$C8,$1D,$F8,$1D
	db $C0,$1D,$EA,$1D,$D0,$1D,$EA,$1D,$C7,$1D,$C7,$5D,$C7,$1D,$C7,$5D
	db $EA,$5D,$E0,$1D,$EA,$5D,$F0,$1D,$D8,$1D,$D9,$1D,$E8,$1D,$E9,$1D
	db $68,$1D,$69,$1D,$78,$1D,$79,$1D,$6A,$1D,$6B,$1D,$7A,$1D,$7B,$1D
	db $F6,$1D,$F7,$1D,$52,$1D,$51,$1D,$F6,$1D,$F7,$1D,$41,$1D,$51,$1D
	db $D8,$1D,$F9,$1D,$E8,$1D,$E9,$1D,$40,$1D,$C1,$1D,$41,$1D,$D1,$1D
	db $C2,$1D,$C3,$1D,$D2,$1D,$D3,$1D,$C7,$1D,$C7,$5D,$D3,$1D,$D3,$5D
	db $C3,$5D,$F5,$1D,$D3,$5D,$D2,$5D,$C1,$5D,$41,$1D,$D1,$5D,$51,$1D
	db $C6,$1D,$C6,$1D,$D6,$1D,$D7,$1D,$CA,$1D,$79,$1D,$DA,$1D,$79,$1D
	db $7A,$1D,$7B,$1D,$7A,$1D,$7B,$1D,$CB,$1D,$C6,$1D,$DB,$1D,$D6,$1D
	db $C6,$1D,$C6,$1D,$D7,$1D,$D6,$1D,$C6,$1D,$E1,$1D,$D7,$1D,$F1,$1D
	db $E2,$1D,$E3,$1D,$F2,$1D,$F3,$1D,$E3,$1D,$E3,$5D,$F3,$1D,$F3,$5D
	db $E3,$5D,$E2,$5D,$F3,$5D,$F2,$5D,$E1,$5D,$C6,$1D,$F1,$5D,$D7,$1D
	db $43,$1D,$53,$1D,$50,$1D,$9E,$1D,$AE,$1D,$AF,$1D,$9F,$1D,$43,$1D
	db $42,$1D,$41,$1D,$52,$1D,$43,$1D,$40,$1D,$41,$1D,$43,$1D,$9E,$1D
	db $9E,$1D,$9F,$1D,$9F,$1D,$43,$1D,$51,$1D,$50,$1D,$50,$1D,$43,$1D
	db $40,$1D,$41,$1D,$53,$1D,$9E,$1D,$51,$1D,$50,$1D,$50,$1D,$40,$1D
	db $40,$1D,$41,$1D,$50,$1D,$9E,$1D,$43,$1D,$53,$1D,$53,$1D,$43,$1D
	db $40,$1D,$50,$1D,$53,$1D,$51,$1D,$51,$1D,$41,$1D,$50,$1D,$51,$1D
	db $51,$1D,$41,$1D,$53,$1D,$43,$1D,$68,$1D,$79,$1D,$78,$1D,$79,$1D
	db $42,$1D,$41,$1D,$52,$1D,$9E,$1D,$51,$1D,$50,$1D,$50,$1D,$51,$1D

DATA_13C151:
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$8F,$09,$9E,$09,$9F,$09
	db $40,$1D,$41,$1D,$50,$1D,$51,$1D,$42,$1D,$43,$1D,$52,$1D,$53,$1D
	db $44,$1D,$45,$1D,$54,$1D,$55,$1D,$46,$1D,$47,$1D,$56,$1D,$57,$1D
	db $4A,$1D,$4B,$1D,$5A,$1D,$5B,$1D,$6C,$1D,$6D,$1D,$7C,$1D,$7D,$1D
	db $6E,$1D,$6F,$1D,$7E,$1D,$7F,$1D,$6C,$1D,$BF,$00,$7C,$1D,$BF,$00
	db $4C,$1D,$4D,$1D,$5C,$1D,$5D,$1D,$BF,$00,$6D,$1D,$60,$1D,$7D,$1D
	db $6E,$1D,$6F,$1D,$7E,$1D,$62,$1D,$4E,$1D,$4F,$1D,$74,$1D,$75,$1D
	db $5E,$1D,$5F,$1D,$76,$1D,$77,$1D,$58,$1D,$59,$1D,$76,$1D,$77,$1D
	db $48,$1D,$49,$1D,$74,$1D,$75,$1D,$66,$1D,$67,$1D,$76,$1D,$77,$1D
	db $64,$1D,$65,$1D,$74,$1D,$75,$1D,$8D,$1D,$9D,$1D,$74,$1D,$75,$1D
	db $AD,$1D,$BD,$1D,$76,$1D,$77,$1D,$8D,$1D,$4F,$1D,$74,$1D,$75,$1D
	db $70,$1D,$9D,$1D,$74,$1D,$75,$1D,$AD,$1D,$71,$1D,$76,$1D,$77,$1D
	db $68,$1D,$69,$1D,$78,$1D,$79,$1D,$6A,$1D,$6B,$1D,$7A,$1D,$7B,$1D
	db $AE,$1D,$AF,$1D,$BE,$1D,$BF,$1D,$BF,$1D,$BE,$1D,$BE,$1D,$BF,$1D
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$8E,$05,$BF,$00,$BF,$00,$8E,$05,$BF,$00
	db $61,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$72,$05,$BF,$00
	db $BF,$00,$BF,$00,$72,$45,$BF,$00,$8E,$05,$BF,$00,$BF,$00,$8E,$05
	db $BF,$00,$61,$05,$BF,$00,$BF,$00,$72,$05,$BF,$00,$BF,$00,$BF,$00
	db $8E,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$8E,$05,$BF,$00,$BF,$00
	db $BF,$00,$72,$05,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$61,$05
	db $BF,$00,$8E,$05,$61,$05,$BF,$00

DATA_13C309:
	db $8C,$1D,$8D,$1D,$9C,$1D,$9D,$1D,$AC,$1D,$AD,$1D,$BC,$1D,$BD,$1D
	db $AE,$1D,$AF,$1D,$BE,$1D,$BF,$1D,$CC,$1D,$CD,$1D,$CC,$1D,$CD,$1D
	db $CE,$1D,$CF,$1D,$CE,$1D,$CF,$1D,$DC,$1D,$DD,$1D,$DC,$1D,$DD,$1D
	db $DE,$1D,$DF,$1D,$DE,$1D,$DF,$1D,$EC,$1D,$ED,$1D,$EC,$1D,$ED,$1D
	db $ED,$5D,$EC,$5D,$ED,$5D,$EC,$5D,$DF,$5D,$DE,$5D,$DF,$5D,$DE,$5D
	db $DD,$5D,$DC,$5D,$DD,$5D,$DC,$5D,$CF,$5D,$CE,$5D,$CF,$5D,$CE,$5D
	db $CD,$5D,$CC,$5D,$CD,$5D,$CC,$5D,$AF,$5D,$AE,$5D,$BF,$5D,$BE,$5D
	db $AD,$5D,$AC,$5D,$BD,$5D,$BC,$5D,$8D,$5D,$8C,$5D,$9D,$5D,$9C,$5D
	db $8E,$1D,$8F,$1D,$9E,$1D,$9F,$1D,$8F,$5D,$8E,$5D,$9F,$5D,$9E,$5D
	db $90,$1D,$91,$1D,$A0,$1D,$A1,$1D,$91,$5D,$90,$5D,$A1,$5D,$A0,$5D
	db $92,$1D,$93,$1D,$A2,$1D,$A3,$1D,$93,$5D,$92,$5D,$A3,$5D,$A2,$5D
	db $B0,$1D,$B1,$1D,$B2,$1D,$B3,$1D,$B1,$5D,$B0,$5D,$B3,$5D,$B2,$5D
	db $DE,$1D,$FE,$1D,$FC,$1D,$FD,$1D,$FE,$5D,$DE,$5D,$FD,$5D,$FC,$5D
	db $EC,$1D,$FF,$1D,$EC,$1D,$ED,$1D,$FF,$5D,$EC,$5D,$ED,$5D,$EC,$5D

DATA_13C3E9:
	db $8E,$1D,$8F,$1D,$95,$9D,$96,$9D,$88,$1D,$89,$1D,$83,$9D,$84,$9D
	db $BB,$1D,$86,$1D,$85,$1D,$76,$9D,$87,$1D,$85,$1D,$77,$9D,$BB,$1D
	db $BB,$1D,$85,$1D,$85,$1D,$BB,$1D,$95,$1D,$96,$1D,$8E,$1D,$8F,$1D
	db $83,$1D,$84,$1D,$88,$1D,$89,$1D,$BB,$1D,$76,$1D,$BF,$00,$86,$1D
	db $77,$1D,$85,$1D,$87,$1D,$BF,$00,$BB,$1D,$85,$1D,$BF,$00,$BB,$1D
	db $BF,$00,$BF,$00,$85,$1D,$BB,$1D,$BB,$1D,$85,$1D,$85,$1D,$BF,$00
	db $77,$1D,$85,$1D,$87,$1D,$BB,$1D,$8E,$1D,$8F,$1D,$8E,$1D,$8F,$1D
	db $88,$1D,$89,$1D,$88,$1D,$89,$1D,$BB,$1D,$86,$1D,$BF,$00,$86,$1D
	db $87,$1D,$BF,$00,$87,$1D,$85,$1D,$BF,$00,$BF,$00,$85,$1D,$BF,$00
	db $BB,$1D,$85,$1D,$BF,$00,$BF,$00,$87,$1D,$BF,$00,$87,$1D,$BB,$1D
	db $BF,$00,$86,$1D,$BF,$00,$86,$1D,$BF,$00,$BF,$00,$BF,$00,$51,$1D
	db $42,$1D,$43,$1D,$52,$1D,$53,$1D,$44,$1D,$45,$1D,$54,$1D,$55,$1D
	db $46,$1D,$47,$1D,$56,$1D,$57,$1D,$48,$1D,$49,$1D,$58,$1D,$59,$1D
	db $BF,$00,$BF,$00,$5A,$1D,$BF,$00,$87,$1D,$BF,$00,$87,$1D,$BF,$00
	db $BF,$00,$86,$1D,$85,$1D,$86,$1D,$60,$1D,$61,$1D,$70,$1D,$71,$1D
	db $62,$1D,$63,$1D,$72,$1D,$73,$1D,$64,$1D,$65,$1D,$74,$1D,$75,$1D
	db $66,$1D,$67,$1D,$66,$1D,$67,$1D,$68,$1D,$69,$1D,$78,$1D,$79,$1D
	db $6A,$1D,$6B,$1D,$7A,$1D,$7B,$1D,$80,$1D,$81,$1D,$90,$1D,$91,$1D
	db $82,$1D,$74,$1D,$92,$1D,$93,$1D,$74,$1D,$75,$1D,$94,$1D,$75,$1D
	db $66,$1D,$67,$1D,$66,$1D,$97,$1D,$78,$1D,$78,$1D,$98,$1D,$99,$1D
	db $8A,$1D,$8B,$1D,$9A,$1D,$9B,$1D,$87,$1D,$85,$1D,$87,$1D,$BF,$00
	db $A0,$1D,$A1,$1D,$A0,$1D,$B1,$1D,$A2,$1D,$A3,$1D,$B2,$1D,$B3,$1D
	db $A4,$1D,$A5,$1D,$B4,$1D,$B5,$1D,$A6,$1D,$A7,$1D,$B6,$1D,$B7,$1D
	db $A8,$1D,$A9,$1D,$B8,$1D,$B9,$1D,$AA,$1D,$AB,$1D,$BA,$1D,$AB,$1D
	db $4C,$1D,$4D,$1D,$5C,$1D,$5D,$1D,$4E,$1D,$4F,$1D,$5E,$1D,$5F,$1D
	db $74,$1D,$8D,$1D,$9C,$1D,$9D,$1D,$66,$1D,$67,$1D,$9E,$1D,$9F,$1D
	db $78,$1D,$C1,$1D,$D0,$1D,$D1,$1D,$C2,$1D,$C3,$1D,$D2,$1D,$D3,$1D
	db $6C,$1D,$6D,$1D,$7C,$1D,$7D,$1D,$6E,$1D,$6F,$1D,$7E,$1D,$7F,$1D
	db $6F,$1D,$E1,$1D,$F0,$1D,$F1,$1D,$E2,$1D,$E3,$1D,$F2,$1D,$F3,$1D
	db $87,$1D,$BB,$1D,$87,$1D,$BF,$00,$85,$1D,$41,$1D,$BF,$00,$BF,$00
	db $40,$1D,$B0,$1D,$50,$1D,$8C,$1D,$AC,$1D,$BD,$1D,$BC,$1D,$BC,$1D
	db $AE,$1D,$AF,$1D,$BE,$1D,$BF,$1D,$C0,$1D,$4B,$1D,$E0,$1D,$5B,$1D
	db $4A,$1D,$BF,$00,$BF,$00,$BF,$00,$85,$1D,$86,$1D,$BF,$00,$86,$1D
	db $87,$1D,$BB,$1D,$87,$1D,$85,$1D,$85,$1D,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BB,$1D,$85,$1D,$BF,$00,$BB,$1D,$BB,$1D,$85,$1D
	db $85,$1D,$86,$1D,$BB,$1D,$76,$9D,$87,$1D,$BB,$1D,$77,$9D,$85,$1D
	db $85,$1D,$BF,$00,$BB,$1D,$85,$1D,$85,$1D,$BB,$1D,$BB,$1D,$85,$1D
	db $87,$1D,$BF,$00,$77,$9D,$85,$1D,$85,$1D,$76,$1D,$BB,$1D,$86,$1D
	db $77,$1D,$BB,$1D,$87,$1D,$85,$1D,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $6F,$1D,$6F,$1D,$6F,$1D,$6F,$1D

;--------------------------------------------------------------------

; Note: Seems to be the data/pointers for setting the base layer 2 BG before adding objects to modify it.

DATA_13C661:
	dw DATA_13C6AF						; Jungle (no soil layer, lower)
	dw DATA_13C6BE						; Brown Rocky cave
	dw DATA_13C6DF						; Warehouse (horizontal)
	dw DATA_13C700						; Desert Dunes
	dw DATA_13C711						; Pyramid Interior (horizontal)
	dw DATA_13C732						; Jungle (soil layer)
	dw DATA_13C74B						; Ice crystals
	dw DATA_13C84C						; Unused (Probably unfinished, appears somewhat correctly with the jungle and pyramid interior BG graphics)
	dw DATA_13C865						; Soil (Unused duplicate)
	dw DATA_13C886						; Warehouse (vertical, upper half)
	dw DATA_13C8A7						; Craggy Cliff
	dw DATA_13C8C0						; Wart's Fortress (horizontal)
	dw DATA_13C9C1						; Wart's Fortress (vertical)
	dw DATA_13CAC2						; Triangle hills (left half)
	dw DATA_13CB23						; Triangle hills (right half)
	dw DATA_13CB84						; Night hills (Horizontal)
	dw DATA_13CB91						; Jungle (no soil layer, higher)
	dw DATA_13CBAA						; Night hills (Vertical, lower half)
	dw DATA_13CBB3						; Pillars and brick wall
	dw DATA_13CBBA						; Warehouse (vertical, lower half, unused duplicate)
	dw DATA_13CBBA						; Warehouse (vertical, lower half)
	dw DATA_13CBEB						; Pyramid Interior (vertical, lower half)
	dw DATA_13CCEC						; Pyramid Interior (vase)
	dw DATA_13CD0D						; Unused (Pyramid interior base)
	dw DATA_13CD2E						; Night hills (vase, lower half (hills))
	dw DATA_13CDBF						; Night hills (vase, upper half (dirt))
	dw DATA_13CDD0						; Craggy Cliff (Vase)
	dw DATA_13CDE9						; Jungle (vase)
	dw DATA_13CDF8						; Wart's room
	dw DATA_13CE13						; Pyramid Interior (vertical, upper half)
	dw DATA_13CF14						; Grey rocky cave (lower half)
	dw DATA_13CF35						; Grey rocky cave (upper half)
	dw DATA_13CF56						; Tree interior (lower half)
	dw DATA_13D057						; Tree interior (upper half)
	dw DATA_13D158						; Sky building interior (horizontal, right half)
	dw DATA_13D259						; Sky building interior (horizontal, left half)
	dw DATA_13D35A						; Phanto Room
	dw DATA_13D43C						; Soil
	dw DATA_13D45D						; Craggy Cliff (Includes Pyramid)

DATA_13C6AF:
	db $91,$28,$2E,$31,$34,$35,$34,$35,$29,$2F,$32,$35,$34,$35,$34

DATA_13C6BE:
	db $01,$00,$02,$00,$02,$00,$02,$00,$02,$00,$02,$00,$02,$00,$02,$00
	db $02,$01,$03,$01,$03,$01,$03,$01,$03,$01,$03,$01,$03,$01,$03,$01
	db $03

DATA_13C6DF:
	db $01,$08,$08,$62,$63,$08,$08,$08,$08,$08,$62,$63,$08,$08,$08,$08
	db $08,$08,$08,$63,$62,$08,$08,$08,$08,$08,$63,$62,$08,$08,$08,$08
	db $08

DATA_13C700:
	db $81,$12,$26,$29,$29,$29,$29,$29,$29,$11,$25,$29,$29,$29,$29,$29
	db $29

DATA_13C711:
	db $01,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$1F,$23,$1F,$23
	db $1F,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$20,$24,$20,$24
	db $20

DATA_13C732:
	db $41,$28,$2E,$31,$16,$18,$44,$46,$44,$46,$44,$46,$44,$29,$2F,$32
	db $17,$19,$45,$47,$45,$47,$45,$47,$45

DATA_13C74B:
	db $0F,$00,$02,$04,$0E,$02,$0D,$03,$05,$07,$00,$02,$04,$01,$03,$05
	db $07,$01,$08,$02,$0D,$03,$05,$00,$02,$04,$01,$03,$0C,$02,$04,$06
	db $06,$07,$01,$03,$05,$00,$02,$0D,$03,$0C,$02,$04,$01,$03,$05,$07
	db $07,$00,$02,$04,$06,$01,$08,$02,$04,$01,$03,$05,$07,$00,$02,$04
	db $06,$01,$03,$0C,$02,$04,$01,$03,$0C,$02,$04,$06,$06,$01,$03,$05
	db $07,$06,$0E,$09,$03,$0C,$02,$04,$01,$03,$0C,$02,$04,$06,$0E,$02
	db $04,$07,$0F,$03,$05,$0F,$03,$05,$07,$00,$09,$03,$05,$07,$0F,$03
	db $05,$08,$02,$04,$0E,$02,$04,$06,$06,$01,$03,$05,$00,$02,$04,$06
	db $06,$0D,$03,$0C,$09,$03,$05,$07,$00,$02,$04,$06,$01,$03,$05,$07
	db $07,$06,$06,$01,$03,$05,$00,$02,$0D,$03,$0C,$02,$04,$0E,$02,$04
	db $06,$00,$02,$04,$0E,$02,$0D,$03,$05,$00,$09,$03,$05,$0F,$03,$05
	db $07,$01,$08,$02,$0D,$08,$02,$04,$06,$01,$03,$0C,$02,$04,$0E,$02
	db $04,$07,$0F,$08,$02,$0D,$03,$05,$00,$02,$04,$01,$03,$05,$0F,$03
	db $05,$00,$02,$0D,$03,$05,$07,$00,$09,$03,$05,$07,$00,$02,$04,$06
	db $06,$01,$03,$05,$07,$00,$02,$01,$03,$05,$00,$02,$0D,$03,$05,$07
	db $07,$06,$06,$06,$06,$01,$08,$02,$04,$06,$01,$03,$05,$00,$02,$04
	db $06

DATA_13C84C:
	db $41,$15,$15,$15,$15,$15,$3E,$2E,$31,$34,$35,$34,$35,$15,$15,$15
	db $15,$15,$3F,$2F,$32,$35,$34,$35,$34

DATA_13C865:
	db $01,$44,$46,$44,$46,$44,$46,$44,$46,$44,$46,$44,$46,$44,$46,$44
	db $46,$45,$47,$45,$47,$45,$47,$45,$47,$45,$47,$45,$47,$45,$47,$45
	db $47

DATA_13C886:
	db $01,$08,$08,$08,$08,$05,$0E,$04,$0D,$08,$08,$05,$0E,$04,$0D,$08
	db $08,$08,$08,$08,$08,$02,$0B,$03,$0C,$08,$08,$02,$0B,$03,$0C,$08
	db $08

DATA_13C8A7:
	db $41,$01,$04,$07,$0C,$0C,$0C,$36,$37,$37,$37,$37,$37,$00,$03,$08
	db $0D,$0D,$0D,$36,$37,$37,$37,$37,$37

DATA_13C8C0:
	db $0F,$00,$03,$09,$0F,$0F,$1C,$21,$26,$28,$30,$30,$36,$30,$30,$30
	db $30,$00,$04,$09,$0F,$0F,$1C,$21,$27,$29,$31,$29,$31,$29,$31,$29
	db $31,$00,$03,$09,$0F,$0F,$1C,$21,$26,$2A,$32,$2A,$32,$2A,$32,$2A
	db $32,$00,$04,$09,$0F,$0F,$1C,$21,$27,$2B,$33,$33,$33,$33,$33,$33
	db $33,$00,$03,$09,$0F,$0F,$1C,$21,$26,$2C,$34,$38,$2C,$30,$38,$2C
	db $30,$00,$04,$09,$10,$16,$1D,$22,$27,$2D,$2C,$36,$30,$2C,$36,$30
	db $2C,$00,$03,$09,$0F,$0F,$1C,$21,$26,$2B,$30,$2D,$30,$30,$2D,$30
	db $30,$00,$04,$09,$0F,$0F,$1C,$21,$27,$2C,$30,$36,$30,$30,$36,$38
	db $30,$00,$03,$09,$0F,$0F,$1C,$21,$26,$2C,$34,$38,$2C,$38,$2C,$3C
	db $30,$00,$04,$09,$0F,$0F,$1C,$21,$27,$2E,$30,$36,$30,$36,$30,$30
	db $30,$00,$03,$09,$0F,$0F,$1C,$21,$26,$2F,$2D,$39,$30,$2C,$2D,$30
	db $2D,$00,$04,$09,$0F,$0F,$1C,$21,$27,$2C,$35,$3A,$30,$30,$36,$30
	db $3C,$00,$03,$09,$0F,$0F,$1C,$21,$26,$2D,$36,$35,$2C,$30,$39,$2C
	db $2C,$00,$04,$09,$10,$16,$1D,$22,$27,$28,$37,$36,$30,$2C,$3B,$30
	db $30,$00,$03,$09,$0F,$0F,$1C,$21,$26,$2C,$30,$2C,$30,$30,$38,$2C
	db $30,$00,$04,$09,$0F,$0F,$1C,$21,$27,$2D,$30,$30,$2D,$30,$36,$30
	db $2C

DATA_13C9C1:
	db $0F,$26,$28,$30,$30,$36,$48,$4F,$5A,$26,$28,$30,$30,$36,$30,$30
	db $30,$27,$29,$40,$40,$31,$29,$50,$5B,$27,$29,$40,$40,$31,$29,$50
	db $71,$26,$2A,$41,$41,$32,$2A,$51,$5C,$26,$2A,$41,$41,$32,$2A,$51
	db $5C,$27,$2B,$33,$33,$33,$49,$52,$5D,$27,$2B,$66,$33,$33,$33,$33
	db $72,$26,$2C,$34,$38,$2C,$48,$4F,$5E,$26,$2C,$36,$38,$2C,$30,$64
	db $68,$27,$2D,$2C,$36,$30,$4A,$53,$5E,$27,$2D,$2C,$36,$30,$64,$68
	db $28,$26,$28,$30,$2D,$30,$48,$4F,$5E,$26,$28,$30,$2D,$6C,$68,$28
	db $73,$27,$2C,$30,$36,$30,$4A,$53,$5E,$27,$2C,$30,$6A,$68,$28,$69
	db $30,$26,$2C,$3A,$38,$2C,$48,$4F,$5E,$26,$2C,$67,$68,$6D,$6F,$70
	db $30,$27,$2E,$36,$36,$30,$4A,$53,$5E,$27,$64,$68,$28,$6E,$30,$36
	db $30,$26,$2F,$2D,$39,$30,$4B,$54,$5E,$26,$65,$28,$6B,$30,$2C,$30
	db $2D,$27,$2C,$36,$3B,$30,$2F,$55,$5F,$27,$28,$69,$3A,$30,$30,$30
	db $3C,$26,$2D,$3A,$42,$45,$4C,$56,$60,$26,$2D,$36,$35,$2C,$30,$2C
	db $2C,$27,$28,$36,$43,$46,$4D,$57,$61,$27,$28,$30,$36,$30,$2C,$30
	db $30,$26,$2C,$30,$44,$47,$4E,$58,$62,$26,$2C,$30,$2C,$30,$30,$2C
	db $30,$27,$2D,$30,$30,$2D,$30,$59,$63,$27,$2D,$30,$30,$2D,$30,$30
	db $2C

DATA_13CAC2:
	db $AF,$00,$00,$19,$38,$29,$00,$00,$00,$1A,$20,$38,$00,$00,$02,$1B
	db $39,$3C,$00,$00,$0C,$1C,$3A,$20,$00,$02,$0D,$0E,$3B,$39,$00,$03
	db $0E,$1D,$0E,$3A,$00,$04,$0F,$0E,$0E,$3B,$00,$05,$10,$1E,$0E,$0E
	db $00,$06,$11,$1F,$0E,$0E,$00,$07,$12,$20,$1F,$0E,$00,$08,$13,$11
	db $3C,$1F,$00,$09,$14,$21,$20,$3C,$00,$00,$15,$22,$39,$3C,$00,$00
	db $03,$0E,$3A,$20,$00,$00,$04,$0F,$3B,$39,$00,$00,$05,$10,$0E,$3A
	db $00

DATA_13CB23:
	db $AF,$00,$00,$19,$1F,$3B,$00,$00,$00,$05,$20,$1F,$00,$00,$00,$06
	db $11,$3C,$00,$00,$00,$23,$12,$20,$00,$00,$06,$24,$3D,$11,$00,$00
	db $07,$25,$3E,$21,$00,$00,$08,$26,$3F,$1B,$00,$00,$09,$14,$40,$0E
	db $00,$00,$00,$15,$41,$0E,$00,$00,$00,$0C,$1E,$0E,$00,$00,$02,$27
	db $0E,$0E,$00,$00,$0C,$28,$0E,$0E,$00,$0A,$16,$0E,$28,$0E,$00,$0B
	db $17,$0E,$0E,$0E,$00,$00,$18,$29,$42,$0E,$00,$00,$05,$37,$29,$0E
	db $00

DATA_13CB84:
	db $A1,$07,$13,$18,$1A,$1B,$1B,$08,$14,$19,$1A,$1B,$1B

DATA_13CB91:
	db $41,$28,$2E,$31,$34,$34,$34,$34,$34,$34,$34,$34,$34,$29,$2F,$32
	db $35,$35,$35,$35,$35,$35,$35,$35,$35

DATA_13CBAA:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $D1,$10,$18,$1B,$0F,$19,$1B
else
	db $C1,$10,$18,$1B,$1B,$0F,$19,$1B,$1B
endif

DATA_13CBB3:
	db $A0,$48,$51,$15,$15,$15,$15

DATA_13CBBA:
	db $02,$08,$08,$08,$08,$03,$0C,$03,$0C,$08,$08,$03,$0C,$03,$0C,$08
	db $08,$08,$08,$08,$08,$05,$0E,$04,$0D,$08,$08,$05,$0E,$04,$0D,$08
	db $08,$08,$08,$08,$08,$02,$0B,$03,$0C,$08,$08,$02,$0B,$03,$0C,$08
	db $08

DATA_13CBEB:
	db $0F,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$29
	db $29,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$29
	db $29,$1C,$13,$08,$13,$08,$13,$08,$13,$08,$13,$08,$13,$08,$1C,$29
	db $29,$1D,$14,$09,$14,$09,$14,$09,$14,$09,$14,$09,$14,$09,$1D,$29
	db $29,$1E,$15,$0A,$15,$0A,$15,$0A,$15,$0A,$15,$0A,$15,$0A,$1E,$29
	db $29,$07,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$07,$29
	db $29,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$29
	db $29,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$29
	db $29,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$29
	db $29,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$29
	db $29,$1C,$13,$08,$13,$08,$13,$08,$13,$08,$13,$08,$13,$08,$1C,$29
	db $29,$1D,$14,$09,$14,$09,$14,$09,$14,$09,$14,$09,$14,$09,$1D,$29
	db $29,$1E,$15,$0A,$15,$0A,$15,$0A,$15,$0A,$15,$0A,$15,$0A,$1E,$29
	db $29,$07,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$07,$29
	db $29,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$29
	db $29,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$29
	db $29

DATA_13CCEC:
	db $01,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$1F,$23
	db $1F,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$20,$24
	db $20

DATA_13CD0D:
	db $01,$1F,$23,$1F,$23,$1F,$23,$1F,$23,$1F,$23,$1F,$23,$1F,$23,$1F
	db $23,$20,$24,$20,$24,$20,$24,$20,$24,$20,$24,$20,$24,$20,$24,$20
	db $24

DATA_13CD2E:
	db $7F,$00,$00,$00,$07,$13,$18,$1A,$1B,$1B,$00,$00,$00,$0C,$17,$19
	db $1A,$1B,$1B,$00,$00,$00,$02,$12,$18,$1A,$1B,$1B,$00,$02,$04,$06
	db $11,$19,$1A,$1B,$1B,$00,$03,$05,$05,$10,$18,$1A,$1B,$1B,$00,$00
	db $00,$00,$0E,$19,$1A,$1B,$1B,$00,$00,$00,$0B,$16,$18,$1A,$1B,$1B
	db $00,$00,$00,$08,$14,$19,$1A,$1B,$1B,$00,$00,$00,$07,$13,$18,$1A
	db $1B,$1B,$00,$00,$00,$08,$14,$19,$1A,$1B,$1B,$00,$00,$02,$04,$12
	db $18,$1A,$1B,$1B,$02,$04,$06,$05,$11,$19,$1A,$1B,$1B,$03,$0A,$04
	db $04,$12,$18,$1A,$1B,$1B,$00,$03,$05,$05,$11,$19,$1A,$1B,$1B,$00
	db $00,$00,$00,$0D,$18,$1A,$1B,$1B,$00,$00,$02,$04,$0F,$19,$1A,$1B
	db $1B

DATA_13CDBF:
	db $00,$1B,$1B,$1B,$1B,$1B,$1B,$1B,$1B,$1B,$1B,$1B,$1B,$1B,$1B,$1B
	db $1B

DATA_13CDD0:
	db $41,$00,$03,$08,$0D,$0D,$0D,$36,$37,$37,$30,$30,$30,$01,$04,$07
	db $0C,$0C,$0C,$36,$37,$37,$30,$30,$30

DATA_13CDE9:
	db $91,$28,$2E,$31,$34,$48,$4A,$4C,$29,$2F,$32,$35,$49,$4B,$4C

DATA_13CDF8:
	db $31,$00,$04,$09,$0F,$0F,$0F,$1C,$21,$30,$30,$30,$30,$30,$00,$03
	db $09,$0F,$0F,$0F,$1C,$21,$30,$30,$30,$30,$30

DATA_13CE13:
	db $0F,$16,$0D,$02,$0D,$02,$0D,$02,$0D,$02,$0D,$02,$0D,$02,$16,$29
	db $29,$17,$0E,$03,$0E,$03,$0E,$03,$0E,$03,$0E,$03,$0E,$03,$17,$29
	db $29,$18,$0F,$04,$0F,$04,$0F,$04,$0F,$04,$0F,$04,$0F,$04,$18,$29
	db $29,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$29
	db $29,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$29
	db $29,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$29
	db $29,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$29
	db $29,$19,$10,$05,$10,$05,$10,$05,$10,$05,$10,$05,$10,$05,$19,$29
	db $29,$1A,$11,$06,$11,$06,$11,$06,$11,$06,$11,$06,$11,$06,$1A,$29
	db $29,$1B,$12,$07,$12,$07,$12,$07,$12,$07,$12,$07,$12,$07,$1B,$29
	db $29,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$29
	db $29,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$29
	db $29,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$29
	db $29,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$29
	db $29,$16,$0D,$02,$0D,$02,$0D,$02,$0D,$02,$0D,$02,$0D,$02,$16,$29
	db $29,$17,$0E,$03,$0E,$03,$0E,$03,$0E,$03,$0E,$03,$0E,$03,$17,$29
	db $29

DATA_13CF14:
	db $01,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00
	db $0B,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01
	db $0C

DATA_13CF35:
	db $01,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B,$00,$0B
	db $00,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C,$01,$0C
	db $01

DATA_13CF56:
	db $0F,$00,$10,$00,$10,$00,$10,$00,$10,$00,$10,$00,$10,$00,$10,$00
	db $10,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	db $01,$02,$02,$02,$02,$02,$12,$02,$02,$02,$02,$02,$12,$02,$02,$02
	db $02,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
	db $03,$14,$04,$04,$04,$04,$04,$04,$04,$04,$14,$04,$04,$04,$04,$04
	db $04,$05,$05,$05,$05,$05,$05,$05,$05,$05,$05,$05,$05,$05,$05,$05
	db $05,$06,$06,$06,$06,$06,$06,$06,$06,$06,$06,$18,$06,$06,$06,$06
	db $06,$07,$07,$07,$07,$07,$07,$07,$1A,$07,$07,$07,$07,$07,$07,$1A
	db $07,$08,$08,$08,$08,$08,$08,$08,$1B,$08,$08,$08,$08,$08,$08,$08
	db $08,$09,$09,$09,$19,$09,$09,$09,$09,$09,$09,$09,$09,$09,$09,$09
	db $09,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A
	db $0A,$0B,$0B,$0B,$0B,$0B,$0B,$15,$0B,$0B,$0B,$0B,$0B,$0B,$0B,$0B
	db $0B,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C
	db $0C,$13,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$13,$0D
	db $0D,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E
	db $0E,$0F,$11,$0F,$11,$0F,$11,$0F,$11,$0F,$11,$0F,$11,$0F,$11,$0F
	db $11

DATA_13D057:
	db $0F,$10,$00,$10,$00,$10,$00,$10,$00,$10,$00,$10,$00,$10,$00,$10
	db $00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
	db $01,$02,$02,$02,$02,$12,$02,$02,$02,$02,$02,$02,$02,$02,$02,$02
	db $02,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
	db $03,$04,$04,$04,$04,$04,$04,$04,$04,$04,$04,$14,$04,$04,$04,$04
	db $04,$05,$05,$05,$05,$05,$05,$16,$05,$05,$05,$05,$05,$05,$05,$05
	db $05,$06,$06,$18,$06,$06,$06,$06,$06,$06,$06,$06,$06,$06,$06,$06
	db $06,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07,$07
	db $07,$08,$08,$08,$08,$08,$08,$08,$08,$08,$08,$08,$08,$1B,$08,$08
	db $08,$09,$09,$09,$09,$09,$09,$09,$09,$09,$19,$09,$09,$09,$09,$09
	db $09,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$0A,$17,$0A
	db $0A,$0B,$15,$0B,$0B,$0B,$0B,$0B,$0B,$0B,$0B,$0B,$0B,$0B,$0B,$0B
	db $0B,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C
	db $0C,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$13,$0D,$0D,$0D,$0D,$0D,$0D
	db $0D,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E
	db $0E,$11,$0F,$11,$0F,$11,$0F,$11,$0F,$11,$0F,$11,$0F,$11,$0F,$11
	db $0F

DATA_13D158:
	db $0F,$27,$2C,$30,$36,$30,$30,$30,$30,$48,$4F,$27,$2C,$30,$36,$30
	db $30,$26,$2D,$30,$30,$30,$2D,$30,$30,$4A,$53,$26,$2D,$30,$30,$30
	db $2D,$27,$28,$30,$30,$30,$36,$30,$30,$48,$4F,$27,$28,$30,$30,$30
	db $36,$26,$2C,$30,$30,$30,$30,$30,$30,$4A,$53,$26,$2C,$30,$30,$30
	db $30,$27,$2C,$34,$34,$38,$2C,$34,$38,$48,$4F,$27,$2C,$34,$34,$38
	db $2C,$26,$2D,$2C,$2C,$36,$30,$2C,$36,$4A,$53,$26,$2D,$2C,$2C,$36
	db $30,$27,$28,$30,$30,$2D,$30,$30,$2D,$48,$4F,$27,$28,$30,$30,$2D
	db $30,$26,$2C,$30,$30,$36,$30,$30,$36,$4A,$53,$26,$2C,$30,$30,$36
	db $30,$27,$2C,$30,$3A,$38,$2C,$3A,$38,$48,$4F,$27,$2C,$3A,$30,$38
	db $2C,$26,$2E,$30,$36,$36,$30,$36,$36,$4A,$53,$26,$2E,$36,$2C,$36
	db $30,$27,$2F,$2D,$30,$30,$30,$2D,$30,$48,$4F,$27,$2F,$2D,$30,$30
	db $30,$26,$2C,$36,$30,$30,$30,$36,$30,$4A,$53,$26,$2C,$36,$30,$30
	db $30,$27,$2D,$30,$3A,$30,$2C,$3A,$30,$48,$4F,$27,$2D,$3A,$30,$30
	db $30,$26,$28,$30,$36,$30,$2C,$36,$30,$4A,$53,$26,$28,$36,$2C,$30
	db $30,$27,$2C,$30,$30,$30,$2C,$30,$30,$48,$4F,$27,$2C,$30,$30,$30
	db $30,$26,$2D,$30,$30,$3A,$2C,$30,$30,$4A,$53,$26,$2D,$30,$30,$30
	db $2D

DATA_13D259:
	db $0F,$27,$28,$30,$30,$36,$2C,$30,$30,$48,$4F,$27,$28,$30,$30,$30
	db $36,$26,$2D,$30,$2C,$30,$30,$30,$30,$4A,$53,$26,$2C,$30,$2C,$30
	db $30,$27,$28,$30,$30,$2C,$30,$2C,$30,$4B,$54,$27,$2C,$30,$30,$30
	db $2D,$26,$29,$29,$40,$40,$40,$50,$29,$29,$50,$40,$40,$31,$29,$29
	db $31,$27,$2A,$2A,$41,$41,$41,$41,$2A,$2A,$41,$41,$41,$32,$2A,$2A
	db $32,$26,$2B,$33,$33,$33,$33,$5D,$26,$2B,$33,$33,$33,$33,$33,$33
	db $33,$27,$2C,$30,$30,$2F,$55,$5F,$27,$2C,$30,$2D,$30,$30,$30,$2D
	db $30,$26,$2C,$42,$45,$4C,$56,$60,$26,$2D,$30,$36,$30,$30,$30,$36
	db $2C,$27,$2E,$43,$46,$4D,$57,$61,$27,$28,$30,$2C,$30,$2D,$30,$30
	db $70,$26,$2C,$44,$47,$4E,$58,$62,$26,$2C,$30,$30,$30,$36,$30,$30
	db $30,$27,$2E,$30,$30,$30,$59,$63,$27,$2C,$3A,$2C,$30,$30,$30,$2C
	db $30,$26,$2F,$30,$30,$2F,$30,$5E,$26,$2C,$36,$3A,$69,$3A,$30,$30
	db $30,$27,$29,$29,$40,$40,$40,$50,$29,$29,$50,$40,$40,$31,$29,$29
	db $31,$26,$2A,$2A,$41,$41,$41,$41,$2A,$2A,$41,$41,$41,$32,$2A,$2A
	db $32,$27,$28,$33,$33,$33,$33,$33,$33,$49,$52,$26,$28,$33,$33,$33
	db $33,$26,$2C,$30,$2D,$30,$30,$30,$30,$48,$4F,$27,$2C,$30,$2D,$30
	db $30

DATA_13D35A:
	db $1E,$4D,$4D,$4D,$4D,$4D,$4D,$4D,$4D,$4D,$4D,$4D,$4D,$4D,$4D,$4D
	db $00,$05,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$00,$05,$4D,$4D,$01
	db $06,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$01,$06,$4D,$4D,$02,$07
	db $0F,$14,$1C,$14,$0F,$14,$14,$14,$41,$46,$4B,$4D,$4D,$03,$08,$10
	db $10,$1B,$1B,$1B,$10,$1B,$3A,$42,$47,$4C,$4D,$4D,$04,$09,$09,$15
	db $1D,$23,$2A,$30,$36,$3B,$43,$48,$49,$4D,$4D,$04,$04,$11,$16,$1E
	db $24,$2B,$31,$37,$3C,$44,$45,$49,$4D,$4D,$04,$04,$12,$17,$1F,$25
	db $2C,$32,$4E,$3D,$4D,$49,$49,$4D,$4D,$04,$0A,$4D,$18,$20,$26,$2D
	db $33,$4E,$3E,$44,$48,$49,$4D,$4D,$04,$04,$09,$19,$21,$27,$2E,$34
	db $38,$3F,$4D,$45,$49,$4D,$4D,$04,$0B,$11,$1A,$22,$28,$2F,$35,$39
	db $40,$45,$49,$49,$4D,$4D,$02,$07,$0F,$14,$0F,$14,$14,$0F,$14,$14
	db $41,$46,$4B,$4D,$4D,$03,$0C,$13,$1B,$1B,$29,$13,$1B,$1B,$1B,$10
	db $4A,$4C,$4D,$4D,$01,$06,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$0E,$01
	db $06,$4D,$4D,$00,$05,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D,$00,$05
	db $4D,$4D

DATA_13D43C:
	db $01,$44,$46,$44,$46,$44,$46,$44,$46,$44,$46,$44,$46,$44,$46,$44
	db $46,$45,$47,$45,$47,$45,$47,$45,$47,$45,$47,$45,$47,$45,$47,$45
	db $47

DATA_13D45D:
	db $A0,$36,$37,$37,$37,$37,$37

;--------------------------------------------------------------------

DATA_13D464:
	db $26,$38

DATA_13D466:
	db $2C,$01

;--------------------------------------------------------------------

DATA_13D468:
	db $1A,$24,$25

DATA_13D46B:
	db $0A,$09						; Single plant in rocky wall
	db $71,$72
	db $73,$74

;--------------------------------------------------------------------

DATA_13D471:
	db $51,$52,$53,$54,$55,$56

DATA_13D477:
	db $06,$10,$0B,$16,$0C,$17,$09,$15
	db $00,$0D,$00,$0E

;--------------------------------------------------------------------

DATA_13D483:
	db $13,$1B,$50,$59

DATA_13D487:
	db $23,$2A,$24,$2B,$04,$06,$05,$07			; Small jungle tree
	db $00,$0D,$00,$0E,$49,$51,$4A,$55

;--------------------------------------------------------------------

DATA_13D497:
	db $1C,$1D,$21,$22,$5E

DATA_13D49C:
	db $04,$06,$08,$07,$09,$03,$0A,$02			; Double plant in rocky wall
	db $0B,$06,$05,$07

	db $37,$47,$38,$48,$25,$25,$89,$8B
	db $8A,$8C,$25,$25

	db $01,$04,$02,$05,$03,$06

DATA_13D4BA:
	db !Define_SMB2U_LevelID_1_3
	db !Define_SMB2U_LevelID_1_3
	db !Define_SMB2U_LevelID_1_3
	db !Define_SMB2U_LevelID_1_3
	db !Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_3_3

DATA_13D4C4:
	db !Define_SMB2U_SublevelID_1_3_PhantoRoom
	db !Define_SMB2U_SublevelID_1_3_TowerVerticalShaft
	db !Define_SMB2U_SublevelID_1_3_TowerBasement
	db !Define_SMB2U_SublevelID_3_3_MiddleTower
	db !Define_SMB2U_SublevelID_3_3_FortressEntryway
	db !Define_SMB2U_SublevelID_3_3_LeftTower
	db !Define_SMB2U_SublevelID_3_3_MiddleTower
	db !Define_SMB2U_SublevelID_3_3_RightTower
	db !Define_SMB2U_SublevelID_3_3_PhantoRoom
	db !Define_SMB2U_SublevelID_3_3_MousersRoom

DATA_13D4CE:
	db $01,$03,$0B,$62,$63,$0C,$02

DATA_13D4D5:
	db $76,$33,$2E,$67,$64,$2E,$33

;--------------------------------------------------------------------

DATA_13D4DC:
	db $20,$25,$21,$26,$2C,$30,$33,$22
	db $27,$2D

;--------------------------------------------------------------------

DATA_13D4E6:
	db $15,$16,$17,$18,$19,$27,$28,$29
	db $2A,$2B,$2C,$2D,$2E,$2F,$30,$31
	db $32,$33,$35,$36,$37,$39,$3A,$3B
	db $3C,$3D,$3E,$3F,$45,$46,$47,$4D
	db $4E,$57,$58,$5B,$5C,$5D,$5F,$60
	db $61,$62,$63,$64,$65,$66,$67,$68
	db $69,$6A,$6B,$6C

DATA_13D51A:
	dw DATA_13D582
	dw DATA_13D582
	dw DATA_13D582
	dw DATA_13D582
	dw DATA_13D582
	dw DATA_13D582
	dw DATA_13D5A1
	dw DATA_13D5AA
	dw DATA_13D5B7
	dw DATA_13D5BE
	dw DATA_13D5C5
	dw DATA_13D5D1
	dw DATA_13D5D5
	dw DATA_13D5E2
	dw DATA_13D5E7
	dw DATA_13D5F4
	dw DATA_13D5F9
	dw DATA_13D5FD
	dw DATA_13D605
	dw DATA_13D60E
	dw DATA_13D630
	dw DATA_13D646
	dw DATA_13D64D
	dw DATA_13D654
	dw DATA_13D661
	dw DATA_13D668
	dw DATA_13D66C
	dw DATA_13D685
	dw DATA_13D692
	dw DATA_13D69C
	dw DATA_13D6A9
	dw DATA_13D6BC
	dw DATA_13D6C3
	dw DATA_13D6F5
	dw DATA_13D714
	dw DATA_13D79C
	dw DATA_13D7AC
	dw DATA_13D81D
	dw DATA_13D864
	dw DATA_13D873
	dw DATA_13D873
	dw DATA_13D892
	dw DATA_13D8AC
	dw DATA_13D8B6
	dw DATA_13D8B6
	dw DATA_13D8B6
	dw DATA_13D8B6
	dw DATA_13D8D1
	dw DATA_13D8F9
	dw DATA_13D93A
	dw DATA_13D96B
	dw DATA_13D9B9

DATA_13D582:
	db $E1,$40,$09,$65,$68,$17,$1B,$09,$40,$09,$65,$68,$17,$1B,$09,$09
	db $30,$0A,$0A,$0A

	db $15,$1C,$0A,$30,$0A,$0A

	db $0A,$15,$1C,$0A,$0A

DATA_13D5A1:
	db $31,$60,$60,$60,$60,$25,$25,$64,$67

DATA_13D5AA:
	db $51,$6A,$6F,$77,$7A,$7A,$7A,$6B,$25,$25,$25,$67,$64

DATA_13D5B7:
	db $21,$6A,$6F,$77,$6B,$25,$25

DATA_13D5BE:
	db $21,$6A,$7A,$6F,$6B,$25,$25

DATA_13D5C5:
	db $A0,$61,$61,$66,$69,$16,$6E,$75,$61,$61,$66,$69

DATA_13D5D1:
	db $20,$7F,$80,$81

DATA_13D5D5:
	db $51,$6A,$6F,$77,$7A,$7A,$7A,$6B,$83,$25,$25,$64,$67

DATA_13D5E2:
	db $30,$86,$2C,$2C,$08

DATA_13D5E7:
	db $51,$7F,$80,$81,$81,$8D,$81,$19,$73,$88,$08,$63,$62

DATA_13D5F4:
	db $30,$75,$61,$84,$85

DATA_13D5F9:
	db $02,$7C,$7D,$7E

DATA_13D5FD:
	db $06,$7D,$7D,$7D,$7D,$7D,$7D,$7E

DATA_13D605:
	db $13,$0B,$1A,$0C,$1B,$09,$18,$0A,$19

DATA_13D60E:
	db $2A,$00,$0D,$1C,$03,$0E,$1D,$04,$0F,$1E,$05,$0E,$1F,$04,$0F,$20
	db $05,$0E,$21,$04,$0F,$1E,$05,$0E,$1F,$04,$0F,$20,$05,$0E,$21,$06
	db $10,$24

DATA_13D630:
	db $26,$00,$0D,$1C,$03,$0E,$1D,$04,$0F,$1E,$05,$0E,$1F,$04,$0F,$20
	db $05,$0E,$21,$06,$10,$24

DATA_13D646:
	db $50,$2A,$02,$07,$0C,$0C,$0C

DATA_13D64D:
	db $50,$2A,$05,$09,$0D,$0D,$0D

DATA_13D654:
	db $51,$2A,$2A,$2A,$0E,$32,$34,$2A,$2A,$2A,$0F,$33,$35

DATA_13D661:
	db $50,$2A,$06,$0A,$10,$10,$10

DATA_13D668:
	db $20,$24,$29,$29

DATA_13D66C:
	db $35,$07,$11,$17,$17,$0B,$12,$18,$18,$19,$12,$18,$18,$1A,$12,$18
	db $18,$39,$1C,$1E,$1E,$08,$3A,$3A,$3A

DATA_13D685:
	db $51,$01,$04,$07,$0C,$0C,$0C,$00,$03,$08,$0D,$0D,$0D

DATA_13D692:
	db $22,$1E,$21,$25,$1F,$22,$26,$20,$23,$27

DATA_13D69C:
	db $23,$00,$04,$0A,$01,$05,$0B,$02,$06,$0C,$03,$07,$0D

DATA_13D6A9:
	db $25,$00,$04,$0A,$01,$05,$0B,$02,$06,$0C,$01,$05,$0B,$02,$06,$0C
	db $03,$07,$0D

DATA_13D6BC:
	db $21,$37,$43,$4D,$38,$44,$4E

DATA_13D6C3:
	db $66,$01,$05,$05,$05,$05,$05,$05,$02,$06,$0A,$11,$18,$1E,$23,$00
	db $07,$0B,$12,$19,$3D,$3D,$00,$07,$0C,$13,$1A,$3D,$3D,$00,$07,$04
	db $14,$1B,$1F,$24,$01,$05,$05,$05,$05,$05,$05,$02,$08,$0D,$15,$15
	db $20,$25

DATA_13D6F5:
	db $29,$51,$56,$15,$52,$07,$15,$53,$15,$15,$54,$08,$15,$51,$57,$08
	db $51,$58,$15,$51,$56,$15,$51,$57,$08,$51,$59,$5A,$51,$58,$15

DATA_13D714:
	db $8E,$03,$08,$15,$15,$0A,$08,$15,$15,$15,$00,$03,$08,$0A,$06,$03
	db $08,$15,$15,$00,$00,$03,$06,$00,$00,$02,$15,$15,$00,$00,$00,$2A
	db $00,$00,$03,$08,$15,$00,$00,$20,$2B,$32,$3A,$3A,$44,$08,$00,$00
	db $21,$2C,$33,$3B,$40,$40,$4B,$00,$20,$25,$2D,$00,$3C,$00,$00,$00
	db $00,$21,$26,$2D,$34,$00,$00,$00,$0B,$00,$22,$27,$2E,$35,$3D,$3D
	db $3D,$4C,$00,$23,$28,$2E,$36,$3E,$41,$45,$4D,$00,$24,$29,$2E,$00
	db $00,$00,$00,$00,$00,$00,$23,$2F,$32,$3A,$3A,$3A,$4E,$00,$00,$24
	db $30,$33,$3B,$40,$40,$4F,$00,$00,$00,$31,$00,$3C,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00

DATA_13D79C:
	db $24,$00,$00,$00,$00,$00,$37,$00,$00,$38,$00,$00,$3C,$00,$00,$00

DATA_13D7AC:
	db $7D,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$37,$00,$00,$00,$00,$00,$00,$00,$38
	db $3F,$00,$00,$00,$00,$00,$00,$3C,$00,$00,$00,$00,$00,$00,$37,$00
	db $00,$00,$00,$00,$00,$00,$38,$3F,$3F,$00,$00,$00,$00,$00,$3C,$00
	db $00,$00,$00,$00,$00,$00,$37,$00,$00,$00,$00,$00,$00,$00,$38,$3F
	db $3F,$00,$00,$00,$00,$00,$3C,$00,$00,$00,$00,$00,$00,$00,$2A,$00
	db $00

DATA_13D81D:
	db $69,$00,$20,$2B,$32,$3A,$6D,$71,$00,$21,$2C,$63,$66,$66,$72,$20
	db $25,$2D,$64,$67,$67,$73,$21,$26,$2D,$64,$68,$6E,$74,$22,$27,$2E
	db $64,$69,$6F,$75,$23,$28,$2E,$64,$6A,$70,$76,$24,$29,$2E,$64,$67
	db $67,$77,$00,$23,$2F,$65,$6B,$6B,$78,$00,$24,$30,$33,$6C,$6C,$79
	db $00,$00,$31,$00,$00,$00,$00

DATA_13D864:
	db $61,$2F,$33,$39,$45,$4F,$55,$5B,$30,$34,$3A,$46,$50,$56,$5C

DATA_13D873:
	db $E1,$46,$09,$17,$1B,$54,$55,$52,$53,$17,$46,$54,$55,$52,$53,$17
	db $49,$0A,$15,$1C,$0A,$30,$0A,$0A,$15,$1C,$0A,$30,$0A,$0A,$15

DATA_13D892:
	db $44,$20,$08,$28,$29,$2A,$19,$28,$29,$2A,$31,$21,$29,$2A,$31,$2C
	db $22,$2A,$57,$08,$2C,$23,$56,$0E,$36,$32

DATA_13D8AC:
	db $22,$1D,$02,$0B,$1E,$26,$0E,$1F,$27,$26

DATA_13D8B6:
	db $C1,$03,$0E,$03,$0E,$03,$0E,$03,$0E,$03,$0E,$03,$0E,$17,$04,$0F
	db $04,$0F,$04,$0F,$04,$0F,$04,$0F,$04,$0F,$18

DATA_13D8D1:
	db $C2,$08,$13,$08,$13,$08,$13,$08,$13,$08,$13,$08,$13,$1C,$09,$14
	db $09,$14,$09,$14,$09,$14,$09,$14,$09,$14,$1D,$0A,$15,$0A,$15,$0A
	db $15,$0A,$15,$0A,$15,$0A,$15,$1E

DATA_13D8F9:
	db $3F,$00,$00,$3B,$39,$00,$00,$3A,$1A,$00,$00,$0C,$1B,$00,$00,$09
	db $18,$00,$00,$0A,$19,$00,$00,$12,$26,$00,$00,$11,$25,$00,$00,$13
	db $27,$00,$00,$14,$28,$00,$07,$15,$28,$07,$37,$15,$28,$08,$38,$16
	db $28,$00,$08,$38,$28,$00,$00,$08,$28,$00,$00,$3B,$28,$00,$00,$3A
	db $28

DATA_13D93A:
	db $2F,$30,$30,$30,$30,$39,$2C,$2C,$3B,$30,$30,$38,$2C,$2C,$36,$30
	db $30,$38,$2C,$30,$36,$38,$38,$2C,$3C,$36,$30,$30,$2D,$2D,$30,$35
	db $36,$30,$36,$39,$2C,$37,$3B,$30,$30,$38,$2C,$30,$36,$30,$30,$2C
	db $30

DATA_13D96B:
	db $A6,$01,$05,$05,$05,$05,$05,$05,$05,$05,$05,$05,$02,$0A,$11,$18
	db $1E,$23,$02,$06,$06,$06,$06,$00,$0B,$12,$19,$3D,$3D,$00,$07,$07
	db $07,$07,$00,$0C,$13,$1A,$3D,$3D,$00,$07,$07,$07,$07,$00,$04,$14
	db $1B,$1F,$24,$00,$07,$07,$07,$07,$01,$05,$05,$05,$05,$05,$05,$05
	db $05,$05,$05,$02,$0A,$09,$0F,$0F,$0F,$1C,$21,$30,$36,$30

DATA_13D9B9:
	db $30,$10,$16,$1D,$22

;--------------------------------------------------------------------

DATA_13D9BE:
	db $02,$03,$04,$05,$06,$07,$08,$09
	db $0A,$07

DATA_13D9C8:
	db $0D,$0E,$0F,$10,$11,$12,$13,$14
	db $15,$12

DATA_13D9D2:
	db $16,$17,$18,$19,$1A,$1B,$1C,$1D
	db $1E,$1B

DATA_13D9DC:
	db $03,$06,$0A

;--------------------------------------------------------------------

DATA_13D9DF:
	db $17,$16,$16,$15

DATA_13D9E3:
	db $19

DATA_13D9E4:
	db $00,$01,$6C,$6D,$22,$23

DATA_13D9EA:
	db $18,$1A,$6C,$6D,$22,$23

;--------------------------------------------------------------------

DATA_13D9F0:
	db $01,$02,$03,$06,$06,$03,$02

DATA_13D9F7:
	db $1D,$1E,$26,$1F,$27,$26,$6C,$60
	db $78,$7B,$60,$60,$6D,$70,$2A,$25
	db $64,$67,$22,$2A,$79,$23,$31

;--------------------------------------------------------------------

DATA_13DA0E:
	dw DATA_13DA16
	dw DATA_13DA16
	dw DATA_13DA16
	dw DATA_13DA16

DATA_13DA16:
	db $60,$30,$B2,$2C,$83,$2E,$14,$33,$54,$2F,$C4,$36,$25,$30,$97,$35
	db $D8,$2C,$59,$31,$2A,$2B,$6C,$33,$EC,$36,$0D,$2E,$BD,$2B,$8E,$31
	db $4F,$2C,$F0,$61,$30,$B3,$2C,$84,$2E,$15,$33,$55,$2F,$C5,$36,$26
	db $30,$98,$35,$D9,$2C,$5A,$31,$2B,$2B,$6D,$33,$ED,$36,$0E,$2E,$BE
	db $2B,$8F,$31,$F0,$60,$30,$B2,$2C,$83,$2E,$14,$33,$54,$2F,$C4,$36
	db $25,$30,$97,$35,$D8,$2C,$59,$31,$2A,$2B,$6C,$33,$EC,$36,$0D,$2E
	db $BD,$2B,$8E,$31,$4F,$2C,$F0,$40,$2C,$42,$2F,$03,$31,$16,$30,$59
	db $30,$2A,$2B,$4D,$2D,$1E,$35,$FF

;--------------------------------------------------------------------

DATA_13DA8E:
	db $07,$14,$27,$20,$27

DATA_13DA93:
	db $37,$15,$28,$22,$28

DATA_13DA98:
	db $38,$16,$28,$23,$25

DATA_13DA9D:
	db $08,$08,$39,$21,$26

DATA_13DAA2:
	db $13

DATA_13DAA3:
	db $3B

DATA_13DAA4:
	db $3A

;--------------------------------------------------------------------

DATA_13DAA5:
	db $05,$08,$04,$0A

DATA_13DAA9:
	db $08,$15,$24,$16,$0F

DATA_13DAAE:
	db $10,$11,$12,$13,$14

DATA_13DAB3:
	db $17,$18,$18,$19,$1A

DATA_13DAB8:
	db $1B,$18,$18,$1C,$1D

;--------------------------------------------------------------------

DATA_13DABD:
	db $35,$36,$3F,$40,$5E,$5F,$60,$61
	db $2D,$2E,$2F,$30,$77,$78,$79,$7A

DATA_13DACD:
	db $41,$42,$43,$4A,$65,$66,$67,$68
	db $31,$32,$33,$34,$7B,$53,$42,$7C

DATA_13DADD:
	db $4B,$4C,$4D,$4E,$6C,$6D,$6E,$6F
	db $3B,$3C,$39,$3A,$7D,$43,$4C,$7E
	db $52,$53,$42,$54,$70,$71,$66,$72
	db $47,$48,$32,$46,$62,$4D,$53,$63
	db $59,$43,$4C,$5A,$73,$67,$6D,$74
	db $51,$33,$3C,$50,$69,$42,$43,$6A
	db $62,$4D,$53,$63,$75,$6E,$71,$76
	db $57,$39,$48,$56,$4B,$4C,$4D,$4E
	db $69,$42,$43,$6A,$00,$00,$00,$00
	db $5D,$32,$33,$5C,$52,$53,$42,$54

;--------------------------------------------------------------------

DATA_13DB2D:
	db $39,$3A,$32,$3B,$3C,$48

DATA_13DB33:
	db $3D,$3E,$49,$37,$38,$44

DATA_13DB39:
	db $2F,$33,$39,$32,$3C,$48

DATA_13DB3F:
	db $58,$5B,$64,$6B,$4F,$55

;--------------------------------------------------------------------

DATA_13DB45:
	db $02,$03

DATA_13DB47:
	db $04,$05

DATA_13DB49:
	db $04,$05

DATA_13DB4B:
	db $06,$0A

DATA_13DB4D:
	db $13,$14,$14,$13

DATA_13DB51:
	db $12,$0F,$11,$10

DATA_13DB55:
	db $10,$11,$12,$0F

DATA_13DB59:
	db $12,$0F,$10,$11

;--------------------------------------------------------------------

DATA_13DB5D:
	db $43

DATA_13DB5E:
	db $47

DATA_13DB5F:
	db $50

;--------------------------------------------------------------------

DATA_13DB60:
	db $4D,$5F,$64,$65,$66,$27,$61

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	%FREE_BYTES(NULLROM, 155, $FF)
else
	%FREE_BYTES(NULLROM, 153, $FF)
endif

;--------------------------------------------------------------------

CODE_13DC00:
	REP.b #$30
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	AND.w #$00FF
	ASL
	ASL
	ASL
	ASL
	ASL
	TAX
	LDY.w #$0000
CODE_13DC11:
	LDA.l DATA_14B65C,x
	STA.w SMB2U_PaletteMirror[$D0].LowByte,y
	INX
	INX
	INY
	INY
	CPY.w #$0020
	BNE.b CODE_13DC11
	SEP.b #$30
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDX.b #$06
CODE_13DC30:
	CMP.l DATA_138779,x
	BEQ.b CODE_13DC3C
	DEX
	BPL.b CODE_13DC30
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC

CODE_13DC3C:
	REP.b #$20
	TXA
	AND.w #$00FF
	ASL
	ASL
	ASL
	ASL
	ASL
	TAX
	LDY.b #$00
CODE_13DC4A:
	LDA.l DATA_14B8DC,x
	STA.w SMB2U_PaletteMirror[$D0].LowByte,y
	INX
	INX
	INY
	INY
	CPY.b #$20
	BNE.b CODE_13DC4A
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_BufferTitleScreenPaletteData(NULLROM)					; $13DC5E

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_13DCAD:
	REP.b #$20
	LDX.b #$00
ADDR_13DCB1:
	LDA.w UNK_11C9EC,x
	STA.w SMB2U_PaletteMirror[$00].LowByte,x
	INX
	INX
	CPX.b #$08
	BCC.b ADDR_13DCB1
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_BufferWartHurtFlashPaletteData(NULLROM)					; $13DCC2
	%ROUTINE_SMB2U_BufferLevelPreviewPaletteData(NULLROM)					; $13DCDA

;--------------------------------------------------------------------

CODE_13DD50:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_6_3
	BNE.b CODE_13DD62
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #$03
	BEQ.b CODE_13DD8D
	CMP.b #$04
	BEQ.b CODE_13DD8D
CODE_13DD62:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_7_2
	BNE.b CODE_13DD70
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #$05
	BEQ.b CODE_13DD8D
CODE_13DD70:
	REP.b #$20
	LDX.b #$00
CODE_13DD74:
	LDA.l DATA_14B9BC,x
	STA.w SMB2U_PaletteMirror[$00].LowByte,x
	LDA.l DATA_14B9CC,x
	STA.w SMB2U_PaletteMirror[$08].LowByte,x
	INX
	INX
	CPX.b #$10
	BNE.b CODE_13DD74
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC

CODE_13DD8D:
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_BufferEndingPart2PaletteData(NULLROM)					; $13DD8E
	%ROUTINE_SMB2U_BufferEndingPart3PaletteData(NULLROM)					; $13DE0D
	%ROUTINE_SMB2U_BufferSlotMachineAndWarpZonePaletteData(NULLROM)				; $13DE8C
	%ROUTINE_SMB2U_BufferSubspacePaletteData(NULLROM)					; $13DEE2
	%ROUTINE_SMB2U_BufferPlayerFlashingPaletteAnimationData(NULLROM)			; $13DF02
	%ROUTINE_SMB2U_BufferPlayerPowerJumpFlashPaletteAnimationData(NULLROM)			; $13DFB7
	%ROUTINE_SMB2U_BufferCandleFlamePaletteAnimationData(NULLROM)				; $13E135
	%ROUTINE_SMB2U_BufferGiantPhantoBGPaletteAnimationData(NULLROM)				; $13E193
	%ROUTINE_SMB2U_BufferEndingPart1PaletteData(NULLROM)					; $13E25B
	%ROUTINE_SMB2U_BufferIceCrystalBGPaletteAnimationData(NULLROM)				; $13E282

;--------------------------------------------------------------------

DATA_13E449:
	db !Define_SMB2U_LevelID_2_2
	db !Define_SMB2U_LevelID_6_1
	db !Define_SMB2U_LevelID_6_3
	db !Define_SMB2U_LevelID_6_3
	db !Define_SMB2U_LevelID_6_1
	db !Define_SMB2U_LevelID_2_2
	db !Define_SMB2U_LevelID_2_3

DATA_13E450:
	db $01,$00,$03,$04,$06,$04,$04

CODE_13E457:
	LDX.b #$06
CODE_13E459:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.l DATA_13E449,x
	BNE.b CODE_13E46B
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.l DATA_13E450,x
	BEQ.b CODE_13E485
CODE_13E46B:
	DEX
	BPL.b CODE_13E459
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_6_1
	BNE.b CODE_13E484
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_6_1_GenericVase
	BNE.b CODE_13E484
	LDA.w $051B
	BNE.b CODE_13E484								; Note: !Define_SMB2U_SublevelID_6_1_LevelEntrance
	JSR.w CODE_13E49D
CODE_13E484:
	RTL

CODE_13E485:
	JSR.w CODE_13E489
	RTL

CODE_13E489:
	TXA
	ASL
	TAX
	JMP.w (DATA_13E48F,x)

DATA_13E48F:
	dw CODE_13E49D
	dw CODE_13E49D
	dw CODE_13E4B8
	dw CODE_13E4B8
	dw CODE_13E49D
	dw CODE_13E49D
	dw CODE_13E4CC

CODE_13E49D:
	REP.b #$20
	LDX.b #$00
CODE_13E4A1:
	LDA.l DATA_14BF00,x
	STA.w SMB2U_PaletteMirror[$10].LowByte,x
	LDA.l DATA_14BF20,x
	STA.w SMB2U_PaletteMirror[$70].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13E4A1
	SEP.b #$20
	RTS

CODE_13E4B8:
	REP.b #$20
	LDX.b #$00
CODE_13E4BC:
	LDA.l DATA_14BF40,x
	STA.w SMB2U_PaletteMirror[$70].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13E4BC
	SEP.b #$20
	RTS

CODE_13E4CC:
	REP.b #$20
	LDX.b #$00
CODE_13E4D0:
	LDA.l DATA_14BF60,x
	STA.w SMB2U_PaletteMirror[$70].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13E4D0
	SEP.b #$20
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_BufferLayer3StarBGPaletteAnimationData(NULLROM)				; $13E4E0
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	%FREE_BYTES(NULLROM, 458-109, $FF)
else
	%FREE_BYTES(NULLROM, 458, $FF)
endif

;--------------------------------------------------------------------

SMB2U_WaitForVBlankRt_EndingPart3:
.TurnOnFBlank:
;$13E700
	LDA.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	BEQ.b +											; Note: This will always branch

.TurnOffFBlank:
	LDA.b #!ScreenDisplayRegister_MaxBrightness0F
+:
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
.Main:
	LDA.b !RAM_SMB2U_Global_StripeImageToUpload
	ASL
	TAX
	LDA.w DATA_11BDA6,x
	STA.b !RAM_SMB2U_Global_StripeImageDataLo
	LDA.w DATA_11BDA6+$01,x
	STA.b !RAM_SMB2U_Global_StripeImageDataHi
	LDA.b #DATA_11BDBA>>16
	STA.b !RAM_SMB2U_Global_StripeImageDataBank
	STZ.w !RAM_SMB2U_Global_WaitForVBlankFlag
-:
	LDA.w !RAM_SMB2U_Global_WaitForVBlankFlag
	BPL.b -
	JSL.l SMB2U_PollJoypadInputs_Main
	CLI
	RTS

;--------------------------------------------------------------------


CODE_13E728:
	LDA.b #$B0
	BRA.b CODE_13E72E

CODE_13E72C:
	LDA.b #$30
CODE_13E72E:
	STA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	RTS

;--------------------------------------------------------------------

SMB2U_ProcessEndingPart3:
.Main:
;$13E731
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_TurnOnFBlank
	JSL.l CODE_14F953
	LDA.b #$40
	STA.w $0100
	JSR.w CODE_13E728
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	JSL.l SMB2U_BufferEndingPart3PaletteData_Main
	LDA.b #$10
	STA.b !RAM_SMB2U_Ending_ThoughtBubbleAnimationFrameCounter
	LDA.b #$04
	STA.b !RAM_SMB2U_Ending_WaitBeforeThoughtBubbleDisappears
	STZ.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STZ.b !RAM_SMB2U_Ending_ThoughtBubbleAnimationFrame
	STZ.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	LDA.b #$70
	STA.w !RAM_SMB2U_Global_HDMAEnableMirror
	LDA.b #$01
	JSL.l SMB2U_BufferHDMAGradient_Main
CODE_13E76C:
	LDA.b #$0D
	STA.b !RAM_SMB2U_Ending_SleepingMarioAnimationLoopCounter
	STZ.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	JSL.l SMB2U_SetSleepingMariosAnimationFrame_Main
	LDA.b #$01
	STA.w !RAM_SMB2U_Ending_SleepingMarioAnimationIndex
CODE_13E77B:
	LDY.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	LDA.w DATA_11C1A3,y
	STA.w !RAM_SMB2U_Ending_SleepingMarioAnimationFrameCounter
CODE_13E783:
	DEC.b !RAM_SMB2U_Ending_ThoughtBubbleAnimationFrameCounter
	BPL.b CODE_13E78D
	LDA.b #$10
	STA.b !RAM_SMB2U_Ending_ThoughtBubbleAnimationFrameCounter
	INC.b !RAM_SMB2U_Ending_ThoughtBubbleAnimationFrame
CODE_13E78D:
	JSR.w CODE_13E8A4
	LDA.b $E6
	CMP.b #$05
	BEQ.b CODE_13E79F
	JSL.l CODE_129539
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	BRA.b CODE_13E7A2

CODE_13E79F:
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_TurnOffFBlank
CODE_13E7A2:
	DEC.w !RAM_SMB2U_Ending_SleepingMarioAnimationFrameCounter
	BPL.b CODE_13E783
	INC.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	DEC.b !RAM_SMB2U_Ending_SleepingMarioAnimationLoopCounter
	BPL.b CODE_13E77B
	DEC.b !RAM_SMB2U_Ending_WaitBeforeThoughtBubbleDisappears
	BMI.b CODE_13E7B4
	JMP.w CODE_13E76C

CODE_13E7B4:
	DEC.b $E6
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l CODE_14F9F0
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	LDA.b #$04
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	LDA.b #$05
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	LDA.b #$06
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	LDA.b #$07
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	LDA.b #$08
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	REP.b #$20
	LDA.w #$4480
	STA.w SMB2U_PaletteMirror[$A1].LowByte
	SEP.b #$20
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	STZ.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	LDA.b #$06
	STA.b !RAM_SMB2U_Ending_SleepingMarioAnimationLoopCounter
	STZ.b $14
	LDA.b #$02
	STA.w !RAM_SMB2U_Ending_SleepingMarioAnimationIndex
	JSL.l SMB2U_SetSleepingMariosAnimationFrame_Main
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_TurnOffFBlank
CODE_13E807:
	LDY.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	LDA.w DATA_11C1C6,y
	STA.w $06C3
	CLC
	ADC.b #$02
	STA.w $06C4
	LDA.w DATA_11C1B1,y
	STA.b !RAM_SMB2U_Global_FrameCounter
CODE_13E81A:
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	DEC.b !RAM_SMB2U_Global_FrameCounter
	BPL.b CODE_13E81A
	INC.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	DEC.b !RAM_SMB2U_Ending_SleepingMarioAnimationLoopCounter
	BPL.b CODE_13E807
	LDA.b #$10
	STA.b !RAM_SMB2U_Ending_ThoughtBubbleAnimationFrameCounter
	LDA.b #$01
	STA.b $14
CODE_13E82F:
	STZ.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	LDA.b #$0D
	STA.b !RAM_SMB2U_Ending_SleepingMarioAnimationLoopCounter
	LDA.b #$01
	STA.w !RAM_SMB2U_Ending_SleepingMarioAnimationIndex
	JSL.l SMB2U_SetSleepingMariosAnimationFrame_Main
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_TurnOffFBlank
CODE_13E841:
	LDY.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	LDA.w DATA_11C1A3,y
	STA.b !RAM_SMB2U_Global_FrameCounter
CODE_13E848:
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	DEC.b !RAM_SMB2U_Global_FrameCounter
	BPL.b CODE_13E848
	INC.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	DEC.b !RAM_SMB2U_Ending_SleepingMarioAnimationLoopCounter
	BPL.b CODE_13E841
	DEC.b $14
	BMI.b CODE_13E85C
	JMP.w CODE_13E82F

CODE_13E85C:
	JSR.w SMB2U_DrawCastTextAndInitializeCastListRAM_Main
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	STZ.w !RAM_SMB2U_Ending_PauseMenuOpenFlag
	STZ.w !RAM_SMB2U_Ending_DisplayPushStartFlag
	LDA.b #$B0
	STA.w !RAM_SMB2U_Ending_WaitBeforeDisplayingPushStartTimer
CODE_13E86D:
	STZ.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	LDA.b #$0D
	STA.b !RAM_SMB2U_Ending_SleepingMarioAnimationLoopCounter
	JSL.l SMB2U_SetSleepingMariosAnimationFrame_Main
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_TurnOffFBlank
CODE_13E87A:
	LDY.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	LDA.w DATA_11C1B8,y
	STA.w $06C3
	CLC
	ADC.b #$02
	STA.w $06C4
	LDA.w DATA_11C1A3,y
	STA.b !RAM_SMB2U_Global_FrameCounter
CODE_13E88D:
	JSR.w CODE_13E907
	JSR.w SMB2U_WaitForVBlankRt_EndingPart3_Main
	JSL.l SMB2U_HandleEndingPauseMenu_Main
	DEC.b !RAM_SMB2U_Global_FrameCounter
	BPL.b CODE_13E88D
	INC.b !RAM_SMB2U_Ending_SleepingMarioAnimationFrame
	DEC.b !RAM_SMB2U_Ending_SleepingMarioAnimationLoopCounter
	BPL.b CODE_13E87A
	JMP.w CODE_13E86D

CODE_13E8A4:
	LDY.b #$1F
	LDA.b !RAM_SMB2U_Ending_ThoughtBubbleAnimationFrame
	AND.b #$01
	BNE.b CODE_13E8B7
CODE_13E8AC:
	LDA.w DATA_11C133,y
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	DEY
	BPL.b CODE_13E8AC
	BRA.b CODE_13E8C0

CODE_13E8B7:
	LDA.w DATA_11C153,y
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	DEY
	BPL.b CODE_13E8B7
CODE_13E8C0:
	LDY.b #$17
	LDA.b !RAM_SMB2U_Ending_ThoughtBubbleAnimationFrame
	AND.b #$01
	BNE.b CODE_13E8D3
CODE_13E8C8:
	LDA.w DATA_11C173,y
	STA.w SMB2U_OAMBuffer[$08].XDisp,y
	DEY
	BPL.b CODE_13E8C8
	BRA.b CODE_13E8DC

CODE_13E8D3:
	LDA.w DATA_11C18B,y
	STA.w SMB2U_OAMBuffer[$08].XDisp,y
	DEY
	BPL.b CODE_13E8D3
CODE_13E8DC:
	STZ.w SMB2U_OAMTileSizeBuffer[$00].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$01].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$02].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$03].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$04].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$05].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$06].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$07].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$08].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$09].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$0A].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$0B].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$0C].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$0D].Slot
	RTS

CODE_13E907:
	INC.b $2E
	LDA.b $2E
	AND.b #$01
	BNE.b CODE_13E915
	DEC.b $39
	DEC.b $3A
	DEC.b $3B
CODE_13E915:
	LDA.b !RAM_SMB2U_Ending_CastListState
	JSL.l SMB2U_ExecutePtr_Absolute

DATA_13E91B:
	dw SMB2U_EndingPart3State00_FadeInCast_Main
	dw SMB2U_EndingPart3State01_DelayScrolling_Main
	dw SMB2U_EndingPart3State02_BeginScrollingUpwards_Main
	dw SMB2U_EndingPart3State03_DisplayCastList_Main
	dw SMB2U_EndingPart3State04_InitializeWart_Main
	dw SMB2U_EndingPart3State05_ScrollWartUp_Main
	dw SMB2U_EndingPart3State06_MakeWartSnicker_Main
	dw SMB2U_EndingPart3State07_FadeOutWart_Main
	dw SMB2U_EndingPart3State08_RemovetWartsTiles_Main
	dw SMB2U_EndingPart3State09_InitializeTheEndText_Main
	dw SMB2U_EndingPart3State0A_DrawTheEndText_Main

;--------------------------------------------------------------------

CODE_13E931:
	RTS

;--------------------------------------------------------------------

SMB2U_SetPointerForCastListSpriteData:
.Main:
;$13E932
	PHX
	LDX.b !RAM_SMB2U_Ending_CastListSpriteIndex
	LDA.l SMB2U_CastListOAMData_PtrLo,x
	STA.b !RAM_SMB2U_Ending_CastListSpriteDataPtrLo
	LDA.l SMB2U_CastListOAMData_PtrHi,x
	STA.b !RAM_SMB2U_Ending_CastListSpriteDataPtrHi
	LDA.l SMB2U_CastListOAMData_PtrBank,x
	STA.b !RAM_SMB2U_Ending_CastListSpriteDataPtrBank
	INC.b !RAM_SMB2U_Ending_CastListSpriteIndex
	PLX
	RTS

;--------------------------------------------------------------------

SMB2U_DrawCastTextAndInitializeCastListRAM:
.Main:
;$13E94B
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000	;[BR] Total of bytes
	LDX.b #$17
else
	LDX.b #$0F
endif

CODE_13E94D:
	LDA.l SMB2U_CastListOAMData_CastText,x
	STA.w SMB2U_OAMBuffer[$10].XDisp,x
	DEX
	BPL.b CODE_13E94D
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$10].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$11].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$12].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$13].Slot
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMTileSizeBuffer[$14].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$15].Slot
endif
	LDA.b #$02
	STA.b !RAM_SMB2U_Ending_GenericCastListTimer
	STZ.b !RAM_SMB2U_Ending_CastListState
	STZ.b !RAM_SMB2U_Ending_CastListPaletteFadeIndex
	LDY.b #$40
CODE_13E96F:
	LDA.b #$27
	STA.w $0050,y
	DEY
	BPL.b CODE_13E96F
	RTS

;--------------------------------------------------------------------

DATA_13E978:
	dw $58E0,$6D40,$7DA0,$7E80,$7FFF

SMB2U_EndingPart3State00_FadeInCast:
.Main:
;$13E982
	DEC.b !RAM_SMB2U_Ending_GenericCastListTimer
	BPL.b CODE_13E9BC
	LDA.b #$02
	STA.b !RAM_SMB2U_Ending_GenericCastListTimer
	INC.b !RAM_SMB2U_Ending_CastListPaletteFadeIndex
	LDA.b !RAM_SMB2U_Ending_CastListPaletteFadeIndex
	ASL
	TAX
	REP.b #$20
	LDA.l DATA_13E978,x
	STA.w SMB2U_PaletteMirror[$A1].LowByte
	SEP.b #$20
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	LDA.b !RAM_SMB2U_Ending_CastListPaletteFadeIndex
	CMP.b #$04
	BNE.b CODE_13E9BC
	INC.b !RAM_SMB2U_Ending_CastListState
	LDA.b #$80
	STA.b !RAM_SMB2U_Ending_GenericCastListTimer
	LDA.b #$60
	STA.b $1F
	LDA.b #$01
	STA.b $35
	STA.b $38
	LDA.b #$00
	STA.b $36
	STA.b $37
CODE_13E9BC:
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart3State01_DelayScrolling:
.Main:
;$13E9BD
	DEC.b !RAM_SMB2U_Ending_GenericCastListTimer
	BPL.b CODE_13E9CB
	INC.b !RAM_SMB2U_Ending_CastListState
	STZ.b !RAM_SMB2U_Ending_CastListSpriteIndex
	STZ.b $3F
	LDA.b #$01
	STA.b $3A
CODE_13E9CB:
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart3State02_BeginScrollingUpwards:
.Main:
;$13E9CC
	LDA.b $2E
	AND.b #$01
	BEQ.b CODE_13E9FF

	LDA.b $1F
	SEC
	SBC.b #$01
	STA.b $1F
	STA.w SMB2U_OAMBuffer[$10].YDisp
	STA.w SMB2U_OAMBuffer[$11].YDisp
	STA.w SMB2U_OAMBuffer[$12].YDisp
	STA.w SMB2U_OAMBuffer[$13].YDisp
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	STA.w SMB2U_OAMBuffer[$14].YDisp
	STA.w SMB2U_OAMBuffer[$15].YDisp
endif

	LDA.b $1F
	CMP.b #$10
	BNE.b CODE_13E9FF

	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$10].YDisp
	STA.w SMB2U_OAMBuffer[$11].YDisp
	STA.w SMB2U_OAMBuffer[$12].YDisp
	STA.w SMB2U_OAMBuffer[$13].YDisp
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMBuffer[$14].YDisp
	STA.w SMB2U_OAMBuffer[$15].YDisp
endif

	INC.b !RAM_SMB2U_Ending_CastListState
	STZ.b $38
	STZ.b $35
SMB2U_EndingPart3State03_DisplayCastList:
; [BR] Increase the max. number of letters from 8 to $0B (10 + accent)

.Main:
CODE_13E9FF:
	LDA.b $35
	BNE.b CODE_13EA6D
	LDA.b $39
	BNE.b CODE_13EA6D
	JSR.w SMB2U_SetPointerForCastListSpriteData_Main

	; Character's full data size in OAM - 1
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	LDY.b #$3B
else
	LDY.b #$2F
endif
CODE_13EA0C:
	LDA.b [!RAM_SMB2U_Ending_CastListSpriteDataPtrLo],y
	STA.w SMB2U_OAMBuffer[$10].XDisp,y
	LDA.b #$24
	STA.w SMB2U_OAMBuffer[$40].XDisp,y
	DEY
	LDA.b [!RAM_SMB2U_Ending_CastListSpriteDataPtrLo],y
	STA.w SMB2U_OAMBuffer[$10].XDisp,y
	LDA.b #$E9
	STA.w SMB2U_OAMBuffer[$40].XDisp,y
	DEY
	LDA.b [!RAM_SMB2U_Ending_CastListSpriteDataPtrLo],y
	STA.w SMB2U_OAMBuffer[$10].XDisp,y
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$40].XDisp,y
	DEY
	LDA.b [!RAM_SMB2U_Ending_CastListSpriteDataPtrLo],y
	STA.w SMB2U_OAMBuffer[$10].XDisp,y
	DEY
	BPL.b CODE_13EA0C
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$10].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$11].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$12].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$13].Slot
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$14].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$15].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$16].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$17].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$18].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$19].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$1A].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$1B].Slot
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMTileSizeBuffer[$1C].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$1D].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$1E].Slot
endif
	LDA.b #$01
	STA.b $35
	LDA.b #$C0
	STA.b $1F
	LDA.b #$D0
	STA.b $20
	LDA.b #$E8
	STA.b $21
CODE_13EA6D:
	LDA.b $36
	BNE.b CODE_13EABA
	LDA.b $3A
	BNE.b CODE_13EABA
	JSR.w SMB2U_SetPointerForCastListSpriteData_Main
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	LDY.b #$3B
else
	LDY.b #$2F
endif
CODE_13EA7A:
	LDA.b [!RAM_SMB2U_Ending_CastListSpriteDataPtrLo],y
	STA.w SMB2U_OAMBuffer[$20].XDisp,y
	DEY
	BPL.b CODE_13EA7A
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$20].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$21].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$22].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$23].Slot
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$24].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$25].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$26].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$27].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$28].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$29].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$2A].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$2B].Slot
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMTileSizeBuffer[$2C].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$2D].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$2E].Slot
endif
	LDA.b #$01
	STA.b $36
	LDA.b #$C0
	STA.b $22
	LDA.b #$D0
	STA.b $23
	LDA.b #$E8
	STA.b $24
CODE_13EABA:
	LDA.b $37
	BNE.b CODE_13EB0F
	LDA.b $3B
	BNE.b CODE_13EB0F
	JSR.w SMB2U_SetPointerForCastListSpriteData_Main
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	LDY.b #$3B
else
	LDY.b #$2F
endif
CODE_13EAC7:
	LDA.b [!RAM_SMB2U_Ending_CastListSpriteDataPtrLo],y
	STA.w SMB2U_OAMBuffer[$30].XDisp,y
	DEY
	BPL.b CODE_13EAC7
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$30].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$31].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$32].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$33].Slot
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$34].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$35].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$36].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$37].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$38].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$39].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$3A].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$3B].Slot
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMTileSizeBuffer[$3C].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$3D].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$3E].Slot
endif
	LDA.b #$01
	STA.b $37
	LDA.b #$C0
	STA.b $25
	LDA.b #$D0
	STA.b $26
	LDY.b #$E8
	LDA.b !RAM_SMB2U_Ending_CastListSpriteIndex
	CMP.b #$1D
	BNE.b CODE_13EB0D
	LDY.b #$E0
CODE_13EB0D:
	STY.b $27
CODE_13EB0F:
	LDA.b $38
	BEQ.b CODE_13EB16
	JMP.w CODE_13EBC8

CODE_13EB16:
	LDA.b $2E
	AND.b #$01
	BNE.b CODE_13EB1F
	JMP.w CODE_13EBC8

CODE_13EB1F:
	LDA.w SMB2U_OAMBuffer[$40].YDisp
	CMP.b #$F0
	BNE.b CODE_13EB2D
	LDA.w SMB2U_OAMBuffer[$10].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EB4A
CODE_13EB2D:
	LDA.b $1F
	SEC
	SBC.b #$01
	BNE.b CODE_13EB36
	LDA.b #$F0
CODE_13EB36:
	STA.b $1F
	STA.w SMB2U_OAMBuffer[$10].YDisp
	STA.w SMB2U_OAMBuffer[$11].YDisp
	STA.w SMB2U_OAMBuffer[$40].YDisp
	STA.w SMB2U_OAMBuffer[$41].YDisp
	STA.w SMB2U_OAMBuffer[$42].YDisp
	STA.w SMB2U_OAMBuffer[$43].YDisp
CODE_13EB4A:
	LDA.w SMB2U_OAMBuffer[$40].YDisp
	CMP.b #$F0
	BNE.b CODE_13EB58
	LDA.w SMB2U_OAMBuffer[$12].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EB84
CODE_13EB58:
	DEC.b $20
	CMP.b #$F9
	BNE.b CODE_13EB64
	LDA.b $20
	CMP.b #$C0
	BNE.b CODE_13EB84
CODE_13EB64:
	LDA.b $20
	BNE.b CODE_13EB72
	LDA.b !RAM_SMB2U_Ending_CastListSpriteIndex
	CMP.b #$FF
	BNE.b CODE_13EB70
	INC.b !RAM_SMB2U_Ending_CastListState
CODE_13EB70:
	LDA.b #$F0
CODE_13EB72: ; Setup for Tryclyde's name objects
	STA.w SMB2U_OAMBuffer[$12].YDisp
	STA.w SMB2U_OAMBuffer[$13].YDisp
	STA.w SMB2U_OAMBuffer[$44].YDisp
	STA.w SMB2U_OAMBuffer[$45].YDisp
	STA.w SMB2U_OAMBuffer[$46].YDisp
	STA.w SMB2U_OAMBuffer[$47].YDisp
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMBuffer[$48].YDisp
	STA.w SMB2U_OAMBuffer[$49].YDisp
	SBC.b #$07
	STA.w SMB2U_OAMBuffer[$4A].YDisp				; Accent up
endif
CODE_13EB84:
	LDA.w SMB2U_OAMBuffer[$14].YDisp				; When the object wraps around to the bottom of the border, stop moving
	CMP.b #$F0
	BEQ.b CODE_13EBC8
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	CMP.b #$F4
	BEQ.b CODE_13EBC8
endif
	DEC.b $21
	CMP.b #$F9
	BNE.b CODE_13EB9E
	LDA.b $21
	CMP.b #$C0
	BNE.b CODE_13EBC8
	LDY.b !RAM_SMB2U_Ending_CastListSpriteIndex
	LDA.w $0050,y
	STA.b $3A
CODE_13EB9E:
	LDA.b $21
	BNE.b CODE_13EBB0
	STZ.b $35
	LDA.b !RAM_SMB2U_Ending_CastListSpriteIndex
	CMP.b #$FF
	BNE.b CODE_13EBAE
	LDA.b #$FF
	STA.b $35
CODE_13EBAE:
	LDA.b #$F0
CODE_13EBB0:
	STA.w SMB2U_OAMBuffer[$14].YDisp
	STA.w SMB2U_OAMBuffer[$15].YDisp
	STA.w SMB2U_OAMBuffer[$16].YDisp
	STA.w SMB2U_OAMBuffer[$17].YDisp
	STA.w SMB2U_OAMBuffer[$18].YDisp
	STA.w SMB2U_OAMBuffer[$19].YDisp
	STA.w SMB2U_OAMBuffer[$1A].YDisp
	STA.w SMB2U_OAMBuffer[$1B].YDisp
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMBuffer[$1C].YDisp
	STA.w SMB2U_OAMBuffer[$1D].YDisp
	SBC.b #$07
	STA.w SMB2U_OAMBuffer[$1E].YDisp				; Accent up
endif
CODE_13EBC8:
	LDA.b $2E
	AND.b #$01
	BNE.b CODE_13EBD1
	JMP.w CODE_13EC4E

CODE_13EBD1:
	LDA.w SMB2U_OAMBuffer[$20].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EBE9
	LDA.b $22
	SEC
	SBC.b #$01
	BNE.b CODE_13EBE1
	LDA.b #$F0
CODE_13EBE1:
	STA.b $22
	STA.w SMB2U_OAMBuffer[$20].YDisp
	STA.w SMB2U_OAMBuffer[$21].YDisp
CODE_13EBE9:
	LDA.w SMB2U_OAMBuffer[$22].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EC08
	DEC.b $23
	CMP.b #$F9
	BNE.b CODE_13EBFC
	LDA.b $23
	CMP.b #$C0
	BNE.b CODE_13EC08
CODE_13EBFC:
	LDA.b $23
	BNE.b CODE_13EC02
	LDA.b #$F0
CODE_13EC02:
	STA.w SMB2U_OAMBuffer[$22].YDisp
	STA.w SMB2U_OAMBuffer[$23].YDisp
CODE_13EC08:
	LDA.w SMB2U_OAMBuffer[$24].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EC4E
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	CMP.b #$F4
	BEQ.b CODE_13EC4E
endif
	DEC.b $24
	CMP.b #$F9
	BNE.b CODE_13EC22
	LDA.b $24
	CMP.b #$C0
	BNE.b CODE_13EC4E
	LDY.b !RAM_SMB2U_Ending_CastListSpriteIndex
	LDA.w $0050,y
	STA.b $3B
CODE_13EC22:
	LDA.b $24
	BNE.b CODE_13EC36
	LDA.b #$00
	STA.b $36
	LDA.b !RAM_SMB2U_Ending_CastListSpriteIndex
	CMP.b #$FF
	BNE.b CODE_13EC34
	LDA.b #$FF
	STA.b $36
CODE_13EC34:
	LDA.b #$F0
CODE_13EC36:
	STA.w SMB2U_OAMBuffer[$24].YDisp
	STA.w SMB2U_OAMBuffer[$25].YDisp
	STA.w SMB2U_OAMBuffer[$26].YDisp
	STA.w SMB2U_OAMBuffer[$27].YDisp
	STA.w SMB2U_OAMBuffer[$28].YDisp
	STA.w SMB2U_OAMBuffer[$29].YDisp
	STA.w SMB2U_OAMBuffer[$2A].YDisp
	STA.w SMB2U_OAMBuffer[$2B].YDisp
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMBuffer[$2C].YDisp
	STA.w SMB2U_OAMBuffer[$2D].YDisp
	SBC.b #$07
	STA.w SMB2U_OAMBuffer[$2E].YDisp				; Accent up
endif
CODE_13EC4E:
	LDA.b $2E
	AND.b #$01
	BNE.b CODE_13EC57
CODE_13EC54:
	JMP.w CODE_13ED3F

CODE_13EC57:
	LDA.w SMB2U_OAMBuffer[$30].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EC6F
	LDA.b $25
	SEC
	SBC.b #$01
	BNE.b CODE_13EC67
	LDA.b #$F0
CODE_13EC67:
	STA.b $25
	STA.w SMB2U_OAMBuffer[$30].YDisp
	STA.w SMB2U_OAMBuffer[$31].YDisp
CODE_13EC6F:
	LDA.w SMB2U_OAMBuffer[$32].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EC8E
	DEC.b $26
	CMP.b #$F9
	BNE.b CODE_13EC82
	LDA.b $26
	CMP.b #$C0
	BNE.b CODE_13EC8E
CODE_13EC82:
	LDA.b $26
	BNE.b CODE_13EC88
	LDA.b #$F0
CODE_13EC88:
	STA.w SMB2U_OAMBuffer[$32].YDisp
	STA.w SMB2U_OAMBuffer[$33].YDisp
CODE_13EC8E:
	LDA.w SMB2U_OAMBuffer[$34].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EC54
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	CMP.b #$F4
	BEQ.b CODE_13EC54
endif
	DEC.b $27
	CMP.b #$F9
	BNE.b CODE_13ECAB
	LDA.b $27
	CMP.b #$C0
	BEQ.b CODE_13ECA4
	BRL.w CODE_13ED3F

CODE_13ECA4:
	LDY.b !RAM_SMB2U_Ending_CastListSpriteIndex
	LDA.w $0050,y
	STA.b $39
CODE_13ECAB:
	LDA.b !RAM_SMB2U_Ending_CastListSpriteIndex
	CMP.b #$1D
	BNE.b CODE_13ECC3
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$34].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$35].Slot
	LDA.b $27
	CMP.b #$A8
	BNE.b CODE_13ECC3
	LDA.b #$01
	STA.b $3F
CODE_13ECC3:
	LDA.b $27
	BNE.b CODE_13ECD5
	STZ.b $37
	LDA.b !RAM_SMB2U_Ending_CastListSpriteIndex
	CMP.b #$FF
	BNE.b CODE_13ECD3
	LDA.b #$FF
	STA.b $37
CODE_13ECD3:
	LDA.b #$F0
CODE_13ECD5:
	STA.w SMB2U_OAMBuffer[$34].YDisp
	STA.w SMB2U_OAMBuffer[$35].YDisp
	STA.w SMB2U_OAMBuffer[$36].YDisp
	STA.w SMB2U_OAMBuffer[$37].YDisp
	STA.w SMB2U_OAMBuffer[$38].YDisp
	STA.w SMB2U_OAMBuffer[$39].YDisp
	STA.w SMB2U_OAMBuffer[$3A].YDisp
	STA.w SMB2U_OAMBuffer[$3B].YDisp
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMBuffer[$3C].YDisp
	STA.w SMB2U_OAMBuffer[$3D].YDisp
	SBC.b #$07
	STA.w SMB2U_OAMBuffer[$3E].YDisp				; Accent up
endif
	LDA.b $3F
	BEQ.b CODE_13ED3F
	;LDX.b #$1F (Tryclyde's Name length)
	LDX.b #SMB2U_CastListOAMData_Wart-SMB2U_CastListOAMData_TryclydesName-1
CODE_13ECF3:
	LDA.l SMB2U_CastListOAMData_TryclydesName,x
	STA.w SMB2U_OAMBuffer[$40].XDisp,x
	DEX
	BPL.b CODE_13ECF3
	LDA.b #$E9
	STA.w SMB2U_OAMBuffer[$10].Tile
	STA.w SMB2U_OAMBuffer[$11].Tile
	STA.w SMB2U_OAMBuffer[$12].Tile
	STA.w SMB2U_OAMBuffer[$13].Tile
	LDA.b #$24
	STA.w SMB2U_OAMBuffer[$10].Prop
	STA.w SMB2U_OAMBuffer[$11].Prop
	STA.w SMB2U_OAMBuffer[$12].Prop
	STA.w SMB2U_OAMBuffer[$13].Prop
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$40].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$41].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$42].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$43].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$44].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$45].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$46].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$47].Slot
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMTileSizeBuffer[$48].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$49].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$4A].Slot
endif
	LDA.b #$C0
	STA.b $1F
	STA.b $20
	STZ.b $3F
	LDA.b #$FF
	STA.b !RAM_SMB2U_Ending_CastListSpriteIndex
CODE_13ED3F:
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart3State04_InitializeWart:
.Main:
;$13ED40
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	LDX.b #$43+$0C
else
	LDX.b #$43
endif
CODE_13ED42:
	LDA.l SMB2U_CastListOAMData_Wart,x
	STA.w SMB2U_OAMBuffer[$10].XDisp,x
	DEX
	BPL.b CODE_13ED42
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$10].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$11].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$12].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$13].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$14].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$15].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$16].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$17].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$18].Slot

	STZ.w SMB2U_OAMTileSizeBuffer[$19].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$1A].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$1B].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$1C].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$1D].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$1E].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$1F].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$20].Slot
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STZ.w SMB2U_OAMTileSizeBuffer[$21].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$22].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$23].Slot
endif
	INC.b !RAM_SMB2U_Ending_CastListState
	LDA.b #$D0
	STA.b $1F
	LDA.b #$E0
	STA.b $20
	LDA.b #$F0
	STA.b $21
	LDA.b #$08
	STA.b $22
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart3State05_ScrollWartUp:
.Main:
;$13ED94
	LDA.b $2E
	AND.b #$01
	BNE.b CODE_13ED9D
	JMP.w CODE_13EE38

CODE_13ED9D:
	LDA.w SMB2U_OAMBuffer[$10].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EDBD
	LDA.b $1F
	SEC
	SBC.b #$01
	CMP.b #$40
	BNE.b CODE_13EDB2
	INC.b !RAM_SMB2U_Ending_CastListState
	JMP.w CODE_13EE38

CODE_13EDB2:
	STA.b $1F
	STA.w SMB2U_OAMBuffer[$10].YDisp
	STA.w SMB2U_OAMBuffer[$11].YDisp
	STA.w SMB2U_OAMBuffer[$12].YDisp
CODE_13EDBD:
	LDA.w SMB2U_OAMBuffer[$13].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EDE1
	DEC.b $20
	CMP.b #$F9
	BNE.b CODE_13EDD0
	LDA.b $20
	CMP.b #$C0
	BNE.b CODE_13EDE1
CODE_13EDD0:
	LDA.b $20
	CMP.b #$10
	BNE.b CODE_13EDD8
	LDA.b #$F0
CODE_13EDD8:
	STA.w SMB2U_OAMBuffer[$13].YDisp
	STA.w SMB2U_OAMBuffer[$14].YDisp
	STA.w SMB2U_OAMBuffer[$15].YDisp
CODE_13EDE1:
	LDA.w SMB2U_OAMBuffer[$16].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EE05
	DEC.b $21
	CMP.b #$F9
	BNE.b CODE_13EDF4
	LDA.b $21
	CMP.b #$C0
	BNE.b CODE_13EE05
CODE_13EDF4:
	LDA.b $21
	CMP.b #$10
	BNE.b CODE_13EDFC
	LDA.b #$F0
CODE_13EDFC:
	STA.w SMB2U_OAMBuffer[$16].YDisp
	STA.w SMB2U_OAMBuffer[$17].YDisp
	STA.w SMB2U_OAMBuffer[$18].YDisp
CODE_13EE05:
	LDA.w SMB2U_OAMBuffer[$19].YDisp
	CMP.b #$F0
	BEQ.b CODE_13EE38
	DEC.b $22
	CMP.b #$F9
	BNE.b CODE_13EE18
	LDA.b $22
	CMP.b #$C0
	BNE.b CODE_13EE38
CODE_13EE18:
	LDA.b $22
	CMP.b #$10
	BNE.b CODE_13EE20
	LDA.b #$F0
CODE_13EE20:
	STA.w SMB2U_OAMBuffer[$19].YDisp
	STA.w SMB2U_OAMBuffer[$1A].YDisp
	STA.w SMB2U_OAMBuffer[$1B].YDisp
	STA.w SMB2U_OAMBuffer[$1C].YDisp
	STA.w SMB2U_OAMBuffer[$1D].YDisp
	STA.w SMB2U_OAMBuffer[$1E].YDisp
	STA.w SMB2U_OAMBuffer[$1F].YDisp
	STA.w SMB2U_OAMBuffer[$20].YDisp
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_OAMBuffer[$21].YDisp
	STA.w SMB2U_OAMBuffer[$22].YDisp
	SBC.b #$08
	STA.w SMB2U_OAMBuffer[$23].YDisp				; Accent up
endif
CODE_13EE38:
	STZ.b $3D
	STZ.b $3C
	LDA.b #$0C
	STA.b $3E
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart3State06_MakeWartSnicker:
.Main:
;$13EE41
	DEC.b $3C
	BPL.b CODE_13EE86
	LDA.b #$08
	STA.b $3C
	DEC.b $3E
	BPL.b CODE_13EE58
	INC.b !RAM_SMB2U_Ending_CastListState
	LDA.b #$00
	STA.b !RAM_SMB2U_Ending_GenericCastListTimer
	STA.b !RAM_SMB2U_Ending_CastListPaletteFadeIndex
	JMP.w CODE_13EE86

CODE_13EE58:
	LDY.b #$00
	TYX
	INC.b $3D
	LDA.b $3D
	AND.b #$01
	BNE.b CODE_13EE76
CODE_13EE63:
	LDA.l SMB2U_CastListOAMData_SnickeringWartFaceTiles_Frame1,x
	STA.w SMB2U_OAMBuffer[$10].Tile,y
	INY
	INY
	INY
	INY
	INX
	CPX.b #$06
	BNE.b CODE_13EE63
	JMP.w CODE_13EE86

CODE_13EE76:
	LDA.l SMB2U_CastListOAMData_SnickeringWartFaceTiles_Frame2,x
	STA.w SMB2U_OAMBuffer[$10].Tile,y
	INY
	INY
	INY
	INY
	INX
	CPX.b #$06
	BNE.b CODE_13EE76
CODE_13EE86:
	RTS

;--------------------------------------------------------------------

DATA_13EE87:
	dw $7E80,$7DA0,$6D40,$58E0,$4480

SMB2U_EndingPart3State07_FadeOutWart:
.Main:
;$13EE91
	DEC.b !RAM_SMB2U_Ending_GenericCastListTimer
	BPL.b CODE_13EEBB
	LDA.b #$02
	STA.b !RAM_SMB2U_Ending_GenericCastListTimer
	INC.b !RAM_SMB2U_Ending_CastListPaletteFadeIndex
	LDA.b !RAM_SMB2U_Ending_CastListPaletteFadeIndex
	ASL
	TAX
	REP.b #$20
	LDA.l DATA_13EE87,x
	STA.w SMB2U_PaletteMirror[$A1].LowByte
	SEP.b #$20
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	LDA.b !RAM_SMB2U_Ending_CastListPaletteFadeIndex
	CMP.b #$04
	BNE.b CODE_13EEBB
	INC.b !RAM_SMB2U_Ending_CastListState
	LDA.b #$02
	STA.b !RAM_SMB2U_Ending_GenericCastListTimer
CODE_13EEBB:
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart3State08_RemovetWartsTiles:
.Main:
;$13EEBC
	DEC.b !RAM_SMB2U_Ending_GenericCastListTimer
	BPL.b CODE_13EED6
	LDX.b #$16
	LDY.b #$00
	LDA.b #$F0
CODE_13EEC6:
	STA.w SMB2U_OAMBuffer[$10].YDisp,y
	INY
	INY
	INY
	INY
	DEX
	BPL.b CODE_13EEC6
	LDA.b #$30
	STA.b !RAM_SMB2U_Ending_GenericCastListTimer
	INC.b !RAM_SMB2U_Ending_CastListState
CODE_13EED6:
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart3State09_InitializeTheEndText:
.Main:
;$13EED7
	DEC.b !RAM_SMB2U_Ending_GenericCastListTimer
	BPL.b CODE_13EEEC
	STZ.b $19
	STZ.b $1A
	STZ.b !RAM_SMB2U_Ending_TheEndTextAnimationFrame
	LDA.b #$05
	STA.w !RAM_SMB2U_Ending_TheEndTextAnimationFrameCounter
	LDA.b #$14
	STA.b $1D
	INC.b !RAM_SMB2U_Ending_CastListState
CODE_13EEEC:
	RTS

;--------------------------------------------------------------------

SMB2U_EndingPart3State0A_DrawTheEndText:
.Main:
;$13EEED
	LDA.b !RAM_SMB2U_Ending_TheEndTextAnimationFrame
	;CMP.b #$2A (Total of frames. This value is relative to the index table size, so...)
	CMP.b #SMB2U_CastListOAMData_TheEndText-SMB2U_CastListOAMData_TheEndTextTableIndexes-$01
	BEQ.b CODE_13EEEC
	DEC.w !RAM_SMB2U_Ending_TheEndTextAnimationFrameCounter
	BPL.b CODE_13EEEC
	LDA.b #$05											; Delay in between frames
	STA.w !RAM_SMB2U_Ending_TheEndTextAnimationFrameCounter
	INC.b !RAM_SMB2U_Ending_TheEndTextAnimationFrame
	LDX.b !RAM_SMB2U_Ending_TheEndTextAnimationFrame
	LDA.l SMB2U_CastListOAMData_TheEndTextTableIndexes,x
	STA.w $0713
	LDA.l SMB2U_CastListOAMData_TheEndTextTableIndexes-$01,x
	TAX
CODE_13EF0D:
	LDA.l SMB2U_CastListOAMData_TheEndText+$03,x
	TAY
	LDA.l SMB2U_CastListOAMData_TheEndText,x
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.l SMB2U_CastListOAMData_TheEndText+$01,x
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.l SMB2U_CastListOAMData_TheEndText+$02,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b #$21
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	TYA
	LSR
	LSR
	TAY
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	INX
	INX
	INX
	INX
	CPX.w $0713
	BNE.b CODE_13EF0D
	RTS

%FREE_BYTES(NULLROM, 193, $FF)

;--------------------------------------------------------------------

CODE_13F000:
	LDA.w $02AB
	BNE.b CODE_13F073
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	BEQ.b CODE_13F017
	LDX.b #$02
CODE_13F00C:
	LDA.w $02B2,x
	STA.w $0257,x
	DEX
	BPL.b CODE_13F00C
	BRA.b CODE_13F02F

CODE_13F017:
	LDX.w $0535
	LDA.l DATA_11CE8E,x
	STA.w $0257
	LDA.l DATA_11CE98,x
	STA.w $0258
	LDA.l DATA_11CEA2,x
	STA.w $0259
CODE_13F02F:
	LDA.w $0535
	LDY.b #$01
	JSR.w CODE_13F109
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_3_3
	BNE.b CODE_13F04C
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #$08
	BNE.b CODE_13F04C
	LDA.b #$10
	STA.w !RAM_SMB2U_Global_Layer2YPosLo
	BRA.b CODE_13F04F

CODE_13F04C:
	STZ.w !RAM_SMB2U_Global_Layer2YPosLo
CODE_13F04F:
	STZ.w !RAM_SMB2U_Global_Layer2YPosHi
	INC.w $02AB
	LDA.w $0535
	STA.w $0260
	LDA.b #$01
	STA.w $02AC
	LSR
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$FF
	STA.w $0263
	LDA.b #$0F
	STA.w $0262
	JSR.w CODE_13F07D
	JSR.w SMB2U_GetLayer2Map16DataPointer_Main
CODE_13F073:
	JSL.l CODE_13F1BF
	LDA.w $02AC
	BNE.b CODE_13F07C
CODE_13F07C:
	RTL

CODE_13F07D:
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	BEQ.b CODE_13F085
	BRL.w CODE_13F105

CODE_13F085:
	LDA.w $0535
	BNE.b CODE_13F095
	LDA.w $02C2
	BPL.b CODE_13F092
	JMP.w CODE_13F102

CODE_13F092:
	LDA.w $0535
CODE_13F095:
	CMP.w !RAM_SMB2U_Level_ScreensInLvl
	BNE.b CODE_13F09F
	LDA.w $02C2
	BPL.b CODE_13F102
CODE_13F09F:
	LDX.b #$02
	LDA.w $02C2
	BPL.b CODE_13F0AC
	LDA.b #$FF
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	BNE.b CODE_13F0AE
CODE_13F0AC:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0B
CODE_13F0AE:
	LDA.w $02C2
	AND.b #$F0
	CLC
	ADC.w $0257,x
	PHP
	ADC.b !RAM_SMB2U_Global_ScratchRAM0B
	PLP
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	BNE.b CODE_13F0D3
	BCC.b CODE_13F0E5
	LDA.w $0257,x
	AND.b #$0F
	CMP.b #$09
	BNE.b CODE_13F0E5
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$F0
	JMP.w CODE_13F0E7

CODE_13F0D3:
	BCS.b CODE_13F0E5
	LDA.w $0257,x
	AND.b #$0F
	BNE.b CODE_13F0E5
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$F0
	ADC.b #$09
	JMP.w CODE_13F0E7

CODE_13F0E5:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
CODE_13F0E7:
	STA.w $0257,x
	DEX
	BPL.b CODE_13F0AE
	LDA.w $02C2
	BPL.b CODE_13F102
	DEC.w $0260
	LDA.w !RAM_SMB2U_Global_Layer2XPosHi
	EOR.b #$01
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	LDA.b #$01
	STA.w $0262
CODE_13F102:
	STZ.w $02C2
CODE_13F105:
	JSR.w CODE_13F343
	RTS

;--------------------------------------------------------------------

CODE_13F109:
	LSR
	BCS.b CODE_13F126
	CPY.b #$01
	BEQ.b CODE_13F115
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_13F11C
CODE_13F115:
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	BRA.b CODE_13F11F

CODE_13F11C:
	STZ.w !RAM_SMB2U_Global_Layer2XPosHi
CODE_13F11F:
	STZ.w !RAM_SMB2U_Global_Layer2YPosHi
	LDA.b #$00
	BRA.b CODE_13F13F

CODE_13F126:
	CPY.b #$01
	BEQ.b CODE_13F12F
	STZ.w !RAM_SMB2U_Global_Layer2XPosHi
	BRA.b CODE_13F13C

CODE_13F12F:
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	STA.w !RAM_SMB2U_Global_Layer2YPosHi
	LDA.b #$80
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
CODE_13F13C:
	LDA.w DATA_119B3C,y
CODE_13F13F:
	STA.w $0261
	RTS

;--------------------------------------------------------------------

CODE_13F143:
	LDA.w !RAM_SMB2U_Global_Layer2XPosLo
	STA.w $02AD
	LDA.w !RAM_SMB2U_Global_Layer2XPosHi
	STA.w $02AE
	LDA.w $04C0
	STA.w $02AF
	INC.w $02B0
	LDA.w DATA_119B3E
	STA.w $0535
	JSR.w CODE_13F109
	LDA.b #$00
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	STA.w $04C2
	LDA.w DATA_119B3E
	STA.w $04C0
	LDA.w DATA_119B3E
	STA.w $0257
	LDA.b #$E0
	STA.w $0261
	LDA.w DATA_119B3E
	CLC
	ADC.b #$F0
	STA.w $0263
	RTL

;--------------------------------------------------------------------

CODE_13F184:
	LDA.w $02AD
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	STA.w $04C2
	LDA.w $02AE
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	LDA.w $02AF
	STA.w $04C0
	LDA.w $02B0
	BNE.b CODE_13F1BE
	INC.w $02B1
	INC.w $02B0
	INC.b $D5
	LDA.w $0258
	STA.w $0257
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$F0
	STA.w $0261
	STA.w $0262
	LDA.w $0259
	STA.w $0263
CODE_13F1BE:
	RTL

;--------------------------------------------------------------------

CODE_13F1BF:
	LDX.b #$00
	STX.w $0264
	STX.w $0265
	STX.b $D8
	JSL.l CODE_13F238
	JSL.l CODE_13F277
	LDA.w $0261
	CMP.w $025A
	BNE.b CODE_13F1F3
	BRA.b CODE_13F1F3

CODE_13F1DB:
	LDA.w $0262
	CLC
	ADC.b #$01
	CMP.w $025B
	BNE.b CODE_13F1F3
CODE_13F1E6:
	STZ.w $02AC
	STZ.w $02B0
	STZ.w $02B1
	INC.w $0264
	RTL

CODE_13F1F3:
	LDA.w $0257
	CMP.w $0263
	BEQ.b CODE_13F1E6
	LDX.b #$00
	JSL.l CODE_13F21D
	RTL

;--------------------------------------------------------------------

CODE_13F202:
	LDA.w $0257,x
	SEC
	SBC.b #$10
	STA.w $0257,x
	BCS.b CODE_13F21C
	DEC.w $0257,x
	LDA.w $0257,x
	CMP.b #$EF
	BNE.b CODE_13F21C
	LDA.b #$F9
	STA.w $0257,x
CODE_13F21C:
	RTL

;--------------------------------------------------------------------

CODE_13F21D:
	LDA.w $0257,x
	CLC
	ADC.b #$10
	STA.w $0257,x
	BCC.b CODE_13F237
	INC.w $0257,x
	LDA.w $0257,x
	CMP.b #$0A
	BNE.b CODE_13F237
	LDA.b #$00
	STA.w $0257,x
CODE_13F237:
	RTL

;--------------------------------------------------------------------

CODE_13F238:
	STY.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w $0257,x
	AND.b #$0F
	TAY
	LDA.w DATA_11AAF0,y
	STA.w $0269
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.w DATA_11AAFB,y
	STA.w $026A
	LDA.b #$7F
	STA.w $026B
	LDA.w $0257,x
	LSR
	LSR
	LSR
	LSR
	STA.w $0256
	ASL
	STA.w $025B
	LDY.b #$00
	LDA.w $0257,x
	LSR
	BCS.b CODE_13F271
	LDY.b #$04
CODE_13F271:
	STY.w $025A
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	RTL

;--------------------------------------------------------------------

CODE_13F277:
	PHB
	LDA.b #CODE_13F277>>16
	PHA
	PLB
	LDA.l $7F0000
	TAX
	LDA.w $0269
	STA.b $C4
	LDA.w $026A
	STA.b $C5
	LDA.w $026B
	STA.b $C6
	LDA.w !RAM_SMB2U_Global_VCountTimerLo
	BEQ.b CODE_13F298
	JMP.w CODE_13F3E0

CODE_13F298:
	REP.b #$20
	LDA.w $025A
	ORA.w #$0010
	STA.l $7F0002,x
	XBA
	CLC
	ADC.w #$0001
	XBA
	ORA.w #$0010
	STA.l $7F0042,x
	INX
	INX
	LDA.w #$3C00
	STA.l $7F0002,x
	STA.l $7F0042,x
	INX
	INX
	SEP.b #$20
	STZ.w $0255
	STZ.b $D5
CODE_13F2C7:
	LDA.w !RAM_SMB3_Global_Layer2Map16DataPtrLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB3_Global_Layer2Map16DataPtrHi
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w !RAM_SMB3_Global_Layer2Map16DataPtrBank
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w $0256
	REP.b #$30
	LDA.b [$C4],y
	AND.w #$00FF
	CMP.w #$00FF
	BNE.b CODE_13F2F5
	LDA.l DATA_13A613
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #DATA_13A615>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w #$0000
	BRA.b CODE_13F2F9

CODE_13F2F5:
	ASL
	ASL
	ASL
	TAY
CODE_13F2F9:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0002,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0042,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0004,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0044,x
	SEP.b #$30
	INC.w $0255
	INX
	INX
	INX
	INX
	LDA.w $0256
	CLC
	ADC.b #$10
	STA.w $0256
	LDA.w $0255
	CMP.b #$0F
	BCC.b CODE_13F2C7
	LDA.b #$FF
	STA.l $7F0042,x
	TXA
	CLC
	ADC.b #$40
	STA.l $7F0000
	INC.w $0265
	PLB
	RTL

;--------------------------------------------------------------------

CODE_13F343:
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	BEQ.b CODE_13F356
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	BRA.b CODE_13F3AD

CODE_13F356:
	LDA.w $0535
	AND.b #$02
	BNE.b CODE_13F385
	LDA.w $02B6
	BEQ.b CODE_13F367
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	BRA.b CODE_13F369

CODE_13F367:
	LDA.b #$01
CODE_13F369:
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	BEQ.b CODE_13F37A
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	LSR
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	BRA.b CODE_13F3AD

CODE_13F37A:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	LSR
	ORA.b #$80
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	BRA.b CODE_13F3AD

CODE_13F385:
	LDA.w $02B6
	BEQ.b CODE_13F391
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	EOR.b #$01
	BRA.b CODE_13F393

CODE_13F391:
	LDA.b #$00
CODE_13F393:
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	BEQ.b CODE_13F3A4
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	LSR
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	BRA.b CODE_13F3AD

CODE_13F3A4:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	LSR
	ORA.b #$80
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
CODE_13F3AD:
	LDA.w !RAM_SMB2U_Global_Layer2XPosLo
	AND.b #$F0
	STA.w $026C
	STZ.w $02B6
	RTS

;--------------------------------------------------------------------

SMB2U_GetLayer2Map16DataPointer:
.Main:
;$13F3B9
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.l DATA_13A61D,x
	ASL
	TAX
	LDA.l DATA_13A6E5,x
	STA.w !RAM_SMB3_Global_Layer2Map16DataPtrLo
	INX
	LDA.l DATA_13A6E5,x
	STA.w !RAM_SMB3_Global_Layer2Map16DataPtrHi
	LDA.b #DATA_13A701>>16
	STA.w !RAM_SMB3_Global_Layer2Map16DataPtrBank
	RTS

;--------------------------------------------------------------------

CODE_13F3E0:
	REP.b #$20
	LDA.w $025A
	ORA.w #$0010
	CLC
	ADC.w #$4001
	STA.l $7F0002,x
	XBA
	CLC
	ADC.w #$0001
	XBA
	ORA.w #$0010
	STA.l $7F002E,x
	INX
	INX
	LDA.w #$2800
	STA.l $7F0002,x
	STA.l $7F002E,x
	INX
	INX
	SEP.b #$20
	STZ.w $0255
	STZ.b $D5
	LDA.w $0256
	CLC
	ADC.b #$50
	STA.w $0256
CODE_13F41C:
	LDA.w !RAM_SMB3_Global_Layer2Map16DataPtrLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB3_Global_Layer2Map16DataPtrHi
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w !RAM_SMB3_Global_Layer2Map16DataPtrBank
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w $0256
	REP.b #$30
	LDA.b [$C4],y
	AND.w #$00FF
	CMP.w #$00FF
	BNE.b CODE_13F44A
	LDA.l DATA_13A613
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #DATA_13A615>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w #$0000
	BRA.b CODE_13F44E

CODE_13F44A:
	ASL
	ASL
	ASL
	TAY
CODE_13F44E:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0002,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F002E,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0004,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0030,x
	SEP.b #$30
	INC.w $0255
	INX
	INX
	INX
	INX
	LDA.w $0256
	CLC
	ADC.b #$10
	STA.w $0256
	LDA.w $0255
	CMP.b #$0A
	BCC.b CODE_13F41C
	LDA.b #$FF
	STA.l $7F002E,x
	TXA
	CLC
	ADC.b #$2C
	STA.l $7F0000
	INC.w $0265
	PLB
	RTL

%FREE_BYTES(NULLROM, 104, $FF)

;--------------------------------------------------------------------

CODE_13F500:
	LDA.w $02AB
	BNE.b CODE_13F554
	LDA.b #$02
	STA.w $025A
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	BNE.b CODE_13F523
	LDX.w $0535
	LDA.l DATA_11CEAC,x
	STA.w $0257
	STA.w $0258
	LDA.l DATA_11CEB6,x
	STA.w $0259
CODE_13F523:
	LDA.w $0535
	LDY.b #$00
	JSR.w CODE_13F109
	LDA.b #$02
	STA.w $02B9
	LDA.b #$00
	STA.w $02BA
	LDA.b #$20
	STA.w $025C
	LDA.b #$A0
	STA.w $025D
	INC.w $02AB
	LDA.b #$E0
	STA.b $E2
	LDA.b #$01
	STA.b $E4
	STA.w $02AC
	LSR
	STA.w $025B
	JSR.w SMB2U_GetLayer2Map16DataPointer_Main
CODE_13F554:
	STZ.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$FF
	STA.w $0263
	LDA.b #$A0
	STA.w $0262
	JSL.l CODE_13F5FE
	LDA.w $02AC
	BNE.b CODE_13F571
	LDA.b #$E8
	STA.b $E1
	LDA.b #$C8
	STA.b $E2
CODE_13F571:
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_13F572:
	LDA.w !RAM_SMB2U_Global_Layer2YPosLo
	STA.w $02BB
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w $02AD
	LDA.w $02BC
	STA.w $02BE
	LDA.w $02BD
	STA.w $02BF
	LDA.w $04C0
	STA.w $02C0
	STZ.w !RAM_SMB2U_Global_Layer1YPosLo
	STZ.w !RAM_SMB2U_Global_Layer1XPosLo
	STZ.w !RAM_SMB2U_Global_Layer2YPosLo
	STZ.w !RAM_SMB2U_Global_Layer2XPosLo
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_13F59D:
	LDA.w $02BB
	STA.w !RAM_SMB2U_Global_Layer2YPosLo
	LDA.w $02AD
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	LDA.w $02BE
	STA.w $02BC
	LDA.w $02BF
	STA.w $02BD
	LDA.w $02C0
	STA.w $04C0
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_13F5BC:
	LDA.w $0258
	AND.b #$10
	BEQ.b ADDR_13F5CA
	LDA.b $E1
	SEC
	SBC.b #$08
	STA.b $E1
ADDR_13F5CA:
	LDA.b #$01
	STA.b $E4
	LDA.w $0258
	STA.w $0257
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.b #$00
	JSL.l CODE_13F74D
	LDA.w $025C
	STA.w $025B
	LDA.b $E1
	STA.b $E2
	LDA.b #$F0
	STA.w $0261
	STA.w $0262
	LDA.w $0259
	STA.w $0263
	INC.w $02C1
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	RTL

;--------------------------------------------------------------------

CODE_13F5FE:
	LDX.b #$00
	STX.w $0264
	JSL.l CODE_13F6F7
	JSL.l CODE_13F77D
	LDX.b #$00
	JSL.l CODE_13F674
	LDA.w $0261
	CMP.w $025A
	BNE.b CODE_13F63B
	LDA.w $0262
	CLC
	ADC.b #$20
	CMP.w $025B
	BNE.b CODE_13F63B
CODE_13F624:
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	TAX
	BEQ.b CODE_13F62E
	LDA.w $0519
	STA.b $E1
CODE_13F62E:
	INC.w $0264
	STZ.w $02AC
	STZ.w $02B0
	STZ.w $02B1
	RTL

CODE_13F63B:
	LDA.w $025B
	AND.b #$20
	BNE.b CODE_13F650
	LDA.w $0257
	CMP.w $0263
	BEQ.b CODE_13F624
	LDX.b #$00
	JSL.l CODE_13F6D0
CODE_13F650:
	RTL

;--------------------------------------------------------------------

CODE_13F651:					; Note: Something related to scrolling the screen upwards
	LDA.w $025C,x
	SEC
	SBC.b #$20
	STA.w $025C,x
	BCS.b CODE_13F673
	LDA.w $02B9,x
	SEC
	SBC.b #$01
	CMP.b #$FF
	BNE.b CODE_13F66A
	LDA.b #$0B
	BRA.b CODE_13F670

CODE_13F66A:
	CMP.b #$07
	BNE.b CODE_13F6A2
	LDA.b #$03
CODE_13F670:
	STA.w $02B9,x
CODE_13F673:
	RTL

CODE_13F674:					; Note: Something related to scrolling the screen downwards?
	LDA.w $025B,x
	CLC
	ADC.b #$20
	STA.w $025B,x
	BCC.b CODE_13F6A5
	CPX.b #$00
	BNE.b CODE_13F68D
	LDA.w $025A
	CLC
	ADC.b #$01
	STA.w $025A
	RTL

CODE_13F68D:
	DEX
	LDA.w $02B9,x
	CLC
	ADC.b #$01
	CMP.b #$04
	BNE.b CODE_13F69C
	LDA.b #$08
	BRA.b CODE_13F6A2

CODE_13F69C:
	CMP.b #$0C
	BNE.b CODE_13F6A2
	LDA.b #$00
CODE_13F6A2:
	STA.w $02B9,x
CODE_13F6A5:
	RTL

;--------------------------------------------------------------------

CODE_13F6A6:						; Note: Something related to scrolling upwards
	LDA.w $0258,x
	SEC
	SBC.b #$10
	STA.w $0258,x
	AND.b #$F0
	CMP.b #$F0
	BNE.b CODE_13F6CF
	LDA.w $0258,x
	AND.b #$0F
	CLC
	ADC.b #$E0
	STA.w $0258,x
	DEC.w $0258,x
	LDA.w $0258,x
	CMP.b #$DF
	BNE.b CODE_13F6CF
	LDA.b #$E9
	STA.w $0258,x
CODE_13F6CF:
	RTL

;--------------------------------------------------------------------

CODE_13F6D0:						; Note: Something related to scrolling downwards?
	LDA.w $0257,x
	CLC
	ADC.b #$10
	STA.w $0257,x
	AND.b #$F0
	CMP.b #$F0
	BNE.b CODE_13F6F6
	LDA.w $0257,x
	AND.b #$0F
	STA.w $0257,x
	INC.w $0257,x
	LDA.w $0257,x
	CMP.b #$0A
	BNE.b CODE_13F6F6
	LDA.b #$00
	STA.w $0257,x
CODE_13F6F6:
	RTL

;--------------------------------------------------------------------

CODE_13F6F7:
	PHX
	LDA.w $0257,x
	AND.b #$0F
	TAY
	LDA.w DATA_11AAF0,y
	STA.w $0269
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.w DATA_11AAFB,y
	STA.w $026A
	LDA.b #$7F
	STA.w $026B
	LDA.w $0257,x
	AND.b #$F0
	STA.w $0256
	CPX.b #$00
	BNE.b CODE_13F73E
	LDA.w $025A
	CMP.b #$FF
	BNE.b CODE_13F72E
	LDA.b #$0B
	BRA.b CODE_13F742

CODE_13F72E:
	CMP.b #$04
	BNE.b CODE_13F736
	LDA.b #$08
	BRA.b CODE_13F742

CODE_13F736:
	CMP.b #$0C
	BNE.b CODE_13F742
	LDA.b #$00
	BRA.b CODE_13F742

CODE_13F73E:
	DEX
	LDA.w $02B9,x
CODE_13F742:
	STA.w $025A
	PLX
	LDA.w $025B,x
	STA.w $025B
CODE_13F74C:
	RTL

;--------------------------------------------------------------------

; Note: Something related to scrolling vertically in a vase.

CODE_13F74D:
	LDA.w $0257,x
	AND.b #$10
	BEQ.b CODE_13F74C
	LDA.w $0257,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $0257,x
	JSL.l CODE_13F6F7
	LDA.b #$0F
	STA.b $E3
	LDA.b #$00
	STA.w $0255
CODE_13F76C:
	DEC.b $E3
	LDA.b $E3
	BPL.b CODE_13F76C
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.w $0257,x
	DEC.b $E4
	JML.l CODE_13F6F7

;--------------------------------------------------------------------

CODE_13F77D:
	LDA.l $7F0000
	TAX
	LDA.w $0269
	STA.b $C4
	LDA.w $026A
	STA.b $C5
	LDA.w $026B
	STA.b $C6
	LDA.w $025A
	ORA.b #$10
	STA.l $7F0002,x
	INX
	LDA.w $025B
	STA.l $7F0002,x
	INX
	LDA.b #$00
	STA.l $7F0002,x
	INX
	LDA.b #$40
	STA.l $7F0002,x
	INX
	STZ.w $0255
	LDA.b #$0F
	STA.b $E3
CODE_13F7B8:
	LDA.w !RAM_SMB3_Global_Layer2Map16DataPtrLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB3_Global_Layer2Map16DataPtrHi
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w !RAM_SMB3_Global_Layer2Map16DataPtrBank
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w $0256
	REP.b #$30
	LDA.b [$C4],y
	AND.w #$00FF
	CMP.w #$00FF
	BNE.b CODE_13F7E6
	LDA.l DATA_13A613
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #DATA_13A615>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w #$0000
	BRA.b CODE_13F7EA

CODE_13F7E6:
	ASL
	ASL
	ASL
	TAY
CODE_13F7EA:
	LDA.w $02C1
	AND.w #$00FF
	BEQ.b CODE_13F7F6
	INY
	INY
	INY
	INY
CODE_13F7F6:
	REP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l $7F0002,x
	SEP.b #$20
	INC.w $0255
	INX
	INX
	INY
	INY
	LDA.w $0255
	LSR
	BCS.b CODE_13F7F6
	INC.w $0256
	SEP.b #$30
	LDA.w $0255
	CMP.b #$20
	BCC.b CODE_13F7B8
	LDA.b #$FF
	STA.l $7F0002,x
	TXA
	STA.l $7F0000
	BRA.b CODE_13F862

CODE_13F826:
	LDA.b $E4
	BEQ.b CODE_13F82F
	DEC.b $E4
	JMP.w CODE_13F837

CODE_13F82F:
	LDA.b $D8
	LSR
	BCS.b CODE_13F837
	JMP.w CODE_13F837

CODE_13F837:
	LDX.b #$00
	LDA.b $D8
	LSR
	BCC.b CODE_13F852
	INX
	LDA.w $0258,x
	AND.b #$F0
	CMP.b #$E0
	BEQ.b CODE_13F84F
	LDA.w $0258,x
	AND.b #$10
	BNE.b CODE_13F862
CODE_13F84F:
	JMP.w CODE_13F862

CODE_13F852:
	LDA.w $0258,x
	AND.b #$F0
	CMP.b #$E0
	BEQ.b CODE_13F862
	LDA.w $0258,x
	AND.b #$10
	BEQ.b CODE_13F862
CODE_13F862:
	LDA.w $02C1
	EOR.b #$01
	STA.w $02C1
	RTL

%FREE_BYTES(NULLROM, 149, $FF)

;--------------------------------------------------------------------

; Info: Player Offsets (in order): Head, Below, Below, Side (Head level), Side (Body level)

CODE_13F900:
	TXA
	PHA
	LDA.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w DATA_11CB0E,y
	BPL.b CODE_13F90F
	DEC.b !RAM_SMB2U_Global_ScratchRAM00
CODE_13F90F:
	CLC
	ADC.b !RAM_SMB2U_Player_XPosLo,x
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	PHP
	LSR
	LSR
	LSR
	LSR
	STA.b $E5
	PLP
	LDA.b !RAM_SMB2U_Player_XPosHi,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_13F92E
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.b !RAM_SMB2U_Global_ScratchRAM03
CODE_13F92E:
	LDA.w DATA_11CB56,y
	BPL.b CODE_13F935
	DEC.b !RAM_SMB2U_Global_ScratchRAM01
CODE_13F935:
	CLC
	ADC.b !RAM_SMB2U_Player_YPosLo,x
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	STA.b $E6
	LDA.b !RAM_SMB2U_Player_YPosHi,x
	ADC.b !RAM_SMB2U_Global_ScratchRAM01
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	JSR.w CODE_13F9EE
	BCC.b CODE_13F94F
	LDA.b #$00
	BEQ.b CODE_13F997

CODE_13F94F:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0D
	STX.w $070F
	LDX.b !RAM_SMB2U_Global_ScratchRAM0E
	STX.w $0710
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	STX.w $0711
	LDX.b !RAM_SMB2U_Global_ScratchRAM03
	PHX
	JSR.w CODE_13FA5C
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$7000
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDY.b $E7
	LDA.b [!RAM_SMB2U_Global_ScratchRAM0D],y
	BEQ.b CODE_13F983
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	TAX
	LDA.l DATA_14CCBD,x
	BRA.b CODE_13F985

CODE_13F983:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_13F985:
	PLX
	STX.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.w $070F
	STX.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.w $0710
	STX.b !RAM_SMB2U_Global_ScratchRAM0E
	LDX.w $0711
	STX.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_13F997:
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	PLA
	TAX
	RTL

;--------------------------------------------------------------------

CODE_13F99C:
	PHA
	AND.b #$C0
	ASL
	ROL
	ROL
	ADC.w DATA_119B9C,y
	TAY
	PLA
	CMP.w DATA_11CDA8,y
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_13F9AB:
	INC.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	INC.w !RAM_SMB2U_Player_PlayerLocked
	JSL.l CODE_1287BC
	LDA.b #$01
	STA.w $0601
	RTL

;--------------------------------------------------------------------

CODE_13F9BB:
	LDX.b #$00
	LDY.b $6E
	LDA.b !RAM_SMB2U_Player_XSpeed
	EOR.w DATA_119BBA,y
	BPL.b CODE_13F9C8
	STX.b !RAM_SMB2U_Player_XSpeed
CODE_13F9C8:
	LDA.w !RAM_SMB2U_Player_XSpeedOffset
	EOR.w DATA_119BBA,y
	BPL.b CODE_13F9D3
	STX.w !RAM_SMB2U_Player_XSpeedOffset
CODE_13F9D3:
	STX.w !RAM_SMB2U_Player_SubXPos
	RTL

;--------------------------------------------------------------------

CODE_13F9D7:
	LDA.b #!Define_SMB2U_PlayerState02_PickupSomething
	STA.b !RAM_SMB2U_Player_CurrentState
	STZ.w $078C
	LDA.b #$06
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	LDA.b #$08
	STA.b !RAM_SMB2U_Player_BasePose
	INC.b !RAM_SMB2U_Player_CarryingSomethingFlag
	LDA.b #!Define_SMAS_Sound0063_SMB2UPickupItem
	STA.w !RAM_SMB2U_Global_SoundCh3
	RTL

;--------------------------------------------------------------------

CODE_13F9EE:
	LDY.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b $E6
	JSR.w CODE_13FA8F
	STY.b !RAM_SMB2U_Global_ScratchRAM01
	STA.b $E6
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	LDA.w !RAM_SMB2U_Global_ScratchRAM01,y
	STA.b $E9
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	CMP.w DATA_119BB6+$01,y
	BCS.b CODE_13FA0C
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CMP.w DATA_119BB6,y
CODE_13FA0C:
	RTS

;--------------------------------------------------------------------

CODE_13FA0D:
	PHA
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	CLC
	ADC.b #$08
	PHP
	LSR
	LSR
	LSR
	LSR
	STA.b $E5
	PLP
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_13FA23
	ADC.b #$00
CODE_13FA23:
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.b #$08
	AND.b #$F0
	STA.b $E6
	STA.w $0212
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	JSR.w CODE_13F9EE
	PLA
	BCS.b CODE_13FA41
	JSL.l CODE_128BF4
CODE_13FA41:
	RTL

;--------------------------------------------------------------------

SMB2U_SetReturnPointForWhenLeavingVaseOrSubspace:
.Main:
;$13FA42
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BNE.b CODE_13FA5B
	LDA.b !RAM_SMB2U_Player_XPosHi
	STA.w !RAM_SMB2U_Player_ReturnPointXPosHi
	LDA.b !RAM_SMB2U_Player_XPosLo
	STA.w !RAM_SMB2U_Player_ReturnPointXPosLo
	LDA.b !RAM_SMB2U_Player_YPosHi
	STA.w !RAM_SMB2U_Player_ReturnPointYPosHi
	LDA.b !RAM_SMB2U_Player_YPosLo
	STA.w !RAM_SMB2U_Player_ReturnPointYPosLo
CODE_13FA5B:
	RTL

;--------------------------------------------------------------------

CODE_13FA5C:
	LDX.b $E9
	JSR.w CODE_13FA69
	LDA.b $E6
	CLC
	ADC.b $E5
	STA.b $E7
	RTS

CODE_13FA69:
	STY.w $02F5
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_13FA75
	LDA.b #$00
	BRA.b CODE_13FA7B

CODE_13FA75:
	LDY.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.w DATA_11AB11,y
CODE_13FA7B:
	CLC
	ADC.w DATA_11AAFB,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w DATA_11AAF0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w DATA_11AB06,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.w $02F5
	RTS

;--------------------------------------------------------------------

CODE_13FA8F:
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	TYA
	BMI.b CODE_13FAA5
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0F
	BCS.b CODE_13FAA1
	CMP.b #$F0
	BCC.b CODE_13FAA5
CODE_13FAA1:
	CLC
	ADC.b #$10
	INY
CODE_13FAA5:
	RTS

;--------------------------------------------------------------------

CODE_13FAA6:
	LDA.w !RAM_SMB2U_Global_ScratchRAM05,y
	SEC
	SBC.w !RAM_SMB2U_Global_ScratchRAM06,y
	BPL.b CODE_13FAB5
	EOR.b #$FF
	CLC
	ADC.b #$01
	DEX
CODE_13FAB5:
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM09,x
	RTS

;--------------------------------------------------------------------

CODE_13FAB9:
	LDA.w !RAM_SMB2U_Global_ScratchRAM05,y
	SEC
	SBC.w !RAM_SMB2U_Global_ScratchRAM06,y
	STA.w !RAM_SMB2U_Global_ScratchRAM06,y
	LDA.w !RAM_SMB2U_Global_ScratchRAM01,y
	SBC.w !RAM_SMB2U_Global_ScratchRAM02,y
	BPL.b CODE_13FADD
	EOR.b #$FF
	PHA
	LDA.w !RAM_SMB2U_Global_ScratchRAM06,y
	EOR.b #$FF
	CLC
	ADC.b #$01
	STA.w !RAM_SMB2U_Global_ScratchRAM06,y
	PLA
	ADC.b #$00
	DEX
CODE_13FADD:
	CMP.b #$00
	BEQ.b CODE_13FAE3
	SEC
	RTS

CODE_13FAE3:
	LDA.w !RAM_SMB2U_Global_ScratchRAM06,y
	SBC.b !RAM_SMB2U_Global_ScratchRAM09,x
	RTS

;--------------------------------------------------------------------

CODE_13FAE9:
	TXA
	PHA
	LDY.b #$02
CODE_13FAED:
	TYA
	TAX
	INX
	CPY.b #$00
	BNE.b CODE_13FAFD
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_13FAFD
	JSR.w CODE_13FAA6
	BRA.b CODE_13FB00

CODE_13FAFD:
	JSR.w CODE_13FAB9
CODE_13FB00:
	BCS.b CODE_13FB0F
	PHA
	TYA
	LSR
	TAX
	PLA
	STA.w $0426,x
	DEY
	DEY
	BPL.b CODE_13FAED
	CLC
CODE_13FB0F:
	PLA
	TAX
	RTL

;--------------------------------------------------------------------

SMB2U_DrawHealthCounter:
.Main:
;$13FB12
	LDA.w $04C7
	BEQ.b CODE_13FB47
	DEC.w $04C7
	REP.b #$20
	LDY.w $04C7
	BNE.b CODE_13FB2D
	TYA
	AND.w #$0003
	TAX
	LDA.l DATA_11AB7B,x
	TXY
	BRA.b CODE_13FB30

CODE_13FB2D:
	LDA.w $04BC
CODE_13FB30:
	STA.w SMB2U_PaletteMirror[$80].LowByte
	LDA.w !RAM_SMB2U_Player_CurrentCharactersPalette+$01,y
	STA.w SMB2U_PaletteMirror[$81].LowByte
	LDA.w !RAM_SMB2U_Player_CurrentCharactersPalette+$02,y
	STA.w SMB2U_PaletteMirror[$82].LowByte
	LDA.w !RAM_SMB2U_Player_CurrentCharactersPalette+$03,y
	STA.w SMB2U_PaletteMirror[$83].LowByte
	SEP.b #$20
CODE_13FB47:
	LDA.b #$28
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Player_CurrentHP
	BEQ.b CODE_13FB56
	AND.b #$F0
	LSR
	LSR
	ADC.b #$04
CODE_13FB56:
	TAX
	LDY.b #$00
	LDA.b #$FE
	STA.b !RAM_SMB2U_Global_ScratchRAM03
CODE_13FB5D:
	LDA.l DATA_11AB63,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	LDA.b #$08
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.l DATA_11AB63,x
	AND.b #$02
	EOR.b #$02
	CLC
	ADC.b #$32
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	PHY
	TYA
	LSR
	LSR
	TAY
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PLY
	TYA
	CLC
	ADC.b #$04
	TAY
	INX
	INC.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	CMP.w !RAM_SMB2U_Player_NumberOfHealthUpgrades
	BNE.b CODE_13FB5D
	LDA.w !RAM_SMB2U_Level_ShakeLayer1Timer
	BEQ.b CODE_13FBC1
	DEC.w !RAM_SMB2U_Level_ShakeLayer1Timer
	LSR
	AND.b #$01
	TAY
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	BPL.b CODE_13FBB1
	INY
	INY
CODE_13FBB1:
	PHB
	LDA.b #DATA_11AB77>>16
	PHA
	PLB
	LDA.w DATA_11AB77,y
	STA.w !RAM_SMB2U_Level_ShakingLayer1DispYLo
	PLB
	JSL.l CODE_12BAB4
CODE_13FBC1:
	RTL

;--------------------------------------------------------------------

CODE_13FBC2:
	PHX
	LDX.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CPX.b #$02
	BEQ.b CODE_13FC1A
	REP.b #$20
	AND.w #$00FF
	BEQ.b CODE_13FBDF
	LDA.b !RAM_SMB2U_Global_FrameCounter
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR] Reducing flashing speed
	AND.w #$0009
else
	AND.w #$0003
endif
	TAX
	LDA.w DATA_11AB83,x
	STA.w SMB2U_PaletteMirror[$00].LowByte
	BRA.b CODE_13FBED

CODE_13FBDF:
	STZ.w SMB2U_PaletteMirror[$00].LowByte
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	AND.w #$00FF
	BNE.b CODE_13FC1C
	LDA.w $04BC
CODE_13FBED:
	STA.w $0712
	LSR
	LSR
	LSR
	LSR
	LSR
	AND.w #$001F
	SEP.b #$20
	ORA.b #$40
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	LDA.w $0712
	AND.b #$1F
	ORA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	LDA.w $0713
	LSR
	LSR
	AND.b #$1F
	ORA.b #$80
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
CODE_13FC15:
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
CODE_13FC1A:
	PLX
	RTL

CODE_13FC1C:
	LDA.w $04BC
	STA.w SMB2U_PaletteMirror[$00].LowByte
	SEP.b #$20
	LDX.b #$0A
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_2_3
	BEQ.b CODE_13FC45
	CMP.b #!Define_SMB2U_LevelID_6_1
	BNE.b CODE_13FC47
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_6_1_SandyVase
	BEQ.b CODE_13FC45
	CMP.b #!Define_SMB2U_SublevelID_6_1_SandyVaseWithPhanto
	BEQ.b CODE_13FC45
	CMP.b #!Define_SMB2U_SublevelID_6_1_GenericVase
	BNE.b CODE_13FC47
	LDA.w $051B
	BEQ.b CODE_13FC47								; Note: !Define_SMB2U_SublevelID_6_1_LevelEntrance
CODE_13FC45:
	LDX.b #$05
CODE_13FC47:
	TXA
	ORA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	TXA
	ORA.b #$40
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	TXA
	ORA.b #$80
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	BRA.b CODE_13FC15

;--------------------------------------------------------------------

CODE_13FC5B:
	REP.b #$30
	LDY.w #$0120
CODE_13FC60:
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BNE.b CODE_13FC76
	LDA.w SMB2U_OAMBuffer[$01].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BEQ.b CODE_13FC81
CODE_13FC76:
	TYA
	CLC
	ADC.w #$0004
	TAY
	CPY.w #$01C0
	BNE.b CODE_13FC60
CODE_13FC81:
	STY.w $02F8
	SEP.b #$30
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_CheckIfLevelUsesAnHDMAGradient(NULLROM)					; $13FC89
	%FREE_BYTES(NULLROM, 863, $FF)
%BANK_END(<EndBank>)
endmacro

;#############################################################################################################
;#############################################################################################################

macro SMB2UBank14Macros(StartBank, EndBank)
%BANK_START(<StartBank>)
DATA_148000:
	db DATA_14801C,DATA_1487DC,DATA_148F9C,DATA_14975C,DATA_149F1C,DATA_14A6DC,DATA_14AE9C

DATA_148007:
	db DATA_14871C,DATA_148EDC,DATA_14969C,DATA_149E5C,DATA_14A61C,DATA_14ADDC,DATA_14B59C

DATA_14800E:
	db DATA_14801C>>8,DATA_1487DC>>8,DATA_148F9C>>8,DATA_14975C>>8,DATA_149F1C>>8,DATA_14A6DC>>8,DATA_14AE9C>>8

DATA_148015:
	db DATA_14871C>>8,DATA_148EDC>>8,DATA_14969C>>8,DATA_149E5C>>8,DATA_14A61C>>8,DATA_14ADDC>>8,DATA_14B59C>>8

DATA_14801C:
	dw $72AF,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $7FB4,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $7FB4,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$1B5F,$7FB4,$68E0,$7DE4
	dw $7FB4,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $7FB4,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$2D4A,$4A52,$6739
	dw $7FB4,$7FBA,$1124,$0068,$04EC,$1570,$15ED,$2250,$1963,$25C6,$3229,$3E8C,$6EB1,$72F3,$7735,$7B78
	dw $7708,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $7708,$7FFF,$1084,$0012,$105B,$4DBF,$667F,$4B9F,$0533,$04DD,$1DFF,$3AFF,$1B5F,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$0000,$0000,$0000
	dw $7708,$7FFF,$14A5,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $0000,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$0088,$00EB,$094E,$15B1,$2635,$0048,$08AB,$110E,$1571,$25F5,$0D68,$11EC,$1670,$26F4
	dw $4924,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $5222,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$1084,$1084,$1084,$1084,$1084,$0469,$08CC,$112F,$1592,$1084,$0D68,$11EC,$1670
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $7FB4,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$01C5,$0AAC,$1B52,$33F9,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $7FB4,$7FBA,$1124,$0068,$04EC,$1570,$15ED,$2250,$1963,$25C6,$3229,$3E8C,$6EB1,$72F3,$7735,$7B78
	dw $0461,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4924,$2A32,$0C63,$084D,$1090,$18D2,$2114,$2956,$0D0C,$1590,$1DD2,$2614,$294A,$35AD,$3DEF,$4631
	dw $7708,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7708,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$01C5,$0AAC,$1B52,$33F9,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$012A,$05AE,$1652,$26F6,$37BA,$3D25,$5A0C,$76D2,$7F97,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$0461,$0461,$0461,$0461,$0882,$10C4,$1906,$2148,$2DAB,$35ED,$3E2F,$4671,$4EB3,$5F37
	dw $0000,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4924,$3AD6,$0C63,$084D,$1090,$18D2,$2114,$2956,$0D0C,$1590,$1DD2,$2614,$294A,$35AD,$3DEF,$4631
	dw $7708,$7FFF,$1084,$01E0,$1284,$2B4A,$3FEF,$5FF7,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7708,$7FFF,$1084,$000F,$10DF,$299F,$3A1F,$5B1F,$01C5,$0AAC,$1B52,$33F9,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$0000,$0000,$0000
	dw $7708,$7FFF,$14A5,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_14871C:
	dw $45BC,$7FFF,$0C63,$1982,$3A06,$4A8A,$5B0E,$6B92,$0000,$150C,$4142,$4DC5,$7E70,$231F,$021F,$117C
	dw $45BC,$7FFF,$0C63,$0C8C,$14F1,$2598,$3A5E,$531F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $45BC,$7FFF,$0C63,$1982,$3A06,$4A8A,$5B0E,$6B92,$0000,$150C,$4142,$4DC5,$7E70,$231F,$021F,$117C
	dw $45BC,$7FFF,$0C63,$0C8C,$14F1,$2598,$3A5E,$531F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $45BC,$7FFF,$0C63,$1982,$3A06,$4A8A,$5B0E,$6B92,$0000,$150C,$4142,$4DC5,$7E70,$231F,$021F,$117C
	dw $45BC,$7FFF,$0C63,$0C8C,$14F1,$2598,$3A5E,$531F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_1487DC:
	dw $3502,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$000C,$008E,$1112,$2196,$321A,$1084,$1084,$1084,$1084,$777F,$0277,$02FB,$037F
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$7FFF,$1084,$012F,$0171,$09B3,$11F5,$1A37,$0123,$01C7,$024B,$02CF,$3258,$5064,$64C7,$756C
	dw $4924,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0012,$105B,$4DBF,$667F,$4B9F,$0533,$04DD,$1DFF,$3AFF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$19A0,$3262,$4B25,$63E7,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$010E,$0150,$11D4,$2258,$32DC,$3B5E,$298E,$31D0,$3A12,$4254,$4A96,$52D8,$5B1A,$635C
	dw $4924,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0012,$105B,$4DBF,$667F,$4B9F,$0533,$04DD,$1DFF,$3AFF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$7FFF,$010E,$0150,$11D4,$2258,$32DC,$3B5E,$298E,$31D0,$3A12,$4254,$4A96,$52D8,$5B1A,$635C
	dw $5222,$3B1D,$25F5,$00F0,$3D25,$5A0C,$76D2,$7F97,$3B1D,$4716,$2A2F,$0168,$4924,$0A97,$133C,$2FDF
	dw $4924,$7FFF,$1084,$000C,$008E,$1112,$2196,$321A,$1084,$1084,$1084,$1084,$777F,$0277,$02FB,$037F
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$09E3,$0AA6,$1F6B,$43F3,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$7FFF,$1084,$012F,$0171,$09B3,$11F5,$1A37,$0123,$01C7,$024B,$02CF,$3258,$5064,$64C7,$756C
	dw $0461,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0012,$105B,$4DBF,$667F,$4B9F,$0533,$04DD,$1DFF,$3AFF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4924,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$09E3,$0AA6,$1F6B,$43F3,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$7FFF,$0461,$0461,$0461,$0461,$0882,$10C4,$1906,$2148,$2DAB,$35ED,$3E2F,$4671,$4EB3,$5F37
	dw $4924,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0012,$105B,$4DBF,$667F,$4B9F,$0533,$04DD,$1DFF,$3AFF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$01E0,$1284,$2B4A,$3FEF,$5FF7,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4924,$7FFF,$1084,$000F,$10DF,$299F,$3A1F,$5B1F,$09E3,$0AA6,$1F6B,$43F3,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$7FFF,$010E,$0150,$11D4,$2258,$32DC,$3B5E,$298E,$31D0,$3A12,$4254,$4A96,$52D8,$5B1A,$635C
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_148EDC:
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $45BC,$7FFF,$0C63,$0164,$0629,$1ACE,$2F73,$43FB,$0000,$0000,$0000,$0000,$0000,$7F3E,$7258,$6592
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $45BC,$7FFF,$0C63,$0164,$0629,$1ACE,$2F73,$43FB,$0000,$0000,$0000,$0000,$0000,$7F3E,$7258,$6592
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $45BC,$7FFF,$0C63,$0164,$0629,$1ACE,$2F73,$43FB,$0000,$0000,$0000,$0000,$0000,$7F3E,$7258,$6592

DATA_148F9C:
	dw $72AF,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $7FB4,$00A0,$0120,$01A0,$1A40,$2F24,$33E3,$4FF3,$0427,$088A,$10ED,$1550,$25C6,$3229,$3E8C,$4AEF
	dw $7FB4,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$1B5F,$7FB4,$68E0,$7DE4
	dw $7FB4,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $7FB4,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$2D4A,$4A52,$6739
	dw $7FB4,$7FBA,$1D87,$012E,$0D91,$19F4,$2250,$2EB3,$25C6,$3229,$3E8C,$4AEF,$6EB1,$72F3,$7735,$7B78
	dw $7708,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0CE9,$0D4C,$15AF,$1E12,$1084,$0469,$08CC,$112F,$1592,$1084,$0D68,$11EC,$1670
	dw $7708,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7708,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$01C5,$0AAC,$1B52,$33F9,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1CA0,$2E07,$2A4C,$2671,$2297,$1EBC,$2AD1,$2F16,$375B,$3F7F,$1084,$2CE4,$3947,$45AA
	dw $7708,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4924,$7FFF,$0088,$00EB,$094E,$15B1,$2635,$0048,$08AB,$110E,$1571,$25F5,$0D68,$11EC,$1670,$26F4
	dw $7708,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$0000,$0000,$0000
	dw $7708,$7FFF,$14A5,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $0000,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$1084,$1084,$1084,$1084,$1084,$0469,$08CC,$112F,$1592,$1084,$0D68,$11EC,$1670
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$09E3,$0AA6,$1F6B,$43F3,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $0461,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4924,$2A32,$0C63,$084D,$1090,$18D2,$2114,$2956,$0D0C,$1590,$1DD2,$2614,$294A,$35AD,$3DEF,$4631
	dw $7708,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7708,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$01C5,$0AAC,$1B52,$33F9,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$0461,$0461,$0461,$0461,$0882,$10C4,$1906,$2148,$2DAB,$35ED,$3E2F,$4671,$4EB3,$5F37
	dw $0000,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4924,$3AD6,$0C63,$084D,$1090,$18D2,$2114,$2956,$0D0C,$1590,$1DD2,$2614,$294A,$35AD,$3DEF,$4631
	dw $7708,$7FFF,$1084,$01E0,$1284,$2B4A,$3FEF,$5FF7,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7708,$7FFF,$1084,$000F,$10DF,$299F,$3A1F,$5B1F,$01C5,$0AAC,$1B52,$33F9,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$012A,$05AE,$1652,$26F6,$37BA,$3D25,$5A0C,$76D2,$7F97,$0000,$0000,$0000,$0000
	dw $7708,$7FFF,$14A5,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_14969C:
	dw $45BC,$7FFF,$0C63,$20B4,$313B,$41BF,$523F,$62BF,$0000,$150C,$4142,$4DC5,$7FB4,$231F,$021F,$117C
	dw $45BC,$7FFF,$0C63,$0C8C,$14F1,$2598,$3A5E,$531F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $45BC,$7FFF,$0C63,$1982,$3A06,$4A8A,$5B0E,$6B92,$0000,$150C,$4142,$4DC5,$7E70,$231F,$021F,$117C
	dw $45BC,$7FFF,$0C63,$0C8C,$14F1,$2598,$3A5E,$531F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $45BC,$7FFF,$0C63,$1982,$3A06,$4A8A,$5B0E,$6B92,$0000,$150C,$4142,$4DC5,$7E70,$231F,$021F,$117C
	dw $45BC,$7FFF,$0C63,$0C8C,$14F1,$2598,$3A5E,$531F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_14975C:
	dw $4B1F,$2678,$1DB3,$00AC,$2EBA,$0000,$0000,$0000,$2EBA,$2678,$260E,$0147,$2EBA,$1084,$39CE,$6739
	dw $4B1F,$7FFF,$1084,$4428,$504B,$5C6E,$6891,$3E4C,$4A07,$62CE,$7332,$7FB6,$4ECE,$6371,$6318,$739C
	dw $4B1F,$7FFF,$1084,$4DE3,$6288,$6EED,$7752,$7FF7,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4B1F,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$0D5B,$261F,$3ABF,$537F,$4A52,$5AD6,$6318,$739C
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$21A2,$3EA8,$576E,$6BF3,$000A,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$000A,$0141,$11C5,$2249,$32CD,$7BF3,$29A9,$3E4C,$4ECE,$6371,$192F,$5AD6,$6B5A,$739C
	dw $4B1F,$2678,$1DB3,$00AC,$2EBA,$0000,$0000,$0000,$2EBA,$2678,$260E,$0147,$2EBA,$1084,$39CE,$6739
	dw $4B1F,$7FFF,$1084,$4428,$504B,$5C6E,$6891,$74B4,$4A07,$62CE,$7332,$7FB6,$4ECE,$6371,$6318,$739C
	dw $4B1F,$7FFF,$1084,$4DE3,$6288,$6EED,$7752,$7FF7,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4B1F,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$0D5B,$261F,$3ABF,$537F,$4A52,$5AD6,$6318,$739C
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$21A2,$3EA8,$576E,$6BF3,$000A,$0CCC,$192F,$2992
	dw $4B1F,$7FFF,$1BFF,$11C5,$1E28,$2A8B,$32CD,$0259,$00CD,$0130,$0193,$01F6,$5294,$5EF7,$6B5A,$77BD
	dw $4B1F,$2678,$1DB3,$00AC,$2EBA,$0000,$0000,$0000,$2EBA,$2678,$260E,$0147,$2EBA,$1084,$39CE,$6739
	dw $4B1F,$7FFA,$7FF8,$7FD7,$7FD7,$7FB5,$7F95,$7F53,$7F32,$7F53,$7F95,$72CF,$6EAE,$72CF,$76F0,$7B11
	dw $4B1F,$7FFF,$1084,$4DE3,$6288,$6EED,$7752,$7FF7,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4B1F,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$0D5B,$261F,$3ABF,$537F,$0000,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$4428,$504B,$5C6E,$6891,$74B4,$21A2,$3EA8,$576E,$6BF3,$0000,$0000,$0000,$0000
	dw $4B1F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $0000,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$1084,$1084,$1084,$1084,$1084,$0469,$08CC,$112F,$1592,$1084,$0D68,$11EC,$1670
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$09E3,$0AA6,$1F6B,$43F3,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $0461,$2678,$1DB3,$00AC,$2EBA,$0000,$0000,$0000,$2EBA,$2678,$260E,$0147,$2EBA,$1084,$39CE,$6739
	dw $4924,$3AD6,$0C63,$3442,$4084,$48C6,$5108,$594A,$0D0C,$1590,$1DD2,$2614,$294A,$35AD,$3DEF,$4631
	dw $4B1F,$7FFF,$1084,$4DE3,$6288,$6EED,$7752,$7FF7,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4B1F,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$0D5B,$261F,$3ABF,$537F,$0000,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$4428,$504B,$5C6E,$6891,$74B4,$21A2,$3EA8,$576E,$6BF3,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$0461,$0461,$0461,$0461,$0882,$10C4,$1906,$2148,$2DAB,$35ED,$3E2F,$4671,$4EB3,$5F37
	dw $4B1F,$2678,$1DB3,$00AC,$2EBA,$0000,$0000,$0000,$2EBA,$2678,$260E,$0147,$2EBA,$1084,$39CE,$6739
	dw $4B1F,$7FFA,$7FF8,$7FD7,$7FD7,$7FB5,$7F95,$7F53,$7F32,$7F53,$7F95,$72CF,$6EAE,$72CF,$76F0,$7B11
	dw $4B1F,$7FFF,$1084,$01E0,$1284,$2B4A,$3FE7,$5FF7,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4B1F,$7FFF,$1084,$000F,$10DF,$299F,$3A1F,$5B1F,$0D5B,$261F,$3ABF,$537F,$0000,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$4428,$504B,$5C6E,$6891,$74B4,$21A2,$3EA8,$576E,$6BF3,$0000,$0000,$0000,$0000
	dw $4B1F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_149E5C:
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $45BC,$7FFF,$0C63,$2908,$3DAD,$5252,$66F7,$7B9C,$0000,$0000,$5D87,$7629,$7F0E,$675F,$4A7F,$31BF
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $45BC,$7FFF,$0C63,$2908,$3DAD,$5252,$66F7,$7B9C,$0000,$0000,$5D87,$7629,$7F0E,$675F,$4A7F,$31BF
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $45BC,$7FFF,$0C63,$2908,$3DAD,$5252,$66F7,$7B9C,$0000,$0000,$5D87,$7629,$7F0E,$675F,$4A7F,$31BF

DATA_149F1C:
	dw $72AF,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $7FB4,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $7FB4,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $7FB4,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $7FB4,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$0000,$0000,$0000
	dw $7FB4,$7FBA,$1124,$0068,$04EC,$1570,$15ED,$2250,$1963,$25C6,$3229,$3E8C,$6EB1,$72F3,$7735,$7B78
	dw $34E7,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1C00,$012C,$01D2,$0A97,$133C,$2FDF,$0214,$0277,$02FB,$037F,$777F,$0277,$02FB,$037F
	dw $4B1F,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$1B5F,$7FB4,$68E0,$7DE4
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$3D25,$5A0C,$76D2,$7F97,$0000,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1CA0,$3140,$3984,$3DA8,$35ED,$2633,$3084,$3CC6,$4909,$3D6D,$1084,$2CE4,$3947,$45AA
	dw $7708,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4924,$7FFF,$0088,$00EB,$094E,$15B1,$2635,$0048,$08AB,$110E,$1571,$25F5,$0D68,$11EC,$1670,$26F4
	dw $7708,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$0000,$0000,$0000
	dw $7708,$7FFF,$14A5,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $3000,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1C00,$0000,$0000,$0000,$0000,$0000,$0214,$0277,$02FB,$037F,$777F,$0277,$02FB,$037F
	dw $4B1F,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$09E3,$0AA6,$1F6B,$43F3,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$0002,$0488,$04CA,$0D0C,$114E,$1590,$19D2,$1E14,$2256,$2698,$2ADA,$2F1C,$375E,$3F9F
	dw $7708,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $7708,$7FFF,$1084,$0012,$105B,$4DBF,$667F,$4B9F,$0533,$04DD,$1DFF,$3AFF,$1B5F,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$01A0,$1A40,$2F24,$33E3,$6BF1,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7708,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$01C5,$0AAC,$1B52,$33F9,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$0000,$0000,$0000
	dw $7708,$7FFF,$14A5,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $7708,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3BD1,$0000,$0000,$0000
	dw $4924,$7FFF,$0088,$00EB,$094E,$15B1,$2635,$0048,$08AB,$110E,$1571,$25F5,$0D68,$11EC,$1670,$26F4
	dw $7708,$7FFF,$1084,$01E0,$1284,$2B4A,$3FE7,$5FF7,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $7708,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$0552,$0639,$06FF
	dw $7708,$7FFF,$1084,$000F,$10DF,$299F,$3A1F,$5B1F,$01C5,$0AAC,$1B52,$33F9,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $7708,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$3D25,$5A0C,$76D2,$7F97,$0000,$0000,$0000,$0000
	dw $7708,$7FFF,$14A5,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_14A61C:
	dw $45BC,$7FFF,$0C63,$1982,$3A06,$4A8A,$5B0E,$6B92,$0000,$150C,$4142,$4DC5,$7E70,$231F,$021F,$117C
	dw $45BC,$7FFF,$0C63,$0C8C,$14F1,$2598,$3A5E,$531F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $45BC,$7FFF,$0C63,$20B4,$313B,$41BF,$523F,$62BF,$0000,$150C,$4142,$4DC5,$7FB4,$231F,$021F,$117C
	dw $45BC,$7FFF,$0C63,$0C8C,$14F1,$2598,$3A5E,$531F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $45BC,$7FFF,$0C63,$1982,$3A06,$4A8A,$5B0E,$6B92,$0000,$150C,$4142,$4DC5,$7E70,$231F,$021F,$117C
	dw $45BC,$7FFF,$0C63,$0C8C,$14F1,$2598,$3A5E,$531F,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_14A6DC:
	dw $4924,$3B1D,$25F5,$00F0,$3D25,$5A0C,$76D2,$7F97,$3B1D,$4716,$2A2F,$0168,$4924,$0A97,$133C,$2FDF
	dw $4924,$7FFF,$1084,$000C,$008E,$1112,$2196,$321A,$1084,$1084,$1084,$1084,$777F,$0277,$02FB,$037F
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$7FFF,$1084,$012F,$0171,$09B3,$11F5,$1A37,$0123,$01C7,$024B,$02CF,$3258,$5064,$64C7,$756C
	dw $4924,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0012,$105B,$4DBF,$667F,$4B9F,$0533,$04DD,$1DFF,$3AFF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$19A0,$3262,$4B25,$63E7,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$010E,$0150,$11D4,$2258,$32DC,$3B5E,$298E,$31D0,$3A12,$4254,$4A96,$52D8,$5B1A,$635C
	dw $4924,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0012,$105B,$4DBF,$667F,$4B9F,$0533,$04DD,$1DFF,$3AFF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$7FFF,$010E,$0150,$11D4,$2258,$32DC,$3B5E,$298E,$31D0,$3A12,$4254,$4A96,$52D8,$5B1A,$635C
	dw $5222,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$1084,$1084,$1084,$1084,$1084,$0469,$08CC,$112F,$1592,$1084,$0D68,$11EC,$1670
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$09E3,$0AA6,$1F6B,$43F3,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$7FFF,$0087,$00A8,$08EA,$112C,$196E,$1DAF,$14C7,$18E8,$1D09,$212A,$254B,$296C,$2D8D,$31AE
	dw $4924,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1C00,$1C00,$1C00,$1C00,$1C00,$1C00,$0214,$0277,$02FB,$037F,$777F,$0277,$02FB,$037F
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $7FB4,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$01C5,$0AAC,$1B52,$33F9,$1196,$00D0,$68E0,$7DE4
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4B1F,$7FFF,$1CA0,$348A,$412C,$3D6F,$35F3,$3299,$3CC9,$492C,$558F,$3299,$1084,$2CE4,$3947,$45AA
	dw $4924,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0012,$105B,$4DBF,$667F,$4B9F,$0533,$04DD,$1DFF,$3AFF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$01E0,$1284,$2B4A,$3FE7,$5FF7,$00CE,$0154,$021A,$2EDF,$0000,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4924,$7FFF,$1084,$000F,$10DF,$299F,$3A1F,$5B1F,$09E3,$0AA6,$1F6B,$43F3,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$7FFF,$010E,$0150,$11D4,$2258,$32DC,$3B5E,$298E,$31D0,$3A12,$4254,$4A96,$52D8,$5B1A,$635C
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_14ADDC:
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $45BC,$7FFF,$0C63,$0164,$0629,$1ACE,$2F73,$43FB,$0000,$0000,$0000,$0000,$0000,$7F3E,$7258,$6592
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $45BC,$7FFF,$0C63,$0164,$0629,$1ACE,$2F73,$43FB,$0000,$0000,$0000,$0000,$0000,$7F3E,$7258,$6592
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $45BC,$7FFF,$0C63,$0164,$0629,$1ACE,$2F73,$43FB,$0000,$0000,$0000,$0000,$0000,$7F3E,$7258,$6592

DATA_14AE9C:
	dw $4B1F,$2678,$1DB3,$00AC,$2EBA,$0000,$0000,$0000,$2EBA,$2678,$260E,$0147,$2EBA,$1084,$39CE,$6739
	dw $3CA5,$7FFF,$14A5,$14A5,$14A5,$42FA,$4F5D,$5FDF,$2692,$2AF7,$0196,$021A,$6EB1,$72F3,$7735,$7B78
	dw $4B1F,$7FFF,$1084,$0140,$0220,$0701,$13C4,$33F5,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $3CA5,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$1D47,$31EC,$31EC,$5B36,$6FDB,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$006D,$0D33,$19F9,$2A7D,$471D,$390B,$5590,$6E36,$7EDA,$0000,$0000,$0000,$0000
	dw $3CA5,$7FFF,$1084,$09B3,$2237,$2E9A,$3AFD,$475F,$0556,$11B9,$0000,$0000,$6EB1,$72F3,$7735,$7B78
	dw $0000,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $3D25,$319C,$2108,$4188,$5A4E,$7314,$019C,$331F,$29CE,$4294,$5B5A,$73FF,$001C,$0850,$1094,$2118
	dw $4B1F,$7FFF,$1084,$0140,$0220,$0701,$13C4,$33F5,$00CE,$0154,$0154,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$493C,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $3CA5,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$1D47,$31EC,$31EC,$5B36,$6FDB,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0552,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$016B,$0231,$02D6,$139C,$3FFF,$390B,$5590,$6E36,$7EDA,$0000,$0000,$0000,$0000
	dw $3D25,$7FFF,$18CA,$04AC,$0CEE,$1551,$1DB4,$2617,$1CED,$2950,$3192,$35B3,$14A7,$210A,$2D6D,$3DF1
	dw $4B1F,$2678,$1DB3,$00AC,$2EBA,$0000,$0000,$0000,$2EBA,$2678,$26E0,$0147,$2EBA,$1084,$39CE,$6739
	dw $4B1F,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5
	dw $4B1F,$7FFF,$1084,$0140,$0220,$0701,$13C4,$33F5,$00CE,$0154,$0154,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$493C,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4B1F,$7FFF,$1084,$04B0,$1555,$25FA,$3A9F,$4F3F,$1D47,$31EC,$31EC,$5B36,$6FDB,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0552,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$016B,$0231,$02D6,$139C,$3FFF,$390B,$559C,$5590,$7EDA,$0000,$0000,$0000,$0000
	dw $4B1F,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5
	dw $0000,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$1084,$1084,$1084,$1084,$1084,$0469,$08CC,$112F,$1592,$1084,$0D68,$11EC,$1670
	dw $4924,$7FFF,$1084,$012C,$01D2,$0A97,$133C,$2FDF,$00CE,$0154,$021A,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4924,$7FFF,$1084,$008E,$1154,$321A,$4ABF,$5B1F,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4924,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$09E3,$0AA6,$1F6B,$43F3,$0000,$0000,$0000,$0000
	dw $4924,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4924,$7FFF,$1084,$00B0,$0155,$05FA,$1A9F,$2B1F,$19A0,$3262,$4B25,$63E7,$0000,$00F2,$0197,$125D
	dw $4924,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $0000,$3B1D,$25F5,$00F0,$3B1D,$3B1D,$00CC,$0000,$3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000
	dw $3D25,$319C,$2108,$4188,$5A4E,$7314,$019C,$331F,$29CE,$4294,$5B5A,$73FF,$001C,$0850,$1094,$2118
	dw $4B1F,$7FFF,$1084,$0140,$0220,$0701,$13C4,$33F5,$00CE,$0154,$0154,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$493C,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $3CA5,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$1D47,$31EC,$31EC,$5B36,$6FDB,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0552,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$016B,$0231,$02D6,$139C,$3FFF,$390B,$5590,$6E36,$7EDA,$0000,$2D4A,$4A52,$6739
	dw $3D25,$7FFF,$18CA,$04AC,$0CEE,$1551,$1DB4,$2617,$1CED,$2950,$3192,$35B3,$14A7,$210A,$2D6D,$3DF1
	dw $0000,$7FFF,$1084,$4A52,$10BF,$061F,$369E,$4F5F,$6739,$0552,$0639,$06FF,$09B3,$2237,$2E9A,$3AFD
	dw $3D25,$319C,$2108,$4188,$5A4E,$7314,$019C,$331F,$29CE,$4294,$5B5A,$73FF,$001C,$0850,$1094,$2118
	dw $4B1F,$7FFF,$1084,$01A0,$0220,$0701,$13C4,$33F5,$00CE,$0154,$0154,$2EDF,$1B5F,$2D4A,$4A52,$6739
	dw $4B1F,$7FFF,$1084,$5480,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$493C,$7EDF,$0000,$00F1,$21B7,$3E7D
	dw $4B1F,$7FFF,$1084,$0009,$000F,$10DF,$299F,$3A1F,$1D47,$31EC,$31EC,$5B36,$6FDB,$0000,$0000,$0000
	dw $4B1F,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$0000,$0552,$0639,$06FF,$110F,$30B8,$457E,$625F
	dw $4B1F,$7FFF,$1084,$016B,$0231,$02D6,$139C,$3FFF,$390B,$5590,$6E36,$7EDA,$0000,$0000,$0000,$0000
	dw $3D25,$7FFF,$18CA,$04AC,$0CEE,$1551,$1DB4,$2617,$1CED,$2950,$3192,$35B3,$14A7,$210A,$2D6D,$3DF1
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $6100,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

DATA_14B59C:
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $4631,$7FFF,$7DBF,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $4631,$7FFF,$7DBF,$5800,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dw $45BC,$7FFF,$0C63,$2940,$3A00,$4EC0,$5749,$73F4,$0000,$0000,$0000,$0000,$0000,$171F,$0DDF,$0115
	dw $4631,$7FFF,$13E0,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000

;--------------------------------------------------------------------

DATA_14B65C:
	dw $45BC,$14A5,$7FFF,$1811,$2896,$451B,$59FF,$76DF,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$007F,$001B
	dw $45BC,$14A5,$7FFF,$1811,$2896,$451B,$59FF,$76DF,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$007F,$001B
	dw $45BC,$14A5,$7FFF,$1811,$2896,$451B,$59FF,$76DF,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$007F,$001B
	dw $45BC,$14A5,$7FFF,$1811,$2896,$451B,$59FF,$76DF,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$007F,$001B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$1811,$2896,$451B,$59FF,$76DF,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$007F,$001B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$1811,$2896,$451B,$59FF,$76DF,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$007F,$001B
	dw $45BC,$14A5,$7FFF,$1DC0,$2680,$2F40,$2FE0,$67E0,$0000,$0140,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$1DC0,$2680,$2F40,$2FE0,$67E0,$0000,$0140,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$1DC0,$2680,$2F40,$2FE0,$67E0,$0000,$0140,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$1DC0,$2680,$2F40,$2FE0,$67E0,$0000,$0140,$22DF,$2FBF,$76D3,$023F,$019F,$011B
	dw $45BC,$14A5,$7FFF,$0011,$0016,$001D,$017F,$2E3F,$0000,$110F,$22DF,$2FBF,$76D3,$023F,$019F,$011B

DATA_14B8DC:
	dw $45BC,$14A5,$7FFF,$1568,$2A0D,$3EB2,$5357,$67DC,$0000,$0000,$2529,$4210,$5EF7,$471F,$261C,$0115
	dw $45BC,$14A5,$7FFF,$2521,$39C4,$4E69,$630E,$77B2,$0000,$0D6B,$2210,$3AD6,$539C,$2ABF,$1A3F,$09BC
	dw $45BC,$14A5,$7FFF,$1568,$2A0D,$3EB2,$5357,$67DC,$0000,$0000,$2529,$4210,$5EF7,$471F,$261C,$0115
	dw $45BC,$14A5,$7FFF,$000F,$001C,$01DF,$02DF,$435F,$0000,$3D00,$51A0,$6640,$7AE0,$471F,$261C,$0115
	dw $45BC,$14A5,$7FFF,$000D,$0093,$0098,$213E,$423F,$0000,$21BF,$323F,$3EBF,$4F1F,$7F95,$6AEF,$5A69
	dw $45BC,$14A5,$7FFF,$2521,$39C4,$4E69,$630E,$77B2,$0000,$0D6B,$2210,$3AD6,$539C,$2ABF,$1A3F,$09BC
	dw $45BC,$14A5,$7FFF,$0183,$0A49,$230F,$37B4,$4FDA,$0000,$00D0,$76D1,$7F96,$001D,$475F,$2E9D,$15DB

;--------------------------------------------------------------------

DATA_14B9BC:
	dw $72AF,$7FFF,$7FFF,$00F0,$72AF,$72F3,$7B78,$7FBA

DATA_14B9CC:
	dw $3B1D,$4716,$2A2F,$0168,$3B1D,$0000,$0000,$0000

;--------------------------------------------------------------------

; Note: unreferenced data?

UNK_14B9DC:
	dw $45BC,$7FFF,$0C63,$2190,$3A36,$573D,$4278,$52FC,$0000,$2190,$192E,$3A36,$52FC,$5B5E,$3E77,$218E
	dw $45BC,$7FFF,$0C63,$2190,$3A36,$573D,$4278,$52FC,$0000,$2190,$192E,$3A36,$52FC,$5B5E,$3E77,$218E
	dw $45BC,$7FFF,$0C63,$2190,$3A36,$573D,$4278,$52FC,$0000,$2190,$192E,$3A36,$52FC,$5B5E,$3E77,$218E
	dw $45BC,$7FFF,$0C63,$2190,$3A36,$573D,$4278,$52FC,$0000,$2190,$192E,$3A36,$52FC,$5B5E,$3E77,$218E

UNK_14BA5C:
	dw $6000,$2040,$45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$152F,$40A3,$45C6,$56EC,$14DC
	dw $1096,$000F,$45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$152F,$5088,$6D6F,$7E56,$5B92
	dw $42AB,$21E5,$45BC,$7FFF,$0C63,$5900,$69E8,$7ECF,$2D9C,$3ABF,$0000,$0D2F,$0973,$2A7B,$4B5F,$191F
	dw $18D9,$0012,$45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$0C57,$0172,$0259,$1F1F,$6E9F
	dw $495F,$2896

;--------------------------------------------------------------------

DATA_14BAE0:
	dw $45BC,$14A5,$7FFF,$2908,$3DAD,$5252,$66F7,$7B9C,$0000,$2908,$66F7,$7B9C,$3DAD,$66F7,$5252,$3DAD

;--------------------------------------------------------------------

DATA_14BB00:
	dw $5FBF,$2678,$1DB3,$00AC,$2EBA,$0000,$0000,$0000,$2EBA,$2678,$260E,$0147,$2EBA,$1084,$39CE,$6739

DATA_14BB20:
	dw $3484,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5

DATA_14BB40:
	dw $3CA5,$7FFF,$1084,$016B,$0231,$02D6,$139C,$3FFF,$00CE,$0154,$021A,$2EDF,$3F5F,$2D4A,$4A52,$6739

DATA_14BB60:
	dw $3CA5,$7FFF,$1084,$4000,$68E0,$7DE4,$7EEB,$7FB4,$2C36,$493C,$61FF,$7EDF,$0000,$00F1,$21B7,$3E7D

DATA_14BB80:
	dw $3CA5,$7FFF,$1084,$006A,$0130,$01D5,$027A,$331F,$1D47,$31EC,$4691,$5B36,$6FDB,$61E8,$66CC,$7FB3

DATA_14BBA0:
	dw $3CA5,$7FFF,$1084,$0837,$10BF,$061F,$369E,$4F5F,$04CE,$0552,$0639,$16BD,$110F,$3ABF,$471F,$537F

DATA_14BBC0:
	dw $5FBF,$14A5,$7FFF,$2D4A,$4631,$6318,$369E,$4F5F,$0000,$110F,$093C,$1DFF,$3AFF,$4DBF,$105B,$0012

DATA_14BBE0:
	dw $3CA5,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$1D47,$31EC,$31EC,$5B36,$6FDB,$0000,$0000,$0000

DATA_14BC00:
	dw $45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$152F,$40A3,$45C6,$56EC,$14DC,$1096,$000F

DATA_14BC20:
	dw $45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$152F,$5088,$6D6F,$7E56,$5B92,$42AB,$21E5

DATA_14BC40:
	dw $45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$0C57,$0172,$0259,$1F1F,$6E9F,$495F,$2896

DATA_14BC60:
	dw $45BC,$7FFF,$0C63,$5900,$69E8,$7ECF,$2D9C,$3ABF,$0000,$0D2F,$0973,$2A7B,$4B5F,$191F,$18D9,$0012

DATA_14BC80:
	dw $45BC,$7FFF,$14A5,$11A5,$1AC4,$3FCC,$369E,$4F5F,$0000,$110F,$0018,$457E,$625F,$0000,$0000,$0000

DATA_14BCA0:
	dw $45BC,$14A5,$7FFF,$0183,$0A49,$230F,$37B4,$4FDA,$0000,$00D0,$76D1,$7F96,$001D,$475F,$2E9D,$15DB

DATA_14BCC0:
	dw $45BC,$7FFF,$14A5,$2929,$4631,$6318,$369E,$4F5F,$0000,$110F,$093C,$1DFF,$3AFF,$4DBF,$105B,$0012

DATA_14BCE0:
	dw $45BC,$14A5,$1084,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5

;--------------------------------------------------------------------

DATA_14BD00:
	dw $4407,$2678,$1DB3,$00AC,$2EBA,$0000,$0000,$0000,$2EBA,$2678,$260E,$0147,$2EBA,$1084,$39CE,$6739

DATA_14BD20:
	dw $4407,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5

DATA_14BD40:
	dw $4407,$7FFF,$1084,$3000,$4480,$58E0,$6D40,$7DA0,$7E80,$1D77,$29FD,$327D,$471F,$14A5,$5659,$3F9F

DATA_14BD60:
	dw $4407,$7FFF,$1084,$3000,$4480,$58E0,$6D40,$7DA0,$7E80,$0973,$0639,$1ADE,$2F7F,$00EE,$1D77,$4BDF

DATA_14BD80:
	dw $4407,$7FFF,$1084,$3000,$4480,$58E0,$6D40,$7DA0,$7E80,$08AE,$0937,$15BB,$263F,$0639,$5659,$3F9F

DATA_14BDA0:
	dw $4407,$7FFF,$1084,$00EE,$0973,$0639,$1ADE,$2F7F,$4BDF,$1D77,$29FD,$327D,$471F,$07F9,$14A5,$14A5

DATA_14BDC0:
	dw $4407,$7FFF,$0000,$0253,$02F8,$33DF,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5

DATA_14BDE0:
	dw $4407,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5

DATA_14BE00:
	dw $45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$152F,$40A3,$45C6,$56EC,$14DC,$1096,$000F

DATA_14BE20:
	dw $45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$152F,$5088,$6D6F,$7E56,$5B92,$42AB,$21E5

DATA_14BE40:
	dw $45BC,$7FFF,$0C63,$00F2,$11DA,$1B3E,$2D9C,$3ABF,$0000,$0C57,$0172,$0259,$1F1F,$6E9F,$495F,$2896

DATA_14BE60:
	dw $45BC,$7FFF,$0C63,$5900,$69E8,$7ECF,$2D9C,$3ABF,$0000,$0D2F,$0973,$2A7B,$4B5F,$191F,$18D9,$0012

DATA_14BE80:
	dw $45BC,$7FFF,$1084,$0295,$033A,$33DF,$0010,$001A,$0000,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5

DATA_14BEA0:
	dw $45BC,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$0000,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5

DATA_14BEC0:
	dw $45BC,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$0000,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5

DATA_14BEE0:
	dw $45BC,$14A5,$1084,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5,$14A5

;--------------------------------------------------------------------

DATA_14BF00:
	dw $4924,$7FFF,$1084,$088B,$0CEE,$0951,$09B4,$0A17,$010D,$1591,$2615,$3699,$04EA,$054D,$11B0,$1E13

DATA_14BF20:
	dw $4924,$7FFF,$0505,$110F,$0D72,$0DD5,$0E38,$1A9B,$086A,$0589,$05CD,$0612,$08EE,$1551,$21B4,$2E17

DATA_14BF40:
	dw $7FB4,$7FBA,$1124,$0068,$04EC,$1570,$15ED,$2250,$1963,$25C6,$3229,$3E8C,$6EB1,$72F3,$7735,$7B78

DATA_14BF60:
	dw $4924,$7FFF,$0087,$00A8,$08EA,$112C,$196E,$1DAF,$14C7,$18E8,$1D09,$212A,$254B,$296C,$2D8D,$31AE

;--------------------------------------------------------------------

DATA_14BF80:
	dw $34E7,$3B1D,$25F5,$00F0,$3D25,$5A0C,$76D2,$7F97,$3B1D,$4716,$2A2F,$0168,$4924,$0A97,$133C,$2FDF

;--------------------------------------------------------------------

DATA_14BFA0:
	dw $3CA5,$7FFF,$252B,$6E36,$7EBA,$06FF,$2BDF,$083D,$195F,$7EEB,$7FAF,$625F,$72FF,$13C4,$33F5,$7F79

DATA_14BFC0:
	dw $3CA5,$7FFF,$1084,$00C9,$056E,$1A13,$2EB8,$435D,$1D47,$31EC,$31EC,$5B36,$6FDB,$0000,$0000,$0000

DATA_14BFE0:
	dw $3CA5,$7FFF,$1084,$356B,$45EF,$5673,$66F7,$777B,$0154,$021A,$2EDF,$1B5F,$7FF9,$7F54,$7EEB,$7E46

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
%FREE_BYTES(NULLROM, 512-216, $FF)
else
%FREE_BYTES(NULLROM, 512, $FF)
endif

;--------------------------------------------------------------------
; Note: Pause menu's OAM table

DATA_14C200:
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	db $90,$40,$04,$35,$00,$A0,$40,$04,$35,$00,$A8,$50,$04,$35,$00,$B0
	db $50,$04,$35,$00,$50,$68,$26,$35,$00,$50,$78,$11,$35,$00,$50,$88
	db $11,$35,$00,$48,$50,$60,$34,$00,$50,$50,$61,$34,$00,$58,$50,$70
	db $34,$00,$60,$50,$15,$35,$00,$68,$50,$71,$34,$00,$78,$50,$16,$35
	db $00,$80,$50,$1A,$35,$00,$88,$50,$1B,$35,$00,$90,$50,$60,$34,$00
	db $38,$30,$00,$35,$02,$48,$30,$01,$35,$02,$58,$30,$01,$35,$02,$68
	db $30,$01,$35,$02,$78,$30,$01,$35,$02,$88,$30,$01,$35,$02,$98,$30
	db $01,$35,$02,$A8,$30,$01,$35,$02,$B8,$30,$00,$75,$02,$38,$40,$10
	db $35,$02,$38,$50,$10,$35,$02,$38,$60,$10,$35,$02,$38,$70,$10,$35
	db $02,$38,$80,$10,$35,$02,$38,$90,$00,$B5,$02,$B8,$40,$10,$75,$02
	db $B8,$50,$10,$75,$02,$B8,$60,$10,$75,$02,$B8,$70,$10,$75,$02,$B8
	db $80,$10,$75,$02,$B8,$90,$00,$F5,$02,$48,$90,$01,$B5,$02,$58,$90
	db $01,$B5,$02,$68,$90,$01,$B5,$02,$78,$90,$01,$B5,$02,$88,$90,$01
	db $B5,$02,$98,$90,$01,$B5,$02,$A8,$90,$01,$B5,$02,$58,$40,$13,$35
	db $00,$60,$40,$14,$35,$00,$68,$40,$15,$35,$00,$70,$40,$16,$35,$00
	db $78,$40,$17,$35,$00,$98,$40,$0B,$35,$00,$58,$60,$2C,$35,$02,$68
	db $60,$2E,$35,$02,$78,$68,$28,$35,$02,$88,$60,$2A,$35,$00,$88,$68
	db $27,$35,$00,$98,$68,$33,$35,$00,$A0,$60,$2A,$35,$00,$A0,$60,$23
	db $35,$02,$B0,$68,$35,$35,$00,$58,$70,$2C,$35,$02,$68,$70,$2E,$35
	db $02,$78,$78,$27,$35,$00,$88,$78,$33,$35,$00,$90,$70,$2A,$35,$00
	db $90,$70,$23,$35,$02,$A0,$78,$35,$35,$00,$58,$80,$2C,$35,$02,$68
	db $80,$2E,$35,$02,$78,$88,$27,$35,$00,$88,$88,$36,$35,$00,$90,$88
	db $37,$35,$00,$98,$88,$35,$35,$00,$48,$40,$11,$35,$02,$48,$50,$11
	db $35,$02,$48,$60,$11,$35,$02,$48,$70,$11,$35,$02,$48,$80,$11,$35
	db $02,$58,$40,$11,$35,$02,$58,$50,$11,$35,$02,$58,$60,$11,$35,$02
	db $58,$70,$11,$35,$02,$58,$80,$11,$35,$02,$68,$40,$11,$35,$02,$68
	db $50,$11,$35,$02,$68,$60,$11,$35,$02,$68,$70,$11,$35,$02,$68,$80
	db $11,$35,$02,$78,$40,$11,$35,$02,$78,$50,$11,$35,$02,$78,$60,$11
	db $35,$02,$78,$70,$11,$35,$02,$78,$80,$11,$35,$02,$88,$40,$11,$35
	db $02,$88,$50,$11,$35,$02,$88,$60,$11,$35,$02,$88,$70,$11,$35,$02
	db $88,$80,$11,$35,$02,$98,$40,$11,$35,$02,$98,$50,$11,$35,$02,$98
	db $60,$11,$35,$02,$98,$70,$11,$35,$02,$98,$80,$11,$35,$02,$A8,$40
	db $11,$35,$02,$A8,$50,$11,$35,$02,$A8,$60,$11,$35,$02,$A8,$70,$11
	db $35,$02,$A8,$80,$11,$35,$02
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	;    X,Y, Tile,Prop,Slot | X,Y, Tile,Prop,Slot
	db $8C,$40,$04,$35,$00,  $9C,$40,$04,$35,$00	; World/Level numbers
	db $AC,$50,$04,$35,$00,  $B4,$50,$04,$35,$00	; Life counter

	; Cursor pos.
	db $40,$68,$26,$35,$00,  $40,$78,$11,$35,$00
	db $40,$88,$11,$35,$00

	; "VIDAS EXTRAS"
	db $44,$50,$1B,$35,$00,  $4C,$50,$1A,$35,$00
	db $54,$50,$16,$35,$00,  $5C,$50,$1D,$35,$00
	db $64,$50,$1E,$35,$00
	db $74,$50,$0C,$35,$00,  $7C,$50,$0D,$35,$00
	db $84,$50,$1C,$35,$00,  $8C,$50,$0E,$35,$00
	db $94,$50,$1D,$35,$00,  $9C,$50,$1E,$35,$00

	; "MUNDO" "-"
	db $5C,$40,$13,$35,$00,  $64,$40,$14,$35,$00
	db $6C,$40,$15,$35,$00,  $74,$40,$16,$35,$00
	db $7C,$40,$17,$35,$00,  $94,$40,$0B,$35,$00
	
	; "CONTINUAR"
	db $41,$68,$2F,$35,$00
	db $49,$68,$27,$35,$00,  $51,$68,$28,$35,$02
	db $61,$68,$2A,$35,$02,  $71,$68,$2C,$35,$00
	db $79,$68,$2D,$35,$00,  $81,$68,$2E,$35,$00
	
	; "SALVAR&CONTINUAR"
	db $47,$78,$37,$35,$00,  $4F,$78,$3C,$35,$00
	db $57,$78,$3D,$35,$00,  $5F,$78,$3E,$35,$00
	db $67,$78,$35,$35,$00,  $6F,$78,$3F,$35,$00
	db $77,$78,$30,$35,$00
	db $7F,$78,$27,$35,$00,  $87,$78,$28,$35,$02
	db $97,$78,$2A,$35,$02,  $A7,$78,$2C,$35,$00
	db $AF,$78,$2D,$35,$00,  $B7,$78,$2E,$35,$00
	
	; "SALVAR&SAIR"
	db $47,$88,$37,$35,$00,  $4F,$88,$3C,$35,$00							
	db $57,$88,$3D,$35,$00,  $5F,$88,$3E,$35,$00
	db $67,$88,$35,$35,$00,  $6F,$88,$3F,$35,$00  
	db $77,$88,$33,$35,$00,  $7F,$88,$34,$35,$00
	db $87,$88,$35,$35,$00,  $8F,$88,$2E,$35,$00

	; Borders
	db $38,$30,$00,$35,$02,  $48,$30,$01,$35,$02
	db $58,$30,$01,$35,$02,  $68,$30,$01,$35,$02
	db $78,$30,$01,$35,$02,  $88,$30,$01,$35,$02 
	db $98,$30,$01,$35,$02,  $A8,$30,$01,$35,$02
	db $B8,$30,$00,$75,$02,  $38,$40,$10,$35,$02
	db $38,$50,$10,$35,$02,  $38,$60,$10,$35,$02
	db $38,$70,$10,$35,$02,  $38,$80,$10,$35,$02
	db $38,$90,$00,$B5,$02,  $B8,$40,$10,$75,$02
	db $B8,$50,$10,$75,$02,  $B8,$60,$10,$75,$02
	db $B8,$70,$10,$75,$02,  $B8,$80,$10,$75,$02 
	db $B8,$90,$00,$F5,$02,  $48,$90,$01,$B5,$02
	db $58,$90,$01,$B5,$02,  $68,$90,$01,$B5,$02
	db $78,$90,$01,$B5,$02,  $88,$90,$01,$B5,$02 
	db $98,$90,$01,$B5,$02,  $A8,$90,$01,$B5,$02
	
	; Background fill
	db $48,$40,$11,$35,$02,  $48,$50,$11,$35,$02
	db $48,$60,$11,$35,$02,  $48,$70,$11,$35,$02 
	db $48,$80,$11,$35,$02,  $58,$40,$11,$35,$02
	db $58,$50,$11,$35,$02,  $58,$60,$11,$35,$02
	db $58,$70,$11,$35,$02,  $58,$80,$11,$35,$02
	db $68,$40,$11,$35,$02,  $68,$50,$11,$35,$02
	db $68,$60,$11,$35,$02,  $68,$70,$11,$35,$02
	db $68,$80,$11,$35,$02,  $78,$40,$11,$35,$02
	db $78,$50,$11,$35,$02,  $78,$60,$11,$35,$02
	db $78,$70,$11,$35,$02,  $78,$80,$11,$35,$02
	db $88,$40,$11,$35,$02,  $88,$50,$11,$35,$02
	db $88,$60,$11,$35,$02,  $88,$70,$11,$35,$02
	db $88,$80,$11,$35,$02,  $98,$40,$11,$35,$02
	db $98,$50,$11,$35,$02,  $98,$60,$11,$35,$02
	db $98,$70,$11,$35,$02,  $98,$80,$11,$35,$02
	db $A8,$40,$11,$35,$02,  $A8,$50,$11,$35,$02
	db $A8,$60,$11,$35,$02,  $A8,$70,$11,$35,$02
	db $A8,$80,$11,$35,$02
else
	;    X,Y, Tile,Prop,Slot | X,Y, Tile,Prop,Slot
	db $90,$40,$04,$35,$00,  $A0,$40,$04,$35,$00	; World/Level numbers
	db $A8,$50,$04,$35,$00,  $B0,$50,$04,$35,$00	; Life counter
	; Cursor pos.
	db $48,$68,$26,$35,$00,  $48,$78,$11,$35,$00
	db $48,$88,$11,$35,$00
	;"EXTRA LIFE"
	db $48,$50,$60,$34,$00,  $50,$50,$61,$34,$00
	db $58,$50,$70,$34,$00,  $60,$50,$15,$35,$00
	db $68,$50,$71,$34,$00
	db $78,$50,$16,$35,$00,  $80,$50,$1A,$35,$00
	db $88,$50,$1B,$35,$00,  $90,$50,$60,$34,$00
	;Borders
	db $38,$30,$00,$35,$02,  $48,$30,$01,$35,$02
	db $58,$30,$01,$35,$02,  $68,$30,$01,$35,$02
	db $78,$30,$01,$35,$02,  $88,$30,$01,$35,$02 
	db $98,$30,$01,$35,$02,  $A8,$30,$01,$35,$02
	db $B8,$30,$00,$75,$02,  $38,$40,$10,$35,$02
	db $38,$50,$10,$35,$02,  $38,$60,$10,$35,$02
	db $38,$70,$10,$35,$02,  $38,$80,$10,$35,$02
	db $38,$90,$00,$B5,$02,  $B8,$40,$10,$75,$02
	db $B8,$50,$10,$75,$02,  $B8,$60,$10,$75,$02
	db $B8,$70,$10,$75,$02,  $B8,$80,$10,$75,$02
	db $B8,$90,$00,$F5,$02,  $48,$90,$01,$B5,$02
	db $58,$90,$01,$B5,$02,  $68,$90,$01,$B5,$02
	db $78,$90,$01,$B5,$02,  $88,$90,$01,$B5,$02 
	db $98,$90,$01,$B5,$02,  $A8,$90,$01,$B5,$02
	; "WORLD", "-"
	db $58,$40,$13,$35,$00,  $60,$40,$14,$35,$00
	db $68,$40,$15,$35,$00,  $70,$40,$16,$35,$00
	db $78,$40,$17,$35,$00,  $98,$40,$0B,$35,$00
	; "CONTINUE"
	db $50,$68,$27,$35,$00,  $58,$68,$28,$35,$02
	db $68,$68,$2A,$35,$02,  $78,$68,$2C,$35,$00
	db $80,$68,$2D,$35,$00,  $88,$68,$2E,$35,$00
	; "SAVE&CONTINUE"
	db $50,$78,$37,$35,$00,  $58,$78,$3C,$35,$00
	db $60,$78,$3D,$35,$00,  $68,$78,$3E,$35,$00
	db $70,$78,$2F,$35,$00,  $78,$78,$27,$35,$00
	db $80,$78,$28,$35,$02,  $90,$78,$2A,$35,$02
	db $A0,$78,$2C,$35,$00,  $A8,$78,$2D,$35,$00
	db $B0,$78,$2E,$35,$00
	; "SAVE&QUIT"
	db $50,$88,$37,$35,$00,  $58,$88,$3C,$35,$00
	db $60,$88,$3D,$35,$00,  $68,$88,$3E,$35,$00
	db $70,$88,$2F,$35,$00,  $78,$88,$33,$35,$00
	db $80,$88,$34,$35,$00,  $88,$88,$35,$35,$00
	db $90,$88,$36,$35,$00
	; Background fill
	db $48,$40,$11,$35,$02,  $48,$50,$11,$35,$02
	db $48,$60,$11,$35,$02,  $48,$70,$11,$35,$02
	db $48,$80,$11,$35,$02,  $58,$40,$11,$35,$02
	db $58,$50,$11,$35,$02,  $58,$60,$11,$35,$02
	db $58,$70,$11,$35,$02,  $58,$80,$11,$35,$02
	db $68,$40,$11,$35,$02,  $68,$50,$11,$35,$02
	db $68,$60,$11,$35,$02,  $68,$70,$11,$35,$02
	db $68,$80,$11,$35,$02,  $78,$40,$11,$35,$02
	db $78,$50,$11,$35,$02,  $78,$60,$11,$35,$02
	db $78,$70,$11,$35,$02,  $78,$80,$11,$35,$02
	db $88,$40,$11,$35,$02,  $88,$50,$11,$35,$02
	db $88,$60,$11,$35,$02,  $88,$70,$11,$35,$02
	db $88,$80,$11,$35,$02,  $98,$40,$11,$35,$02
	db $98,$50,$11,$35,$02,  $98,$60,$11,$35,$02
	db $98,$70,$11,$35,$02,  $98,$80,$11,$35,$02
	db $A8,$40,$11,$35,$02,  $A8,$50,$11,$35,$02
	db $A8,$60,$11,$35,$02,  $A8,$70,$11,$35,$02
	db $A8,$80,$11,$35,$02
endif
.End:
;--------------------------------------------------------------------
; Note: Ending pause menu's OAM table

DATA_14C42B:
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	db $50,$60,$26,$35,$00,$50,$78,$11,$35,$00,$38,$48,$00,$35,$02,$48
	db $48,$01,$35,$02,$58,$48,$01,$35,$02,$68,$48,$01,$35,$02,$78,$48
	db $01,$35,$02,$88,$48,$01,$35,$02,$98,$48,$01,$35,$02,$A8,$48,$01
	db $35,$02,$B8,$48,$00,$75,$02,$38,$58,$10,$35,$02,$38,$68,$10,$35
	db $02,$38,$78,$10,$35,$02,$38,$88,$00,$B5,$02,$B8,$58,$10,$75,$02
	db $B8,$68,$10,$75,$02,$B8,$78,$10,$75,$02,$B8,$88,$00,$F5,$02,$48
	db $88,$01,$B5,$02,$58,$88,$01,$B5,$02,$68,$88,$01,$B5,$02,$78,$88
	db $01,$B5,$02,$88,$88,$01,$B5,$02,$98,$88,$01,$B5,$02,$A8,$88,$01
	db $B5,$02,$58,$58,$2C,$35,$02,$68,$58,$2E,$35,$02,$78,$60,$28,$35
	db $02,$88,$58,$2A,$35,$00,$88,$60,$27,$35,$00,$98,$60,$36,$35,$00
	db $A0,$60,$37,$35,$00,$A8,$60,$35,$35,$00,$58,$70,$2C,$35,$02,$68
	db $70,$2E,$35,$02,$78,$78,$27,$35,$00,$88,$78,$36,$35,$00,$90,$78
	db $37,$35,$00,$98,$78,$35,$35,$00,$48,$58,$11,$35,$02,$48,$68,$11
	db $35,$02,$48,$78,$11,$35,$02,$58,$58,$11,$35,$02,$58,$68,$11,$35
	db $02,$58,$78,$11,$35,$02,$68,$58,$11,$35,$02,$68,$68,$11,$35,$02
	db $68,$78,$11,$35,$02,$78,$58,$11,$35,$02,$78,$68,$11,$35,$02,$78
	db $78,$11,$35,$02,$88,$58,$11,$35,$02,$88,$68,$11,$35,$02,$88,$78
	db $11,$35,$02,$98,$58,$11,$35,$02,$98,$68,$11,$35,$02,$98,$78,$11
	db $35,$02,$A8,$58,$11,$35,$02,$A8,$68,$11,$35,$02,$A8,$78,$11,$35
	db $02,$02,$03,$00,$54,$C5,$14,$BB,$14,$00,$54,$C5,$14
else
	;    X,Y, Tile,Prop,Slot | X,Y, Tile,Prop,Slot
	db $50,$60,$26,$35,$00,  $50,$78,$11,$35,$00	; Cursor pos.
	; Borders
	db $38,$48,$00,$35,$02,  $48,$48,$01,$35,$02
	db $58,$48,$01,$35,$02,  $68,$48,$01,$35,$02
	db $78,$48,$01,$35,$02,  $88,$48,$01,$35,$02
	db $98,$48,$01,$35,$02,  $A8,$48,$01,$35,$02
	db $B8,$48,$00,$75,$02,  $38,$58,$10,$35,$02
	db $38,$68,$10,$35,$02,  $38,$78,$10,$35,$02
	db $38,$88,$00,$B5,$02,  $B8,$58,$10,$75,$02
	db $B8,$68,$10,$75,$02,  $B8,$78,$10,$75,$02
	db $B8,$88,$00,$F5,$02,  $48,$88,$01,$B5,$02
	db $58,$88,$01,$B5,$02,  $68,$88,$01,$B5,$02
	db $78,$88,$01,$B5,$02,  $88,$88,$01,$B5,$02
	db $98,$88,$01,$B5,$02,  $A8,$88,$01,$B5,$02
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	; "SAIR"
	db $60,$60,$37,$35,$00,  $68,$60,$3C,$35,$00
	db $6A,$60,$35,$35,$00,  $72,$60,$2E,$35,$00
	
	; "SALVAR&SAIR"
	db $60,$78,$37,$35,$00,  $68,$78,$3C,$35,$00							
	db $70,$78,$3D,$35,$00,  $78,$78,$3E,$35,$00
	db $80,$78,$35,$35,$00,  $88,$78,$3F,$35,$00  
	db $90,$78,$33,$35,$00,  $98,$78,$34,$35,$00
	db $A0,$78,$35,$35,$00,  $A8,$78,$2E,$35,$00
else
	; "QUIT"
	db $60,$60,$33,$35,$00,  $68,$60,$34,$35,$00
	db $70,$60,$35,$35,$00,  $78,$60,$36,$35,$00
	; "SAVE&QUIT"
	db $60,$78,$37,$35,$00,  $68,$78,$3C,$35,$00
	db $70,$78,$3D,$35,$00,  $78,$78,$3E,$35,$00
	db $80,$78,$2F,$35,$00
	db $88,$78,$33,$35,$00,  $90,$78,$34,$35,$00
	db $98,$78,$35,$35,$00,  $A0,$78,$36,$35,$00
endif
	; Background fill
	db $48,$58,$11,$35,$02,  $48,$68,$11,$35,$02
	db $48,$78,$11,$35,$02,  $58,$58,$11,$35,$02
	db $58,$68,$11,$35,$02,  $58,$78,$11,$35,$02
	db $68,$58,$11,$35,$02,  $68,$68,$11,$35,$02
	db $68,$78,$11,$35,$02,  $78,$58,$11,$35,$02
	db $78,$68,$11,$35,$02,  $78,$78,$11,$35,$02
	db $88,$58,$11,$35,$02,  $88,$68,$11,$35,$02
	db $88,$78,$11,$35,$02,  $98,$58,$11,$35,$02
	db $98,$68,$11,$35,$02,  $98,$78,$11,$35,$02
	db $A8,$58,$11,$35,$02,  $A8,$68,$11,$35,$02
	db $A8,$78,$11,$35,$02
.End:

	db $02,$03,$00,$63,$C5,$14
	db $BB,$14,$00,$63,$C5,$14
endif

;--------------------------------------------------------------------

UNK_14C563:
	db $FF

;--------------------------------------------------------------------

	%DATATABLE_SMB2U_CastListOAMData(NULLROM)					; $14C564

;--------------------------------------------------------------------

DATA_14CCBD:
	db $2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C
	db $2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C
	db $2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$40,$40,$40,$40,$2C,$2C,$2C,$2C
	db $2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C
	db $2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C
	db $2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$2C,$AB,$C0,$C0,$C0,$C0
	db $C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0
	db $C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0
	db $C0,$C0,$C0,$C0,$C0,$C0,$C0,$C0

;--------------------------------------------------------------------

if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	%FREE_BYTES(NULLROM, 10, $FF)
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	%FREE_BYTES(NULLROM, 11, $FF)
endif
	%ROUTINE_SMB2U_InitializeSlotMachineReelRAMForNewSpin(NULLROM)			; $14CD50
	%ROUTINE_SMB2U_InitializeSlotMachineReelRAMAndPayoutText(NULLROM)		; $14CD7D
	%ROUTINE_SMB2U_HandleSlotMachineButtonPresses(NULLROM)				; $14CDA7
	%ROUTINE_SMB2U_MoveSlotMachineReels(NULLROM)					; $14CDD4
	%ROUTINE_SMB2U_HandleSlowedDownSlotMachineReels(NULLROM)			; $14CE08
	%ROUTINE_SMB2U_DrawSlotMachineReels(NULLROM)					; $14CF00

;--------------------------------------------------------------------

; Note: Slot machine's yellow/blue flashing routine.

if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
DATA_14CFD6:
	dw $7FFF,$7ECF,$039F

DATA_14CFDC:
	dw $6318,$7ECF,$039F

DATA_14CFE2:
	dw $3DEF,$7ECF,$039F

DATA_14CFE8:
	dw $3B1D,$7ECF,$039F

DATA_14CFEE:
	dw $1E58,$7ECF,$039F

DATA_14CFF4:
	dw $7F31,$7ECF,$039F

DATA_14CFFA:
	dw $768D,$7ECF,$039F

DATA_14D000:
	dw $75C4,$7ECF,$039F

DATA_14D006:
	dw $1595,$7ECF,$039F

DATA_14D00C:
	dw $00F0,$7ECF,$039F
else
DATA_14CFD6:
	dw $7FFF,$039F,$7ECF

DATA_14CFDC:
	dw $6318,$039F,$7ECF

DATA_14CFE2:
	dw $3DEF,$039F,$7ECF

DATA_14CFE8:
	dw $3B1D,$039F,$7ECF

DATA_14CFEE:
	dw $1E58,$039F,$7ECF

DATA_14CFF4:
	dw $7F31,$039F,$7ECF

DATA_14CFFA:
	dw $768D,$039F,$7ECF

DATA_14D000:
	dw $75C4,$039F,$7ECF

DATA_14D006:
	dw $1595,$039F,$7ECF

DATA_14D00C:
	dw $00F0,$039F,$7ECF
endif

CODE_14D012:
	LDA.b !RAM_SMB2U_SlotMachine_LeftReelState
	ORA.b !RAM_SMB2U_SlotMachine_MiddleReelState
	BNE.b CODE_14D01E
	LDA.b !RAM_SMB2U_SlotMachine_LeftReelContents
	CMP.b !RAM_SMB2U_SlotMachine_MiddleReelContents
	BEQ.b CODE_14D021
CODE_14D01E:
	JMP.w CODE_14D0BB

CODE_14D021:
	LDX.b #$00
	LDA.b !RAM_SMB2U_SlotMachine_All3ReelsStoppedFlag
	BNE.b CODE_14D055
	LDA.w !RAM_SMB2U_SlotMachine_HasPlayedDrumrollEndSoundFlag
	BNE.b CODE_14D047
	LDA.w !RAM_SMB2U_SlotMachine_WaitBeforePlayingDrumrollEndSoundTimer
	BNE.b CODE_14D035
	LDA.b #!Define_SMAS_Sound0063_DrumrollStart
	BRA.b CODE_14D041

CODE_14D035:
	LDA.w !RAM_SMB2U_SlotMachine_WaitBeforePlayingDrumrollEndSoundTimer
	CMP.b #$78
	BNE.b CODE_14D044
	LDA.b #!Define_SMAS_Sound0063_DrumrollEnd
	INC.w !RAM_SMB2U_SlotMachine_HasPlayedDrumrollEndSoundFlag
CODE_14D041:
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_14D044:
	INC.w !RAM_SMB2U_SlotMachine_WaitBeforePlayingDrumrollEndSoundTimer
CODE_14D047:
	LDX.b #$02
	INC.w !RAM_SMB2U_SlotMachine_FlashingPaletteFrameCounter
	LDA.w !RAM_SMB2U_SlotMachine_FlashingPaletteFrameCounter
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR] Reducing flashing speed.
	AND.b #$08
else
	AND.b #$04
endif
	BNE.b CODE_14D055
	LDX.b #$04
CODE_14D055:
	REP.b #$20
	LDA.l DATA_11CE70,x
	STA.w SMB2U_PaletteMirror[$25].LowByte
	LDA.l DATA_11CE76,x
	STA.w SMB2U_PaletteMirror[$26].LowByte
	LDA.l DATA_11CE7C,x
	STA.w SMB2U_PaletteMirror[$27].LowByte
	LDA.l DATA_11CE82,x
	STA.w SMB2U_PaletteMirror[$28].LowByte
	LDA.l DATA_14CFD6,x
	STA.w SMB2U_PaletteMirror[$21].LowByte
	LDA.l DATA_14CFDC,x
	STA.w SMB2U_PaletteMirror[$23].LowByte
	LDA.l DATA_14CFE2,x
	STA.w SMB2U_PaletteMirror[$24].LowByte
	LDA.l DATA_14CFE8,x
	STA.w SMB2U_PaletteMirror[$29].LowByte
	LDA.l DATA_14CFEE,x
	STA.w SMB2U_PaletteMirror[$2A].LowByte
	LDA.l DATA_14CFF4,x
	STA.w SMB2U_PaletteMirror[$2B].LowByte
	LDA.l DATA_14CFFA,x
	STA.w SMB2U_PaletteMirror[$2C].LowByte
	LDA.l DATA_14D000,x
	STA.w SMB2U_PaletteMirror[$2D].LowByte
	LDA.l DATA_14D006,x
	STA.w SMB2U_PaletteMirror[$2E].LowByte
	LDA.l DATA_14D00C,x
	STA.w SMB2U_PaletteMirror[$2F].LowByte
	SEP.b #$20
CODE_14D0BB:
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	JSL.l SMB2U_BufferSlotMachineCoinAndLifeCounterText_Main
	LDX.b #$00
	RTL

;--------------------------------------------------------------------

; Note: Slot machine's background flashing routine.

CODE_14D0C7:
	LDA.b !RAM_SMB2U_SlotMachine_All3ReelsStoppedFlag
	BEQ.b CODE_14D0CF
	LDX.b #$04
	BRA.b CODE_14D0DA

CODE_14D0CF:
	LDX.b #$02
	LDA.w !RAM_SMB2U_SlotMachine_FlashingPaletteFrameCounter
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR] Reducing flashing speed.
	AND.b #$08
else
	AND.b #$04
endif
	BNE.b CODE_14D0DA
	LDX.b #$04
CODE_14D0DA:
	REP.b #$20
	LDA.l DATA_11CE88,x
	STA.w SMB2U_PaletteMirror[$17].LowByte
	STA.w SMB2U_PaletteMirror[$4F].LowByte
	STA.w SMB2U_PaletteMirror[$54].LowByte
	STA.w SMB2U_PaletteMirror[$6F].LowByte
	STA.w SMB2U_PaletteMirror[$7C].LowByte
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

CODE_14D0F2:
	LDA.w $04BC
	AND.b #$1F
	ORA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	LDA.w $04BD
	AND.b #$7C
	LSR
	LSR
	ORA.b #$80
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	REP.b #$20
	LDA.w $04BC
	LSR
	LSR
	LSR
	LSR
	LSR
	AND.w #$001F
	SEP.b #$20
	ORA.b #$40
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	LDA.b #$00
	STA.w SMB2U_PaletteMirror[$00].LowByte
	STA.w SMB2U_PaletteMirror[$00].HighByte
	INC
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	LDA.w $02C4
	BNE.b CODE_14D15B
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BNE.b CODE_14D17F
	LDA.b #$11
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	LDA.b #$06
	STA.w !RAM_SMB2U_Global_SubScreenLayersMirror
	LDA.b #$02
	STA.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	LDA.b #$11
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	LDA.b #$06
	STA.w !RAM_SMB2U_Global_SubScreenLayersMirror
	LDA.b #$02
	STA.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	RTL

CODE_14D15B:
	LDA.b #$02
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	LDA.b #$15
	STA.w !RAM_SMB2U_Global_SubScreenLayersMirror
	LDA.b #$02
	STA.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	LDA.b #$62
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	LDA.b #$24
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	LDA.b #$44
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	LDA.b #$84
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	RTL

CODE_14D17F:
	LDA.b #$15
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	LDA.b #$13
	STA.w !RAM_SMB2U_Global_SubScreenLayersMirror
	LDA.b #$02
	STA.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	LDA.b #$64
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	RTL

;--------------------------------------------------------------------

CODE_14D194:
	LDA.b #$13
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	STZ.w !RAM_SMB2U_Global_SubScreenLayersMirror
	STZ.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	STZ.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	LDA.b #$40
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	LDA.b #$80
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	RTL

;--------------------------------------------------------------------

CODE_14D1B2:
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	AND.b #$0F
	SEC
	SBC.b #$02
	BPL.b CODE_14D1C0
	INC.w $02B7
	LDA.b #!ScreenDisplayRegister_MinBrightness00
CODE_14D1C0:
	BRA.b CODE_14D1D0

CODE_14D1C2:
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	CLC
	ADC.b #$02
	CMP.b #$10
	BCC.b CODE_14D1D0
	INC.w $02B7
	LDA.b #!ScreenDisplayRegister_MaxBrightness0F
CODE_14D1D0:
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	RTL

;--------------------------------------------------------------------

; Note: Routine related to the arrow on the character selection screen.

CODE_14D1D3:
	LDX.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDA.b #$01
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$03].LowByte,x
	LDA.b #$C9
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte,x
	LDA.b #$E9
	STA.w SMB2U_StripeImageUploadTable[$03].HighByte,x
	LDA.b #$40
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$04].LowByte,x
	LDA.b #$1C
	STA.w SMB2U_StripeImageUploadTable[$01].HighByte,x
	STA.w SMB2U_StripeImageUploadTable[$04].HighByte,x
	LDA.b #$BD
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$05].LowByte,x
	LDA.b #$09
	STA.w SMB2U_StripeImageUploadTable[$02].HighByte,x
	STA.w SMB2U_StripeImageUploadTable[$05].HighByte,x
	LDY.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.b #$01
	STA.w SMB2U_StripeImageUploadTable[$06].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$0A].LowByte,x
	LDA.w DATA_11C9F4,y
	STA.w SMB2U_StripeImageUploadTable[$06].HighByte,x
	LDA.w DATA_11C9F8,y
	STA.w SMB2U_StripeImageUploadTable[$0A].HighByte,x
	LDA.b #$00
	STA.w SMB2U_StripeImageUploadTable[$07].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$0B].LowByte,x
	LDA.b #$03
	STA.w SMB2U_StripeImageUploadTable[$07].HighByte,x
	STA.w SMB2U_StripeImageUploadTable[$0B].HighByte,x
	LDA.b #$1C
	STA.w SMB2U_StripeImageUploadTable[$08].LowByte,x
	LDA.b #$5C
	STA.w SMB2U_StripeImageUploadTable[$09].LowByte,x
	LDA.b #$4C
	STA.w SMB2U_StripeImageUploadTable[$0C].LowByte,x
	LDA.b #$6C
	STA.w SMB2U_StripeImageUploadTable[$0D].LowByte,x
	LDA.b #$05
	STA.w SMB2U_StripeImageUploadTable[$08].HighByte,x
	STA.w SMB2U_StripeImageUploadTable[$09].HighByte,x
	STA.w SMB2U_StripeImageUploadTable[$0C].HighByte,x
	STA.w SMB2U_StripeImageUploadTable[$0D].HighByte,x
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$0E].LowByte,x
	LDA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	CLC
	ADC.b #$1C
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	RTL

;--------------------------------------------------------------------

DATA_14D25F:											; Pause menu's numbers
	db $03,$04,$05,$06,$07,$08,$09,$0A
	db $18,$19

CODE_14D269:
	REP.b #$30
	LDA.w #DATA_14C200
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #DATA_14C200>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	
	; Table size
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	LDA.w #$0217
else
	;LDA.w #$022B
	LDA.w #DATA_14C200_End-DATA_14C200
endif
	STA.w $0712
	LDX.w #$0000
	TXY
CODE_14D27F:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_OAMBuffer[$08].XDisp,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_OAMBuffer[$08].Tile,x
	INY
	INY
	PHX
	TXA
	LSR
	LSR
	TAX
	SEP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_OAMTileSizeBuffer[$08].Slot,x
	REP.b #$20
	PLX
	INX
	INX
	INX
	INX
	INY
	CPY.w $0712
	BNE.b CODE_14D27F
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	AND.w #$00FF
	TAX
	SEP.b #$20
	LDY.w #$0000
	TXA
	CLC
	ADC.b #$04
	STA.w SMB2U_OAMBuffer[$08].Tile,y
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	SEC
	SBC.l DATA_11C9B4,x
	CLC
	ADC.b #$04
	STA.w SMB2U_OAMBuffer[$09].Tile,y
	SEP.b #$10
	JSR.w CODE_14D2E6
	TAX
	LDA.l DATA_14D25F,x
	STA.w SMB2U_OAMBuffer[$0B].Tile,y
	LDA.w $0712
	BEQ.b CODE_14D2E0
	TAX
	LDA.l DATA_14D25F,x
	BRA.b CODE_14D2E2

CODE_14D2E0:
	LDA.b #$11
CODE_14D2E2:
	STA.w SMB2U_OAMBuffer[$0A].Tile,y
	RTL

CODE_14D2E6:
	STZ.w $0712
	LDA.w !RAM_SMB2U_Player_CurrentLifeCount
CODE_14D2EC:
	CMP.b #$0A
	BCC.b CODE_14D2F7
	SBC.b #$0A
	INC.w $0712
	BRA.b CODE_14D2EC

CODE_14D2F7:
	RTS

;--------------------------------------------------------------------

DATA_14D2F8:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
;[BR] Blank cursor tile
	db $26,$25
else
	db $26,$11
endif

CODE_14D2FA:
	PHB
	PHK
	PLB
	LDX.b #$00
	LDY.b #$00
CODE_14D301:
	CPY.w !RAM_SMB2U_Global_BlinkingCursorPos
	BNE.b CODE_14D30A
	LDA.b #$26
	BRA.b CODE_14D30C

CODE_14D30A:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
; Blank cursor tile
	LDA.b #$25
else
	LDA.b #$11
endif
CODE_14D30C:
	STA.w SMB2U_OAMBuffer[$0C].Tile,x
	CPY.b #$02
	BEQ.b CODE_14D31A
	INY
	INX
	INX
	INX
	INX
	BRA.b CODE_14D301

CODE_14D31A:
	INC.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
	LDA.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
	AND.b #$10
	LSR
	LSR
	LSR
	LSR
	TAY
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	ASL
	ASL
	TAX
	LDA.w DATA_14D2F8,y
	STA.w SMB2U_OAMBuffer[$0C].Tile,x
	PLB
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_InitializeWavyScreenEfffectRAM(NULLROM)				; $14D335

;--------------------------------------------------------------------

CODE_14D3A4:
	REP.b #$30
	LDA.w $0240
	STA.w $0229
	LDX.w #$0000
CODE_14D3AF:
	STX.w $0714
	LDX.w $0229
	SEP.b #$20
	LDA.l DATA_14D58D,x
	STA.w !REGISTER_Multiplicand
	LDA.w $022B
	STA.w !REGISTER_Multiplier
	NOP #4
	LDA.w !REGISTER_ProductOrRemainderHi
	STA.w $0712
	STZ.w $0713
	LDA.l DATA_14D58D+$01,x
	STA.w !REGISTER_Multiplicand
	LDA.w $022B
	STA.w !REGISTER_Multiplier
	NOP #4
	LDA.w !REGISTER_ProductOrRemainderLo
	STA.w $0716
	STZ.w $0717
	REP.b #$20
	LDX.w $0714
	LDA.w $0712
	CLC
	ADC.w $0716
	AND.w #$00FF
	CMP.w #$0080
	BCC.b CODE_14D402
	ORA.w #$FF00
CODE_14D402:
	CLC
	ADC.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.l !RAM_SMB2U_WarpZone_WaveEffectHDMATable,x
	LDA.w $0229
	CLC
	ADC.w $0754
	AND.w #$01FF
	STA.w $0229
	INX
	INX
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CPX.w #$0200
else
	CPX.w #$01C0
endif
	BNE.b CODE_14D3AF
	LDA.w !RAM_SMB2U_WarpZone_ScanlineWiggleSpeed
	AND.w #$00FF
	CMP.w #$0080
	BCC.b CODE_14D42C
	ORA.w #$FF00
CODE_14D42C:
	CLC
	ADC.w $0240
	AND.w #$01FF
	STA.w $0240
	LDA.w !RAM_SMB2U_WarpZone_FadeDirection
	AND.w #$00FF
	CMP.w #$0080
	BCC.b CODE_14D444
	ORA.w #$FF00
CODE_14D444:
	CLC
	ADC.w $0752
	STA.w $0752
	LDA.w $022B
	STA.w $0712
	LDY.w #$0000
	LDX.w #$0007
	LDA.w $0752
	CMP.w #$0080
	BCC.b CODE_14D47A
	LDX.w #$0003
	CMP.w #$00A0
	BCC.b CODE_14D47A
	LDX.w #$0001
	CMP.w #$00C0
	BCC.b CODE_14D47A
	LDX.w #$0000
	CMP.w #$00F8
	BCC.b CODE_14D47A
	LDY.w #$0001
CODE_14D47A:
	STX.w $0714
	STA.w $0716
	AND.w $0714
	BNE.w CODE_14D49A
	LDA.w !RAM_SMB2U_WarpZone_FadeDirection
	AND.w #$00FF
	CMP.w #$0080
	BCC.b CODE_14D493
	ORA.w #$FF00
CODE_14D493:
	CLC
	ADC.w $0712
	STA.w $0712
CODE_14D49A:
	SEP.b #$30
	LDA.w $0712
	STA.w $022B
	CPY.b #$01
	BNE.b CODE_14D4BE
	LDA.w $0716
	AND.b #$01
	BEQ.b CODE_14D4BE
	LDA.w !RAM_SMB2U_WarpZone_FadeDirection
	EOR.b #$FF
	INC
	CLC
	ADC.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	BMI.b CODE_14D4BE
	CMP.b #$10
	BEQ.b CODE_14D4BE
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
CODE_14D4BE:
	LDA.b #$80
	STA.w !RAM_SMB2U_Global_HDMAEnableMirror
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_InitializeHDMAWaveEffectTable(NULLROM)					; $14D4C4

;--------------------------------------------------------------------

UNK_14D50D:
	db $00,$01,$FF,$00,$FF,$00,$FF,$00
	db $FE,$00,$FE,$00,$FD,$00,$FC,$00
	db $FB,$00,$F9,$00,$F8,$00,$F6,$00
	db $F4,$00,$F3,$00,$F1,$00,$EE,$00
	db $EC,$00,$EA,$00,$E7,$00,$E4,$00
	db $E1,$00,$DE,$00,$DB,$00,$D8,$00
	db $D4,$00,$D1,$00,$CD,$00,$C9,$00
	db $C5,$00,$C1,$00,$BD,$00,$B9,$00
	db $B5,$00,$B0,$00,$AB,$00,$A7,$00
	db $A2,$00,$9D,$00,$98,$00,$93,$00
	db $8E,$00,$88,$00,$83,$00,$7E,$00
	db $78,$00,$73,$00,$6D,$00,$67,$00
	db $61,$00,$5C,$00,$56,$00,$50,$00
	db $4A,$00,$44,$00,$3E,$00,$38,$00
	db $31,$00,$2B,$00,$25,$00,$1F,$00
	db $19,$00,$12,$00,$0C,$00,$06,$00

;--------------------------------------------------------------------

DATA_14D58D:
	dw $0000,$FFFA,$FFF4,$FFEE,$FFE7,$FFE1,$FFDB,$FFD5,$FFCF,$FFC8,$FFC2,$FFBC,$FFB6,$FFB0,$FFAA,$FFA4
	dw $FF9F,$FF99,$FF93,$FF8D,$FF88,$FF82,$FF7D,$FF78,$FF72,$FF6D,$FF68,$FF63,$FF5E,$FF59,$FF55,$FF50
	dw $FF4B,$FF47,$FF43,$FF3F,$FF3B,$FF37,$FF33,$FF2F,$FF2C,$FF28,$FF25,$FF22,$FF1F,$FF1C,$FF19,$FF16
	dw $FF14,$FF12,$FF0F,$FF0D,$FF0C,$FF0A,$FF08,$FF07,$FF05,$FF04,$FF03,$FF02,$FF02,$FF01,$FF01,$FF01
	dw $FF01,$FF01,$FF01,$FF01,$FF02,$FF02,$FF03,$FF04,$FF05,$FF07,$FF08,$FF0A,$FF0C,$FF0D,$FF0F,$FF12
	dw $FF14,$FF16,$FF19,$FF1C,$FF1F,$FF22,$FF25,$FF28,$FF2C,$FF2F,$FF33,$FF37,$FF3B,$FF3F,$FF43,$FF47
	dw $FF4B,$FF50,$FF55,$FF59,$FF5E,$FF63,$FF68,$FF6D,$FF72,$FF78,$FF7D,$FF82,$FF88,$FF8D,$FF93,$FF99
	dw $FF9F,$FFA4,$FFAA,$FFB0,$FFB6,$FFBC,$FFC2,$FFC8,$FFCF,$FFD5,$FFDB,$FFE1,$FFE7,$FFEE,$FFF4,$FFFA


	dw $0000,$0006,$000C,$0012,$0019,$001F,$0025,$002B,$0031,$0038,$003E,$0044,$004A,$0050,$0056,$005C
	dw $0061,$0067,$006D,$0073,$0078,$007E,$0083,$0088,$008E,$0093,$0098,$009D,$00A2,$00A7,$00AB,$00B0
	dw $00B5,$00B9,$00BD,$00C1,$00C5,$00C9,$00CD,$00D1,$00D4,$00D8,$00DB,$00DE,$00E1,$00E4,$00E7,$00EA
	dw $00EC,$00EE,$00F1,$00F3,$00F4,$00F6,$00F8,$00F9,$00FB,$00FC,$00FD,$00FE,$00FE,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$00FF,$00FF,$00FE,$00FE,$00FD,$00FC,$00FB,$00F9,$00F8,$00F6,$00F4,$00F3,$00F1,$00EE
	dw $00EC,$00EA,$00E7,$00E4,$00E1,$00DE,$00DB,$00D8,$00D4,$00D1,$00CD,$00C9,$00C5,$00C1,$00BD,$00B9
	dw $00B5,$00B0,$00AB,$00A7,$00A2,$009D,$0098,$0093,$008E,$0088,$0083,$007E,$0078,$0073,$006D,$0067
	dw $0061,$005C,$0056,$0050,$004A,$0044,$003E,$0038,$0031,$002B,$0025,$001F,$0019,$0012,$000C,$0006

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_InitializeMode2ScreenScrolling(NULLROM)					; $14D78D
	%ROUTINE_SMB2U_UpdateMode2ScreenScrollingData(NULLROM)					; $14D7BD

;--------------------------------------------------------------------

CODE_14D84E:
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
CODE_14D856:
	LDA.b #$04
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_UploadLevelPreviewLevelTilemap_Main						; Note: This is called on the title screen and when advancing to a new level.
CODE_14D862:
	RTL

;--------------------------------------------------------------------

DATA_14D863:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $F8 : dw $0000
	db $F8 : dw $0000
	db $00
else
	db $F0 : dw $0000
	db $F0 : dw $0000
	db $00
endif

DATA_14D86A:
	dw $0000,$0100

DATA_14D86E:
	db $00,$00,$00,$03,$06,$06

SMB2U_InitializeVaseInteriorWindowHDMA:
.Main:
;$14D874
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BEQ.b CODE_14D862
	LDX.b #$06
CODE_14D87B:
	LDA.l DATA_14D863,x
	STA.w !RAM_SMB2U_Level_VaseInteriorWindowHDMATable,x
	DEX
	BPL.b CODE_14D87B
	JSL.l CODE_14D8EC
	LDA.b #$41
	STA.w HDMA[$07].Parameters
	LDA.b #!REGISTER_Window1LeftPositionDesignation
	STA.w HDMA[$07].Destination
	LDA.b #$00
	STA.w HDMA[$07].SourceBank
	LDA.b #SMB2U_VaseInteriorWindowHDMAData_Ptrs>>16
	STA.w HDMA[$07].IndirectSourceBank
	LDA.b #$80
	STA.w !RAM_SMB2U_Global_HDMAEnableMirror
CODE_14D8A2:
	STZ.w !RAM_SMB2U_Level_UseVaseInteriorWindowHDMAFlag
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BEQ.b CODE_14D8EB
	DEC
	ASL
	TAX
	REP.b #$20
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	SEC
	SBC.l DATA_14D86A,x
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Level_CurrentVaseInteriorSublevel
	AND.w #$00FF
	TAX
	LDA.l DATA_14D86E,x
	AND.w #$00FF
	TAX
	LDA.l SMB2U_VaseInteriorWindowHDMAData_Ptrs,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.l SMB2U_VaseInteriorWindowHDMAData_Ptrs+$02,x						;\ Optimization: What is the point of this? It's not being used to store the bank byte of a pointer...
	STA.b !RAM_SMB2U_Global_ScratchRAM04								;/
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !RAM_SMB2U_Level_VaseInteriorWindowHDMATable+$01
	CLC
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	ADC.w #$00F0
else
	ADC.w #$00E0
endif
	STA.w !RAM_SMB2U_Level_VaseInteriorWindowHDMATable+$04
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM04								; Glitch: This could cause problems if this HDMA table were located in bank 00
	STA.w !RAM_SMB2U_Level_UseVaseInteriorWindowHDMAFlag
CODE_14D8EB:
	RTL

CODE_14D8EC:
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	LDA.b #$A6
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	STZ.w !RAM_SMB2U_Global_BG1And2WindowMaskSettingsMirror
	STZ.w !RAM_SMB2U_Global_BG3And4WindowMaskSettingsMirror
	LDA.b #$30
	STA.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
	REP.b #$20
	LDA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	AND.w #$001F
	XBA
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	AND.w #$001F
	XBA
	LSR
	LSR
	LSR
	TSB.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	AND.w #$001F
	ORA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_PaletteMirror[$00].LowByte
	SEP.b #$20
	LDX.b #$0A
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_2_3
	BEQ.b CODE_14D948
	CMP.b #!Define_SMB2U_LevelID_6_1
	BNE.b CODE_14D94A
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_6_1_SandyVase
	BEQ.b CODE_14D948
	CMP.b #!Define_SMB2U_SublevelID_6_1_SandyVaseWithPhanto
	BEQ.b CODE_14D948
	CMP.b #!Define_SMB2U_SublevelID_6_1_GenericVase
	BNE.b CODE_14D94A
	LDA.w $051B
	BEQ.b CODE_14D94A								; Note: !Define_SMB2U_SublevelID_6_1_LevelEntrance
CODE_14D948:
	LDX.b #$05
CODE_14D94A:
	TXA
	ORA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	TXA
	ORA.b #$40
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	TXA
	ORA.b #$80
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	LDA.b #$17
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	INC.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	RTL

;--------------------------------------------------------------------

CODE_14D965:
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_14D967:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	BEQ.b CODE_14D978
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_14D978
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr39_MushroomBlock
	BEQ.b CODE_14D978
	STA.w !RAM_SMB2U_NorSpr_SpriteToCarryThroughScreenTransition
CODE_14D978:
	DEX
	BPL.b CODE_14D967
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_CopyOfUploadLevelPreviewLevelTilemap(NULLROM)			; $14D97C

;--------------------------------------------------------------------

CODE_14D9CD:
	LDA.b #$E4
	AND.b #$1F
	ORA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	LDA.b #$7D
	AND.b #$7C
	LSR
	LSR
	ORA.b #$80
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	REP.b #$20
	LDA.w #$7DE4
	LSR
	LSR
	LSR
	LSR
	LSR
	AND.w #$001F
	SEP.b #$20
	ORA.b #$40
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	LDA.b #$11
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	LDA.b #$02
	STA.w !RAM_SMB2U_Global_SubScreenLayersMirror
	LDA.b #$02
	STA.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	RTL

;--------------------------------------------------------------------

CODE_14DA0A:
	JSL.l SMB2U_UploadCharacterSelectScreenGraphics_Main
	JSL.l SMB2U_BufferTitleScreenPaletteData_Main
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.b #$04
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_UploadLevelPreviewLevelTilemap_Main
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	JSL.l CODE_118812
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_138CF2
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_138D25
	LDA.w !RAM_SMB2U_CharacterSelect_BufferGlitchedStripeImageIndex
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_InitializeHDMAWaveEffectTable_Main
	LDA.b #$02
	JSL.l SMB2U_InitializeMode2ScreenScrolling_Main
	JSL.l SMB2U_ResetBGLayerPositions_Main
	JSL.l CODE_12FA39
	LDX.w !RAM_SMB2U_Level_CurrentWorld
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	JSL.l CODE_118812
	JSL.l SMB2U_BufferCharacterSelectLifeCounterText_Main
	LDY.w !RAM_SMB2U_Player_CurrentLifeCount
	TYA
	JSR.w CODE_14DAA4
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$22
	LDA.b #$15
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$23
	LDX.b #$BD
	CPY.b #$BF
	BEQ.b CODE_14DA87
	TYX
	LDA.b #$15
	BRA.b CODE_14DA89

CODE_14DA87:
	LDA.b #$09
CODE_14DA89:
	STX.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$20
	STA.w !RAM_SMB2U_CharacterSelect_LifeCounterStripeImage+$21
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l SMB2U_HighlightCurrentlySelectedPlayer_Main
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSL.l CODE_14D1D3
	JSL.l CODE_14F9F0
	RTL

--------------------------------------------------------------------

CODE_14DAA4:
	LDY.b #$C0
CODE_14DAA6:
	CMP.b #$0A
	BCC.b CODE_14DAAF
	SBC.b #$0A
	INY
	BRA.b CODE_14DAA6

CODE_14DAAF:
	ORA.b #$C0
	CPY.b #$C0
	BNE.b CODE_14DAB7
	LDY.b #$BF
CODE_14DAB7:
	RTS

;--------------------------------------------------------------------

SMB2U_MovePauseAndGameOverMenuCursor:
.Main:
;$14DAB8
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #(!Joypad_DPadU>>8)|(!Joypad_DPadD>>8)|(!Joypad_Select>>8)
	BEQ.b CODE_14DAF3
	AND.b #!Joypad_Select>>8
	BEQ.b CODE_14DAD1
	INC.w !RAM_SMB2U_Global_BlinkingCursorPos
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	CMP.b #$03
	BCC.b CODE_14DAEB
	STZ.w !RAM_SMB2U_Global_BlinkingCursorPos
	BRA.b CODE_14DAEB

CODE_14DAD1:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_DPadU>>8
	BEQ.b CODE_14DAE1
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	BEQ.b CODE_14DAF3
	DEC.w !RAM_SMB2U_Global_BlinkingCursorPos
	BRA.b CODE_14DAEB

CODE_14DAE1:
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	CMP.b #$02
	BEQ.b CODE_14DAF3
	INC.w !RAM_SMB2U_Global_BlinkingCursorPos
CODE_14DAEB:
	LDA.b #!Define_SMAS_Sound0063_Coin
	STA.w !RAM_SMB2U_Global_SoundCh3
	STZ.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
CODE_14DAF3:
	RTL

;--------------------------------------------------------------------

; Note: Something related to the pause menu options.

SMB2U_ProcessPauseAndGameOverMenuOptions:
.Main:
;$14DAF4
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	ASL
	TAX
	JMP.w (DATA_14DAFC,x)

DATA_14DAFC:
	dw CODE_14DB02
	dw CODE_14DB0D
	dw CODE_14DB29

;--------------------------------------------------------------------

CODE_14DB02:
	LDA.w $078F
	BNE.b CODE_14DB0C
	LDA.b #!Define_SMAS_Sound0060_Pause1
	STA.w !RAM_SMB2U_Global_SoundCh1
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BRA.b CODE_14DB16
endif
CODE_14DB0C:
	RTL

;--------------------------------------------------------------------

CODE_14DB0D:
	JSL.l SMB2U_SaveGame_Main
	LDA.b #!Define_SMAS_Sound0060_SaveGame
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_14DB16:
	LDA.b #$25
	STA.w $0794
CODE_14DB1B:
	JSL.l CODE_14D2FA
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	DEC.w $0794
	BNE.b CODE_14DB1B
	RTL

;--------------------------------------------------------------------

CODE_14DB29:
	JSL.l SMB2U_SaveGame_Main
	LDA.b #!Define_SMAS_Sound0060_SaveGame
	STA.w !RAM_SMB2U_Global_SoundCh1
	LDA.b #!Define_SMB2U_LevelMusic_CopyOfMusicFade
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.b #$25
	STA.w $0794
CODE_14DB3C:
	LDA.w !RAM_SMB2U_Ending_SleepingMarioAnimationIndex
	BNE.b CODE_14DB47
	JSL.l CODE_14D2FA
	BRA.b CODE_14DB4A

CODE_14DB47:
	JSR.w CODE_14DC1B
CODE_14DB4A:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.w $0794
	CMP.b #$0A
	BCS.b CODE_14DB59
	JSL.l CODE_14D1B2
CODE_14DB59:
	DEC.w $0794
	BNE.b CODE_14DB3C
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	JML.l SMB2U_ResetGame_Main
else
	JML.l SMAS_ResetToSMASTitleScreen_Main				; Note: Call to SMAS function
endif

;--------------------------------------------------------------------

SMB2U_HandleEndingPauseMenu:
.Main:
;$14DB62
	LDA.b !RAM_SMB2U_Ending_TheEndTextAnimationFrame
	;CMP.b #$2A (This value is relative to the index table size.)
	CMP.b #SMB2U_CastListOAMData_TheEndText-SMB2U_CastListOAMData_TheEndTextTableIndexes-$01
	BNE.b CODE_14DB8F
	LDA.w !RAM_SMB2U_Ending_PauseMenuOpenFlag
	BEQ.b CODE_14DB70
	JMP.w CODE_14DBD9

CODE_14DB70:
	LDA.w !RAM_SMB2U_Ending_DisplayPushStartFlag
	BNE.b CODE_14DB85
	DEC.w !RAM_SMB2U_Ending_WaitBeforeDisplayingPushStartTimer
	LDA.w !RAM_SMB2U_Ending_WaitBeforeDisplayingPushStartTimer
	BNE.b CODE_14DB8F
	LDA.b #!Define_SMAS_Sound0063_OverworldTileReveal
	STA.w !RAM_SMB2U_Global_SoundCh3
	INC.w !RAM_SMB2U_Ending_DisplayPushStartFlag
CODE_14DB85:
	JSL.l SMB2U_DrawEndingPushStartText_Main
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Start>>8
	BNE.b CODE_14DB90
CODE_14DB8F:
	RTL

CODE_14DB90:
	STZ.w !RAM_SMB2U_Level_UseVaseInteriorWindowHDMAFlag
	STZ.w !RAM_SMB2U_Global_BlinkingCursorPos
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	; This loop fixes a visual bug where some of the PUSH START letters
	; turned into pause menu tiles right before it showed up.
	LDX.b #DATA_15D2F6_End-DATA_15D2F6-$01
-:
	LDA.b #$E9
	STA.w SMB2U_OAMBuffer[$40].Tile,x
	STZ.w SMB2U_OAMBuffer[$40].Prop,x
	DEX
	BPL.b -

	JSL.l SMB2U_InitializePauseMenuWindowHDMATable_Main
else
	JSR.w SMB2U_InitializeEndingPauseMenuWindowHDMATable_Main
endif
	JSR.w SMB2U_InitializeEndingPauseMenuWindowingAndColorMathParameters_Main
	JSR.w CODE_14DC6B
	STZ.w $0231
	INC.w !RAM_SMB2U_Global_HandlePauseMenuGraphicsUploadFlag
	LDA.b #!Define_SMB2U_LevelMusic_LowerVolumeCommand
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.b #!Define_SMAS_Sound0060_Pause1
	STA.w !RAM_SMB2U_Global_SoundCh1
	LDA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	STA.w $0774
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
CODE_14DBBA:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSR.w SMB2U_DrawEndingPauseMenu_Main
	JSR.w SMB2U_HandleEndingPauseMenuWindowingAndColorMath_Main
	LDA.w $0232
	BEQ.b CODE_14DBBA
	LDA.b #$10
	STA.w !RAM_SMB2U_Level_UnknownPauseMenuTimer
	STZ.w $0211
	LDA.b #$04
	STA.w !RAM_SMB2U_Level_PauseMenuOpenCloseFrameIndex
	INC.w !RAM_SMB2U_Ending_PauseMenuOpenFlag
CODE_14DBD9:
	JSR.w SMB2U_HandleEndingPauseMenuWindowingAndColorMath_Main
	JSR.w SMB2U_CheckIfEndingPauseMenuCursorShouldMove_Main
	JSR.w CODE_14DC1B
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Start>>8
	BNE.b CODE_14DBE9
	RTL

CODE_14DBE9:
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	ASL
	TAX
	JMP.w (DATA_14DBF1,x)

DATA_14DBF1:
	dw CODE_14DBF5
	dw CODE_14DB29

;--------------------------------------------------------------------

CODE_14DBF5:
	LDA.b #!Define_SMAS_Sound0060_Pause1
	STA.w !RAM_SMB2U_Global_SoundCh1
	LDA.b #$25
	STA.w $0794
CODE_14DBFF:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	JSR.w CODE_14DC1B
else
	JSL.l CODE_14DC1B						; Glitch: This should be a JSR! The only reason this doesn't crash is because of
endif
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	LDA.w $0794
	CMP.b #$0A
	BCS.b CODE_14DC12
	JSL.l CODE_14D1B2
CODE_14DC12:
	DEC.w $0794
	BNE.b CODE_14DBFF
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	JML.l SMB2U_ResetGame_Main
else
	JML.l SMAS_ResetToSMASTitleScreen_Main				; Note: Call to SMAS function
endif

;--------------------------------------------------------------------

CODE_14DC1B:
	PHB
	PHK
	PLB
	LDX.b #$00
	LDY.b #$00
CODE_14DC22:
	CPY.w !RAM_SMB2U_Global_BlinkingCursorPos
	BNE.b CODE_14DC2B
	LDA.b #$26
	BRA.b CODE_14DC2D

CODE_14DC2B:
	LDA.b #$11
CODE_14DC2D:
	STA.w SMB2U_OAMBuffer[$0F].Tile,x
	INY
	INX
	INX
	INX
	INX
	CPY.b #$02
	BNE.b CODE_14DC22
	INC.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
	LDA.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
	AND.b #$10
	LSR
	LSR
	LSR
	LSR
	TAY
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	ASL
	ASL
	TAX
	LDA.w DATA_14D2F8,y
	STA.w SMB2U_OAMBuffer[$0F].Tile,x
	PLB
	RTS

;--------------------------------------------------------------------

SMB2U_CheckIfEndingPauseMenuCursorShouldMove:
.Main:
;$14DC54
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #(!Joypad_DPadU>>8)|(!Joypad_DPadD>>8)|(!Joypad_Select>>8)
	BEQ.b CODE_14DC6A
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	EOR.b #$01
	STA.w !RAM_SMB2U_Global_BlinkingCursorPos
	LDA.b #!Define_SMAS_Sound0063_Coin
	STA.w !RAM_SMB2U_Global_SoundCh3
	STZ.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
CODE_14DC6A:
	RTS

;--------------------------------------------------------------------

CODE_14DC6B:
	REP.b #$20
	LDX.b #$1E
CODE_14DC6F:
	LDA.l DATA_11BB3C,x
	STA.w SMB2U_PaletteMirror[$A0].LowByte,x
	DEX
	DEX
	BPL.b CODE_14DC6F
	SEP.b #$20
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_InitializeEndingPauseMenuWindowingAndColorMathParameters(NULLROM)	; $14DC82

;--------------------------------------------------------------------

SMB2U_HandleEndingPauseMenuWindowingAndColorMath:
.Main:
;$14DCFC
	REP.b #$30
	LDA.w !RAM_SMB2U_Level_PauseMenuOpenCloseFrameIndex
	AND.w #$00FF
	ASL
	TAX
	LDA.l DATA_14DD6E,x
	STA.w $0712
	LDA.l DATA_14DD78,x
	STA.w $0714
	LDA.l DATA_14DD82,x
	STA.w $0716
	LDA.l DATA_14DD80
	STA.w $0718
	LDA.l DATA_14DD76
	TAX
CODE_14DD27:
	LDA.w #$00FF
	CPX.w $0714
	BCS.b CODE_14DD37
	CPX.w $0712
	BCC.b CODE_14DD37
	LDA.w $0716
CODE_14DD37:
	STA.l !RAM_SMB2U_Level_PauseMenuWindow1HDMATable,x
	INX
	INX
	CPX.w $0718
	BNE.b CODE_14DD27
	LDA.w #$0066
	TAX
CODE_14DD46:
	LDA.w #$C43B
	STA.l !RAM_SMB2U_Level_PauseMenuWindow2HDMATable,x
	INX
	INX
	CPX.w #$013A
	BNE.b CODE_14DD46
	SEP.b #$30
	LDA.w $0232
	BNE.b CODE_14DD60
	LDA.b #$01
	STA.w $0232
CODE_14DD60:
	LDA.b #$F8
	STA.w !RAM_SMB2U_Global_HDMAEnableMirror
	LDA.b #$17
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	STA.w !RAM_SMB2U_Global_MainScreenWindowMaskMirror
	RTS

DATA_14DD6E:
	dw $00C6,$00AE,$0096,$007E

DATA_14DD76:
	dw $0068

DATA_14DD78:
	dw $00F6,$010E,$0126,$013E

DATA_14DD80:
	dw $0154

DATA_14DD82:
	dw $9070,$A060,$B050,$C040
	dw $CA36

;--------------------------------------------------------------------
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	%ROUTINE_SMB2U_InitializeEndingPauseMenuWindowHDMATable(NULLROM)				; $14DD8C
endif
;--------------------------------------------------------------------

SMB2U_DrawEndingPauseMenu:
.Main:
;$14DE05
	REP.b #$30
	LDA.w #DATA_14C42B
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #DATA_14C42B>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	; Table size
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	LDA.w #$0131
else
	;LDA.w #$012C
	LDA.w #DATA_14C42B_End-DATA_14C42B
endif
	STA.w $0712
	LDX.w #$0000
	TXY
CODE_14DE1B:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_OAMBuffer[$0F].XDisp,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_OAMBuffer[$0F].Tile,x
	INY
	INY
	PHX
	TXA
	LSR
	LSR
	TAX
	SEP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_OAMTileSizeBuffer[$0F].Slot,x
	REP.b #$20
	PLX
	INX
	INX
	INX
	INX
	INY
	CPY.w $0712
	BNE.b CODE_14DE1B
	SEP.b #$30
	RTS

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
%FREE_BYTES(NULLROM, 22, $FF)
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
%FREE_BYTES(NULLROM, 59, $FF)
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
%FREE_BYTES(NULLROM, 27, $FF)
endif

;--------------------------------------------------------------------

SMB2U_CombineButtonInputs:
.Main:
;$14DE60
	PHB
	PHK
	PLB
	LDA.l !SRAM_SMAS_Global_ControllerTypeX
	BNE.b CODE_14DE7B
	LDA.w !RAM_SMB2U_Global_ControllerHold2
	AND.b #!Joypad_A|!Joypad_X
	TSB.w !RAM_SMB2U_Global_ControllerHold1				; Note: !Joypad_A|!Joypad_X
	LDA.w !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_A|(!Joypad_B>>8)|!Joypad_X|(!Joypad_Y>>8)
	TSB.w !RAM_SMB2U_Global_ControllerPress1			; Note: !Joypad_A|!Joypad_X
	BRA.b CODE_14DEAF

CODE_14DE7B:
	LDA.w !RAM_SMB2U_Global_ControllerHold1
	AND.b #!Joypad_B>>8
	LSR
	TSB.w !RAM_SMB2U_Global_ControllerHold1				; Note: !Joypad_Y>>8
	LDA.w !RAM_SMB2U_Global_ControllerHold2
	AND.b #!Joypad_A|!Joypad_X
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Global_ControllerHold1
	AND.b #(!Joypad_DPadU>>8)|(!Joypad_DPadD>>8)|(!Joypad_DPadL>>8)|(!Joypad_DPadR>>8)|(!Joypad_Start>>8)|(!Joypad_Select>>8)|(!Joypad_Y>>8)
	ORA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !RAM_SMB2U_Global_ControllerHold1
	LDA.w !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_B>>8
	LSR
	TSB.w !RAM_SMB2U_Global_ControllerPress1
	LDA.w !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_A|!Joypad_X
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Global_ControllerPress1
	AND.b #(!Joypad_DPadU>>8)|(!Joypad_DPadD>>8)|(!Joypad_DPadL>>8)|(!Joypad_DPadR>>8)|(!Joypad_Start>>8)|(!Joypad_Select>>8)|(!Joypad_Y>>8)
	ORA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !RAM_SMB2U_Global_ControllerPress1
CODE_14DEAF:
	PLB
	RTL

;--------------------------------------------------------------------

CODE_14DEB1:
	DEC.w $0400
	BPL.b CODE_14DEBB
	LDA.b #$08
	STA.w $0400
CODE_14DEBB:
	RTS

;--------------------------------------------------------------------

CODE_14DEBC:
	JSR.w CODE_14DEB1
	LDA.w !RAM_SMB2U_Player_HideAndFreezePlayerFlag
	BNE.b CODE_14DF1A
	LDA.w $079B
	BEQ.b CODE_14DED0
	DEC.w $079B
	BNE.b CODE_14DEE0
	BRA.b CODE_14DEDA

CODE_14DED0:
	LDA.w !RAM_SMB2U_Level_WaitBeforeRestoringPreviousMusicTimer
	BEQ.b CODE_14DEE0
	DEC.w !RAM_SMB2U_Level_WaitBeforeRestoringPreviousMusicTimer
	BNE.b CODE_14DEE0
CODE_14DEDA:
	LDA.w $0547
	STA.w !RAM_SMB2U_Global_MusicCh1
CODE_14DEE0:
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	BMI.b CODE_14DEF3
	CMP.b #$05
	BCC.b CODE_14DEF3
	JSL.l CODE_128932
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	INC
	BNE.b CODE_14DF13
CODE_14DEF3:
	LDA.w !RAM_SMB2U_Player_PlayerLocked
	BNE.b CODE_14DF13
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	INC
	BNE.b CODE_14DF0F
	JSL.l CODE_128000
	INC.w !RAM_SMB2U_Player_PlayerLocked
	JSL.l CODE_129B00
	STZ.w !RAM_SMB2U_Player_PlayerLocked
	JMP.w CODE_14DF9F

CODE_14DF0F:
	JSL.l CODE_128008
CODE_14DF13:
	JSR.w CODE_14E0A8
	JSL.l SMB2U_DrawPlayerSprite_Main
CODE_14DF1A:
	JSL.l CODE_14DF7D
	RTL

;--------------------------------------------------------------------

; Note: Routine that processes the player and sprites?

CODE_14DF1F:
	JSR.w CODE_14DEB1
	LDA.w !RAM_SMB2U_Player_HideAndFreezePlayerFlag
	BNE.b CODE_14DF7D
	LDA.w !REGISTER_APUPort2
	CMP.b #!Define_SMB2U_LevelMusic_WorldClear
	BEQ.b CODE_14DF6F
	LDA.w !RAM_SMB2U_Level_WaitBeforeRestoringPreviousMusicTimer
	BEQ.b CODE_14DF3E
	DEC.w !RAM_SMB2U_Level_WaitBeforeRestoringPreviousMusicTimer
	BNE.b CODE_14DF3E
	LDA.w $0547
	STA.w !RAM_SMB2U_Global_MusicCh1
CODE_14DF3E:
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	CMP.b #$05
	BCC.b CODE_14DF4F
	JSL.l CODE_128932
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	INC
	BNE.b CODE_14DF6F
CODE_14DF4F:
	LDA.w !RAM_SMB2U_Player_PlayerLocked
	BNE.b CODE_14DF6F
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	INC
	BNE.b CODE_14DF6B
	JSL.l CODE_128000
	INC.w !RAM_SMB2U_Player_PlayerLocked
	JSL.l CODE_129B00
	STZ.w !RAM_SMB2U_Player_PlayerLocked
	JMP.w CODE_14DF9F

CODE_14DF6B:
	JSL.l CODE_128008
CODE_14DF6F:
	JSR.w CODE_14E137
	JSL.l CODE_14EE7A
	JSR.w CODE_14E0A8
	JSL.l SMB2U_DrawPlayerSprite_Main
CODE_14DF7D:
	JSL.l CODE_129B00
	JSL.l SMB2U_DrawHealthCounter_Main
	JSL.l SMB2U_BufferCandleFlamePaletteAnimationData_Main
	JSL.l SMB2U_BufferGiantPhantoBGPaletteAnimationData_Main
	JSL.l SMB2U_BufferIceCrystalBGPaletteAnimationData_Main
	JSL.l SMB2U_BufferLayer3StarBGPaletteAnimationData_Main
	JSR.w CODE_14E44F
	JSR.w CODE_14E2B1
	JSL.l SMB2U_DrawStationaryBobOmbDoor_Main
CODE_14DF9F:
	LDX.b #$03
CODE_14DFA1:
	LDA.b !RAM_SMB2U_Player_PickupAnimationTimer,x
	BEQ.b CODE_14DFA7
	DEC.b !RAM_SMB2U_Player_PickupAnimationTimer,x
CODE_14DFA7:
	DEX
	BPL.b CODE_14DFA1
	LDY.w !RAM_SMB2U_Player_StarPowerTimer
	BEQ.b CODE_14DFCA
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$07
	BNE.b CODE_14DFCA
	DEC.w !RAM_SMB2U_Player_StarPowerTimer
	CPY.b #$08
	BNE.b CODE_14DFCA
	LDA.w !RAM_SMB2U_Level_WaitBeforeRestoringPreviousMusicTimer
	BNE.b CODE_14DFCA
	LDA.w $0546
	STA.w $0547
	STA.w !RAM_SMB2U_Global_MusicCh1
CODE_14DFCA:
	RTL

CODE_14DFCB:
	JSR.w CODE_14DEB1
	JSR.w CODE_14E2C9
	LDA.w !RAM_SMB2U_Player_HideAndFreezePlayerFlag
	BNE.b CODE_14E029
	LDA.w !REGISTER_APUPort2
	CMP.b #!Define_SMB2U_LevelMusic_WorldClear
	BEQ.b CODE_14DF6F
	LDA.w !RAM_SMB2U_Level_WaitBeforeRestoringPreviousMusicTimer
	BEQ.b CODE_14DFED
	DEC.w !RAM_SMB2U_Level_WaitBeforeRestoringPreviousMusicTimer
	BNE.b CODE_14DFED
	LDA.w $0547
	STA.w !RAM_SMB2U_Global_MusicCh1
CODE_14DFED:
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	CMP.b #$05
	BNE.b CODE_14DFFE
	JSL.l CODE_128932
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	INC
	BNE.b CODE_14E01E
CODE_14DFFE:
	LDA.w !RAM_SMB2U_Player_PlayerLocked
	BNE.b CODE_14E01E
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	INC
	BNE.b CODE_14E01A
	JSL.l CODE_128000
	INC.w !RAM_SMB2U_Player_PlayerLocked
	JSL.l CODE_129B00
	STZ.w !RAM_SMB2U_Player_PlayerLocked
	JMP.w CODE_14DF9F

CODE_14E01A:
	JSL.l CODE_128008
CODE_14E01E:
	JSL.l CODE_14E754
	JSR.w CODE_14E0A8
	JSL.l SMB2U_DrawPlayerSprite_Main
CODE_14E029:
	JSL.l CODE_14DF7D
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_StoreNewCheckpointInformation(NULLROM)				; $14E02E
	%ROUTINE_SMB2U_LoadCheckpointInformation(NULLROM)				; $14E061

;--------------------------------------------------------------------

CODE_14E0A8:
	LDA.b !RAM_SMB2U_Player_XPosLo
	SEC
	SBC.w !RAM_SMB2U_Global_CameraXPosLo
	STA.w !RAM_SMB2U_Player_OnScreenPosXLo
	LDA.b !RAM_SMB2U_Player_YPosLo
	CLC
	SBC.b !RAM_SMB2U_Global_CameraYPosLo
	STA.w !RAM_SMB2U_Player_OnScreenPosYLo
	LDA.b !RAM_SMB2U_Player_YPosHi
	SBC.b !RAM_SMB2U_Global_CameraYPosHi
	STA.w !RAM_SMB2U_Player_OnScreenPosYHi
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState02_PickupSomething
	BCS.b CODE_14E10C
	LDA.w !RAM_SMB2U_Player_OnScreenPosYHi
	BEQ.b CODE_14E10D
	BMI.b CODE_14E0D6
	LDA.b #$00
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
	JSL.l CODE_14E39F
	RTS

CODE_14E0D6:
	LDA.b !RAM_SMB2U_Player_YPosHi
	BPL.b CODE_14E10C							; Note: Check that determines if a player can exit a vase.
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BEQ.b CODE_14E10D
	LDA.b !RAM_SMB2U_Player_YPosLo
	CMP.b #$F0
	BCS.b CODE_14E10C
	LDY.b #$00
	STY.b !RAM_SMB2U_Player_DuckingFlag
	STY.b !RAM_SMB2U_Player_YSpeed
	STY.b !RAM_SMB2U_Player_XSpeed
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000 ;[BR]
	LDA.w $0D09								;\ Optimization: Junk
	BNE.b CODE_14E0F2							;/
CODE_14E0F2:
endif
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	CMP.b #$02
	BNE.b CODE_14E0FF
	LDA.b #$02
	STA.w !RAM_SMB2U_Player_TeleportFlag
	RTS

CODE_14E0FF:
	STY.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	LDA.w $051B
	STA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	JSL.l SMB2U_BufferSpriteListData_Main
CODE_14E10C:
	RTS

CODE_14E10D:
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState01_Climbing
	BNE.b CODE_14E10C
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$02
	BEQ.b CODE_14E10C
	LDA.w DATA_11CBF3
	LDY.b !RAM_SMB2U_Player_YPosHi
	BMI.b CODE_14E130
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	CMP.b #$B8
	BCC.b CODE_14E10C
	LSR.b !RAM_SMB2U_Player_YPosLo
	SEC
	ROL.b !RAM_SMB2U_Player_YPosLo
	LDA.w DATA_11CBF2
CODE_14E130:
	STA.b !RAM_SMB2U_Player_YSpeed
	LDA.b #!Define_SMB2U_PlayerState03_ClimbingScreenExit
	STA.b !RAM_SMB2U_Player_CurrentState
	RTS

;--------------------------------------------------------------------

CODE_14E137:
	LDA.b #$00
	LDY.w !RAM_SMB2U_Level_DisableScrollingFlag
	BNE.b CODE_14E147
	LDA.b !RAM_SMB2U_Player_XPosLo
	SEC
	SBC.b #$78
	SEC
	SBC.w !RAM_SMB2U_Global_CameraXPosLo
CODE_14E147:
	STA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_DrawPlayerSprite(NULLROM)				; $14E14A

;--------------------------------------------------------------------

CODE_14E2B1:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_14E2C3
	LDY.b !RAM_SMB2U_Player_YPosHi
	LDA.b !RAM_SMB2U_Player_YPosLo
	JSR.w CODE_14E2F8
	TYA
	BPL.b CODE_14E2C5
	LDA.b #$00
	BEQ.b CODE_14E2C5

CODE_14E2C3:
	LDA.b !RAM_SMB2U_Player_XPosHi
CODE_14E2C5:
	STA.w $0537
	RTS

;--------------------------------------------------------------------

CODE_14E2C9:
	LDX.b $D8
	BNE.b CODE_14E2F7
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState02_PickupSomething
	BCS.b CODE_14E2F7
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	LDY.w !RAM_SMB2U_Player_OnScreenPosYHi
	BMI.b CODE_14E2E5
	BNE.b CODE_14E2EB
	CMP.b #$B4
	BCS.b CODE_14E2EB
	CMP.b #$21
	BCS.b CODE_14E2ED
CODE_14E2E5:
	LDY.b !RAM_SMB2U_Player_InAirFlag
	BNE.b CODE_14E2ED
	BEQ.b CODE_14E2EC

CODE_14E2EB:
	INX
CODE_14E2EC:
	INX
CODE_14E2ED:
	LDA.w $0425
	STX.w $0425
	BNE.b CODE_14E2F7
	STX.b $D8
CODE_14E2F7:
	RTS

;--------------------------------------------------------------------

CODE_14E2F8:
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	TYA
	BMI.b CODE_14E30E
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0F
	BCS.b CODE_14E30A
	CMP.b #$F0
	BCC.b CODE_14E30E
CODE_14E30A:
	CLC
	ADC.b #$10
	INY
CODE_14E30E:
	RTS

;--------------------------------------------------------------------

CODE_14E30F:
	LDA.w $0537
	ASL
	TAY
	LDA.w $051F,y
	STA.w !RAM_SMB2U_Level_CurrentLevel
	INY
	LDA.w $051F,y
	LSR
	LSR
	LSR
	LSR
	STA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.w $051F,y
	AND.b #$0F
	STA.w $0535
	RTL

;--------------------------------------------------------------------

SMB2U_SetLevelMusic:
.Main:
;$14E32E
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.l DATA_11B839,x
	STA.w $0546
CODE_14E341:
	LDA.w $0546
	CMP.w $0547
	BEQ.b CODE_14E359
	LDA.w !RAM_SMB2U_Player_StarPowerTimer
	CMP.b #$08
	BCS.b CODE_14E359
	LDA.w $0546
	STA.w !RAM_SMB2U_Global_MusicCh1
	STA.w $0547
CODE_14E359:
	RTL

;--------------------------------------------------------------------

CODE_14E35A:
	STZ.w $04AE
	STZ.w !RAM_SMB2U_NorSpr_SpriteToCarryThroughScreenTransition
	STZ.w !RAM_SMB2U_NorSpr3C_Door_WaitBeforeBeingKickedOutOfSubspaceTimer
	STZ.w !RAM_SMB2U_NorSpr3C_Door_DespawnTimer
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_14E368:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	BEQ.b CODE_14E386
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3F_Mushroom
	BEQ.b CODE_14E386
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_14E383
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BEQ.b CODE_14E380
	CMP.b #!Define_SMB2U_SpriteID_NorSpr39_MushroomBlock
	BEQ.b CODE_14E383
CODE_14E380:
	STA.w !RAM_SMB2U_NorSpr_SpriteToCarryThroughScreenTransition
CODE_14E383:
	JSR.w CODE_14E38C
CODE_14E386:
	DEX
	BPL.w CODE_14E368
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTL

CODE_14E38C:
	LDY.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	BMI.b CODE_14E397
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	AND.b #$7F
	STA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
CODE_14E397:
	LDA.b #!Define_SMB2U_NorSprStatus00_EmptySlot
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	RTS

;--------------------------------------------------------------------

; Note: Kill player routine?

CODE_14E39F:
	STZ.w $078C
	LDA.b #!Define_SMB2U_PlayerState07_Dead
	STA.b !RAM_SMB2U_Player_CurrentState
	STZ.w !RAM_SMB2U_Player_CurrentHP
	STZ.w !RAM_SMB2U_Player_PowerJumpCharge
	STZ.w !RAM_SMB2U_Player_StarPowerTimer
	STZ.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	LDA.b #$07
	STA.b !RAM_SMB2U_Player_BasePose
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_14E3D8
	DEC.b !RAM_SMB2U_Player_CarryingSomethingFlag
	LDY.w !RAM_SMB2U_Player_CarriedSpriteIndex
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,y
	LSR
	STA.w !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,y
	STA.w !RAM_SMB2U_NorSpr_XSpeed,y
	LDA.b #$E0
	STX.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b !RAM_SMB2U_NorSpr_CurrentStatus,y
	CPX.b #!Define_SMB2U_NorSprStatus07_SinkInQuicksand
	BEQ.b CODE_14E3D6
	STA.w !RAM_SMB2U_NorSpr_YSpeed,y
CODE_14E3D6:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0D
CODE_14E3D8:
	LDA.b #!Define_SMB2U_LevelMusic_Death
	STA.w !RAM_SMB2U_Global_MusicCh1
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_BufferSpriteListData(NULLROM)					; $14E3DE

;--------------------------------------------------------------------

CODE_14E425:
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	LDA.w DATA_11D098,y
	CLC
	ADC.b #$04
	TAY
	LDA.w DATA_11D0AD,y
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.w DATA_11D17F,y
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$001A00>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.b #$001A00
	STY.b !RAM_SMB2U_Global_ScratchRAM01
CODE_14E441:
	LDA.b (!RAM_SMB2U_Global_ScratchRAM05),y
	CMP.b #$FF
	BEQ.b CODE_14E44C
	STA.b (!RAM_SMB2U_Global_ScratchRAM01),y
	INY
	BRA.b CODE_14E441

CODE_14E44C:
	STA.b (!RAM_SMB2U_Global_ScratchRAM01),y
	RTL

;--------------------------------------------------------------------

CODE_14E44F:
	DEC.w $06C9
	BPL.b CODE_14E482
	LDX.b #$07
	LDY.b #$0F
CODE_14E458:
	LDA.w !RAM_SMB2U_Player_CheckpointLevel
	CMP.w DATA_11CE48,y
	BNE.b CODE_14E468
	LDA.w !RAM_SMB2U_Player_CheckpointSublevel
	CMP.w DATA_11CE58,y
	BEQ.b CODE_14E46E
CODE_14E468:
	DEY
	BPL.b CODE_14E458
	LDX.w !RAM_SMB2U_Level_CurrentWorld
CODE_14E46E:
	LDA.w DATA_11CE68,x
	STA.w $06C9
	LDY.w $06C4
	INY
	INY
	CPY.b #$26
	BCC.b CODE_14E47F
	LDY.b #$18
CODE_14E47F:
	STY.w $06C4
CODE_14E482:
	RTS

;--------------------------------------------------------------------

CODE_14E483:
	REP.b #$30
	LDX.w #!Define_SMB2U_MaxNormalSpriteSlot
CODE_14E488:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	AND.w #$00FF
	BEQ.b CODE_14E4B8
CODE_14E48F:
	DEX
	BPL.b CODE_14E488
	LDY.w #$0090
CODE_14E495:
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BNE.b CODE_14E4AB
	LDA.w SMB2U_OAMBuffer[$01].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BEQ.b CODE_14E4DC
CODE_14E4AB:
	TYA
	CLC
	ADC.w #$0008
	TAY
	CPY.w #$01A0
	BNE.b CODE_14E495
	BRA.b CODE_14E4B8

CODE_14E4B8:
	TXA
	CLC
	ADC.w $0400
	AND.w #$00FF
	ASL
	TAY
	LDA.w DATA_11CC23,y
	TAY
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BNE.b CODE_14E48F
	LDA.w SMB2U_OAMBuffer[$01].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BNE.b CODE_14E48F
CODE_14E4DC:
	STY.w $02F8
	SEP.b #$30
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTL

;--------------------------------------------------------------------

; Note: Routine that sets the pointer to the player graphics.

DATA_14E4E4:
	dw SMB2U_UncompressedGFX_Player+$0000,SMB2U_UncompressedGFX_Player+$0040,SMB2U_UncompressedGFX_Player+$0080,SMB2U_UncompressedGFX_Player+$00C0
	dw SMB2U_UncompressedGFX_Player+$0100,SMB2U_UncompressedGFX_Player+$0140,SMB2U_UncompressedGFX_Player+$0180,SMB2U_UncompressedGFX_Player+$01C0
	dw SMB2U_UncompressedGFX_Player+$0400,SMB2U_UncompressedGFX_Player+$0440,SMB2U_UncompressedGFX_Player+$0480,SMB2U_UncompressedGFX_Player+$04C0
	dw SMB2U_UncompressedGFX_Player+$0500,SMB2U_UncompressedGFX_Player+$0540,SMB2U_UncompressedGFX_Player+$0580,SMB2U_UncompressedGFX_Player+$05C0
	dw SMB2U_UncompressedGFX_Player+$0800,SMB2U_UncompressedGFX_Player+$0840,SMB2U_UncompressedGFX_Player+$0880,SMB2U_UncompressedGFX_Player+$08C0
	dw SMB2U_UncompressedGFX_Player+$0900,SMB2U_UncompressedGFX_Player+$0940,SMB2U_UncompressedGFX_Player+$0980,SMB2U_UncompressedGFX_Player+$09C0
	dw SMB2U_UncompressedGFX_Player+$0C00,SMB2U_UncompressedGFX_Player+$0C40,SMB2U_UncompressedGFX_Player+$0C80,SMB2U_UncompressedGFX_Player+$0CC0
	dw SMB2U_UncompressedGFX_Player+$0D00,SMB2U_UncompressedGFX_Player+$0D40,SMB2U_UncompressedGFX_Player+$0D80,SMB2U_UncompressedGFX_Player+$0DC0
	dw SMB2U_UncompressedGFX_Player+$1000,SMB2U_UncompressedGFX_Player+$1040,SMB2U_UncompressedGFX_Player+$1080,SMB2U_UncompressedGFX_Player+$10C0

DATA_14E52C:
	dw SMB2U_UncompressedGFX_Player+$0200,SMB2U_UncompressedGFX_Player+$0240,SMB2U_UncompressedGFX_Player+$0280,SMB2U_UncompressedGFX_Player+$02C0
	dw SMB2U_UncompressedGFX_Player+$0300,SMB2U_UncompressedGFX_Player+$0340,SMB2U_UncompressedGFX_Player+$0380,SMB2U_UncompressedGFX_Player+$03C0
	dw SMB2U_UncompressedGFX_Player+$0600,SMB2U_UncompressedGFX_Player+$0640,SMB2U_UncompressedGFX_Player+$0680,SMB2U_UncompressedGFX_Player+$06C0
	dw SMB2U_UncompressedGFX_Player+$0700,SMB2U_UncompressedGFX_Player+$0740,SMB2U_UncompressedGFX_Player+$0780,SMB2U_UncompressedGFX_Player+$07C0
	dw SMB2U_UncompressedGFX_Player+$0A00,SMB2U_UncompressedGFX_Player+$0A40,SMB2U_UncompressedGFX_Player+$0A80,SMB2U_UncompressedGFX_Player+$0AC0
	dw SMB2U_UncompressedGFX_Player+$0B00,SMB2U_UncompressedGFX_Player+$0B40,SMB2U_UncompressedGFX_Player+$0B80,SMB2U_UncompressedGFX_Player+$0BC0
	dw SMB2U_UncompressedGFX_Player+$0E00,SMB2U_UncompressedGFX_Player+$0E40,SMB2U_UncompressedGFX_Player+$0E80,SMB2U_UncompressedGFX_Player+$0EC0
	dw SMB2U_UncompressedGFX_Player+$0F00,SMB2U_UncompressedGFX_Player+$0F40,SMB2U_UncompressedGFX_Player+$0F80,SMB2U_UncompressedGFX_Player+$0FC0
	dw SMB2U_UncompressedGFX_Player+$1200,SMB2U_UncompressedGFX_Player+$1240,SMB2U_UncompressedGFX_Player+$1280,SMB2U_UncompressedGFX_Player+$12C0

DATA_14E574:
	dw SMB2U_UncompressedGFX_Player_Mario-SMB2U_UncompressedGFX_Player
	dw SMB2U_UncompressedGFX_Player_Peach-SMB2U_UncompressedGFX_Player
	dw SMB2U_UncompressedGFX_Player_Toad-SMB2U_UncompressedGFX_Player
	dw SMB2U_UncompressedGFX_Player_Luigi-SMB2U_UncompressedGFX_Player

CODE_14E57C:
	REP.b #$30
	LDA.b !RAM_SMB2U_Player_CharacterGFXSet
	AND.w #$00FF
	ASL
	TAX
	LDA.l DATA_14E574,x
	STA.w $0712
	LDA.b !RAM_SMB2U_Player_BasePose
	AND.w #$00FF
	CMP.w #$0006
	BCS.b CODE_14E59B
	ORA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	AND.w #$00FF
CODE_14E59B:
	ASL
	TAX
	LDA.b !RAM_SMB2U_Player_BasePose
	AND.w #$00FF
	CMP.w #$0006
	BNE.b CODE_14E5B1
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	AND.w #$00FF
	BNE.b CODE_14E5B1
	LDX.w #$0016
CODE_14E5B1:
	LDA.b !RAM_SMB2U_Player_BasePose
	AND.w #$00FF
	CMP.w #$0007
	BEQ.b CODE_14E5C5
	CMP.w #$0004
	BNE.b CODE_14E5C5
	LDA.w #$0000
	BRA.b CODE_14E5CF

CODE_14E5C5:
	LDA.w $06C2
	AND.w #$00FF
	LSR
	ROR
	ROR
	XBA
CODE_14E5CF:
	CLC
	ADC.w DATA_11CC03,x
	PHA
	AND.w #$000F
	STA.w $0714
	PLA
	AND.w #$00F0
	LSR
	ORA.w $0714
	STA.w $0716
	LDA.w $06C2
	AND.w #$00FF
	LSR
	ROR
	ROR
	XBA
	CLC
	ADC.w DATA_11CC03+$01,x
	PHA
	AND.w #$000F
	STA.w $0714
	PLA
	AND.w #$00F0
	LSR
	ORA.w $0714
	STA.w $0714
	LDX.w $0716
	LDA.l DATA_14E4E4,x
	CLC
	ADC.w $0712
	CLC
	STA.w !RAM_SMB2U_Player_TopHeadTileSourceAddressLo
	LDA.l DATA_14E52C,x
	CLC
	ADC.w $0712
	STA.w !RAM_SMB2U_Player_BottomHeadTileSourceAddressLo
	LDA.w $078D
	AND.w #$00FF
	BNE.b CODE_14E690
	LDA.w $078C
	AND.w #$00FF
	BEQ.b CODE_14E690
	LDA.w $078B
	AND.w #$00FF
	BEQ.b CODE_14E673
	CMP.w #$0001
	BNE.b CODE_14E656
	LDX.w #$0040
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	AND.w #$00FF
	BEQ.b CODE_14E648
	INX
	INX
CODE_14E648:
	LDA.w $06C2
	AND.w #$00FF
	BEQ.b CODE_14E693
	INX
	INX
	INX
	INX
	BRA.b CODE_14E693

CODE_14E656:
	LDX.w #$0002
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	AND.w #$00FF
	BEQ.b CODE_14E663
	LDX.w #$0008
CODE_14E663:
	LDA.w $06C2
	AND.w #$00FF
	BEQ.b CODE_14E693
	TXA
	CLC
	ADC.w #$0020
	TAX
	BRA.b CODE_14E693

CODE_14E673:
	LDX.w #$0004
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	AND.w #$00FF
	BEQ.b CODE_14E680
	LDX.w #$000A
CODE_14E680:
	LDA.w $06C2
	AND.w #$00FF
	BEQ.b CODE_14E693
	TXA
	CLC
	ADC.w #$0020
	TAX
	BRA.b CODE_14E693

CODE_14E690:
	LDX.w $0714
CODE_14E693:
	LDA.l DATA_14E4E4,x
	CLC
	ADC.w $0712
	STA.w !RAM_SMB2U_Player_TopBodyTileSourceAddressLo
	LDA.l DATA_14E52C,x
	CLC
	ADC.w $0712
	STA.w !RAM_SMB2U_Player_BottomBodyTileSourceAddressLo
	SEP.b #$30
	RTS

%FREE_BYTES(NULLROM, 4, $FF)

;--------------------------------------------------------------------

CODE_14E6B0:
	LDA.w $0503
	BNE.b CODE_14E72D
	LDA.b #$02
	STA.b $D1
	LDA.w $0535
	BNE.b CODE_14E6C2
	LDA.b #$09
	BNE.b CODE_14E6C5
CODE_14E6C2:
	SEC
	SBC.b #$01
CODE_14E6C5:
	ORA.b #$70
	STA.b $CF
	STA.w $0258
	STA.w $0726
	STA.b $CE
	STA.w $0257
	STA.w $0725
	LDA.w $0535
	CLC
	ADC.b #$01
	CMP.b #$0A
	BNE.b CODE_14E6E3
	LDA.b #$00
CODE_14E6E3:
	ORA.b #$30
	STA.b $D0
	STA.w $0259
	STA.w $0727
	LDA.w $0535
	LDY.b #$00
	JSR.w CODE_14F0D7
	LDA.b #$02
	STA.w $0215
	STZ.w $0216
	LDA.b #$20
	STA.b $D3
	LDA.b #$A0
	STA.b $D4
	INC.w $0503
	LDA.b #$01
	STA.b $E4
	STA.w $053C
	LSR
	STA.b $D2
	LDY.w $0535
	JSL.l CODE_128F1F
	STA.b !RAM_SMB2U_Global_CameraYPosLo
	STA.w $02BD
	STA.w $074A
	STY.b !RAM_SMB2U_Global_CameraYPosHi
	STY.w $02BC
	STY.w $0749
	JSL.l CODE_128DB6
CODE_14E72D:
	STZ.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$FF
	STA.w $0506
	LDA.b #$A0
	STA.w $0508
	JSL.l CODE_14EAFB
	LDA.w $053C
	BNE.b CODE_14E747
	INC.b $13
	STZ.w $0503
CODE_14E747:
	RTL

;--------------------------------------------------------------------

; Note: Something to do with vertical camera scroll?

DATA_14E748:
	dw $0002,$0004

DATA_14E74C:
	db $02,$04

DATA_14E74E:
	dw $0002,$0004

DATA_14E752:
	db $02,$04

CODE_14E754:
	STZ.w $0265
	STZ.w $073A
	LDA.b $D8
	AND.b #$04
	BNE.b CODE_14E774
	LDA.b $D8
	AND.b #$07
	BNE.b CODE_14E769
	JMP.w CODE_14EA70

CODE_14E769:
	LDA.b $D8
	ORA.b #$04
	STA.b $D8
	LDA.b #$12
	STA.w $0505
CODE_14E774:
	LDA.b $D8
	LSR
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	BCS.b CODE_14E77F
	JMP.w CODE_14E8DF

CODE_14E77F:
	BEQ.b CODE_14E79A
	LDA.w $0535
	LSR
	LSR
	TAY
	LDA.w DATA_119B30,y
	CMP.w !RAM_SMB2U_Global_Layer1YPosHi
	BNE.b CODE_14E7AC
	LDA.w DATA_119B33,y
	CMP.w !RAM_SMB2U_Global_Layer1YPosLo
	BNE.b CODE_14E7AC
	JMP.w CODE_14EA70

CODE_14E79A:
	LDA.b $CF
	AND.b #$0F
	CMP.b #$09
	BNE.b CODE_14E7AC
	LDA.w !RAM_SMB2U_Global_Layer1YPosHi
	CMP.b #$01
	BNE.b CODE_14E7AC
	JMP.w CODE_14EA70

CODE_14E7AC:
	LDA.b #$01
	JSR.w CODE_14F45B
	REP.b #$20
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	SEC
	SBC.w #$0004
	STA.w !RAM_SMB2U_Global_Layer1YPosLo
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	AND.w #$000F
	ASL
	TAX
	LDA.w !RAM_SMB2U_Global_Layer2YPosLo
	SEC
	SBC.l DATA_14E748,x
	STA.w !RAM_SMB2U_Global_Layer2YPosLo
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	AND.w #$000F
	ASL
	TAX
	LDA.w !RAM_SMB2U_Global_Layer3YPosLo
	SEC
	SBC.l DATA_14E74E,x
	STA.w !RAM_SMB2U_Global_Layer3YPosLo
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	SEC
	SBC.b #$04
	STA.b !RAM_SMB2U_Global_CameraYPosLo
	BCS.b CODE_14E7F0
	DEC.b !RAM_SMB2U_Global_CameraYPosHi
CODE_14E7F0:
	LDX.w !RAM_SMB2U_Level_DisableLayer2Scroll
	LDA.w $02BD
	SEC
	SBC.l DATA_14E74C,x
	STA.w $02BD
	BCS.b CODE_14E803
	DEC.w $02BC
CODE_14E803:
	LDX.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	LDA.w $074A
	SEC
	SBC.l DATA_14E752,x
	STA.w $074A
	BCS.b CODE_14E816
	DEC.w $0749
CODE_14E816:
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	CMP.b #$FC
	BNE.b CODE_14E826
	LDA.b $C8
	EOR.b #$02
	STA.b $C8
	LSR
	STA.b $C9
CODE_14E826:
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	AND.b #$07
	BEQ.b CODE_14E82E
	RTL

CODE_14E82E:
	LDX.b #$00
	JSR.w CODE_14EB3E
	LDX.b #$01
	JSR.w CODE_14EB3E
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	AND.b #$0F
	BNE.b CODE_14E849
	LDX.b #$00
	JSR.w CODE_14EB8E
	LDX.b #$01
	JSR.w CODE_14EB8E
CODE_14E849:
	LDX.b #$01
	JSR.w CODE_14EBCF
	LDA.w !RAM_SMB2U_Global_Layer2YPosLo
	AND.b #$07
	BEQ.b CODE_14E857
	BRA.b CODE_14E896

CODE_14E857:
	INC.w $0265
	LDX.b #$00
	JSL.l CODE_13F651
	LDX.b #$01
	JSL.l CODE_13F651
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	BNE.b CODE_14E872
	LDA.w $0535
	AND.b #$01
	BNE.b CODE_14E87B
CODE_14E872:
	LDA.w !RAM_SMB2U_Global_Layer2YPosLo
	AND.b #$0F
	BNE.b CODE_14E890
	BRA.b CODE_14E884

CODE_14E87B:
	LDA.w !RAM_SMB2U_Global_Layer2YPosLo
	AND.b #$0F
	CMP.b #$08
	BNE.b CODE_14E890
CODE_14E884:
	LDX.b #$00
	JSL.l CODE_13F6A6
	LDX.b #$01
	JSL.l CODE_13F6A6
CODE_14E890:
	LDX.b #$01
	JSL.l CODE_13F6F7
CODE_14E896:
	LDA.w !RAM_SMB2U_Global_Layer3YPosLo
	AND.b #$07
	BNE.b CODE_14E8DC
	INC.w $073A
	LDX.b #$00
	JSL.l CODE_15864B
	LDX.b #$01
	JSL.l CODE_15864B
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BNE.b CODE_14E8B8
	LDA.w $0535
	AND.b #$01
	BNE.b CODE_14E8C1
CODE_14E8B8:
	LDA.w !RAM_SMB2U_Global_Layer3YPosLo
	AND.b #$0F
	BNE.b CODE_14E8D6
	BRA.b CODE_14E8CA

CODE_14E8C1:
	LDA.w !RAM_SMB2U_Global_Layer3YPosLo
	AND.b #$0F
	CMP.b #$08
	BNE.b CODE_14E8D6
CODE_14E8CA:
	LDX.b #$00
	JSL.l CODE_1586A0
	LDX.b #$01
	JSL.l CODE_1586A0
CODE_14E8D6:
	LDX.b #$01
	JSL.l CODE_1586F1
CODE_14E8DC:
	JMP.w CODE_14EA20

CODE_14E8DF:
	BEQ.b CODE_14E907
	LDA.w $0535
	BEQ.b CODE_14E8EF
	LDA.w !RAM_SMB2U_Level_ScreensInLvl
	SEC
	SBC.w $0535
	BRA.b CODE_14E8F2

CODE_14E8EF:
	LDA.w !RAM_SMB2U_Level_ScreensInLvl
CODE_14E8F2:
	LSR
	LSR
	TAY
	LDA.w DATA_119B36,y
	CMP.w !RAM_SMB2U_Global_Layer1YPosHi
	BNE.b CODE_14E923
	LDA.w DATA_119B39,y
	CMP.w !RAM_SMB2U_Global_Layer1YPosLo
	BEQ.b CODE_14E920
	BRA.b CODE_14E923

CODE_14E907:
	LDA.w !RAM_SMB2U_Level_ScreensInLvl
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$09
	BNE.b CODE_14E916
	LDA.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	BEQ.b CODE_14E918
CODE_14E916:
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_14E918:
	LDA.b $D0
	AND.b #$0F
	CMP.b !RAM_SMB2U_Global_ScratchRAM0F
	BNE.b CODE_14E923
CODE_14E920:
	JMP.w CODE_14EA70

CODE_14E923:
	LDA.b #$01
	JSR.w CODE_14F45B
	REP.b #$20
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	CLC
	ADC.w #$0004
	STA.w !RAM_SMB2U_Global_Layer1YPosLo
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	AND.w #$000F
	ASL
	TAX
	LDA.w !RAM_SMB2U_Global_Layer2YPosLo
	CLC
	ADC.l DATA_14E748,x
	STA.w !RAM_SMB2U_Global_Layer2YPosLo
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	AND.w #$000F
	ASL
	TAX
	LDA.w !RAM_SMB2U_Global_Layer3YPosLo
	CLC
	ADC.l DATA_14E74E,x
	STA.w !RAM_SMB2U_Global_Layer3YPosLo
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	CLC
	ADC.b #$04
	STA.b !RAM_SMB2U_Global_CameraYPosLo
	BCC.b CODE_14E967
	INC.b !RAM_SMB2U_Global_CameraYPosHi
CODE_14E967:
	LDX.w !RAM_SMB2U_Level_DisableLayer2Scroll
	LDA.w $02BD
	CLC
	ADC.l DATA_14E74C,x
	STA.w $02BD
	BCC.b CODE_14E97A
	INC.w $02BC
CODE_14E97A:
	LDX.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	LDA.w $074A
	CLC
	ADC.l DATA_14E752,x
	STA.w $074A
	BCC.b CODE_14E98D
	INC.w $0749
CODE_14E98D:
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	AND.b #$07
	BEQ.b CODE_14E995
	RTL

CODE_14E995:
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	BNE.b CODE_14E9A3
	LDA.b $C8
	EOR.b #$02
	STA.b $C8
	LSR
	STA.b $C9
CODE_14E9A3:
	LDX.b #$02
	JSR.w CODE_14EB5F
	LDX.b #$01
	JSR.w CODE_14EB5F
	LDA.b $D4
	AND.b #$20
	BNE.b CODE_14E9BD
	LDX.b #$02
	JSR.w CODE_14EBB1
	LDX.b #$01
	JSR.w CODE_14EBB1
CODE_14E9BD:
	LDX.b #$02
	JSR.w CODE_14EBCF
	LDA.w !RAM_SMB2U_Global_Layer2YPosLo
	AND.b #$07
	BNE.b CODE_14E9F1
	INC.w $0265
	LDX.b #$02
	JSL.l CODE_13F674
	LDX.b #$01
	JSL.l CODE_13F674
	LDA.w $025D
	AND.b #$20
	BNE.b CODE_14E9EB
	LDX.b #$02
	JSL.l CODE_13F6D0
	LDX.b #$01
	JSL.l CODE_13F6D0
CODE_14E9EB:
	LDX.b #$02
	JSL.l CODE_13F6F7
CODE_14E9F1:
	LDA.w !RAM_SMB2U_Global_Layer3YPosLo
	AND.b #$07
	BNE.b CODE_14EA20
	INC.w $073A
	LDX.b #$02
	JSL.l CODE_15866E
	LDX.b #$01
	JSL.l CODE_15866E
	LDA.w $073E
	AND.b #$20
	BNE.b CODE_14EA1A
	LDX.b #$02
	JSL.l CODE_1586CA
	LDX.b #$01
	JSL.l CODE_1586CA
CODE_14EA1A:
	LDX.b #$02
	JSL.l CODE_1586F1
CODE_14EA20:
	LDA.w $0505
	CMP.b #$12
	BNE.b CODE_14EA51
	LDA.b #$01
	STA.b $E4
	LDA.b $D8
	LSR
	BCC.b CODE_14EA36
	LDX.b #$01
	LDA.b #$00
	BEQ.b CODE_14EA3A
CODE_14EA36:
	LDX.b #$02
	LDA.b #$10
CODE_14EA3A:
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	JSR.w CODE_14EC25
	LDA.w $0265
	BEQ.b CODE_14EA48
	JSL.l CODE_13F74D
CODE_14EA48:
	LDA.w $073A
	BEQ.b CODE_14EA51
	JSL.l CODE_15873F
CODE_14EA51:
	JSR.w CODE_14EC4C
	LDA.w $0265
	BEQ.b CODE_14EA5D
	JSL.l CODE_13F77D
CODE_14EA5D:
	LDA.w $073A
	BEQ.b CODE_14EA66
	JSL.l CODE_15876F
CODE_14EA66:
	DEC.w $0505
	BNE.b CODE_14EA74
	LDA.b #$00
	JSR.w CODE_14F45B
CODE_14EA70:
	LDA.b #$00
	STA.b $D8
CODE_14EA74:
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_14EA75:
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	STA.w $050A
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w $050B
	LDA.b $C8
	STA.w $050C
	LDA.b $C9
	STA.w $050D
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	STA.w $0515
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	STA.w $0517
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	STA.w $0516
	LDA.b #$00
	STA.w !RAM_SMB2U_Global_Layer1YPosLo
	STA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.b $C8
	STA.b $C9
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_14EAA8:
	LDA.w $050A
	STA.w !RAM_SMB2U_Global_Layer1YPosLo
	LDA.w $050B
	STA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_CameraXPosLo
	LDA.w $050C
	STA.b $C8
	LDA.w $050D
	STA.b $C9
	LDA.w $0515
	STA.b !RAM_SMB2U_Global_CameraYPosHi
	LDA.w $0517
	STA.b !RAM_SMB2U_Global_CameraYPosLo
	LDA.w $0516
	STA.w !RAM_SMB2U_Global_CameraXPosHi
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_14EAD2:
	LDA.b #$01
	STA.b $E4
	LDA.b $CF
	STA.b $CE
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.b #$00
	JSR.w CODE_14EC25
	LDA.b $D3
	STA.b $D2
	LDA.b #$F0
	STA.w $0507
	STA.w $0508
	LDA.b $D0
	STA.w $0506
	INC.b $D5
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	RTL

;--------------------------------------------------------------------

CODE_14EAFB:
	LDX.b #$00
	STX.w $0539
	JSR.w CODE_14EBCF
	JSR.w CODE_14EC4C
	LDX.b #$00
	JSR.w CODE_14EB5F
	LDA.w $0507
	CMP.b $D1
	BNE.b CODE_14EB2B
	LDA.w $0508
	CLC
	ADC.b #$20
	CMP.b $D2
	BNE.b CODE_14EB2B
CODE_14EB1C:
	LDX.b !RAM_SMB2U_Global_ScratchRAM06
	INC.w $0539
	STZ.w $053C,x
	STZ.w $053F
	STZ.w $0540
	RTL

CODE_14EB2B:
	LDA.b $D2
	AND.b #$20
	BNE.b CODE_14EB3D
	LDA.b $CE
	CMP.w $0506
	BEQ.b CODE_14EB1C
	LDX.b #$00
	JSR.w CODE_14EBB1
CODE_14EB3D:
	RTL

;--------------------------------------------------------------------

CODE_14EB3E:
	LDA.b $D3,x
	SEC
	SBC.b #$20
	STA.b $D3,x
	BCS.b CODE_14EB5E
	LDA.w $0215,x
	SEC
	SBC.b #$01
	CMP.b #$FF
	BNE.b CODE_14EB55
	LDA.b #$0B
	BRA.b CODE_14EB5B

CODE_14EB55:
	CMP.b #$07
	BNE.b CODE_14EB8A
	LDA.b #$03
CODE_14EB5B:
	STA.w $0215,x
CODE_14EB5E:
	RTS

;--------------------------------------------------------------------

CODE_14EB5F:
	LDA.b $D2,x
	CLC
	ADC.b #$20
	STA.b $D2,x
	BCC.b CODE_14EB8D
	CPX.b #$00
	BNE.b CODE_14EB75
	LDA.b $D1
	CLC
	ADC.b #$01
	STA.w $00D1
	RTS

CODE_14EB75:
	DEX
	LDA.w $0215,x
	CLC
	ADC.b #$01
	CMP.b #$04
	BNE.b CODE_14EB84
	LDA.b #$08
	BRA.b CODE_14EB8A

CODE_14EB84:
	CMP.b #$0C
	BNE.b CODE_14EB8A
	LDA.b #$00
CODE_14EB8A:
	STA.w $0215,x
CODE_14EB8D:
	RTS

;--------------------------------------------------------------------

CODE_14EB8E:
	LDA.b $CF,x
	SEC
	SBC.b #$10
	STA.b $CF,x
	AND.b #$F0
	CMP.b #$F0
	BNE.b CODE_14EBB0
	LDA.b $CF,x
	AND.b #$0F
	CLC
	ADC.b #$E0
	STA.b $CF,x
	DEC.b $CF,x
	LDA.b $CF,x
	CMP.b #$DF
	BNE.b CODE_14EBB0
	LDA.b #$E9
	STA.b $CF,x
CODE_14EBB0:
	RTS

;--------------------------------------------------------------------

CODE_14EBB1:
	LDA.b $CE,x
	CLC
	ADC.b #$10
	STA.b $CE,x
	AND.b #$F0
	CMP.b #$F0
	BNE.b CODE_14EBCE
	LDA.b $CE,x
	AND.b #$0F
	STA.b $CE,x
	INC.b $CE,x
	LDA.b $CE,x
	CMP.b #$0A
	BNE.b CODE_14EBCE
	STZ.b $CE,x
CODE_14EBCE:
	RTS

;--------------------------------------------------------------------

CODE_14EBCF:
	PHX
	LDA.b $CE,x
	AND.b #$0F
	TAY
	STX.w $02F5
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.l DATA_11AB11,x
	CLC
	ADC.w DATA_11AAFB,y
	STA.w $0267
	LDA.w DATA_11AAF0,y
	STA.w $0266
	LDA.w DATA_11AB06,y
	STA.w $0268
	LDX.w $02F5
	LDA.b $CE,x
	AND.b #$F0
	STA.b $D7
	CPX.b #$00
	BNE.b CODE_14EC19
	LDA.b $D1
	CMP.b #$FF
	BNE.b CODE_14EC09
	LDA.b #$0B
	BRA.b CODE_14EC1D

CODE_14EC09:
	CMP.b #$04
	BNE.b CODE_14EC11
	LDA.b #$08
	BRA.b CODE_14EC1D

CODE_14EC11:
	CMP.b #$0C
	BNE.b CODE_14EC1D
	LDA.b #$00
	BRA.b CODE_14EC1D

CODE_14EC19:
	DEX
	LDA.w $0215,x
CODE_14EC1D:
	STA.b $D1
	PLX
	LDA.b $D2,x
	STA.b $D2
CODE_14EC24:
	RTS

;--------------------------------------------------------------------

CODE_14EC25:
	LDA.b $CE,x
	AND.b #$10
	BEQ.b CODE_14EC24
	LDA.b $CE,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM01
	STA.b $CE,x
	JSR.w CODE_14EBCF
	LDA.b #$0F
	STA.b $E3
	STZ.b $D6
CODE_14EC3D:
	DEC.b $E3
	LDA.b $E3
	BPL.b CODE_14EC3D
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.b $CE,x
	DEC.b $E4
	JMP.w CODE_14EBCF

;--------------------------------------------------------------------

CODE_14EC4C:
	LDX.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDA.w $0266
	STA.b $C4
	LDA.w $0267
	STA.b $C5
	LDA.w $0268
	STA.b $C6
	LDA.b $D1
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	LDA.b $D2
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	LDA.b #$00
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	LDA.b #$3F
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	STZ.b $D6
	LDA.b #$0F
	STA.b $E3
CODE_14EC7C:
	STZ.w $076C
	LDY.b $D7
	LDA.b $C5
	STA.w $0712
	CLC
	ADC.b #$70
	STA.b $C5
	LDA.b [$C4],y
	BEQ.b CODE_14EC9C
	JSR.w CODE_14F464
	INC.w $076C
	LDA.w $0712
	STA.b $C5
	BRA.b CODE_14ECC5

CODE_14EC9C:
	LDA.w $0712
	STA.b $C5
	LDA.b [$C4],y
	STA.w $0720
	AND.b #$C0
	ASL
	ROL
	ROL
	TAY
	LDA.w DATA_11AD64,y
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w DATA_11AD68,y
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #DATA_11AD6C>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.b $D7
	REP.b #$30
	LDA.b [$C4],y
	AND.w #$003F
	BRA.b CODE_14ECCC

CODE_14ECC5:
	REP.b #$30
	LDA.b [$C4],y
	AND.w #$00FF
CODE_14ECCC:
	ASL
	ASL
	ASL
	TAY
	LDA.b $D5
	AND.w #$00FF
	BEQ.b CODE_14ECDB
	INY
	INY
	INY
	INY
CODE_14ECDB:
	SEP.b #$20
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BEQ.b CODE_14ECE9
	LDA.w $0720
	CMP.b #$AB
	BEQ.b CODE_14ED0F
CODE_14ECE9:
	LDA.w $0773
	BEQ.b CODE_14ECF3
	LDA.w $076C
	BNE.b CODE_14ECFE
CODE_14ECF3:
	REP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	SEP.b #$20
	BRA.b CODE_14ED1B

CODE_14ECFE:
	REP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$01FF
	ORA.w #$1800
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	SEP.b #$20
	BRA.b CODE_14ED1B

CODE_14ED0F:
	REP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	ORA.w #$2000
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	SEP.b #$20
CODE_14ED1B:
	INC.b $D6
	INX
	INX
	INY
	INY
	LDA.b $D6
	LSR
	BCS.b CODE_14ECDB
	INC.b $D7
	SEP.b #$30
	LDA.b $D6
	CMP.b #$20
	BCS.b CODE_14ED33
	BRL.w CODE_14EC7C

CODE_14ED33:
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	STX.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDA.b $D5
	EOR.b #$01
	STA.b $D5
	RTS

if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
%FREE_BYTES(NULLROM, 14, $FF)
else
%FREE_BYTES(NULLROM, 30, $FF)
endif

;--------------------------------------------------------------------

CODE_14ED60:
	LDA.w $0503
	BNE.b CODE_14EDC4
	JSL.l CODE_128DB6
	REP.b #$20
	STZ.w !RAM_SMB2U_Global_Layer1YPosLo
	SEP.b #$20
	LDA.w $0535
	BNE.b CODE_14ED79
	LDA.b #$09
	BRA.b CODE_14ED7C

CODE_14ED79:
	SEC
	SBC.b #$01
CODE_14ED7C:
	ORA.b #$D0
	STA.b $CF
	SEC
	SBC.b #$20
	STA.b $CE
	LDA.w $0535
	CLC
	ADC.b #$01
	CMP.b #$0A
	BNE.b CODE_14ED91
	LDA.b #$00
CODE_14ED91:
	ORA.b #$10
	STA.b $D0
	LDA.w $0535
	LDY.b #$01
	JSR.w CODE_14F0D7
	INC.w $0503
	LDA.w $0535
	STA.w !RAM_SMB2U_Global_CameraXPosHi
	LDA.b #$01
	STA.w $053C
	STZ.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$FF
	STA.w $0506
	LDA.b #$0F
	STA.w $0508
	JSR.w CODE_14EDD3
	LDX.b #$02
CODE_14EDBC:
	LDA.b $CE,x
	STA.w $02B2,x
	DEX
	BPL.b CODE_14EDBC
CODE_14EDC4:
	JSL.l CODE_14F19A
	LDA.w $053C
	BNE.b CODE_14EDD2
	STA.w $0503
	INC.b $13
CODE_14EDD2:
	RTL

CODE_14EDD3:
	LDX.w $0535
	BNE.b CODE_14EDDC
	LDA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	BMI.b CODE_14EDE5
CODE_14EDDC:
	CPX.w !RAM_SMB2U_Level_ScreensInLvl
	BNE.b CODE_14EDE8
	LDA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	BMI.b CODE_14EDE8
CODE_14EDE5:
	BRL.w CODE_14EE51

CODE_14EDE8:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0B
	LDX.b #$02
	LDA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	BPL.b CODE_14EDF2
	DEC.b !RAM_SMB2U_Global_ScratchRAM0B
CODE_14EDF2:
	LDA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	AND.b #$F0
	CLC
	ADC.b $CE,x
	PHP
	ADC.b !RAM_SMB2U_Global_ScratchRAM0B
	PLP
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	BNE.b CODE_14EE13
	BCC.b CODE_14EE23
	LDA.b $CE,x
	AND.b #$0F
	CMP.b #$09
	BNE.b CODE_14EE23
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$F0
	BRA.b CODE_14EE25

CODE_14EE13:
	BCS.b CODE_14EE23
	LDA.b $CE,x
	AND.b #$0F
	BNE.b CODE_14EE23
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$F0
	ADC.b #$09
	BRA.b CODE_14EE25

CODE_14EE23:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
CODE_14EE25:
	STA.b $CE,x
	DEX
	BPL.b CODE_14EDF2
	LDA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	STA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_CameraXPosLo
	AND.b #$F0
	STA.w $0538
	LDA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	BPL.b CODE_14EE51
	DEC.w !RAM_SMB2U_Global_CameraXPosHi
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	EOR.b #$01
	STA.w !RAM_SMB2U_Global_Layer1XPosHi
	LDA.b #$01
	STA.w $0508
	INC.w $02B6
	INC.w $0751
CODE_14EE51:
	LDA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	BMI.b CODE_14EE58
	LSR
	BRA.b CODE_14EE5B

CODE_14EE58:
	LSR
	ORA.b #$80
CODE_14EE5B:
	STA.w $02C2
	AND.b #$0F
	SEC
	SBC.b #$0A
	BMI.b CODE_14EE75
	LDA.w $02C2
	BMI.b CODE_14EE6F
	CLC
	ADC.b #$10
	BRA.b CODE_14EE72

CODE_14EE6F:
	SEC
	SBC.b #$10
CODE_14EE72:
	STA.w $02C2
CODE_14EE75:
	STZ.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	STZ.b $3C
	RTS

;--------------------------------------------------------------------

; Note: Something related to camera scrolling.

CODE_14EE7A:
	STZ.w $051E
	STZ.w $0265
	STZ.w $073A
	LDA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	BNE.b CODE_14EE88
	RTL

CODE_14EE88:
	LDA.b !RAM_SMB2U_Level_ScreenScrollXSpeed
	BPL.b CODE_14EE93
	LDA.b #$01
	STA.b $D8
	JMP.w CODE_14EF97

CODE_14EE93:
	LDA.b #$02
	STA.b $D8
	LDX.b !RAM_SMB2U_Level_ScreenScrollXSpeed
CODE_14EE99:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	BNE.b CODE_14EEA9
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	CMP.w !RAM_SMB2U_Level_ScreensInLvl
	BNE.b CODE_14EEA9
	JMP.w CODE_14F0D4

CODE_14EEA9:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	CLC
	ADC.b #$01
	STA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_CameraXPosLo
	BCC.b CODE_14EEC6
	INC.w !RAM_SMB2U_Global_CameraXPosHi
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	EOR.b #$01
	STA.w !RAM_SMB2U_Global_Layer1XPosHi
	ASL
	STA.w !RAM_SMB2U_Global_Layer1YPosHi
CODE_14EEC6:
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	BEQ.b CODE_14EED9
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	BRA.b CODE_14EEEE

CODE_14EED9:
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	XBA
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	REP.b #$20
	LSR
	EOR.w #$0100
	AND.w #$01FF
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	SEP.b #$20
CODE_14EEEE:
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BEQ.b CODE_14EF01
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	BRA.b CODE_14EF17

CODE_14EF01:
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	XBA
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	REP.b #$20
	LSR
	LSR
	EOR.w #$0100
	AND.w #$01FF
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	SEP.b #$20
CODE_14EF17:
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	CMP.w !RAM_SMB2U_Level_ScreensInLvl
	BEQ.b CODE_14EF5B
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	AND.b #$F0
	CMP.w $0538
	BEQ.b CODE_14EF55
	STA.w $0538
	LDA.b #$01
	STA.w $051E
	LDA.w !RAM_SMB2U_Global_Layer2XPosLo
	AND.b #$F0
	CMP.w $026C
	BEQ.b CODE_14EF43
	STA.w $026C
	LDA.b #$01
	STA.w $0265
CODE_14EF43:
	LDA.w !RAM_SMB2U_Global_Layer3XPosLo
	AND.b #$F0
	CMP.w $0750
	BEQ.b CODE_14EF55
	STA.w $0750
	LDA.b #$01
	STA.w $073A
CODE_14EF55:
	DEX
	BEQ.b CODE_14EF5B
	BRL.w CODE_14EE99

CODE_14EF5B:
	LDA.w $051E
	BNE.b CODE_14EF63
	JMP.w CODE_14F0D4

CODE_14EF63:
	LDX.b #$02
CODE_14EF65:
	JSR.w CODE_14F1ED
	LDA.w $0265
	BEQ.b CODE_14EF71
	JSL.l CODE_13F21D
CODE_14EF71:
	LDA.w $073A
	BEQ.b CODE_14EF7A
	JSL.l CODE_15821B
CODE_14EF7A:
	DEX
	BNE.b CODE_14EF65
	LDX.b #$02
	JSR.w CODE_14F203
	LDA.w $0265
	BEQ.b CODE_14EF8B
	JSL.l CODE_13F238
CODE_14EF8B:
	LDA.w $073A
	BEQ.b CODE_14EF94
	JSL.l CODE_158236
CODE_14EF94:
	JMP.w CODE_14F0BF

CODE_14EF97:
	LDX.b !RAM_SMB2U_Level_ScreenScrollXSpeed
CODE_14EF99:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	BNE.b CODE_14EFA6
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	BNE.b CODE_14EFA6
	JMP.w CODE_14F0D4

CODE_14EFA6:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	SEC							;\ Optimization: DEC
	SBC.b #$01						;/
	STA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_CameraXPosLo
	BCS.b CODE_14EFC3
	DEC.w !RAM_SMB2U_Global_CameraXPosHi
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	EOR.b #$01
	STA.w !RAM_SMB2U_Global_Layer1XPosHi
	ASL
	STA.w !RAM_SMB2U_Global_Layer1YPosHi
CODE_14EFC3:
	LDA.w !RAM_SMB2U_Level_DisableLayer2Scroll
	BEQ.b CODE_14EFD6
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	BRA.b CODE_14F008

CODE_14EFD6:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	AND.b #$01
	BNE.b CODE_14F008
	LDA.w !RAM_SMB2U_Global_Layer2XPosLo
	SEC
	SBC.b #$01
	STA.w !RAM_SMB2U_Global_Layer2XPosLo
	BCS.b CODE_14EFF4
	LDA.w !RAM_SMB2U_Global_Layer2XPosHi
	EOR.b #$01
	STA.w !RAM_SMB2U_Global_Layer2XPosHi
	ASL
	STA.w !RAM_SMB2U_Global_Layer2YPosHi
CODE_14EFF4:
	LDA.b $E9
	BNE.b CODE_14F008
	LDA.w !RAM_SMB2U_Global_Layer2XPosHi
	BNE.b CODE_14F008
	LDA.w !RAM_SMB2U_Global_Layer2XPosLo
	BPL.b CODE_14F008
	STZ.w !RAM_SMB2U_Global_Layer2XPosLo
	INC.w !RAM_SMB2U_Global_Layer2XPosHi
CODE_14F008:
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BEQ.b CODE_14F01B
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	BRA.b CODE_14F04D

CODE_14F01B:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	AND.b #$03
	BNE.b CODE_14F04D
	LDA.w !RAM_SMB2U_Global_Layer3XPosLo
	SEC
	SBC.b #$01
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	BCS.b CODE_14F039
	LDA.w !RAM_SMB2U_Global_Layer3XPosHi
	EOR.b #$01
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	ASL
	STA.w !RAM_SMB2U_Global_Layer3YPosHi
CODE_14F039:
	LDA.b $E9
	BNE.b CODE_14F04D
	LDA.w !RAM_SMB2U_Global_Layer3XPosHi
	BNE.b CODE_14F04D
	LDA.w !RAM_SMB2U_Global_Layer3XPosLo
	BPL.b CODE_14F04D
	STZ.w !RAM_SMB2U_Global_Layer3XPosLo
	INC.w !RAM_SMB2U_Global_Layer3XPosHi
CODE_14F04D:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	AND.b #$F0
	CMP.w $0538
	BEQ.b CODE_14F083
	STA.w $0538
	LDA.b #$01
	STA.w $051E
	LDA.w !RAM_SMB2U_Global_Layer2XPosLo
	AND.b #$F0
	CMP.w $026C
	BEQ.b CODE_14F071
	STA.w $026C
	LDA.b #$01
	STA.w $0265
CODE_14F071:
	LDA.w !RAM_SMB2U_Global_Layer3XPosLo
	AND.b #$F0
	CMP.w $0750
	BEQ.b CODE_14F083
	STA.w $0750
	LDA.b #$01
	STA.w $073A
CODE_14F083:
	INX
	BEQ.b CODE_14F089
	BRL.w CODE_14EF99

CODE_14F089:
	LDA.w $051E
	BEQ.b CODE_14F0D4
	LDX.b #$02
CODE_14F090:
	JSR.w CODE_14F1D7
	LDA.w $0265
	BEQ.b CODE_14F09C
	JSL.l CODE_13F202
CODE_14F09C:
	LDA.w $073A
	BEQ.b CODE_14F0A5
	JSL.l CODE_158200
CODE_14F0A5:
	DEX
	BNE.b CODE_14F090
	LDX.b #$01
	JSR.w CODE_14F203
	LDA.w $0265
	BEQ.b CODE_14F0B6
	JSL.l CODE_13F238
CODE_14F0B6:
	LDA.w $073A
	BEQ.b CODE_14F0BF
	JSL.l CODE_158236
CODE_14F0BF:
	JSR.w CODE_14F24C
	LDA.w $0265
	BEQ.b CODE_14F0CB
	JSL.l CODE_13F277
CODE_14F0CB:
	LDA.w $073A
	BEQ.b CODE_14F0D4
	JSL.l CODE_15826D
CODE_14F0D4:
	STZ.b $D8
	RTL

;--------------------------------------------------------------------

CODE_14F0D7:
	STZ.w !RAM_SMB2U_Global_Layer1XPosHi
	STZ.w !RAM_SMB2U_Global_Layer1YPosHi
	LSR
	BCS.b CODE_14F0F0
	CPY.b #$01
	BEQ.b CODE_14F0E9
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_14F0EC
CODE_14F0E9:
	INC.w !RAM_SMB2U_Global_Layer1XPosHi
CODE_14F0EC:
	STZ.w $0507
	RTS

CODE_14F0F0:
	LDA.w DATA_119B3C,y
	STA.w $0507
	RTS

;--------------------------------------------------------------------

CODE_14F0F7:
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w $050B
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.w $050D
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	STA.w $0516
	INC.w $053F
	LDA.w DATA_119B3E
	STA.w $0535
	JSR.w CODE_14F0D7
	STZ.w !RAM_SMB2U_Global_Layer1XPosLo
	STZ.w !RAM_SMB2U_Global_CameraXPosLo
	LDA.w DATA_119B3E
	STA.w !RAM_SMB2U_Global_CameraXPosHi
	JSL.l CODE_128DB6
	LDA.w DATA_119B3E
	STA.b $CE
	LDA.b #$E0
	STA.w $0507
	LDA.w DATA_119B3E
	CLC
	ADC.b #$F0
	STA.w $0506
	RTL

;--------------------------------------------------------------------

CODE_14F139:
	LDA.w $050B
	STA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_CameraXPosLo
	LDA.w $050D
	STA.w !RAM_SMB2U_Global_Layer1XPosHi
	LDA.w $0516
	STA.w !RAM_SMB2U_Global_CameraXPosHi
	LDA.w $053F
	BNE.b CODE_14F174
	INC.w $0540
	INC.w $053F
	INC.b $D5
	JSL.l SMB2U_GoToReturnPointUponLeavingVaseOrSubspace_Main
	LDA.b $CF
	STA.b $CE
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$F0
	STA.w $0507
	STA.w $0508
	LDA.b $D0
	STA.w $0506
CODE_14F174:
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_14F175:
	LDA.b $CF
	STA.b $CE
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$F0
	STA.w $0507
	STA.w $0508
	LDA.b $D0
	CLC
	ADC.b #$10
	ADC.b #$00
	CMP.b #$0A
	BNE.b ADDR_14F192
	LDA.b #$00
ADDR_14F192:
	STA.w $0506
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	RTL

;--------------------------------------------------------------------

CODE_14F19A:
	LDX.b #$00
	STX.w $0539
	STX.w $051E
	STX.b $D8
	JSR.w CODE_14F203
	JSR.w CODE_14F24C
	LDA.w $0507
	CMP.b $D1
	BNE.b CODE_14F1CA
	LDA.w $0508
	CLC
	ADC.b #$01
	CMP.b $D2
	BNE.b CODE_14F1CA
CODE_14F1BB:
	LDA.b #$00
	STA.w $053C
	STA.w $053F
	STA.w $0540
	INC.w $0539
	RTL

CODE_14F1CA:
	LDA.b $CE
	CMP.w $0506
	BEQ.b CODE_14F1BB
	LDX.b #$00
	JSR.w CODE_14F1ED
	RTL

;--------------------------------------------------------------------

CODE_14F1D7:
	LDA.b $CE,x
	SEC
	SBC.b #$10
	STA.b $CE,x
	BCS.b CODE_14F1EC
	DEC.b $CE,x
	LDA.b $CE,x
	CMP.b #$EF
	BNE.b CODE_14F1EC
	LDA.b #$F9
	STA.b $CE,x
CODE_14F1EC:
	RTS

;--------------------------------------------------------------------

CODE_14F1ED:
	LDA.b $CE,x
	CLC
	ADC.b #$10
	STA.b $CE,x
	BCC.b CODE_14F202
	INC.b $CE,x
	LDA.b $CE,x
	CMP.b #$0A
	BNE.b CODE_14F202
	LDA.b #$00
	STA.b $CE,x
CODE_14F202:
	RTS

;--------------------------------------------------------------------

CODE_14F203:
	PHY
	LDA.b $CE,x
	AND.b #$0F
	TAY
	STX.w $02F5
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_14F217
	LDY.b #$0A
	LDA.b #$00
	BRA.b CODE_14F21E

CODE_14F217:
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.l DATA_11AB11,x
CODE_14F21E:
	CLC
	ADC.w DATA_11AAFB,y
	STA.w $0267
	LDA.w DATA_11AAF0,y
	STA.w $0266
	LDA.w DATA_11AB06,y
	STA.w $0268
	LDX.w $02F5
	LDA.b $CE,x
	LSR
	LSR
	LSR
	LSR
	STA.b $D7
	ASL
	STA.b $D2
	LDY.b #$00
	LDA.b $CE,x
	LSR
	BCS.b CODE_14F248
	LDY.b #$04
CODE_14F248:
	STY.b $D1
	PLY
	RTS

;--------------------------------------------------------------------

; Note: Routine that updates the level tilemap

CODE_14F24C:
	LDX.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDA.w $0266
	STA.b $C4
	LDA.w $0267
	STA.b $C5
	LDA.w $0268
	STA.b $C6
	REP.b #$20
	LDA.b $D1
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	XBA
	CLC
	ADC.w #$0001
	XBA
	STA.w SMB2U_StripeImageUploadTable[$20].LowByte,x
	INX
	INX
	LDA.w #$3B80
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	STA.w SMB2U_StripeImageUploadTable[$20].LowByte,x
	INX
	INX
	SEP.b #$20
	STZ.b $D6
	LDA.b #$0F
	STA.b $E3
	STZ.b $D5
CODE_14F285:
	STZ.w $0769
	STZ.w $076C
	LDY.b $D7
	LDA.b $C5
	STA.w $0712
	CLC
	ADC.b #$70
	STA.b $C5
	LDA.b [$C4],y
	BEQ.b CODE_14F2B2
	JSR.w CODE_14F464
	INC.w $076C
	LDA.w $0712
	STA.b $C5
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$03
	BNE.b CODE_14F2DB
	INC.w $0769
	BRA.b CODE_14F2DB

CODE_14F2B2:
	LDA.w $0712
	STA.b $C5
	LDA.b [$C4],y
	STA.w $0720
	AND.b #$C0
	ASL
	ROL
	ROL
	TAY
	LDA.w DATA_11AD64,y
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w DATA_11AD68,y
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #DATA_11AD6C>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.b $D7
	REP.b #$30
	LDA.b [$C4],y
	AND.w #$003F
	BRA.b CODE_14F2E2

CODE_14F2DB:
	REP.b #$30
	LDA.b [$C4],y
	AND.w #$00FF
CODE_14F2E2:
	ASL
	ASL
	ASL
	TAY
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	AND.w #$000F
	CMP.w #$0002
	BEQ.b CODE_14F33C
	CMP.w #$0001
	BNE.b CODE_14F304
	LDA.w $0720
	AND.w #$00FF
	CMP.w #$00AB
	BNE.b CODE_14F304
	JMP.w CODE_14F40D

CODE_14F304:
	LDA.w $0769
	AND.w #$000F
	BNE.b CODE_14F370
	LDA.w $0773
	AND.w #$000F
	BEQ.b CODE_14F31F
	LDA.w $076C
	AND.w #$000F
	BEQ.b CODE_14F31F
	BRL.w CODE_14F3A5

CODE_14F31F:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_StripeImageUploadTable[$20].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_StripeImageUploadTable[$21].LowByte,x
	BRL.w CODE_14F433

CODE_14F33C:
	LDA.w $0769
	AND.w #$00FF
	BEQ.b CODE_14F347
	BRL.w CODE_14F3D9

CODE_14F347:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	EOR.w #$4000
	STA.w SMB2U_StripeImageUploadTable[$20].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	EOR.w #$4000
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	EOR.w #$4000
	STA.w SMB2U_StripeImageUploadTable[$21].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	EOR.w #$4000
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte,x
	BRL.w CODE_14F433

CODE_14F370:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$00FF
	EOR.w #$0A00
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$00FF
	EOR.w #$0A00
	STA.w SMB2U_StripeImageUploadTable[$20].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$00FF
	EOR.w #$0A00
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$00FF
	EOR.w #$0A00
	STA.w SMB2U_StripeImageUploadTable[$21].LowByte,x
	BRL.w CODE_14F433

CODE_14F3A5:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$01FF
	ORA.w #$1800
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$01FF
	ORA.w #$1800
	STA.w SMB2U_StripeImageUploadTable[$20].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$01FF
	ORA.w #$1800
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$01FF
	ORA.w #$1800
	STA.w SMB2U_StripeImageUploadTable[$21].LowByte,x
	BRA.b CODE_14F433

CODE_14F3D9:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$00FF
	EOR.w #$4A00
	STA.w SMB2U_StripeImageUploadTable[$20].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$00FF
	EOR.w #$4A00
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$00FF
	EOR.w #$4A00
	STA.w SMB2U_StripeImageUploadTable[$21].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	AND.w #$00FF
	EOR.w #$4A00
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte,x
	BRA.b CODE_14F433

CODE_14F40D:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	ORA.w #$2000
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	ORA.w #$2000
	STA.w SMB2U_StripeImageUploadTable[$20].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	ORA.w #$2000
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	ORA.w #$2000
	STA.w SMB2U_StripeImageUploadTable[$21].LowByte,x
CODE_14F433:
	SEP.b #$30
	INC.b $D6
	INX
	INX
	INX
	INX
	LDA.b $D7
	CLC
	ADC.b #$10
	STA.b $D7
	LDA.b $D6
	CMP.b #$0F
	BCS.b CODE_14F44B
	JMP.w CODE_14F285

CODE_14F44B:
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$20].LowByte,x
	TXA
	CLC
	ADC.b #$40
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	INC.w $051E
	RTS

;--------------------------------------------------------------------

CODE_14F45B:
	LDX.b #$07
CODE_14F45D:
	STA.w !RAM_SMB2U_Player_PlayerLocked,x
	DEX
	BPL.b CODE_14F45D
	RTS

;--------------------------------------------------------------------

CODE_14F464:
	STX.w $0713
	LDX.b #$00
	LDA.l DATA_15A4C8,x
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	INX
	LDA.l DATA_15A4C8,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #DATA_15A4CE>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDX.w $0713
	RTS

%FREE_BYTES(NULLROM, 130, $FF)

;--------------------------------------------------------------------

; Note: Something related to layer 3 backgrounds.

CODE_14F500:
	LDA.w $074E
	CMP.b #$03
	BEQ.b CODE_14F50C
	JSR.w CODE_14F52C
	BRA.b CODE_14F52B

CODE_14F50C:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_2
	BNE.b CODE_14F52B
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_5_2_Vase
	BNE.b CODE_14F52B
	LDX.b #$00
	JSR.w CODE_14F634
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$07
	ASL
	ASL
	STA.w $074E
	JSR.w CODE_14F5CB
CODE_14F52B:
	RTL

CODE_14F52C:
	LDA.w $074E
	ASL
	TAX
	JMP.w (DATA_14F534,x)

DATA_14F534:
	dw CODE_14F538

DATA_14F536:
	db $06,$04

CODE_14F538:
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BNE.b CODE_14F555
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_14F555
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_7_1
	BNE.b CODE_14F551
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	BNE.b CODE_14F551								; Note: !Define_SMB2U_SublevelID_7_1_LevelEntrance
	LDA.b #$21
	BRA.b CODE_14F55B

CODE_14F551:
	LDA.b #$20
	BRA.b CODE_14F55B

CODE_14F555:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$07
	ASL
	ASL
CODE_14F55B:
	STA.w $074E
	STZ.b $E9
CODE_14F560:
	LDX.b $E9
	JSR.w CODE_14F634
	LDX.w $074E
	LDA.l DATA_158900,x
	ASL
	TAX
	LDA.l DATA_158928,x
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	INX
	LDA.l DATA_158928,x
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	LDA.b #DATA_15893C>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	LDY.b #$00
	LDA.b [!RAM_SMB2U_Global_ScratchRAM08],y
	STA.b $E7
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM08],y
	AND.b #$F0
	LSR
	LSR
	LSR
	LSR
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.b [!RAM_SMB2U_Global_ScratchRAM08],y
	AND.b #$0F
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	JSR.w CODE_14F5CF
	LDA.w $0771
	BNE.b CODE_14F5CE
	LDA.w !RAM_SMB2U_Player_VaseWarpType
	BNE.b CODE_14F5CB
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_6_3
	BNE.b CODE_14F5BA
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_6_3_SkyPyramid
	BEQ.b CODE_14F5B7
	LDA.b $E9
	BNE.b CODE_14F5BA
CODE_14F5B7:
	JSR.w CODE_14F782
CODE_14F5BA:
	INC.w $074E
	INC.b $E9
	LDX.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	LDA.b $E9
	CMP.l DATA_14F536,x
	BNE.b CODE_14F560
	BRA.b CODE_14F5CE

CODE_14F5CB:
	JSR.w CODE_14F777
CODE_14F5CE:
	RTS

CODE_14F5CF:
	LDA.b #$02
	STA.w $02E3
	LDA.b $E7
	STA.w $02E2
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
CODE_14F5DB:
	LDY.w $02E3
	LDA.b [!RAM_SMB2U_Global_ScratchRAM08],y
	LDY.w $02E2
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.w $02E3
	LDY.w $02E2
	JSR.w CODE_14F623
	STY.w $02E2
	DEC.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	BPL.b CODE_14F5DB
	DEC.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	BMI.b CODE_14F60D
	LDY.b !RAM_SMB2U_Global_ScratchRAM0C
	JSR.w CODE_14F60E
	STY.b !RAM_SMB2U_Global_ScratchRAM0C
	STY.w $02E2
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	BRA.b CODE_14F5DB

CODE_14F60D:
	RTS

CODE_14F60E:
	INY
	TYA
	AND.b #$0F
	BNE.b CODE_14F622
	TYA
	SEC
	SBC.b #$10
	TAY
	STX.b !RAM_SMB2U_Global_ScratchRAM0B
	LDX.b $E9
	INX
	STX.b !RAM_SMB2U_Global_ScratchRAM0D
	LDX.b !RAM_SMB2U_Global_ScratchRAM0B
CODE_14F622:
	RTS

CODE_14F623:
	TYA
	CLC
	ADC.b #$10
	TAY
	CMP.b #$F0
	BCC.b CODE_14F633
	LDX.b $E9
	INX
	TYA
	AND.b #$0F
	TAY
CODE_14F633:
	RTS

;--------------------------------------------------------------------

CODE_14F634:
	LDA.w $0771
	BEQ.b CODE_14F63B
	LDX.b #$04
CODE_14F63B:
	LDA.w DATA_11AB1B,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w DATA_11AB25,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #!RAM_SMB2U_Global_Layer3Map16Table>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	RTS

;--------------------------------------------------------------------

CODE_14F64A:
	REP.b #$20
	LDA.w #$0960
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #$00FF
	XBA
	ORA.w #$00FF
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w #!RAM_SMB2U_Global_Layer3Map16Table
	LDY.b #!RAM_SMB2U_Global_Layer3Map16Table>>16
	JSL.l SMB2U_InitializeSelectedRAM_Entry2				; Note: Call to SMAS function
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

CODE_14F666:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_2_3
	BNE.b CODE_14F670
	BRL.w CODE_14F6F7

CODE_14F670:
	CMP.b #!Define_SMB2U_LevelID_6_1
	BNE.b CODE_14F679
	LDA.w $0770
	BEQ.b CODE_14F6F7
CODE_14F679:
	LDA.b #$01
	STA.w $0771
	JSR.w CODE_14F759
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_2_1
	BNE.b CODE_14F696
	JSR.w CODE_14F634
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$07
	ASL
	ASL
	STA.w $074E
	BRA.b CODE_14F699

CODE_14F696:
	JSR.w CODE_14F555
CODE_14F699:
	JSR.w CODE_14F777
	LDA.b #$C0
	STA.b $C4
	LDA.b #$C3
	STA.b $C5
	LDA.b #$7F
	STA.b $C6
	LDX.b #$00
	LDA.l DATA_159233,x
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	INX
	LDA.l DATA_159233,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #DATA_159237>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	STZ.w $02D7
	STZ.w $02D8
	STZ.w $02DA
	LDA.b #$50
	STA.w $02D9
CODE_14F6C9:
	JSL.l SMB2U_UpdateLayer3Tilemap_Main
	JSR.w CODE_14F6F8
	LDA.w $02D9
	CMP.b #$54
	BNE.b CODE_14F6C9
	LDA.b #$00
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexLo
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexHi
	DEC
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable
	STZ.w !RAM_SMB2U_Global_Layer3XPosLo
	STZ.w !RAM_SMB2U_Global_Layer3XPosHi
	STZ.w !RAM_SMB2U_Global_Layer3YPosLo
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer3YPosHi
	STZ.w $0771
CODE_14F6F7:
	RTL

;--------------------------------------------------------------------

CODE_14F6F8:
	REP.b #$30
	LDA.w $02D9
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable
	LDA.w #$8000
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$02
	LDX.w #$0000
CODE_14F70B:
	LDA.b [$C4]
	AND.w #$00FF
	ASL
	ASL
	ASL
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$04,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$06,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$44,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$46,x
	LDA.b $C4
	CLC
	ADC.w #$0001
	STA.b $C4
	INX
	INX
	INX
	INX
	CPX.w #$0040
	BNE.b CODE_14F70B
	LDA.w #$FFFF
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$84
	LDA.w $02D9
	XBA
	CLC
	ADC.w #$0040
	XBA
	STA.w $02D9
	SEP.b #$30
	RTS

;--------------------------------------------------------------------

CODE_14F759:
	LDA.b #!RAM_SMB2U_Global_Layer3Map16Table+$03C0
	STA.b $C4
	LDA.b #(!RAM_SMB2U_Global_Layer3Map16Table+$03C0)>>8
	STA.b $C5
	LDA.b #(!RAM_SMB2U_Global_Layer3Map16Table+$03C0)>>16
	STA.b $C6
	REP.b #$20
	LDY.b #$EE
	LDA.w #$0000
CODE_14F76C:
	STA.b [$C4],y
	DEY
	DEY
	CPY.b #$FE
	BNE.b CODE_14F76C
	SEP.b #$20
	RTS

;--------------------------------------------------------------------

CODE_14F777:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_2_1
	BEQ.b CODE_14F782
	CMP.b #!Define_SMB2U_LevelID_5_2
	BNE.b CODE_14F7B1
CODE_14F782:
	LDX.w $074E
	LDA.l DATA_158900,x
	ASL
	TAX
	LDA.l DATA_159371,x
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	INX
	LDA.l DATA_159371,x
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	LDA.b #DATA_15937B>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	LDX.b #$00
CODE_14F79E:
	TXY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM08],y
	CMP.b #$FF
	BEQ.b CODE_14F7B1
	TAY
	PHY
	INX
	TXY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM08],y
	PLY
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INX
	BRA.b CODE_14F79E

CODE_14F7B1:
	RTS

;--------------------------------------------------------------------

CODE_14F7B2:
	LDX.b $E9
	JSR.w CODE_14F634
	LDY.b $E7
	LDA.b #$00
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INY
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDA.b $E7
	CLC
	ADC.b #$10
	TAY
	LDA.b #$02
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INY
	LDA.b #$03
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INY
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	RTL

;--------------------------------------------------------------------

CODE_14F7D7:
	LDX.b $E9
	JSR.w CODE_14F634
	LDY.b $E7
	LDA.b #$04
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	DEY
	LDA.b #$05
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDA.b $E7
	CLC
	ADC.b #$10
	TAY
	LDA.b #$02
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	DEY
	LDA.b #$06
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	DEY
	LDA.b #$05
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	RTL

;--------------------------------------------------------------------

CODE_14F7FC:
	LDX.b $E9
	JSR.w CODE_14F634
	LDX.b #$00
	DEC.b $E7
CODE_14F805:
	LDY.b $E7
	LDA.b #$05
	STA.w $0712
CODE_14F80C:
	LDA.l DATA_159359,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INX
	CPX.b #$18
	BEQ.b CODE_14F826
	INY
	DEC.w $0712
	BPL.b CODE_14F80C
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	BRA.b CODE_14F805

CODE_14F826:
	RTL

%FREE_BYTES(NULLROM, 217, $FF)

;--------------------------------------------------------------------

SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen:
.TurnOnFBlank:
;$14F900
	LDA.b #$80
	BRA.b +

.TurnOffFBlank:								; Note: Unused
	LDA.b #$0F
+:
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
.Main:
	LDA.b !RAM_SMB2U_Global_StripeImageToUpload
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_StripeImageToUpload
	TAX
	LDA.l DATA_15E000,x
	STA.b !RAM_SMB2U_Global_StripeImageDataLo
	LDA.l DATA_15E000+$01,x
	STA.b !RAM_SMB2U_Global_StripeImageDataHi
	LDA.l DATA_15E000+$02,x
	STA.b !RAM_SMB2U_Global_StripeImageDataBank
	STZ.w !RAM_SMB2U_Global_WaitForVBlankFlag
-:
	LDA.w !RAM_SMB2U_Global_WaitForVBlankFlag
	BPL.b -
	JSL.l SMB2U_PollJoypadInputs_Main
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_ResetBGLayerPositions(NULLROM)					; $14F92E

;--------------------------------------------------------------------

CODE_14F953:
	LDA.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STA.w !REGISTER_ScreenDisplayRegister
	STZ.w !REGISTER_HDMAEnable
	REP.b #$20
	LDA.w #$00BF
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	STZ.w !REGISTER_VRAMAddressIncrementValue
	STZ.w !REGISTER_VRAMAddressLo
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$08
	STA.w DMA[$01].Parameters
	STZ.w DMA[$01].SourceBank
	LDA.w #$0000
	STA.w DMA[$01].SourceLo
	LDA.w #$2000
	STA.w DMA[$01].SizeLo
	LDY.b #$02
	STY.w !REGISTER_DMAEnable
	LDX.b #$80
	STX.w !REGISTER_VRAMAddressIncrementValue
	STZ.w !REGISTER_VRAMAddressLo
	STA.w DMA[$01].SizeLo
	LDA.w #(!REGISTER_WriteToVRAMPortHi&$0000FF<<8)+$08
	STA.w DMA[$01].Parameters
	LDA.w #$0001
	STA.w DMA[$01].SourceLo
	STY.w !REGISTER_DMAEnable
	BRA.b CODE_14F9B0

CODE_14F9A0:
	SEP.b #$20
	LDA.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STA.w !REGISTER_ScreenDisplayRegister
	STZ.w !REGISTER_HDMAEnable
	REP.b #$20
	LDY.b #$02
CODE_14F9B0:
	LDA.w #$053F
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	STZ.w !REGISTER_VRAMAddressIncrementValue
	LDA.w #$4800
	STA.w !REGISTER_VRAMAddressLo
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$08
	STA.w DMA[$01].Parameters
	LDA.w #$0000
	STA.w DMA[$01].SourceLo
	LDA.w #$0800
	STA.w DMA[$01].SizeLo
	STY.w !REGISTER_DMAEnable
	STX.w !REGISTER_VRAMAddressIncrementValue
	STA.w DMA[$01].SizeLo
	LDA.w #$4800
	STA.w !REGISTER_VRAMAddressLo
	LDA.w #(!REGISTER_WriteToVRAMPortHi&$0000FF<<8)+$08
	STA.w DMA[$01].Parameters
	LDA.w #$0001
	STA.w DMA[$01].SourceLo
	STY.w !REGISTER_DMAEnable
	SEP.b #$20
CODE_14F9F0:
	LDX.b #$60
CODE_14F9F2:
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$00].YDisp,x
	STA.w SMB2U_OAMBuffer[$01].YDisp,x
	STA.w SMB2U_OAMBuffer[$02].YDisp,x
	STA.w SMB2U_OAMBuffer[$03].YDisp,x
	STA.w SMB2U_OAMBuffer[$04].YDisp,x
	STA.w SMB2U_OAMBuffer[$05].YDisp,x
	STA.w SMB2U_OAMBuffer[$06].YDisp,x
	STA.w SMB2U_OAMBuffer[$07].YDisp,x
	STA.w SMB2U_OAMBuffer[$20].YDisp,x
	STA.w SMB2U_OAMBuffer[$21].YDisp,x
	STA.w SMB2U_OAMBuffer[$22].YDisp,x
	STA.w SMB2U_OAMBuffer[$23].YDisp,x
	STA.w SMB2U_OAMBuffer[$24].YDisp,x
	STA.w SMB2U_OAMBuffer[$25].YDisp,x
	STA.w SMB2U_OAMBuffer[$26].YDisp,x
	STA.w SMB2U_OAMBuffer[$27].YDisp,x
	STA.w SMB2U_OAMBuffer[$40].YDisp,x
	STA.w SMB2U_OAMBuffer[$41].YDisp,x
	STA.w SMB2U_OAMBuffer[$42].YDisp,x
	STA.w SMB2U_OAMBuffer[$43].YDisp,x
	STA.w SMB2U_OAMBuffer[$44].YDisp,x
	STA.w SMB2U_OAMBuffer[$45].YDisp,x
	STA.w SMB2U_OAMBuffer[$46].YDisp,x
	STA.w SMB2U_OAMBuffer[$47].YDisp,x
	STA.w SMB2U_OAMBuffer[$60].YDisp,x
	STA.w SMB2U_OAMBuffer[$61].YDisp,x
	STA.w SMB2U_OAMBuffer[$62].YDisp,x
	STA.w SMB2U_OAMBuffer[$63].YDisp,x
	STA.w SMB2U_OAMBuffer[$64].YDisp,x
	STA.w SMB2U_OAMBuffer[$65].YDisp,x
	STA.w SMB2U_OAMBuffer[$66].YDisp,x
	STA.w SMB2U_OAMBuffer[$67].YDisp,x
	TXA
	SEC
	SBC.b #$20
	TAX
	BPL.b CODE_14F9F2
	LDX.b #$00
CODE_14FA5D:
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$02].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$03].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$04].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$05].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$06].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$07].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$08].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$09].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$0A].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$0B].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$0C].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$0D].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$0E].Slot,x
	STA.w SMB2U_OAMTileSizeBuffer[$0F].Slot,x
	TXA
	CLC
	ADC.b #$10
	TAX
	CPX.b #$80
	BNE.b CODE_14FA5D
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_PollJoypadInputs(NULLROM)					; $14FA99
	%ROUTINE_SMB2U_BufferHDMAGradient(NULLROM)					; $14FAC8
	%FREE_BYTES(NULLROM, 668, $FF)
%BANK_END(<EndBank>)
endmacro

;#############################################################################################################
;#############################################################################################################

macro SMB2UBank15Macros(StartBank, EndBank)
%BANK_START(<StartBank>)
CODE_158000:
	LDA.w $0724
	BNE.b CODE_158079
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BEQ.b CODE_158017
	LDX.b #$02
CODE_15800C:
	LDA.w $02B2,x
	STA.w $0725,x
	DEX
	BPL.b CODE_15800C
	BRA.b CODE_15802F

CODE_158017:
	LDX.w $0535
	LDA.l DATA_11D01A,x
	STA.w $0725
	LDA.l DATA_11D024,x
	STA.w $0726
	LDA.l DATA_11D02E,x
	STA.w $0727
CODE_15802F:
	LDA.w $0535
	LDY.b #$01
	JSR.w CODE_158107
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_3_1
	BEQ.b CODE_158046
	CMP.b #!Define_SMB2U_LevelID_3_2
	BEQ.b CODE_158046
	CMP.b #!Define_SMB2U_LevelID_5_1
	BNE.b CODE_158052
CODE_158046:
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	BNE.b CODE_158052										; Note: !Define_SMB2U_SublevelID_X_X_LevelEntrance
	LDA.b #$10
	STA.w !RAM_SMB2U_Global_Layer3YPosLo
	BRA.b CODE_158055

CODE_158052:
	STZ.w !RAM_SMB2U_Global_Layer3YPosLo
CODE_158055:
	STZ.w !RAM_SMB2U_Global_Layer3YPosHi
	INC.w $0724
	LDA.w $0535
	STA.w $0728
	LDA.b #$01
	STA.w $0729
	LSR
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$FF
	STA.w $072A
	LDA.b #$0F
	STA.w $072B
	JSR.w CODE_158083
	JSR.w CODE_1583F2
CODE_158079:
	JSL.l CODE_1581BD
	LDA.w $0729
	BNE.b CODE_158082
CODE_158082:
	RTL

CODE_158083:
	LDA.w $0535
	BNE.b CODE_158093
	LDA.w $072C
	BPL.b CODE_158090
	JMP.w CODE_158100

CODE_158090:
	LDA.w $0535
CODE_158093:
	CMP.w !RAM_SMB2U_Level_ScreensInLvl
	BNE.b CODE_15809D
	LDA.w $072C
	BPL.b CODE_158100
CODE_15809D:
	LDX.b #$02
	LDA.w $072C
	BPL.b CODE_1580AA
	LDA.b #$FF
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	BNE.b CODE_1580AC
CODE_1580AA:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0B
CODE_1580AC:
	LDA.w $072C
	AND.b #$F0
	CLC
	ADC.w $0725,x
	PHP
	ADC.b !RAM_SMB2U_Global_ScratchRAM0B
	PLP
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.b !RAM_SMB2U_Global_ScratchRAM0B
	BNE.b CODE_1580D1
	BCC.b CODE_1580E3
	LDA.w $0725,x
	AND.b #$0F
	CMP.b #$09
	BNE.b CODE_1580E3
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$F0
	JMP.w CODE_1580E5

CODE_1580D1:
	BCS.b CODE_1580E3
	LDA.w $0725,x
	AND.b #$0F
	BNE.b CODE_1580E3
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
	AND.b #$F0
	ADC.b #$09
	JMP.w CODE_1580E5

CODE_1580E3:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0C
CODE_1580E5:
	STA.w $0725,x
	DEX
	BPL.b CODE_1580AC
	LDA.w $072C
	BPL.b CODE_158100
	DEC.w $0728
	LDA.w !RAM_SMB2U_Global_Layer3XPosHi
	EOR.b #$01
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	LDA.b #$01
	STA.w $072B
CODE_158100:
	STZ.w $072C
	JSR.w CODE_15832E
	RTS

;--------------------------------------------------------------------

CODE_158107:
	LSR
	BCS.b CODE_158124
	CPY.b #$01
	BEQ.b CODE_158113
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_15811A
CODE_158113:
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	BRA.b CODE_15811D

CODE_15811A:
	STZ.w !RAM_SMB2U_Global_Layer3XPosHi
CODE_15811D:
	STZ.w !RAM_SMB2U_Global_Layer3YPosHi
	LDA.b #$00
	BRA.b CODE_15813D

CODE_158124:
	CPY.b #$01
	BEQ.b CODE_15812D
	STZ.w !RAM_SMB2U_Global_Layer3XPosHi
	BRA.b CODE_15813A

CODE_15812D:
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	STA.w !RAM_SMB2U_Global_Layer3YPosHi
	LDA.b #$40
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
CODE_15813A:
	LDA.w DATA_119B3C,y
CODE_15813D:
	STA.w $0730
	RTS

;--------------------------------------------------------------------

CODE_158141:
	LDA.w !RAM_SMB2U_Global_Layer3XPosLo
	STA.w $0732
	LDA.w !RAM_SMB2U_Global_Layer3XPosHi
	STA.w $0733
	LDA.w $0734
	STA.w $0735
	INC.w $0736
	LDA.w DATA_119B3E
	STA.w $0535
	JSR.w CODE_158107
	LDA.b #$00
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	STA.w $0737
	LDA.w DATA_119B3E
	STA.w $0734
	LDA.w DATA_119B3E
	STA.w $0725
	LDA.b #$E0
	STA.w $0730
	LDA.w DATA_119B3E
	CLC
	ADC.b #$F0
	STA.w $072A
	RTL

;--------------------------------------------------------------------

CODE_158182:
	LDA.w $0732
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	STA.w $0737
	LDA.w $0733
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	LDA.w $0735
	STA.w $0734
	LDA.w $0736
	BNE.b CODE_1581BC
	INC.w $0738
	INC.w $0736
	INC.b $D5
	LDA.w $0726
	STA.w $0725
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$F0
	STA.w $0730
	STA.w $072B
	LDA.w $0727
	STA.w $072A
CODE_1581BC:
	RTL

;--------------------------------------------------------------------

CODE_1581BD:
	LDX.b #$00
	STX.w $0739
	STX.w $073A
	STX.b $D8
	JSL.l CODE_158236
	JSL.l CODE_15826D
	LDA.w $0730
	CMP.w $073B
	BNE.b CODE_1581F1
	BRA.b CODE_1581F1

CODE_1581D9:
	LDA.w $072B
	CLC
	ADC.b #$01
	CMP.w $073C
	BNE.b CODE_1581F1
CODE_1581E4:
	STZ.w $0729
	STZ.w $0736
	STZ.w $0738
	INC.w $0739
	RTL

CODE_1581F1:
	LDA.w $0725
	CMP.w $072A
	BEQ.b CODE_1581E4
	LDX.b #$00
	JSL.l CODE_15821B
	RTL

;--------------------------------------------------------------------

CODE_158200:
	LDA.w $0725,x
	SEC
	SBC.b #$10
	STA.w $0725,x
	BCS.b CODE_15821A
	DEC.w $0725,x
	LDA.w $0725,x
	CMP.b #$EF
	BNE.b CODE_15821A
	LDA.b #$F9
	STA.w $0725,x
CODE_15821A:
	RTL

;--------------------------------------------------------------------

CODE_15821B:
	LDA.w $0725,x
	CLC
	ADC.b #$10
	STA.w $0725,x
	BCC.b CODE_158235
	INC.w $0725,x
	LDA.w $0725,x
	CMP.b #$0A
	BNE.b CODE_158235
	LDA.b #$00
	STA.w $0725,x
CODE_158235:
	RTL

;--------------------------------------------------------------------

CODE_158236:
	STY.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w $0725,x
	AND.b #$0F
	TAY
	LDA.w DATA_11AB1B,y
	STA.w $073F
	LDA.w DATA_11AB25,y
	STA.w $0740
	LDA.b #$7F
	STA.w $0741
	LDA.w $0725,x
	LSR
	LSR
	LSR
	LSR
	STA.w $0742
	ASL
	STA.w $073C
	LDY.b #$00
	LDA.w $0725,x
	LSR
	BCS.b CODE_158267
	LDY.b #$04
CODE_158267:
	STY.w $073B
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	RTL

;--------------------------------------------------------------------

CODE_15826D:
	LDA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexLo
	TAX
	LDA.w $073F
	STA.b $C4
	LDA.w $0740
	STA.b $C5
	LDA.w $0741
	STA.b $C6
	REP.b #$20
	LDA.w $073B
	CLC
	ADC.w #$0048
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	XBA
	CLC
	ADC.w #$0001
	XBA
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$40,x
	INX
	INX
	LDA.w #$3C00
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$40,x
	INX
	INX
	SEP.b #$20
	STZ.w $0743
	STZ.w $074F
CODE_1582AF:
	LDA.w $0744
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w $0745
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w $0746
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w $0742
	REP.b #$30
	LDA.b [$C4],y
	AND.w #$00FF
	CMP.w #$00FF
	BNE.b CODE_1582DD
	LDA.l DATA_15934F
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #DATA_159351>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w #$0000
	BRA.b CODE_1582E1

CODE_1582DD:
	ASL
	ASL
	ASL
	TAY
CODE_1582E1:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$40,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$02,x
	INY
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$42,x
	SEP.b #$30
	INC.w $0743
	INX
	INX
	INX
	INX
	LDA.w $0742
	CLC
	ADC.b #$10
	STA.w $0742
	LDA.w $0743
	CMP.b #$0F
	BCC.b CODE_1582AF
	LDA.b #$FF
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable+$40,x
	TXA
	CLC
	ADC.b #$40
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexLo
	INC.w $073A
	RTL

;--------------------------------------------------------------------

DATA_15832A:
	db $00,$40,$80,$C0

CODE_15832E:
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BEQ.b CODE_158342
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	BRL.w CODE_1583E6

CODE_158342:
	LDA.w $0535
	AND.b #$04
	BNE.b CODE_158399
	LDA.w $0535
	AND.b #$07
	BNE.b CODE_158365
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	BNE.b CODE_158365
	STZ.w !RAM_SMB2U_Global_Layer3XPosHi
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	LSR
	LSR
	ORA.b #$C0
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	JMP.w CODE_1583E6

CODE_158365:
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	LSR
	LSR
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	LDA.w $0535
	AND.b #$03
	TAX
	LDA.w $0535
	AND.b #$01
	BEQ.b CODE_158386
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	BEQ.b CODE_15838C
	BRA.b CODE_15838B

CODE_158386:
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	BNE.b CODE_15838C
CODE_15838B:
	DEX
CODE_15838C:
	LDA.l DATA_15832A,x
	CLC
	ADC.w !RAM_SMB2U_Global_Layer3XPosLo
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	BRA.b CODE_1583E6

CODE_158399:
	LDA.w $0535
	CMP.b #$04
	BNE.b CODE_1583B6
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	BNE.b CODE_1583B6
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_Layer3XPosHi
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	LSR
	LSR
	ORA.b #$C0
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	BRA.b CODE_1583E6

CODE_1583B6:
	STZ.w !RAM_SMB2U_Global_Layer3XPosHi
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	LSR
	LSR
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	LDA.w $0535
	AND.b #$03
	TAX
	LDA.w $0535
	AND.b #$01
	BEQ.b CODE_1583D5
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	BEQ.b CODE_1583DB
	BRA.b CODE_1583DA

CODE_1583D5:
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	BNE.b CODE_1583DB
CODE_1583DA:
	DEX
CODE_1583DB:
	LDA.l DATA_15832A,x
	CLC
	ADC.w !RAM_SMB2U_Global_Layer3XPosLo
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
CODE_1583E6:
	LDA.w !RAM_SMB2U_Global_Layer3XPosLo
	AND.b #$F0
	STA.w $0750
	STZ.w $0751
	RTS

;--------------------------------------------------------------------

CODE_1583F2:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l DATA_11D098,x
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.l DATA_15916B,x
	ASL
	TAX
	LDA.l DATA_159233,x
	STA.w $0744
	INX
	LDA.l DATA_159233,x
	STA.w $0745
	LDA.b #DATA_159237>>16
	STA.w $0746
	RTS

;--------------------------------------------------------------------

SMB2U_UpdateLayer3Tilemap:
.Main:
;$158419
	LDX.b #$44
	LDY.b #$00
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$01
	BNE.b CODE_158428
	LDX.b #$84
	BRA.b CODE_15842F

CODE_158428:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_15842F
	LDX.b #$40
	INY
CODE_15842F:
	STX.b !RAM_SMB2U_Global_ScratchRAM03
	STZ.b !RAM_SMB2U_Global_ScratchRAM04
	TYA
	ORA.b #$80
	STA.w !REGISTER_VRAMAddressIncrementValue
	LDA.b #!RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable>>16
	STA.w DMA[$01].SourceBank
	REP.b #$10
	LDX.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STX.w DMA[$01].Parameters
	LDX.w #$0002
	LDA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable-$02,x
	BMI.b CODE_15847F
CODE_15844F:
	REP.b #$20
	LDA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable-$02,x
	XBA
	STA.w !REGISTER_VRAMAddressLo
	LDA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	XBA
	STA.w DMA[$01].SizeLo
	TXA
	CLC
	ADC.w #$0004
	CLC
	ADC.w #$0800
	STA.w DMA[$01].SourceLo
	TXA
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM03
	TAX
	SEP.b #$20
	LDA.b #$02
	STA.w !REGISTER_DMAEnable
	LDA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable-$02,x
	BPL.b CODE_15844F
CODE_15847F:
	SEP.b #$30
	RTL

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
%FREE_BYTES(NULLROM, 14, $FF)
else
%FREE_BYTES(NULLROM, 126, $FF)
endif

;--------------------------------------------------------------------

CODE_158500:
	LDA.w $0724
	BNE.b CODE_158554
	LDA.b #$02
	STA.w $073B
	LDA.w !RAM_SMB2U_Level_IsAnInteriorAreaFlag
	BNE.b CODE_158523
	LDX.w $0535
	LDA.l DATA_11D038,x
	STA.w $0725
	STA.w $0726
	LDA.l DATA_11D042,x
	STA.w $0727
CODE_158523:
	LDA.w $0535
	LDY.b #$00
	JSR.w CODE_158107
	LDA.b #$02
	STA.w $0747
	LDA.b #$00
	STA.w $0748
	LDA.b #$20
	STA.w $073D
	LDA.b #$A0
	STA.w $073E
	INC.w $0724
	LDA.b #$E0
	STA.b $E2
	LDA.b #$01
	STA.b $E4
	STA.w $0729
	LSR
	STA.w $073C
	JSR.w CODE_1583F2
CODE_158554:
	STZ.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$FF
	STA.w $072A
	LDA.b #$A0
	STA.w $072B
	JSL.l CODE_1585F8
	LDA.w $0729
	BNE.b CODE_158571
	LDA.b #$E8
	STA.b $E1
	LDA.b #$C8
	STA.b $E2
CODE_158571:
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_158572:
	LDA.w !RAM_SMB2U_Global_Layer3YPosLo
	STA.w $0731
	LDA.w !RAM_SMB2U_Global_Layer3XPosLo
	STA.w $0732
	LDA.w $0749
	STA.w $074B
	LDA.w $074A
	STA.w $074C
	LDA.w $0734
	STA.w $074D
	STZ.w !RAM_SMB2U_Global_Layer3YPosLo
	STZ.w !RAM_SMB2U_Global_Layer3XPosLo
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_158597:
	LDA.w $0731
	STA.w !RAM_SMB2U_Global_Layer3YPosLo
	LDA.w $0732
	STA.w !RAM_SMB2U_Global_Layer3XPosLo
	LDA.w $074B
	STA.w $0749
	LDA.w $074C
	STA.w $074A
	LDA.w $074D
	STA.w $0734
	RTL

;--------------------------------------------------------------------

; Note: Unreferenced routine?

ADDR_1585B6:
	LDA.w $0726
	AND.b #$10
	BEQ.b ADDR_1585C4
	LDA.b $E1
	SEC
	SBC.b #$08
	STA.b $E1
ADDR_1585C4:
	LDA.b #$01
	STA.b $E4
	LDA.w $0726
	STA.w $0725
	LDA.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.b #$00
	JSL.l CODE_15873F
	LDA.w $073D
	STA.w $073C
	LDA.b $E1
	STA.b $E2
	LDA.b #$F0
	STA.w $0730
	STA.w $072B
	LDA.w $0727
	STA.w $072A
	INC.w $074F
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	RTL

;--------------------------------------------------------------------

CODE_1585F8:
	LDX.b #$00
	STX.w $0739
	JSL.l CODE_1586F1
	JSL.l CODE_15876F
	LDX.b #$00
	JSL.l CODE_15866E
	LDA.w $0730
	CMP.w $073B
	BNE.b CODE_158635
	LDA.w $072B
	CLC
	ADC.b #$20
	CMP.w $073C
	BNE.b CODE_158635
CODE_15861E:
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	TAX
	BEQ.b CODE_158628
	LDA.w $0519
	STA.b $E1
CODE_158628:
	INC.w $0739
	STZ.w $0729
	STZ.w $0736
	STZ.w $0738
	RTL

CODE_158635:
	LDA.w $073C
	AND.b #$20
	BNE.b CODE_15864A
	LDA.w $0725
	CMP.w $072A
	BEQ.b CODE_15861E
	LDX.b #$00
	JSL.l CODE_1586CA
CODE_15864A:
	RTL

;--------------------------------------------------------------------

CODE_15864B:					; Note: Something related to scrolling the screen upwards.
	LDA.w $073D,x
	SEC
	SBC.b #$20
	STA.w $073D,x
	BCS.b CODE_15866D
	LDA.w $0747,x
	SEC
	SBC.b #$01
	CMP.b #$FF
	BNE.b CODE_158664
	LDA.b #$0B
	BRA.b CODE_15866A

CODE_158664:
	CMP.b #$07
	BNE.b CODE_15869C
	LDA.b #$03
CODE_15866A:
	STA.w $0747,x
CODE_15866D:
	RTL

CODE_15866E:					; Note: Something related to scrolling the screen downwards?
	LDA.w $073C,x
	CLC
	ADC.b #$20
	STA.w $073C,x
	BCC.b CODE_15869F
	CPX.b #$00
	BNE.b CODE_158687
	LDA.w $073B
	CLC
	ADC.b #$01
	STA.w $073B
	RTL

CODE_158687:
	DEX
	LDA.w $0747,x
	CLC
	ADC.b #$01
	CMP.b #$04
	BNE.b CODE_158696
	LDA.b #$08
	BRA.b CODE_15869C

CODE_158696:
	CMP.b #$0C
	BNE.b CODE_15869C
	LDA.b #$00
CODE_15869C:
	STA.w $0747,x
CODE_15869F:
	RTL

;--------------------------------------------------------------------

CODE_1586A0:					; Note: Something related to scrolling the screen upwards.
	LDA.w $0726,x
	SEC
	SBC.b #$10
	STA.w $0726,x
	AND.b #$F0
	CMP.b #$F0
	BNE.b CODE_1586C9
	LDA.w $0726,x
	AND.b #$0F
	CLC
	ADC.b #$E0
	STA.w $0726,x
	DEC.w $0726,x
	LDA.w $0726,x
	CMP.b #$DF
	BNE.b CODE_1586C9
	LDA.b #$E9
	STA.w $0726,x
CODE_1586C9:
	RTL

;--------------------------------------------------------------------

CODE_1586CA:					; Note: Something related to scrolling the screen downwards?
	LDA.w $0725,x
	CLC
	ADC.b #$10
	STA.w $0725,x
	AND.b #$F0
	CMP.b #$F0
	BNE.b CODE_1586F0
	LDA.w $0725,x
	AND.b #$0F
	STA.w $0725,x
	INC.w $0725,x
	LDA.w $0725,x
	CMP.b #$0A
	BNE.b CODE_1586F0
	LDA.b #$00
	STA.w $0725,x
CODE_1586F0:
	RTL

;--------------------------------------------------------------------

CODE_1586F1:
	PHX
	LDA.w $0725,x
	AND.b #$0F
	TAY
	LDA.w DATA_11AB1B,y
	STA.w $073F
	LDA.w DATA_11AB25,y
	STA.w $0740
	LDA.b #$7F
	STA.w $0741
	LDA.w $0725,x
	AND.b #$F0
	STA.w $0742
	CPX.b #$00
	BNE.b CODE_158730
	LDA.w $073B
	CMP.b #$FF
	BNE.b CODE_158720
	LDA.b #$0B
	BRA.b CODE_158734

CODE_158720:
	CMP.b #$04
	BNE.b CODE_158728
	LDA.b #$08
	BRA.b CODE_158734

CODE_158728:
	CMP.b #$0C
	BNE.b CODE_158734
	LDA.b #$00
	BRA.b CODE_158734

CODE_158730:
	DEX
	LDA.w $0747,x
CODE_158734:
	STA.w $073B
	PLX
	LDA.w $073C,x
	STA.w $073C
CODE_15873E:
	RTL

;--------------------------------------------------------------------

; Note: Something related to the vertical sublevel in 1-3

CODE_15873F:
	LDA.w $0725,x
	AND.b #$10
	BEQ.b CODE_15873E
	LDA.w $0725,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $0725,x
	JSL.l CODE_1586F1
	LDA.b #$0F
	STA.b $E3
	LDA.b #$00
	STA.w $0743
CODE_15875E:
	DEC.b $E3
	LDA.b $E3
	BPL.b CODE_15875E
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.w $0725,x
	DEC.b $E4
	JML.l CODE_1586F1

;--------------------------------------------------------------------

CODE_15876F:
	LDA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexLo
	TAX
	LDA.w $073F
	STA.b $C4
	LDA.w $0740
	STA.b $C5
	LDA.w $0741
	STA.b $C6
	LDA.w $073B
	CLC
	ADC.b #$48
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	INX
	LDA.w $073C
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	INX
	LDA.b #$00
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	INX
	LDA.b #$40
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	INX
	STZ.w $0743
	LDA.b #$0F
	STA.b $E3
CODE_1587AB:
	LDA.w $0744
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w $0745
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w $0746
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w $0742
	REP.b #$30
	LDA.b [$C4],y
	AND.w #$00FF
	CMP.w #$00FF
	BNE.b CODE_1587D9
	LDA.l DATA_15934F
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #DATA_159351>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.w #$0000
	BRA.b CODE_1587DD

CODE_1587D9:
	ASL
	ASL
	ASL
	TAY
CODE_1587DD:
	LDA.w $074F
	AND.w #$00FF
	BEQ.b CODE_1587E9
	INY
	INY
	INY
	INY
CODE_1587E9:
	REP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	SEP.b #$20
	INC.w $0743
	INX
	INX
	INY
	INY
	LDA.w $0743
	LSR
	BCS.b CODE_1587E9
	INC.w $0742
	SEP.b #$30
	LDA.w $0743
	CMP.b #$20
	BCC.b CODE_1587AB
	LDA.b #$FF
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable,x
	TXA
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexLo
	LDA.w $074F
	EOR.b #$01
	STA.w $074F
	RTL

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	%FREE_BYTES(NULLROM, 1, $FF)
else
	%FREE_BYTES(NULLROM, 224, $FF)
endif

;--------------------------------------------------------------------

DATA_158900:
	db $00,$01,$02,$03,$00,$01,$03,$02
	db $02,$00,$01,$03,$02,$03,$00,$01
	db $03,$00,$01,$02,$03,$02,$00,$01
	db $01,$02,$03,$00,$01,$03,$02,$00
	db $04,$05,$06,$07,$08,$09,$00,$00

DATA_158928:
	dw DATA_15893C
	dw DATA_1589C0
	dw DATA_158A5C
	dw DATA_158AED
	dw DATA_158BBF
	dw DATA_158CB1
	dw DATA_158DA3
	dw DATA_158E95
	dw DATA_158F87
	dw DATA_159079

DATA_15893C:
	db $53,$9C,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$01,$04,$00,$00,$00,$01
	db $00,$00,$00,$01,$07,$09,$04,$00
	db $01,$07,$00,$00,$00,$03,$08,$15
	db $09,$04,$02,$15,$00,$01,$04,$01
	db $07,$15,$15,$09,$07,$15,$01,$07
	db $09,$07,$15,$15,$15,$15,$15,$15
	db $02,$15,$15,$15,$15,$15,$15,$15
	db $15,$15,$03,$12,$08,$15,$15,$15
	db $15,$15,$15,$15,$00,$01,$07,$15
	db $15,$15,$15,$15,$15,$15,$01,$07
	db $15,$15,$15,$15,$15,$15,$15,$15
	db $02,$15,$15,$15,$15,$15,$15,$15
	db $15,$15,$03,$08,$15,$15,$15,$15
	db $15,$15,$15,$15

DATA_1589C0:
	db $40,$AD,$00,$00,$03,$08,$15,$15
	db $15,$15,$15,$15,$15,$00,$00,$01
	db $07,$15,$15,$15,$15,$15,$15,$15
	db $00,$01,$07,$15,$15,$15,$15,$15
	db $15,$15,$15,$00,$02,$15,$15,$15
	db $15,$15,$15,$15,$15,$15,$01,$07
	db $15,$15,$15,$15,$15,$15,$15,$15
	db $15,$02,$15,$15,$15,$15,$15,$15
	db $15,$15,$15,$15,$03,$12,$08,$15
	db $15,$15,$15,$15,$15,$15,$15,$00
	db $00,$03,$08,$15,$15,$15,$15,$15
	db $15,$15,$00,$00,$00,$03,$08,$0A
	db $08,$15,$15,$15,$15,$00,$00,$00
	db $00,$03,$06,$03,$12,$08,$15,$15
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $03,$08,$15,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$03,$08,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $02,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$03

DATA_158A5C:
	db $41,$AC,$00,$00,$00,$00,$00,$00
	db $01,$04,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$02,$15,$04,$01,$04
	db $01,$04,$01,$11,$04,$01,$07,$15
	db $09,$07,$09,$03,$09,$07,$15,$09
	db $07,$15,$15,$15,$15,$15,$00,$03
	db $08,$15,$15,$15,$15,$15,$15,$15
	db $15,$00,$01,$07,$15,$15,$15,$15
	db $15,$15,$15,$15,$00,$02,$0A,$08
	db $15,$15,$15,$15,$15,$15,$15,$00
	db $03,$06,$02,$15,$15,$15,$15,$0A
	db $08,$15,$00,$00,$00,$03,$08,$0A
	db $08,$0A,$06,$02,$15,$00,$00,$00
	db $00,$03,$06,$03,$06,$00,$03,$08
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$02,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$03,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00

DATA_158AED:
	db $20,$CF,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$01,$00,$00,$01,$11
	db $04,$00,$00,$00,$00,$01,$04,$01
	db $07,$00,$00,$02,$15,$09,$04,$01
	db $04,$01,$07,$09,$07,$15,$00,$01
	db $07,$15,$15,$09,$07,$09,$07,$15
	db $15,$15,$15,$01,$07,$15,$15,$15
	db $15,$15,$15,$15,$15,$15,$15,$15
	db $03,$08,$0A,$08,$15,$15,$15,$15
	db $15,$15,$15,$15,$15,$00,$03,$06
	db $03,$08,$15,$15,$15,$15,$15,$15
	db $15,$15,$00,$00,$00,$00,$03,$08
	db $15,$15,$15,$15,$15,$15,$15,$00
	db $00,$00,$00,$01,$07,$15,$15,$15
	db $15,$15,$15,$15,$00,$00,$00,$00
	db $02,$15,$15,$15,$15,$15,$15,$15
	db $15,$00,$00,$00,$01,$07,$15,$15
	db $15,$15,$15,$15,$15,$15,$00,$00
	db $00,$02,$15,$15,$15,$15,$0A,$08
	db $15,$15,$15,$00,$00,$00,$03,$08
	db $0A,$08,$0A,$06,$03,$08,$15,$15
	db $00,$00,$00,$00,$03,$06,$03,$06
	db $00,$00,$03,$08,$0A,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $03,$06

DATA_158BBF:
	db $00,$EF,$00,$00,$00,$00,$00,$00
	db $00,$00,$03,$08,$15,$15,$15,$15
	db $15,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$03,$08,$15,$15,$15,$0B
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$02,$15,$15,$15,$0C,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $01,$07,$15,$15,$15,$0D,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$02
	db $15,$15,$15,$15,$15,$00,$00,$00
	db $00,$00,$00,$00,$01,$11,$07,$15
	db $0B,$13,$0E,$0B,$00,$00,$00,$00
	db $00,$00,$00,$02,$15,$15,$15,$0C
	db $15,$09,$07,$00,$00,$00,$00,$00
	db $00,$00,$03,$08,$15,$0B,$07,$15
	db $15,$15,$00,$00,$00,$00,$00,$00
	db $00,$00,$03,$0B,$07,$15,$15,$15
	db $15,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$02,$15,$15,$15,$15,$15
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$03,$08,$15,$15,$15,$15,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$03,$12,$08,$15,$15,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$01,$0D,$08,$15,$00,$00,$00
	db $00,$00,$00,$00,$00,$01,$04,$01
	db $07,$15,$0C,$15,$00,$00,$00,$00
	db $00,$00,$01,$11,$07,$09,$07,$15
	db $15,$0C,$15,$00,$00,$00,$00,$00
	db $00,$02,$15,$15,$15,$15,$15,$0B
	db $07,$15

DATA_158CB1:
	db $00,$EF,$0B,$0E,$15,$15,$0B,$15
	db $15,$0B,$15,$15,$15,$15,$0C,$15
	db $15,$07,$09,$0E,$0B,$07,$15,$0B
	db $07,$15,$15,$15,$15,$0D,$15,$15
	db $15,$15,$09,$07,$15,$15,$0C,$15
	db $15,$15,$15,$15,$15,$0D,$15,$08
	db $15,$15,$15,$15,$15,$0D,$08,$15
	db $15,$15,$15,$15,$15,$0C,$0C,$15
	db $15,$15,$15,$15,$15,$0C,$15,$15
	db $15,$15,$15,$0B,$07,$07,$15,$15
	db $0B,$13,$0E,$0B,$07,$15,$15,$15
	db $15,$15,$0C,$15,$15,$15,$15,$0C
	db $15,$09,$07,$15,$15,$15,$15,$15
	db $0B,$15,$15,$15,$15,$15,$0D,$08
	db $15,$15,$15,$15,$15,$15,$0B,$07
	db $15,$15,$15,$15,$15,$15,$0C,$15
	db $15,$15,$15,$15,$0B,$07,$15,$15
	db $0B,$15,$15,$15,$0B,$15,$15,$15
	db $15,$15,$15,$0C,$15,$15,$15,$0C
	db $15,$15,$15,$0C,$15,$15,$15,$15
	db $15,$15,$0D,$08,$15,$0B,$0D,$15
	db $15,$15,$0D,$08,$0A,$08,$15,$15
	db $15,$15,$0D,$0B,$15,$15,$15,$15
	db $15,$15,$0D,$10,$0D,$08,$15,$15
	db $15,$0B,$07,$15,$15,$15,$15,$15
	db $15,$15,$0C,$15,$07,$15,$15,$0B
	db $07,$15,$15,$15,$15,$15,$15,$15
	db $15,$0C,$15,$15,$15,$15,$0C,$15
	db $15,$15,$15,$15,$15,$15,$15,$0B
	db $07,$15,$15,$15,$0B,$07,$15,$15
	db $15,$15

DATA_158DA3:
	db $00,$EF,$15,$0B,$0E,$15,$15,$15
	db $15,$15,$15,$15,$0D,$08,$15,$15
	db $15,$0B,$07,$09,$0E,$15,$15,$15
	db $15,$15,$15,$0B,$0D,$08,$15,$15
	db $0C,$15,$15,$0F,$15,$15,$15,$0B
	db $0E,$0B,$07,$15,$0C,$15,$15,$0D
	db $08,$15,$09,$0E,$15,$0B,$07,$09
	db $15,$15,$0B,$07,$15,$15,$15,$0C
	db $15,$15,$0B,$13,$07,$15,$15,$15
	db $15,$0C,$15,$15,$15,$0B,$07,$15
	db $15,$0C,$15,$15,$15,$15,$0B,$13
	db $07,$15,$0B,$13,$0D,$15,$15,$15
	db $0D,$08,$15,$15,$15,$0C,$15,$15
	db $15,$0C,$15,$0B,$15,$15,$15,$15
	db $0D,$15,$15,$15,$0D,$08,$15,$0B
	db $07,$15,$07,$15,$15,$15,$15,$15
	db $0C,$15,$15,$15,$0D,$0B,$07,$15
	db $15,$15,$15,$15,$15,$15,$0B,$15
	db $15,$15,$15,$15,$0C,$15,$15,$15
	db $08,$15,$15,$15,$15,$0C,$15,$15
	db $15,$15,$15,$0D,$08,$15,$15,$07
	db $15,$15,$15,$15,$0D,$08,$0A,$08
	db $15,$15,$15,$0D,$14,$08,$15,$15
	db $15,$15,$15,$15,$0D,$10,$0D,$08
	db $15,$15,$0B,$07,$0D,$15,$15,$15
	db $15,$15,$15,$15,$15,$15,$0C,$15
	db $0B,$07,$15,$15,$15,$15,$15,$15
	db $15,$0B,$0E,$15,$15,$0C,$15,$0C
	db $15,$15,$15,$15,$15,$15,$15,$15
	db $0C,$0F,$15,$0B,$07,$0B,$07,$15
	db $15,$0B

DATA_158E95:
	db $00,$EF,$15,$15,$0B,$0E,$15,$15
	db $0D,$08,$15,$15,$15,$15,$15,$0A
	db $10,$15,$0B,$07,$09,$0E,$15,$15
	db $0D,$08,$15,$15,$15,$0A,$10,$0D
	db $15,$0C,$15,$15,$0F,$15,$15,$15
	db $0C,$15,$15,$15,$0F,$15,$15,$15
	db $0D,$08,$15,$09,$0E,$15,$0B,$0D
	db $08,$15,$15,$09,$0E,$15,$15,$15
	db $0C,$15,$15,$0B,$13,$15,$15,$0D
	db $08,$15,$15,$0F,$15,$0E,$0B,$07
	db $15,$0B,$07,$15,$15,$15,$15,$0D
	db $08,$0A,$10,$15,$09,$07,$15,$15
	db $0C,$15,$15,$15,$15,$15,$15,$0D
	db $10,$15,$0B,$15,$15,$15,$0B,$07
	db $15,$15,$15,$15,$15,$15,$15,$15
	db $0B,$07,$15,$15,$15,$0D,$08,$15
	db $15,$15,$0B,$0E,$15,$15,$0B,$07
	db $15,$15,$15,$15,$15,$0D,$08,$15
	db $15,$0C,$0F,$15,$15,$0C,$15,$15
	db $15,$15,$15,$15,$15,$0C,$15,$15
	db $0D,$10,$15,$15,$0D,$08,$15,$15
	db $15,$15,$15,$15,$0D,$0B,$0E,$15
	db $15,$15,$15,$15,$0D,$08,$08,$15
	db $15,$15,$15,$0B,$15,$09,$0E,$15
	db $15,$15,$15,$0B,$0D,$0C,$15,$15
	db $15,$15,$0C,$15,$15,$0F,$15,$15
	db $15,$0B,$07,$15,$0C,$15,$15,$15
	db $15,$0C,$15,$15,$09,$0E,$15,$15
	db $0C,$15,$0B,$07,$15,$15,$15,$0B
	db $07,$15,$15,$0A,$10,$15,$0B,$07
	db $15,$0C

DATA_158F87:
	db $00,$EF,$15,$15,$15,$0B,$0E,$15
	db $15,$0B,$15,$15,$0B,$15,$15,$15
	db $15,$15,$15,$15,$0C,$09,$0E,$0B
	db $07,$15,$0B,$07,$15,$15,$15,$15
	db $0D,$15,$0B,$07,$15,$09,$07,$15
	db $15,$0C,$15,$15,$15,$15,$15,$15
	db $0C,$0C,$15,$15,$15,$15,$15,$15
	db $0D,$08,$15,$15,$15,$15,$0B,$15
	db $0D,$08,$15,$15,$15,$15,$15,$15
	db $0C,$15,$15,$15,$15,$0C,$15,$0B
	db $07,$15,$15,$0B,$13,$0E,$0B,$07
	db $15,$15,$15,$15,$15,$15,$0C,$15
	db $15,$15,$0C,$15,$09,$07,$15,$15
	db $15,$15,$15,$15,$0B,$07,$15,$15
	db $15,$0D,$08,$15,$15,$15,$15,$15
	db $15,$0B,$15,$0C,$15,$15,$15,$15
	db $15,$0C,$15,$15,$15,$15,$15,$0B
	db $07,$15,$0D,$08,$15,$15,$15,$0B
	db $15,$15,$15,$15,$15,$15,$0C,$15
	db $15,$15,$0D,$08,$15,$15,$0C,$15
	db $15,$15,$15,$15,$15,$0D,$08,$15
	db $15,$0B,$15,$15,$15,$0D,$08,$0A
	db $08,$15,$15,$15,$15,$0D,$08,$0B
	db $07,$15,$15,$15,$15,$0D,$10,$0D
	db $08,$15,$15,$15,$0B,$0B,$0C,$15
	db $15,$15,$15,$15,$15,$0C,$15,$07
	db $15,$15,$0B,$07,$07,$0D,$08,$15
	db $15,$15,$15,$15,$0C,$15,$15,$15
	db $15,$0C,$15,$15,$0B,$07,$15,$15
	db $15,$15,$0B,$07,$15,$15,$15,$0B
	db $07,$15

DATA_159079:
	db $00,$EF,$0C,$15,$15,$15,$0B,$0E
	db $15,$15,$15,$15,$15,$15,$15,$0D
	db $08,$0D,$15,$15,$0B,$07,$09,$0E
	db $15,$15,$15,$15,$15,$15,$0B,$0D
	db $15,$0D,$15,$0C,$15,$15,$0F,$15
	db $15,$15,$0B,$0E,$0B,$07,$15,$15
	db $15,$0C,$0D,$08,$15,$09,$0E,$15
	db $0B,$07,$09,$15,$15,$0B,$15,$0B
	db $07,$15,$0C,$15,$15,$0B,$13,$07
	db $15,$15,$15,$15,$0C,$15,$0C,$15
	db $0B,$07,$15,$15,$0C,$15,$15,$15
	db $15,$0B,$13,$07,$0B,$15,$15,$0D
	db $15,$15,$15,$0D,$08,$15,$15,$15
	db $0C,$15,$15,$07,$15,$15,$0B,$15
	db $15,$15,$15,$0D,$15,$15,$15,$0D
	db $08,$15,$15,$15,$0B,$07,$15,$15
	db $15,$15,$15,$0C,$15,$15,$15,$0D
	db $0B,$15,$15,$0C,$15,$15,$15,$15
	db $15,$0B,$15,$15,$15,$15,$15,$0C
	db $15,$0B,$0D,$08,$15,$15,$15,$15
	db $0C,$15,$15,$15,$15,$15,$0D,$0B
	db $15,$15,$07,$15,$15,$15,$15,$0D
	db $08,$0A,$08,$15,$15,$15,$07,$15
	db $15,$15,$15,$15,$15,$15,$15,$0D
	db $10,$0D,$08,$15,$15,$15,$15,$15
	db $15,$15,$15,$15,$15,$15,$15,$15
	db $15,$0C,$15,$0B,$15,$15,$15,$15
	db $15,$15,$15,$15,$0B,$0E,$15,$15
	db $0C,$15,$0C,$15,$15,$15,$15,$15
	db $15,$15,$15,$0C,$0F,$15,$0B,$07
	db $0B,$07

;--------------------------------------------------------------------

DATA_15916B:
	db $00,$00,$00,$01,$01,$00,$00,$00,$00,$00
	db $00,$01,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$01,$01,$01,$00,$00,$00,$00,$00
	db $00,$01,$00,$00,$00,$00,$00,$00,$00,$00
	db $01,$00,$01,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$01,$01,$00,$00,$01,$00,$00,$00
	db $00,$00,$01,$00,$01,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $01,$00,$01,$00,$00,$00,$00,$00,$01,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$01,$00,$00,$00,$00,$00
	db $01,$00,$00,$00,$00,$00,$00,$01,$00,$00
	db $00,$01,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$01,$00,$01,$00,$00,$00,$00
	db $00,$01,$01,$00,$00,$00,$00,$00,$00,$00
	db $01,$00,$01,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$01,$00,$00,$01,$01,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$01,$00,$00,$00,$01,$00,$00,$00,$00

DATA_159233:
	dw DATA_159237
	dw DATA_159307

DATA_159237:
	db $3F,$01,$3F,$01,$3F,$01,$3F,$01,$00,$05,$01,$05,$10,$05,$13,$05
	db $02,$05,$03,$05,$13,$05,$13,$05,$04,$05,$05,$05,$13,$05,$15,$05
	db $20,$05,$13,$05,$30,$05,$31,$05,$13,$05,$13,$05,$32,$05,$33,$05
	db $13,$05,$25,$05,$34,$05,$35,$05,$21,$05,$13,$05,$13,$05,$13,$05
	db $13,$05,$11,$05,$13,$05,$13,$05,$13,$05,$13,$05,$22,$05,$13,$05
	db $13,$05,$13,$05,$13,$05,$12,$05,$06,$05,$07,$05,$16,$05,$13,$05
	db $08,$05,$09,$05,$13,$05,$13,$05,$0A,$05,$0B,$05,$13,$05,$1B,$05
	db $26,$05,$13,$05,$36,$05,$37,$05,$13,$05,$13,$05,$38,$05,$39,$05
	db $13,$05,$2B,$05,$3A,$05,$3B,$05,$14,$05,$13,$05,$24,$05,$13,$05
	db $13,$05,$17,$05,$13,$05,$27,$05,$18,$05,$13,$05,$28,$05,$13,$05
	db $13,$05,$19,$05,$13,$05,$29,$05,$13,$05,$13,$05,$13,$05,$13,$05
	db $0C,$1D,$3F,$01,$3F,$01,$3F,$01,$3F,$01,$3F,$01,$0D,$1D,$3F,$01
	db $3F,$01,$3F,$01,$3F,$01,$0E,$1D,$3F,$01,$0F,$1D,$3F,$01,$3F,$01

DATA_159307:
	db $3C,$21,$3C,$21,$3C,$21,$3C,$21,$2C,$21,$3F,$21,$3C,$21,$2C,$21
	db $3C,$21,$3C,$21,$3C,$21,$3C,$21,$3C,$21,$3C,$21,$3C,$21,$3C,$21
	db $3C,$21,$3C,$21,$3C,$21,$3C,$21,$3F,$21,$2C,$61,$2C,$61,$3C,$61
	db $3C,$61,$3C,$21,$3C,$21,$3C,$21,$1C,$21,$3C,$21,$3C,$21,$3C,$21
	db $3C,$21,$1D,$21,$3C,$21,$3C,$21

;--------------------------------------------------------------------

DATA_15934F:
	dw DATA_159351

DATA_159351:
	db $3F,$01,$3F,$01,$3F,$01,$3F,$01

;--------------------------------------------------------------------

DATA_159359:
	db $07,$08,$01,$FF,$FF,$FF,$02,$02
	db $03,$01,$FF,$FF,$02,$02,$02,$03
	db $01,$FF,$02,$02,$02,$02,$03,$01

;--------------------------------------------------------------------

DATA_159371:
	dw DATA_15937B
	dw DATA_159394
	dw DATA_1593A9
	dw DATA_1593C6
	dw DATA_1593DF

DATA_15937B:
	db $10,$19,$1B,$19,$1E,$19,$24,$16
	db $2E,$18,$38,$18,$3E,$16,$52,$17
	db $55,$19,$5C,$17,$70,$19,$A2,$18
	db $FF

DATA_159394:
	db $13,$17,$2A,$16,$31,$18,$4D,$19
	db $68,$19,$6B,$17,$6D,$18,$8C,$16
	db $BC,$19,$CE,$17,$FF

DATA_1593A9:
	db $0D,$16,$23,$19,$30,$17,$35,$18
	db $38,$16,$5C,$17,$72,$16,$7B,$16
	db $80,$19,$8B,$19,$BC,$18,$BF,$19
	db $D0,$17,$EE,$19,$FF

DATA_1593C6:
	db $04,$19,$1E,$18,$20,$19,$2A,$16
	db $39,$17,$3C,$18,$3E,$19,$71,$18
	db $90,$16,$AF,$18,$BE,$17,$E0,$17
	db $FF

DATA_1593DF:
	db $20,$19,$71,$18,$43,$16,$14,$19
	db $56,$17,$39,$17,$2A,$16,$5B,$18
	db $8C,$16,$4E,$19,$FF

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
%FREE_BYTES(NULLROM, 11, $FF)
else
%FREE_BYTES(NULLROM, 12, $FF)
endif

;--------------------------------------------------------------------

; Note: Load cave objects code?

CODE_159400:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_3
	BNE.b CODE_159411
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_5_3_TreeInterior
	BNE.b CODE_159411
	JMP.w CODE_159E65

CODE_159411:
	STZ.w $0542
	LDA.b #$FF
	STA.w $0756
	STZ.b !RAM_SMB2U_Global_ScratchRAM09
CODE_15941B:
	STZ.w $0757
	LDA.b ($D9),y
	CMP.b #$FF
	BNE.b CODE_159433
	LDA.w !RAM_SMB2U_Level_ScreensInLvl
	INC
	INC
	STA.w $0542
	STZ.b !RAM_SMB2U_Global_ScratchRAM0E
	STZ.w $02C8
	BRA.b CODE_159479

CODE_159433:
	LDA.b ($D9),y
	AND.b #$F0
	BEQ.b CODE_15945D
	CMP.b #$F0
	BNE.b CODE_159461
	STZ.w $02C8
	LDA.b ($D9),y
	AND.b #$0F
	STY.b !RAM_SMB2U_Global_ScratchRAM0F
	JSL.l CODE_12F6A3
	LDY.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b ($D9),y
	AND.b #$0F
	CMP.b #$02
	BCC.b CODE_159479
	CMP.b #$06
	BEQ.b CODE_15945D
	CMP.b #$05
	BNE.b CODE_15945E
	INY
CODE_15945D:
	INY
CODE_15945E:
	INY
	BRA.b CODE_15941B

CODE_159461:
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM09
	BCC.b CODE_15946A
	ADC.b #$0F
	BRA.b CODE_159470

CODE_15946A:
	CMP.b #$F0
	BNE.b CODE_159473
	LDA.b #$00
CODE_159470:
	INC.w $0542
CODE_159473:
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	INY
	INY
	BRA.b CODE_15941B

CODE_159479:
	LDA.b $E5
	INC
	CMP.b !RAM_SMB2U_Global_ScratchRAM0E
	BCC.b CODE_159489
	LDA.b ($D9),y
	CMP.b #$FF
	BEQ.b CODE_159489
	JSR.w CODE_159691
CODE_159489:
	JSR.w CODE_1594EC
	JSR.w CODE_159995
	LDA.w $0764
	BEQ.b CODE_15949A
	JSL.l CODE_12F7D2
	BRA.b CODE_1594A6

CODE_15949A:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_1594A3
	JSR.w CODE_159517
	BRA.b CODE_1594A6

CODE_1594A3:
	JSR.w CODE_1599F1
CODE_1594A6:
	STZ.w $0757
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_1594BB
	INC.b $E5
	LDA.b $E5
	CMP.b #$10
	BNE.b CODE_1594C0
	INC.b $E9
	STZ.b $E5
	BRA.b CODE_1594C0

CODE_1594BB:
	LDA.b #$10
	JSR.w CODE_15967D
CODE_1594C0:
	LDA.b $E9
	CMP.w $0542
	BNE.b CODE_159489
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_1594D3
	LDA.b $E5
	CMP.b !RAM_SMB2U_Global_ScratchRAM0E
	BCC.b CODE_159479
	BCS.b CODE_1594D9									; Note: This will always branch.

CODE_1594D3:
	LDA.b $E6
	CMP.b !RAM_SMB2U_Global_ScratchRAM0E
	BCC.b CODE_159479
CODE_1594D9:
	LDA.b ($D9),y
	CMP.b #$FF
	BEQ.b CODE_1594EB
	INY
	LDA.b ($D9),y
	AND.b #$1F
	STA.w $0543
	INY
	JMP.w CODE_15941B

CODE_1594EB:
	RTL

CODE_1594EC:
	STY.w $0713
	LDX.b $E9
CODE_1594F1:
	LDY.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.w DATA_11AB11,y
	CLC
	ADC.w DATA_11AAFB,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w DATA_11AAF0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w DATA_11AB06,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.b $E6
	CLC
	ADC.b $E5
	STA.b $E7
	LDY.w $0713
	RTS

DATA_159512:
	db $0F,$1E,$2D,$3C,$4B

CODE_159517:
	STY.b !RAM_SMB2U_Global_ScratchRAM04
	INC.w $0756
	LDA.w $0543
	ASL
	TAX
	LDA.l DATA_15A90E,x
	STA.b $C4
	INX
	LDA.l DATA_15A90E,x
	STA.b $C5
	LDA.b #DATA_15A94A>>16
	STA.b $C6
	LDA.w $02C8
	BNE.b CODE_15954D
	LDA.w $075A
	BEQ.b CODE_159541
	STZ.w $075A
	BRA.b CODE_159577

CODE_159541:
	LDA.w $0757
	CMP.b #$01
	BNE.b CODE_159561
	INC.w $075A
	BRA.b CODE_159561

CODE_15954D:
	LDA.w $0757
	BEQ.b CODE_159561
	CMP.b #$FF
	BEQ.b CODE_159561
	CMP.b #$01
	BEQ.b CODE_15955E
	LDX.b #$04
	BRA.b CODE_159567

CODE_15955E:
	INC.w $075A
CODE_159561:
	LDA.w $0756
	AND.b #$03
	TAX
CODE_159567:
	LDA.l DATA_159512,x
	REP.b #$20
	AND.w #$00FF
	CLC
	ADC.b $C4
	STA.b $C4
	SEP.b #$20
CODE_159577:
	LDY.b $E7
	JSR.w CODE_15958C
	LDY.b $E7
	JSR.w CODE_1597B7
	LDA.w $02C8
	BNE.b CODE_159589
	INC.w $02C8
CODE_159589:
	LDY.b !RAM_SMB2U_Global_ScratchRAM04
	RTS

CODE_15958C:
	STZ.w $0713
	LDA.b $C4
	STA.w $0716
	LDA.b $C5
	STA.w $0717
	LDA.w $0757
	AND.b #$F0
	BNE.b CODE_1595AF
	LDA.w $075B
	AND.b #$0F
	BEQ.b CODE_1595C2
CODE_1595A7:
	LDA.b #$0E
	SEC
	SBC.w $075C
	BRA.b CODE_1595BC

CODE_1595AF:
	LDA.w $075B
	AND.b #$0F
	BNE.b CODE_1595A7
	LDA.b #$0E
	SEC
	SBC.w $0758
CODE_1595BC:
	STA.w $0715
	STZ.w $0757
CODE_1595C2:
	LDA.w $0715
	BEQ.b CODE_1595FE
	CMP.w $0713
	BPL.b CODE_1595FE
	LDA.b $C4
	STA.w $0716
	LDA.b $C5
	STA.w $0717
	LDA.w $0543
	ASL
	TAX
	LDA.l DATA_15A90E,x
	STA.b $C4
	INX
	LDA.l DATA_15A90E,x
	STA.b $C5
	LDA.w $0756
	AND.b #$03
	TAX
	LDA.l DATA_159512,x
	REP.b #$20
	AND.w #$00FF
	CLC
	ADC.b $C4
	STA.b $C4
	SEP.b #$20
CODE_1595FE:
	STY.w $0714
	LDY.w $0713
	LDA.b [$C4],y
	LDY.w $0714
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BEQ.b CODE_159625
	REP.b #$30
	TYA
	AND.w #$00FF
	CLC
	ADC.w #$7000
	TAY
	SEP.b #$20
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	SEP.b #$10
	LDY.w $0714
CODE_159625:
	LDA.w $0716
	STA.b $C4
	LDA.w $0717
	STA.b $C5
	TYA
	CLC
	ADC.b #$10
	TAY
	INC.w $0713
	LDA.w $0713
	CMP.b #$0F
	BEQ.b CODE_159641
	BRL.w CODE_1595C2

CODE_159641:
	LDA.w $0757
	STA.w $075B
	LDA.w $0758
	STA.w $075C
	STZ.w $0715
	RTS

CODE_159651:
	INY
	TYA
	AND.b #$0F
	BNE.b CODE_159668
	TYA
	SEC
	SBC.b #$10
	TAY
	STX.b !RAM_SMB2U_Global_ScratchRAM0B
	LDX.b $E9
	INX
	STX.b !RAM_SMB2U_Global_ScratchRAM0D
	JSR.w CODE_1594F1
	LDX.b !RAM_SMB2U_Global_ScratchRAM0B
CODE_159668:
	RTS

CODE_159669:
	TYA
	CLC
	ADC.b #$10
	TAY
	CMP.b #$F0
	BCC.b CODE_15967C
	LDX.b $E9
	INX
	JSR.w CODE_1594F1
	TYA
	AND.b #$0F
	TAY
CODE_15967C:
	RTS

CODE_15967D:
	CLC
	ADC.b $E6
	BCC.b CODE_159686
	ADC.b #$0F
	BRA.b CODE_15968C

CODE_159686:
	CMP.b #$F0
	BNE.b CODE_15968E
	LDA.b #$00
CODE_15968C:
	INC.b $E9
CODE_15968E:
	STA.b $E6
	RTS

CODE_159691:
	STY.w $0712
	INY
	LDA.b ($D9),y
	CMP.b #$FF
	BNE.b CODE_15969E
	BRL.w CODE_1597AD

CODE_15969E:
	AND.b #$1F
	ASL
	TAX
	LDA.l DATA_15A90E,x
	STA.b $C4
	INX
	LDA.l DATA_15A90E,x
	STA.b $C5
	LDA.b #DATA_15A94A>>16
	STA.b $C6
	STZ.w $0716
	STZ.w $0717
	STZ.w $071A
	LDY.b #$00
CODE_1596BE:
	LDA.b [$C4],y
	CMP.b #$40
	BEQ.b CODE_1596CC
	LDX.w $071A
	INC.w $0716,x
	BRA.b CODE_1596DE

CODE_1596CC:
	CPY.b #$00
	BEQ.b CODE_1596D8
	DEY
	LDA.b [$C4],y
	CMP.b #$40
	BEQ.b CODE_1596DD
	INY
CODE_1596D8:
	INC.w $071A
	BRA.b CODE_1596DE

CODE_1596DD:
	INY
CODE_1596DE:
	INY
	CPY.b #$0F
	BNE.b CODE_1596BE
	LDA.w $0716
	CMP.b #$0F
	BNE.b CODE_1596ED
	STA.w $0717
CODE_1596ED:
	LDA.w $0543
	ASL
	TAX
	LDA.l DATA_15A90E,x
	STA.b $C4
	INX
	LDA.l DATA_15A90E,x
	STA.b $C5
	LDA.b #DATA_15A94A>>16
	STA.b $C6
	STZ.w $0718
	STZ.w $0719
	STZ.w $071A
	LDY.b #$00
CODE_15970E:
	LDA.b [$C4],y
	CMP.b #$40
	BEQ.b CODE_15971C
	LDX.w $071A
	INC.w $0718,x
	BRA.b CODE_15972E

CODE_15971C:
	CPY.b #$00
	BEQ.b CODE_159728
	DEY
	LDA.b [$C4],y
	CMP.b #$40
	BEQ.b CODE_15972D
	INY
CODE_159728:
	INC.w $071A
	BRA.b CODE_15972E

CODE_15972D:
	INY
CODE_15972E:
	INY
	CPY.b #$0F
	BNE.b CODE_15970E
	LDA.w $0718
	CMP.b #$0F
	BNE.b CODE_15973D
	STA.w $0719
CODE_15973D:
	LDA.w $0719
	CMP.w $0717
	BEQ.b CODE_159754
	BMI.b CODE_159761
	LDA.b #$10
	STA.w $0757
	LDA.w $0717
	STA.w $0758
	BRA.b CODE_15976C

CODE_159754:
	LDA.b #$FF
	STA.w $0757
	LDA.w $0717
	STA.w $0758
	BRA.b CODE_15976C

CODE_159761:
	LDA.b #$01
	STA.w $0757
	LDA.w $0719
	STA.w $0758
CODE_15976C:
	LDA.w $0718
	CMP.w $0716
	BEQ.b CODE_159788
	BMI.b CODE_159797
	LDA.w $0716
	BEQ.b CODE_1597AD
	LDA.b #$10
	STA.w $075D
	LDA.w $0716
	STA.w $075E
	BRA.b CODE_1597AD

CODE_159788:
	LDA.w $0718
	BEQ.b CODE_1597AD
	STA.w $075E
	LDA.b #$FF
	STA.w $075D
	BRA.b CODE_1597AD

CODE_159797:
	LDA.w $0718
	BEQ.b CODE_1597AD
	LDA.b #$11
	STA.w $075D
	LDA.w $0718
	STA.w $075E
	LDA.w $0716
	STA.w $0763
CODE_1597AD:
	LDY.w $0712
	RTS

;--------------------------------------------------------------------

DATA_1597B1:
	db $05,$06

DATA_1597B3:
	db $11,$12,$04,$10

CODE_1597B7:
	STZ.w $0713
	LDA.w $075D
	AND.b #$F0
	BNE.b CODE_1597CB
	LDA.w $075F
	AND.b #$0F
	BNE.b CODE_1597D6
	BRL.w CODE_159882

CODE_1597CB:
	LDA.w $075E
	STA.w $0715
	STZ.w $0761
	BRA.b CODE_1597E3

CODE_1597D6:
	LDA.w $0760
	STA.w $0715
	LDA.b #$01
	STA.w $0761
	BRA.b CODE_15981C

CODE_1597E3:
	TYA
	AND.b #$10
	BNE.b CODE_159802
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$07
	BNE.b CODE_1597F5
	LDA.w $0756
	AND.b #$01
	BRA.b CODE_159855

CODE_1597F5:
	CMP.b #$13
	BNE.b CODE_159863
	LDA.w $0756
	AND.b #$01
	EOR.b #$01
	BRA.b CODE_159855

CODE_159802:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$07
	BNE.b CODE_159811
	LDA.w $0756
	AND.b #$01
	EOR.b #$01
	BRA.b CODE_15985C

CODE_159811:
	CMP.b #$13
	BNE.b CODE_159863
	LDA.w $0756
	AND.b #$01
	BRA.b CODE_15985C

CODE_15981C:
	TYA
	AND.b #$10
	BNE.b CODE_15983B
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$04
	BNE.b CODE_15982E
	LDA.w $0756
	AND.b #$01
	BRA.b CODE_159855

CODE_15982E:
	CMP.b #$10
	BNE.b CODE_159863
	LDA.w $0756
	AND.b #$01
	EOR.b #$01
	BRA.b CODE_159855

CODE_15983B:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$04
	BNE.b CODE_15984A
	LDA.w $0756
	AND.b #$01
	EOR.b #$01
	BRA.b CODE_15985C

CODE_15984A:
	CMP.b #$10
	BNE.b CODE_159863
	LDA.w $0756
	AND.b #$01
	BRA.b CODE_15985C

CODE_159855:
	TAX
	LDA.l DATA_1597B1,x
	BRA.b CODE_159861

CODE_15985C:
	TAX
	LDA.l DATA_1597B3,x
CODE_159861:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_159863:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_15986A
	INY
	BRA.b CODE_15986F

CODE_15986A:
	TYA
	CLC
	ADC.b #$10
	TAY
CODE_15986F:
	INC.w $0713
	LDA.w $0713
	CMP.w $0715
	BPL.b CODE_159882
	LDA.w $0761
	BNE.b CODE_15981C
	BRL.w CODE_1597E3

CODE_159882:
	LDA.w $075D
	STA.w $075F
	LDA.w $075E
	STA.w $0760
	STZ.w $075D
	STZ.w $0715
	RTS

;--------------------------------------------------------------------

CODE_159895:
	STY.w $0712
	JSR.w CODE_159929
	LDA.w $0713
	BEQ.b CODE_1598DE
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$01
	BEQ.b CODE_1598C4
	CMP.b #$02
	BEQ.b CODE_1598C4
	CMP.b #$05
	BEQ.b CODE_1598C8
	CMP.b #$06
	BEQ.b CODE_1598C8
	CMP.b #$11
	BEQ.b CODE_1598C8
	CMP.b #$12
	BEQ.b CODE_1598C8
	CMP.b #$15
	BEQ.b CODE_1598D7
	CMP.b #$16
	BEQ.b CODE_1598D7
	BRA.b CODE_1598DE

CODE_1598C4:
	LDA.b #$03
	BRA.b CODE_1598D9

CODE_1598C8:
	LDA.w $0712
	AND.b #$10
	BNE.b CODE_1598D3
	LDA.b #$07
	BRA.b CODE_1598D9

CODE_1598D3:
	LDA.b #$13
	BRA.b CODE_1598D9

CODE_1598D7:
	LDA.b #$17
CODE_1598D9:
	LDY.w $0712
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_1598DE:
	RTL

;--------------------------------------------------------------------

CODE_1598DF:
	STY.w $0712
	JSR.w CODE_159929
	LDA.w $0713
	BEQ.b CODE_159928
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$01
	BEQ.b CODE_15990E
	CMP.b #$02
	BEQ.b CODE_15990E
	CMP.b #$05
	BEQ.b CODE_159912
	CMP.b #$06
	BEQ.b CODE_159912
	CMP.b #$11
	BEQ.b CODE_159912
	CMP.b #$12
	BEQ.b CODE_159912
	CMP.b #$15
	BEQ.b CODE_159921
	CMP.b #$16
	BEQ.b CODE_159921
	BRA.b CODE_159928

CODE_15990E:
	LDA.b #$00
	BRA.b CODE_159923

CODE_159912:
	LDA.w $0712
	AND.b #$10
	BNE.b CODE_15991D
	LDA.b #$04
	BRA.b CODE_159923

CODE_15991D:
	LDA.b #$10
	BRA.b CODE_159923

CODE_159921:
	LDA.b #$14
CODE_159923:
	LDY.w $0712
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_159928:
	RTL

;--------------------------------------------------------------------

CODE_159929:
	REP.b #$30
	TYA
	AND.w #$00FF
	CLC
	ADC.w #$7000
	TAY
	SEP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	STA.w $0713
	SEP.b #$10
	RTS

;--------------------------------------------------------------------

CODE_15993E:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	ASL
	TAX
	LDA.l DATA_15B3F8,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	INX
	LDA.l DATA_15B3F8,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #DATA_15B420>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.b #$7E
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	REP.b #$10
	LDY.w #$0000
CODE_15995D:
	REP.b #$30
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.w #$FFFF
	BEQ.b CODE_159992
	AND.w #$FF00
	CMP.w #$FE00
	BNE.b CODE_159978
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	AND.w #$00FF
	STA.w $0721
	INY
	INY
CODE_159978:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	SEP.b #$20
	LDA.w $0721
	STA.b [!RAM_SMB2U_Global_ScratchRAM0D]
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM0D]
	INY
	INY
	BRA.b CODE_15995D

CODE_159992:
	SEP.b #$30
	RTL

;--------------------------------------------------------------------

CODE_159995:
	STY.w $0712
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $0713
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0714
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.w $0715
	STZ.w $0764
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	ASL
	TAX
	LDA.l DATA_15B3A8,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	INX
	LDA.l DATA_15B3A8,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #DATA_15B3D0>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.b #$00
CODE_1599C2:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$FF
	BEQ.b CODE_1599DE
	CMP.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	BNE.b CODE_1599DA
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.w $0543
	BNE.b CODE_1599DB
	INC.w $0764
	BRA.b CODE_1599DE

CODE_1599DA:
	INY
CODE_1599DB:
	INY
	BRA.b CODE_1599C2

CODE_1599DE:
	LDY.w $0712
	LDA.w $0713
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w $0715
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	RTS

;--------------------------------------------------------------------

CODE_1599F1:
	STY.b !RAM_SMB2U_Global_ScratchRAM04
	INC.w $0756
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_2
	BNE.b CODE_159A18
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_5_2_POWBlockShaft
	BNE.b CODE_159A18
	LDA.b $E9
	CMP.b #$01
	BNE.b CODE_159A0E
	LDA.b #$1F
	BRA.b CODE_159A1B

CODE_159A0E:
	LDA.b $E9
	CMP.b #$02
	BNE.b CODE_159A18
	LDA.b #$20
	BRA.b CODE_159A1B

CODE_159A18:
	LDA.w $0543
CODE_159A1B:
	ASL
	TAX
	LDA.l DATA_15B106,x
	STA.b $C4
	INX
	LDA.l DATA_15B106,x
	STA.b $C5
	LDA.b #DATA_15B148>>16
	STA.b $C6
	LDA.w $0756
	AND.b #$01
	ASL
	ASL
	ASL
	ASL
	REP.b #$20
	AND.w #$00FF
	CLC
	ADC.b $C4
	STA.b $C4
	SEP.b #$20
	LDY.b $E7
	JSR.w CODE_159A4B
	LDY.b !RAM_SMB2U_Global_ScratchRAM04
	RTS

CODE_159A4B:
	STZ.w $0713
CODE_159A4E:
	STY.w $0714
	LDY.w $0713
	LDA.b [$C4],y
	CMP.b #$9D
	BNE.b CODE_159A6A
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	CPX.b #!Define_SMB2U_LevelID_3_1
	BNE.b CODE_159A6A
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CPX.b #!Define_SMB2U_SublevelID_3_1_WaterfallCliff
	BNE.b CODE_159A6A
	LDA.b #$05
CODE_159A6A:
	LDY.w $0714
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_159A76
CODE_159A73:
	JMP.w CODE_159AF8

CODE_159A76:
	CMP.b #$9D
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BEQ.b CODE_159A73
else
	BEQ.b CODE_159AF8
endif
	CMP.b #$05
	BNE.b CODE_159AB4
	LDA.w $0543
	CMP.b #$0C
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BEQ.b CODE_159A73
else
	BEQ.b CODE_159AF8
endif
	CMP.b #$0A
	BNE.b CODE_159A92
	TYA
	AND.b #$0F
	CMP.b #$0F
	BNE.b CODE_159AF8
	BRA.b CODE_159AB4

CODE_159A92:
	CMP.b #$11
	BNE.b CODE_159AA3
	TYA
	AND.b #$0F
	CMP.b #$06
	BMI.b CODE_159AE5
	CMP.b #$0F
	BEQ.b CODE_159AE5
	BRA.b CODE_159AF8

CODE_159AA3:
	CMP.b #$0B
	BNE.b CODE_159AE5
	TYA
	AND.b #$0F
	CMP.b #$07
	BEQ.b CODE_159AE5
	CMP.b #$0F
	BEQ.b CODE_159AE5
	BRA.b CODE_159AF8

CODE_159AB4:
	CMP.b #$06
	BNE.b CODE_159AE5
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_3_1
	BNE.b CODE_159AE5
	LDA.b $E9
	CMP.b #$09
	BCC.b CODE_159AE5
	BNE.b CODE_159AF8
	TYA
	AND.b #$F0
	CMP.b #$C0
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BEQ.b +
	CMP.b #$D0
	BNE.b CODE_159AD4
+:
	LDA.b #$05
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	TYA
	AND.b #$0F
	BEQ.b CODE_159AE5
	CMP.b #$08
	BEQ.b CODE_159AE5
	BRA.b CODE_159AF8
else
	BNE.b CODE_159AD4
	LDA.b #$05
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BRA.b CODE_159AF8
endif

CODE_159AD4:
	CPY.b #$D0
	BCC.b CODE_159AE5
	TYA
	AND.b #$0F
	BEQ.b CODE_159AE5
	CMP.b #$06
	BCC.b CODE_159AF8
	CMP.b #$0A
	BCS.b CODE_159AF8
CODE_159AE5:
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0715
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDA.w $0715
	STA.b !RAM_SMB2U_Global_ScratchRAM02
CODE_159AF8:
	INY
	TYA
	AND.b #$0F
	STA.w $0713
	BEQ.b CODE_159B04
	JMP.w CODE_159A4E

CODE_159B04:
	RTS

;--------------------------------------------------------------------

SMB2U_LoadVaseInteriorLevelData:
.Main:
;$159B05
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	STA.w $0717
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	STA.w $0718
	LDY.b #$00
CODE_159B11:
	LDA.w !RAM_SMB2U_Level_CurrentVaseInteriorSublevel
	ASL
	TAX
	LDA.l SMB2U_VaseInteriorLevelDataPtrs,x
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	INX
	LDA.l SMB2U_VaseInteriorLevelDataPtrs,x
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #DATA_15C44C>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	CMP.b #$FF
	BEQ.b CODE_159B38
	STA.w $076D
	PHY
	JSR.w CODE_159B43
	PLY
	INY
	BRA.b CODE_159B11

CODE_159B38:
	LDA.w $0717
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.w $0718
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	RTL

CODE_159B43:
	ASL
	TAX
	LDA.l SMB2U_VaseInteriorObjectPtrs,x
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	INX
	LDA.l SMB2U_VaseInteriorObjectPtrs,x
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #DATA_15C152>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDY.b #$00
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	STA.b $E7
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$F0
	LSR
	LSR
	LSR
	LSR
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	AND.b #$0F
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	JSR.w CODE_159B76
	STZ.w $02E4
	RTS

CODE_159B76:
	LDA.b #$02
	STA.w $02E3
	LDA.b $E7
	STA.w $02E2
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
CODE_159B82:
	STZ.w $076C
	LDY.w $02E2
	LDA.b [$C4],y
	CMP.b #$5B
	BEQ.b CODE_159BC6
	LDY.w $02E3
	LDA.b [!RAM_SMB2U_Global_ScratchRAM05],y
	CMP.b #$40
	BEQ.b CODE_159BA9
	CMP.b #$AB
	BEQ.b CODE_159BA9
	CMP.b #$9D
	BEQ.b CODE_159BA9
	CMP.b #$9C
	BEQ.b CODE_159BA9
	CLC
	ADC.b #$2C
	INC.w $076C
CODE_159BA9:
	LDY.w $02E2
	STA.b [$C4],y
	LDX.w $076C
	BEQ.b CODE_159BC6
	LDA.b $C5
	STA.w $0714
	CLC
	ADC.b #$70
	STA.b $C5
	LDA.b #$01
	STA.b [$C4],y
	LDA.w $0714
	STA.b $C5
CODE_159BC6:
	INC.w $02E3
	LDY.w $02E2
	JSR.w CODE_159BEF
	STY.w $02E2
	DEC.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	BPL.b CODE_159B82
	DEC.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	BMI.b CODE_159BEE
	LDY.b !RAM_SMB2U_Global_ScratchRAM0C
	JSR.w CODE_159C04
	STY.b !RAM_SMB2U_Global_ScratchRAM0C
	STY.w $02E2
	LDA.b !RAM_SMB2U_Global_ScratchRAM0D
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	BRA.b CODE_159B82

CODE_159BEE:
	RTS

CODE_159BEF:
	TYA
	CLC
	ADC.b #$10
	TAY
	CMP.b #$F0
	BCC.b CODE_159C03
	INC.b $E9
	LDX.b $E9
	JSR.w CODE_159C2D
	TYA
	AND.b #$0F
	TAY
CODE_159C03:
	RTS

CODE_159C04:
	INY
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_159C0E
	LDX.b #$0A
	BRA.b CODE_159C29

CODE_159C0E:
	LDA.w $076D
	CMP.b #$07
	BEQ.b CODE_159C27
	CMP.b #$08
	BEQ.b CODE_159C27
	DEC.b $E9
	LDX.b $E9
	CPX.b #$FF
	BNE.b CODE_159C29
	LDX.b #$00
	STX.b $E9
	BRA.b CODE_159C29

CODE_159C27:
	LDX.b #$01
CODE_159C29:
	JSR.w CODE_159C2D
	RTS

;--------------------------------------------------------------------

CODE_159C2D:
	PHY
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	BEQ.b CODE_159C37
	LDY.b #$00
	BRA.b CODE_159C3A

CODE_159C37:
	LDY.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
CODE_159C3A:
	LDA.w DATA_11AB11,y
	CLC
	ADC.w DATA_11AAFB,x
	STA.b $C5
	LDA.w DATA_11AAF0,x
	STA.b $C4
	LDA.w DATA_11AB06,x
	STA.b $C6
	PLY
	RTS

;--------------------------------------------------------------------

DATA_159C4F:
	db $15,$16

DATA_159C51:
	db $01,$02

CODE_159C53:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_2_3
	BNE.b CODE_159C85
	LDA.b #$7E6D11
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #$7E6DC1
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.b #$7E6D11>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.b #$7E6D11>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDY.b #$00
CODE_159C70:
	TYA
	AND.b #$01
	TAX
	LDA.l DATA_159C4F,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	LDA.l DATA_159C51,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM03],y
	INY
	CPY.b #$0E
	BNE.b CODE_159C70
CODE_159C85:
	RTL

;--------------------------------------------------------------------

DATA_159C86:
	db $F1,$F2,$F3,$F4,$EF,$F0

CODE_159C8C:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_7_2
	BNE.b CODE_159C85
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_7_2_WartsRoom
	BNE.b CODE_159C85
	STZ.w $0712
	STZ.w $0713
	STZ.w $0714
CODE_159CA3:
	LDX.b #$00
	JSR.w CODE_159C2D
	REP.b #$20
	LDA.w $0712
	AND.w #$00FF
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.b $C4
	STA.b $C4
	SEP.b #$20
	LDA.w !RAM_SMB2U_Level_ScreensInLvl
	STA.w $0715
	LDA.w $0713
	STA.w $0714
CODE_159CC7:
	LDY.b #$00
CODE_159CC9:
	LDA.b [$C4],y
	CMP.b #$AA
	BEQ.b CODE_159CD7
	CMP.b #$DD
	BEQ.b CODE_159CD7
	CMP.b #$2D
	BNE.b CODE_159CE0
CODE_159CD7:
	LDX.w $0714
	LDA.l DATA_159C86,x
	STA.b [$C4],y
CODE_159CE0:
	INC.w $0714
	LDA.w $0714
	CMP.b #$06
	BNE.b CODE_159CED
	STZ.w $0714
CODE_159CED:
	INY
	CPY.b #$10
	BNE.b CODE_159CC9
	REP.b #$20
	LDA.b $C4
	CLC
	ADC.w #$00F0
	STA.b $C4
	SEP.b #$20
	DEC.w $0715
	BPL.b CODE_159CC7
	INC.w $0713
	LDA.w $0713
	CMP.b #$06
	BNE.b CODE_159D10
	STZ.w $0713
CODE_159D10:
	INC.w $0712
	LDA.w $0712
	CMP.b #$0F
	BNE.b CODE_159CA3
	RTL

;--------------------------------------------------------------------

DATA_159D1B:
	db $00,$01,$02,$03,$04,$05,$06,$07
	db $08,$09,$0A,$0B,$10,$11,$12,$13
	db $14,$15,$16,$17,$18,$19,$1A,$1B

DATA_159D33:
	db $20,$21,$22,$23,$24,$25,$26,$27
	db $28,$29,$2A,$2B,$20,$21,$22,$23
	db $24,$25,$26,$27,$28,$29,$2A,$2B

CODE_159D4B:
	STY.w $0712
	STX.w $0715
	LDA.w $050F
	CMP.b #$0A
	BNE.b CODE_159DBC
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #$02												; Todo: What level is being checked?
	BNE.b CODE_159D66
	TYA
	AND.b #$F0
	CMP.b #$90
	BEQ.b CODE_159DBC
CODE_159D66:
	TYA
	CLC
	ADC.b #$10
	TAY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BEQ.b CODE_159DBC
	STA.w $0716
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w $0713
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0714
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$7000
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	BEQ.b CODE_159DB2
	LDA.w $0713
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w $0716
	SEC
	SBC.b #$5C
	LDX.b #$17
CODE_159DA0:
	CMP.l DATA_159D1B,x
	BEQ.b CODE_159DA9
	DEX
	BPL.b CODE_159DA0
CODE_159DA9:
	LDA.l DATA_159D33,x
	CLC
	ADC.b #$5C
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_159DB2:
	LDA.w $0713
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w $0714
	STA.b !RAM_SMB2U_Global_ScratchRAM02
CODE_159DBC:
	LDY.w $0712
	LDX.w $0715
	RTL

;--------------------------------------------------------------------

; Note: Object that draws some of the ground in world 4?

DATA_159DC3:
	db $06,$05,$12,$11,$0A

DATA_159DC8:
	db $01,$02

CODE_159DCA:
	STZ.w $0714
	STZ.w $0716
CODE_159DD0:
	LDX.b $E9
	JSR.w CODE_159E48
	LDA.w $050E
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDY.b $E7
CODE_159DDC:
	LDX.b #$00
	TYA
	AND.b #$10
	BEQ.b CODE_159DE5
	INX
	INX
CODE_159DE5:
	TYA
	AND.b #$01
	BEQ.b CODE_159DEB
	INX
CODE_159DEB:
	LDA.w $0714
	BEQ.b CODE_159DF2
	LDX.b #$04
CODE_159DF2:
	LDA.w $0716
	BNE.b CODE_159E07
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$40
	BNE.b CODE_159E07
	TXA
	AND.b #$01
	TAX
	LDA.l DATA_159DC8,x
	BRA.b CODE_159E0B

CODE_159E07:
	LDA.l DATA_159DC3,x
CODE_159E0B:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $0715
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w $0714
	BNE.b CODE_159E20
	LDA.b #$01
	BRA.b CODE_159E22

CODE_159E20:
	LDA.b #$00
CODE_159E22:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDA.w $0715
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	JSR.w CODE_159651
	DEC.b !RAM_SMB2U_Global_ScratchRAM07
	BPL.b CODE_159DDC
	LDA.b #$01
	STA.w $0716
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	CMP.b #$C0
	BCC.b CODE_159DD0
	INC.w $0714
	CMP.b #$D0
	BCC.b CODE_159DD0
	RTL

CODE_159E48:
	STY.w $02F5
	LDY.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.w DATA_11AB11,y
	CLC
	ADC.w DATA_11AAFB,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w DATA_11AAF0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w DATA_11AB06,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.w $02F5
	RTS

;--------------------------------------------------------------------

CODE_159E65:
	STZ.b $E9
	JSR.w CODE_1594EC
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_159E6C:
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.l DATA_15C5CE,x
	CMP.b #$FF
	BEQ.b CODE_159E9C
	ASL
	TAX
	LDA.l DATA_15C466,x
	STA.b $C4
	INX
	LDA.l DATA_15C466,x
	STA.b $C5
	LDA.b #DATA_15C48E>>16
	STA.b $C6
	LDX.b !RAM_SMB2U_Global_ScratchRAM0F
	INX
	LDA.l DATA_15C5CE,x
	DEC
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	JSR.w CODE_159E9D
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
	BRA.b CODE_159E6C

CODE_159E9C:
	RTL

CODE_159E9D:
	LDY.b #$00
CODE_159E9F:
	LDA.b [$C4],y
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INY
	CPY.b #$10
	BMI.b CODE_159E9F
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$0010
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	DEC.b !RAM_SMB2U_Global_ScratchRAM0E
	BPL.b CODE_159E9D
	RTS

;--------------------------------------------------------------------

CODE_159EB9:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_7_2
	BEQ.b CODE_159EDD
	CMP.b #!Define_SMB2U_LevelID_7_1
	BNE.b CODE_159EC7
	JMP.w CODE_159FC3

CODE_159EC7:
	CMP.b #!Define_SMB2U_LevelID_1_2
	BNE.b CODE_159ECE
	JMP.w CODE_159FF2

CODE_159ECE:
	CMP.b #!Define_SMB2U_LevelID_1_3
	BNE.b CODE_159ED5
	JMP.w CODE_15A037

CODE_159ED5:
	CMP.b #!Define_SMB2U_LevelID_5_2
	BNE.b CODE_159EDC
	JMP.w CODE_15A03F

CODE_159EDC:
	RTL

CODE_159EDD:
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
	LDX.b #$00
	LDA.l DATA_15C625,x
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	INX
	LDA.l DATA_15C625,x
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	INX
	LDA.l DATA_15C625,x
	STA.b !RAM_SMB2U_Global_ScratchRAM06
CODE_159EF5:
	LDY.b #$00
	LDA.b [!RAM_SMB2U_Global_ScratchRAM04],y
	CMP.b #$FF
	BEQ.b CODE_159F60
	CMP.b #$01
	BEQ.b CODE_159F19
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM04],y
	ASL
	TAX
	LDA.l DATA_15C890,x
	STA.b $C4
	INX
	LDA.l DATA_15C890,x
	STA.b $C5
	LDA.b #DATA_15C8A2>>16
	STA.b $C6
	BRA.b CODE_159F2F

CODE_159F19:
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM04],y
	ASL
	TAX
	LDA.l DATA_15C8B4,x
	STA.b $C4
	INX
	LDA.l DATA_15C8B4,x
	STA.b $C5
	LDA.b #DATA_15C8C6>>16
	STA.b $C6
CODE_159F2F:
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM04],y
	DEC
	STA.w $0721
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM04],y
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM04],y
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$7E
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.b #$00
	LDA.b [!RAM_SMB2U_Global_ScratchRAM04],y
	BNE.b CODE_159F4F
	JSR.w CODE_159F61
	BRA.b CODE_159F52

CODE_159F4F:
	JSR.w CODE_159F88
CODE_159F52:
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM04
	CLC
	ADC.w #$0005
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	SEP.b #$20
	BRA.b CODE_159EF5

CODE_159F60:
	RTL

CODE_159F61:
	STZ.w $0712
CODE_159F64:
	LDA.w $0712
	AND.b #$01
	TAY
	LDA.b [$C4],y
	STA.b [!RAM_SMB2U_Global_ScratchRAM01]
	JSR.w CODE_15A06B
	DEC.w $0721
	BMI.b CODE_159F87
	INC.w $0712
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$0010
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	BRA.b CODE_159F64

CODE_159F87:
	RTS

CODE_159F88:
	STZ.w $0712
CODE_159F8B:
	LDA.w $0712
	AND.b #$01
	TAY
	LDA.b [$C4],y
	STA.b [!RAM_SMB2U_Global_ScratchRAM01]
	JSR.w CODE_15A06B
	DEC.w $0721
	BMI.b CODE_159FC0
	INC.w $0712
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.b #$0F
	CMP.b #$0F
	BEQ.b CODE_159FAC
	INC.b !RAM_SMB2U_Global_ScratchRAM01
	BRA.b CODE_159F8B

CODE_159FAC:
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$00F0
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	BRA.b CODE_159F8B
CODE_159FC0:
	RTS

DATA_159FC1:
	db $07,$13

CODE_159FC3:
	LDA.b #$7E5720
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$7E5720>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$7E5720>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	STZ.w $0712
CODE_159FD2:
	LDA.w $0712
	AND.b #$01
	TAX
	LDA.w $0712
	ASL
	ASL
	ASL
	ASL
	TAY
	LDA.l DATA_159FC1,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.w $0712
	CPY.b #$A0
	BNE.b CODE_159FD2
	RTL

DATA_159FEE:
	db $11,$05

DATA_159FF0:
	db $12,$06

CODE_159FF2:									; Note: Hack that modifies the rightmost column of tiles in the first sublevel of 1-2.
	STZ.w $0713
	LDA.b #$7E269F
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$7E269F>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
CODE_159FFD:
	LDA.b #$7E
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	STZ.w $0712
CODE_15A004:
	LDA.w $0712
	AND.b #$01
	CLC
	ADC.w $0713
	TAX
	LDA.w $0712
	ASL
	ASL
	ASL
	ASL
	TAY
	LDA.l DATA_159FEE,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.w $0712
	CPY.b #$C0
	BNE.b CODE_15A004
	LDA.w $0713
	BNE.b CODE_15A036
	STZ.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$7E3600>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	INC.w $0713
	INC.w $0713
	BRA.b CODE_159FFD

CODE_15A036:
	RTL

CODE_15A037:
	STZ.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$7E2000>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	BRA.b CODE_15A047

CODE_15A03F:
	LDA.b #$7E337F
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$7E337F>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
CODE_15A047:
	LDA.b #$7E
	STA.w !RAM_SMB2U_Global_ScratchRAM03				; Optimization: Unnecessary absolute addressing
	STZ.w $0712
CODE_15A04F:
	LDA.w $0712
	AND.b #$01
	TAX
	LDA.w $0712
	ASL
	ASL
	ASL
	ASL
	TAY
	LDA.l DATA_159FF0,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	INC.w $0712
	CPY.b #$A0
	BNE.b CODE_15A04F
	RTL

;--------------------------------------------------------------------

CODE_15A06B:
	LDY.b #$00
CODE_15A06D:
	STA.w $076E
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w $076F
	CLC
	ADC.b #$70
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$01
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	LDA.w $076F
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w $076E
	RTS

;--------------------------------------------------------------------

DATA_15A087:
	db $04,$10,$14

DATA_15A08A:
	db $06,$05,$15

DATA_15A08D:
	db $12,$11,$16

CODE_15A090:
	STZ.w $0719
CODE_15A093:
	LDA.b $E7
	TAY
	AND.b #$F0
	CMP.b #$C0
	BEQ.b CODE_15A0A5
	AND.b #$10
	LSR
	LSR
	LSR
	LSR
	TAX
	BRA.b CODE_15A0AA

CODE_15A0A5:
	INC.w $0719
	LDX.b #$02
CODE_15A0AA:
	LDA.l DATA_15A087,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_15A06D
	INY
CODE_15A0B4:
	LDA.w $0719
	BNE.b CODE_15A0BF
	TYA
	AND.b #$01
	TAX
	BRA.b CODE_15A0C1

CODE_15A0BF:
	LDX.b #$02
CODE_15A0C1:
	TYA
	AND.b #$10
	BNE.b CODE_15A0CC
	LDA.l DATA_15A08A,x
	BRA.b CODE_15A0D0

CODE_15A0CC:
	LDA.l DATA_15A08D,x
CODE_15A0D0:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_15A06D
	INY
	TYA
	AND.b #$0F
	BNE.b CODE_15A0B4
	LDA.w $0719
	BNE.b CODE_15A0E9
	LDA.b $E7
	CLC
	ADC.b #$10
	STA.b $E7
	BRA.b CODE_15A093

CODE_15A0E9:
	RTL

;--------------------------------------------------------------------

DATA_15A0EA:
	db !Define_SMB2U_LevelID_1_3
	db !Define_SMB2U_LevelID_2_3
	db !Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_4_3
	db !Define_SMB2U_LevelID_5_3
	db !Define_SMB2U_LevelID_6_3

DATA_15A0F0:
	db !Define_SMB2U_SublevelID_1_3_MousersRoom
	db !Define_SMB2U_SublevelID_2_3_TryclydesRoom
	db !Define_SMB2U_SublevelID_3_3_MousersRoom
	db !Define_SMB2U_SublevelID_4_3_FryguysRoom
	db !Define_SMB2U_SublevelID_5_3_ClawgripsRoom
	db !Define_SMB2U_SublevelID_6_3_TryclydesRoom

DATA_15A0F6:
	db $2C,$A9,$DC,$2C,$A9,$DC,$2C,$A9
	db $DC,$2C,$A9,$DC,$2C,$A9,$DC

DATA_15A105:
	db $BA,$BD,$BE,$BB,$BC,$BF,$BA,$BD
	db $BE,$BB,$BC,$BF,$BA,$BD,$BE

DATA_15A114:
	db $BB,$BC,$BF,$BA,$BD,$BE,$BB,$BC
	db $BF,$BA,$BD,$BE,$BB,$BC,$BF

CODE_15A123:
	LDX.b #$05
	LDA.w !RAM_SMB2U_Level_CurrentLevel
CODE_15A128:
	CMP.l DATA_15A0EA,x
	BEQ.b CODE_15A132
	DEX
	BPL.b CODE_15A128
CODE_15A131:
	RTL

CODE_15A132:
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.l DATA_15A0F0,x
	BNE.b CODE_15A131
	STZ.b $E9
CODE_15A13D:
	LDX.b $E9
	JSR.w CODE_15A177
	STZ.b $E7
	LDA.b $E7
CODE_15A146:
	TAY
	LSR
	LSR
	LSR
	LSR
	TAX
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.l DATA_15A0F6,x
	BNE.b CODE_15A166
	LDA.b $E7
	AND.b #$01
	BNE.b CODE_15A160
	LDA.l DATA_15A105,x
	BRA.b CODE_15A164

CODE_15A160:
	LDA.l DATA_15A114,x
CODE_15A164:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_15A166:
	INC.b $E7
	LDA.b $E7
	CMP.b #$F0
	BNE.b CODE_15A146
	LDA.b $E9
	BNE.b CODE_15A176
	INC.b $E9
	BRA.b CODE_15A13D

CODE_15A176:
	RTL

CODE_15A177:
	STY.w $02F5
	LDY.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.w DATA_11AB11,y
	CLC
	ADC.w DATA_11AAFB,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w DATA_11AAF0,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w DATA_11AB06,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDY.w $02F5
	RTS

;--------------------------------------------------------------------

DATA_15A194:
	db $5C,$2F,$7E,$36,$86,$4C,$63,$4E
	db $44,$51

DATA_15A19E:
	db $03,$05,$0D,$04,$07

CODE_15A1A3:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_5_3
	BNE.b CODE_15A1EF
	LDX.b #$04
CODE_15A1AC:
	STX.w $0714
	TXA
	ASL
	TAX
	REP.b #$20
	LDA.l DATA_15A194,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	LDA.b #$7E
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.w $0714
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.b #$0F
	TAY
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	AND.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$B2
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_15A1F0
	LDA.l DATA_15A19E,x
	STA.w $0713
CODE_15A1DC:
	LDA.b #$FD
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_15A1F0
	DEC.w $0713
	BPL.b CODE_15A1DC
	LDA.b #$FE
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	DEX
	BPL.b CODE_15A1AC
CODE_15A1EF:
	RTL

CODE_15A1F0:
	INY
	TYA
	AND.b #$0F
	BNE.b CODE_15A1F8
	LDY.b #$F0
CODE_15A1F8:
	RTS

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_FixCutoffLedgesIn3_1VerticalSublevel(NULLROM)				; $15A1F9

;--------------------------------------------------------------------

DATA_15A230:
	db $BA,$BB,$BC,$BD,$BE,$BF,$70,$F5
	db $3F,$76,$62,$63,$A4,$A5,$CA,$CE
	db $C7,$C9,$D2,$D3

CODE_15A244:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDX.b #$9A
else
	LDX.b #$97
endif
CODE_15A246:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.l DATA_15C8D8,x
	BNE.b CODE_15A298
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.l DATA_15C970,x
	BNE.b CODE_15A298
	STX.w $0719
	REP.b #$30
	TXA
	AND.w #$00FF
	ASL
	TAX
	LDA.l DATA_15CA08,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$30
	LDA.b #$7E2000>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.w $0719
	LDA.l DATA_15CB38,x
	STA.w $071A
	LDX.b #$13
CODE_15A27B:
	CMP.l DATA_15A230,x
	BEQ.b CODE_15A293
	DEX
	BPL.b CODE_15A27B
	LDX.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	LDA.l DATA_11AB11,x
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM02
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w $071A
CODE_15A293:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01]
	LDX.w $0719
CODE_15A298:
	DEX
	CPX.b #$FF
	BEQ.b CODE_15A2A0
	BRL.w CODE_15A246

CODE_15A2A0:
	RTL

;--------------------------------------------------------------------

DATA_15A2A1:
	db $28,$29,$26,$2A,$2B,$27

CODE_15A2A7:
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.w #$0050
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	SEP.b #$20
	LDY.b $E7
	LDX.b #$00
CODE_15A2B7:
	LDA.l DATA_15A2A1,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_15A06D
	PHY
	TYA
	CLC
	ADC.b #$20
	TAY
	LDA.l DATA_15A2A1,x
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	JSR.w CODE_15A06D
	PLY
	INY
	INX
	CPX.b #$06
	BEQ.b CODE_15A2E5
	CPX.b #$03
	BNE.b CODE_15A2B7
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDY.b $E7
	BRA.b CODE_15A2B7

CODE_15A2E5:
	RTL

;--------------------------------------------------------------------

	%ROUTINE_SMB2U_HandleSlotMachine3CoinService(NULLROM)				; $15A2E6
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	%FREE_BYTES(NULLROM, 1, $FF)
else
	%FREE_BYTES(NULLROM, 13, $FF)
endif

;--------------------------------------------------------------------

DATA_15A400:
	db $00,$00,$00,$01,$01,$01,$00,$00,$00,$00
	db $01,$01,$01,$03,$02,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$01,$01,$00,$04,$00,$00,$00,$00,$00
	db $01,$01,$01,$01,$04,$01,$00,$00,$00,$00
	db $00,$00,$01,$01,$03,$01,$00,$01,$00,$00
	db $01,$01,$01,$01,$01,$00,$00,$00,$00,$00
	db $01,$01,$01,$00,$00,$00,$00,$00,$00,$00
	db $01,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $01,$01,$00,$00,$00,$00,$00,$00,$00,$00
	db $01,$00,$00,$01,$01,$00,$00,$00,$00,$00
	db $01,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$01,$01,$00,$00,$00,$00,$00,$00,$00
	db $01,$00,$01,$01,$05,$01,$00,$00,$00,$00
	db $01,$00,$01,$01,$01,$00,$00,$00,$00,$00
	db $00,$01,$01,$07,$03,$06,$02,$00,$00,$00
	db $01,$01,$01,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$01,$01,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$01,$01,$00,$00,$00,$00
	db $00,$01,$01,$01,$01,$00,$01,$01,$01,$01

;--------------------------------------------------------------------

; Note: Map16 data for page 01?

DATA_15A4C8:
	dw DATA_15A4CE
	dw DATA_15A62E
	dw DATA_15A7AE

DATA_15A4CE:
	db $00,$11,$01,$11,$10,$11,$11,$11,$02,$11,$03,$11,$12,$11,$13,$11
	db $04,$11,$05,$11,$14,$11,$15,$11,$06,$11,$07,$11,$16,$11,$17,$11
	db $08,$11,$09,$11,$18,$11,$19,$11,$0A,$11,$0B,$11,$1A,$11,$1B,$11
	db $0C,$11,$0D,$11,$1C,$11,$1D,$11,$0E,$11,$0F,$11,$1E,$11,$1F,$11
	db $00,$11,$07,$11,$10,$11,$17,$11,$08,$11,$0F,$11,$18,$11,$1F,$11
	db $00,$11,$01,$11,$38,$11,$39,$11,$02,$11,$03,$11,$3A,$11,$3B,$11
	db $04,$11,$05,$11,$3C,$11,$3D,$11,$06,$11,$07,$11,$3E,$11,$3F,$11
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $20,$11,$21,$11,$30,$11,$31,$11,$22,$11,$23,$11,$32,$11,$33,$11
	db $24,$11,$25,$11,$34,$11,$35,$11,$26,$11,$27,$11,$36,$11,$37,$11
	db $28,$11,$29,$11,$38,$11,$39,$11,$2A,$11,$2B,$11,$3A,$11,$3B,$11
	db $2C,$11,$2D,$11,$3C,$11,$3D,$11,$2E,$11,$2F,$11,$3E,$11,$3F,$11
	db $20,$11,$27,$11,$30,$11,$37,$11,$28,$11,$2F,$11,$38,$11,$3F,$11
	db $39,$10,$01,$11,$10,$11,$11,$11,$06,$11,$39,$50,$16,$11,$17,$11
	db $AC,$10,$09,$11,$18,$11,$19,$11,$0E,$11,$AD,$10,$1E,$11,$1F,$11
	db $39,$10,$39,$50,$10,$11,$17,$11,$AC,$10,$AD,$10,$18,$11,$1F,$11
	db $28,$11,$29,$11,$3A,$10,$4F,$10,$2A,$11,$2B,$11,$4E,$10,$4F,$10
	db $2C,$11,$2D,$11,$97,$10,$4F,$10,$2E,$11,$2F,$11,$4E,$10,$3A,$50
	db $28,$11,$2F,$11,$3A,$10,$3A,$50,$00,$11,$07,$11,$38,$11,$3F,$11
	db $60,$12,$61,$12,$70,$12,$71,$12,$62,$12,$63,$12,$72,$12,$73,$12
	db $68,$12,$69,$12,$78,$12,$79,$12,$6A,$12,$6B,$12,$7A,$12,$7B,$12
	db $6C,$12,$6D,$12,$7C,$12,$7D,$12,$6E,$12,$6F,$12,$7E,$12,$7F,$12

DATA_15A62E:
	db $0D,$72,$0B,$32,$0A,$32,$00,$32,$0B,$32,$0D,$32,$00,$32,$0A,$72
	db $0A,$32,$0C,$32,$0A,$32,$00,$32,$0C,$72,$0A,$72,$00,$72,$0A,$72
	db $0A,$32,$00,$32,$0D,$F2,$0B,$B2,$00,$32,$0A,$72,$0C,$F2,$0A,$72
	db $0A,$32,$00,$72,$0A,$32,$0C,$B2,$00,$72,$0A,$72,$0B,$F2,$0D,$B2
	db $BF,$00,$01,$32,$04,$32,$05,$32,$02,$32,$03,$32,$06,$32,$0C,$B2
	db $0C,$72,$0C,$32,$0B,$F2,$0B,$F2,$0B,$32,$0D,$32,$0B,$F2,$0D,$B2
	db $0D,$72,$0B,$72,$0D,$F2,$0B,$B2,$0C,$72,$0C,$32,$0B,$B2,$0B,$B2
	db $03,$72,$02,$72,$0C,$F2,$06,$72,$01,$72,$BF,$00,$05,$72,$04,$72
	db $00,$B2,$00,$B2,$0B,$B2,$0B,$B2,$0A,$32,$0A,$72,$0A,$32,$0A,$72
	db $08,$72,$07,$72,$0C,$F2,$09,$72,$07,$32,$08,$32,$09,$32,$0C,$B2
	db $0A,$32,$00,$72,$0A,$32,$00,$32,$00,$B2,$0C,$32,$00,$B2,$00,$32
	db $0C,$72,$00,$72,$00,$F2,$00,$F2,$00,$72,$0A,$72,$00,$72,$0A,$72
	db $00,$B2,$0C,$32,$0B,$B2,$0B,$B2,$0B,$32,$0B,$32,$0B,$B2,$0B,$B2
	db $0C,$72,$00,$F2,$0B,$B2,$0B,$B2,$0B,$32,$0B,$32,$00,$32,$00,$32
	db $00,$32,$0C,$32,$0C,$F2,$00,$32,$0B,$32,$0B,$32,$00,$32,$0C,$B2
	db $0B,$32,$0B,$72,$0C,$F2,$00,$72,$0C,$72,$00,$F2,$00,$72,$0C,$B2
	db $02,$32,$03,$32,$06,$32,$00,$32,$03,$72,$02,$72,$00,$72,$06,$72
	db $0A,$32,$0C,$32,$0D,$F2,$0B,$B2,$0C,$72,$0A,$72,$0B,$B2,$0D,$B2
	db $09,$B2,$00,$32,$07,$B2,$00,$32,$04,$B2,$05,$B2,$BF,$00,$01,$B2
	db $06,$B2,$0C,$32,$02,$B2,$03,$B2,$0C,$72,$06,$F2,$03,$F2,$02,$F2
	db $05,$F2,$04,$F2,$01,$F2,$BF,$00,$00,$72,$09,$F2,$00,$72,$07,$F2
	db $0C,$72,$00,$F2,$0C,$F2,$00,$F2,$00,$B2,$0C,$32,$00,$B2,$0C,$B2
	db $00,$B2,$00,$32,$00,$32,$00,$32,$0B,$32,$0D,$32,$0C,$F2,$0A,$72
	db $0D,$72,$0B,$72,$0A,$32,$0C,$B2,$50,$30,$52,$30,$51,$30,$53,$30

DATA_15A7AE:
	db $2B,$52,$2A,$52,$3B,$52,$3A,$52,$29,$52,$28,$52,$39,$52,$38,$52
	db $27,$52,$26,$52,$37,$52,$36,$52,$25,$52,$24,$52,$35,$52,$34,$52
	db $23,$52,$22,$52,$33,$52,$32,$52,$21,$52,$20,$52,$31,$52,$30,$52
	db $20,$12,$21,$12,$30,$12,$31,$12,$22,$12,$23,$12,$32,$12,$33,$12
	db $24,$12,$25,$12,$34,$12,$35,$12,$26,$12,$27,$12,$36,$12,$37,$12
	db $28,$12,$29,$12,$38,$12,$39,$12,$2A,$12,$2B,$12,$3A,$12,$3B,$12
	db $2C,$12,$2D,$12,$3C,$12,$3D,$12,$2E,$12,$2F,$12,$3E,$12,$3F,$12
	db $2F,$52,$2E,$52,$3F,$52,$3E,$52,$2D,$52,$2C,$52,$3D,$52,$3C,$52
	db $2B,$D2,$2A,$D2,$3B,$D2,$3A,$D2,$29,$D2,$28,$D2,$39,$D2,$38,$D2
	db $27,$D2,$26,$D2,$37,$D2,$36,$D2,$25,$D2,$24,$D2,$35,$D2,$34,$D2
	db $23,$D2,$22,$D2,$33,$D2,$32,$D2,$21,$D2,$20,$D2,$31,$D2,$30,$D2
	db $20,$92,$21,$92,$30,$92,$31,$92,$22,$92,$23,$92,$32,$92,$33,$92
	db $24,$92,$25,$92,$34,$92,$35,$92,$26,$92,$27,$92,$36,$92,$37,$92
	db $28,$92,$29,$92,$38,$92,$39,$92,$2A,$92,$2B,$92,$3A,$92,$3B,$92
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00,$BF,$00
	db $FF,$50,$FE,$50,$3B,$52,$3A,$52,$FD,$50,$FC,$50,$39,$52,$38,$52
	db $FB,$50,$FA,$50,$37,$52,$36,$52,$F9,$50,$F8,$50,$35,$52,$34,$52
	db $F7,$50,$F6,$50,$33,$52,$32,$52,$F5,$50,$F4,$50,$31,$52,$30,$52
	db $F4,$10,$F5,$10,$30,$12,$31,$12,$F6,$10,$F7,$10,$32,$12,$33,$12
	db $F8,$10,$F9,$10,$34,$12,$35,$12,$FA,$10,$FB,$10,$36,$12,$37,$12
	db $FC,$10,$FD,$10,$38,$12,$39,$12,$FE,$10,$FF,$10,$3A,$12,$3B,$12

;--------------------------------------------------------------------

; Note: Object tiles?

DATA_15A90E:
	dw DATA_15A94A
	dw DATA_15A9A4
	dw DATA_15A9FE
	dw DATA_15A9FE
	dw DATA_15A9FE
	dw DATA_15A9FE
	dw DATA_15A9FE
	dw DATA_15A9FE
	dw DATA_15AA58
	dw DATA_15AAB2
	dw DATA_15AAB2
	dw DATA_15AB0C
	dw DATA_15AB66
	dw DATA_15ABC0
	dw DATA_15AC1A
	dw DATA_15AC74
	dw DATA_15ACCE
	dw DATA_15AD28
	dw DATA_15AD82
	dw DATA_15ADDC
	dw DATA_15AE36
	dw DATA_15AE90
	dw DATA_15AEEA
	dw DATA_15AF44
	dw DATA_15AF9E
	dw DATA_15AF9E
	dw DATA_15AFF8
	dw DATA_15B052
	dw DATA_15B0AC
	dw DATA_15B106

DATA_15A94A:
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$00,$10,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$01,$06,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$02,$05,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$01,$06,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$02,$05,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $03,$13

DATA_15A9A4:
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$00,$10,$04,$10,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$01,$06,$12,$06,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$02,$05,$11,$05,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $01,$06,$12,$06,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$02
	db $05,$11,$05,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$03,$13
	db $07,$13

DATA_15A9FE:
	db $40,$40,$40,$40,$40,$40,$40,$00
	db $10,$04,$10,$04,$10,$04,$10,$40
	db $40,$40,$40,$40,$40,$40,$01,$06
	db $12,$06,$12,$06,$12,$06,$40,$40
	db $40,$40,$40,$40,$40,$02,$05,$11
	db $05,$11,$05,$11,$05,$40,$40,$40
	db $40,$40,$40,$40,$01,$06,$12,$06
	db $12,$06,$12,$06,$40,$40,$40,$40
	db $40,$40,$40,$02,$05,$11,$05,$11
	db $05,$11,$05,$40,$40,$40,$40,$40
	db $40,$40,$03,$13,$07,$13,$07,$13
	db $07,$13

DATA_15AA58:
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40

DATA_15AAB2:
	db $04,$10,$04,$10,$04,$10,$04,$10
	db $04,$10,$04,$10,$04,$10,$04,$05
	db $11,$05,$11,$05,$11,$05,$11,$05
	db $11,$05,$11,$05,$11,$05,$06,$12
	db $06,$12,$06,$12,$06,$12,$06,$12
	db $06,$12,$06,$12,$06,$05,$11,$05
	db $11,$05,$11,$05,$11,$05,$11,$05
	db $11,$05,$11,$05,$06,$12,$06,$12
	db $06,$12,$06,$12,$06,$12,$06,$12
	db $06,$12,$06,$07,$13,$07,$13,$07
	db $13,$07,$13,$07,$13,$07,$13,$07
	db $13,$07

DATA_15AB0C:
	db $40,$40,$40,$40,$40,$40,$00,$10
	db $04,$10,$04,$10,$04,$10,$04,$40
	db $40,$40,$40,$40,$40,$01,$11,$05
	db $11,$05,$11,$05,$11,$05,$40,$40
	db $40,$40,$40,$40,$02,$12,$06,$12
	db $06,$12,$06,$12,$06,$40,$40,$40
	db $40,$40,$40,$01,$11,$05,$11,$05
	db $11,$05,$11,$05,$40,$40,$40,$40
	db $40,$40,$02,$12,$06,$12,$06,$12
	db $06,$12,$06,$40,$40,$40,$40,$40
	db $40,$03,$13,$07,$13,$07,$13,$07
	db $13,$07

DATA_15AB66:
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$00,$10,$04,$10,$04,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$01,$11,$05,$11,$05,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $02,$12,$06,$12,$06,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$01
	db $11,$05,$11,$05,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$02,$12
	db $06,$12,$06,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$03,$13,$07
	db $13,$07

DATA_15ABC0:
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$00,$10,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$01,$06,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$02,$05,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$01,$06,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$02,$05,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $03,$13

DATA_15AC1A:
	db $04,$14,$40,$40,$40,$40,$00,$10
	db $04,$10,$04,$10,$04,$10,$04,$05
	db $15,$40,$40,$40,$40,$01,$11,$05
	db $11,$05,$11,$05,$11,$05,$06,$16
	db $40,$40,$40,$40,$02,$12,$06,$12
	db $06,$12,$06,$12,$06,$05,$15,$40
	db $40,$40,$40,$01,$11,$05,$11,$05
	db $11,$05,$11,$05,$06,$16,$40,$40
	db $40,$40,$02,$12,$06,$12,$06,$12
	db $06,$12,$06,$07,$17,$40,$40,$40
	db $40,$03,$13,$07,$13,$07,$13,$07
	db $13,$07

DATA_15AC74:
	db $10,$04,$14,$40,$40,$40,$40,$40
	db $40,$40,$00,$10,$04,$10,$04,$06
	db $12,$15,$40,$40,$40,$40,$40,$40
	db $40,$01,$11,$05,$11,$05,$05,$11
	db $16,$40,$40,$40,$40,$40,$40,$40
	db $02,$12,$06,$12,$06,$06,$12,$15
	db $40,$40,$40,$40,$40,$40,$40,$01
	db $11,$05,$11,$05,$05,$11,$16,$40
	db $40,$40,$40,$40,$40,$40,$02,$12
	db $06,$12,$06,$13,$07,$17,$40,$40
	db $40,$40,$40,$40,$40,$03,$13,$07
	db $13,$07

DATA_15ACCE:
	db $10,$04,$14,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$00,$10,$06
	db $12,$15,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$01,$06,$05,$11
	db $16,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$02,$05,$06,$12,$15
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$01,$06,$05,$11,$16,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$02,$05,$13,$07,$17,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $03,$13

DATA_15AD28:
	db $04,$10,$04,$10,$04,$14,$40,$40
	db $40,$40,$00,$10,$04,$10,$04,$05
	db $11,$05,$11,$05,$15,$40,$40,$40
	db $40,$01,$11,$05,$11,$05,$06,$12
	db $06,$12,$06,$16,$40,$40,$40,$40
	db $02,$12,$06,$12,$06,$05,$11,$05
	db $11,$05,$15,$40,$40,$40,$40,$01
	db $11,$05,$11,$05,$06,$12,$06,$12
	db $06,$16,$40,$40,$40,$40,$02,$12
	db $06,$12,$06,$07,$13,$07,$13,$07
	db $17,$40,$40,$40,$40,$03,$13,$07
	db $13,$07

DATA_15AD82:
	db $04,$10,$04,$10,$04,$10,$04,$10
	db $04,$14,$40,$40,$40,$00,$10,$05
	db $11,$05,$11,$05,$11,$05,$11,$05
	db $15,$40,$40,$40,$01,$06,$06,$12
	db $06,$12,$06,$12,$06,$12,$06,$16
	db $40,$40,$40,$02,$05,$05,$11,$05
	db $11,$05,$11,$05,$11,$05,$15,$40
	db $40,$40,$01,$06,$06,$12,$06,$12
	db $06,$12,$06,$12,$06,$16,$40,$40
	db $40,$02,$05,$07,$13,$07,$13,$07
	db $13,$07,$13,$07,$17,$40,$40,$40
	db $03,$13

DATA_15ADDC:
	db $10,$04,$10,$04,$10,$04,$10,$04
	db $14,$40,$40,$40,$40,$00,$10,$06
	db $12,$06,$12,$06,$12,$06,$12,$15
	db $40,$40,$40,$40,$01,$06,$05,$11
	db $05,$11,$05,$11,$05,$11,$16,$40
	db $40,$40,$40,$02,$05,$06,$12,$06
	db $12,$06,$12,$06,$12,$15,$40,$40
	db $40,$40,$01,$06,$05,$11,$05,$11
	db $05,$11,$05,$11,$16,$40,$40,$40
	db $40,$02,$05,$13,$07,$13,$07,$13
	db $07,$13,$07,$17,$40,$40,$40,$40
	db $03,$13

DATA_15AE36:
	db $10,$04,$10,$04,$10,$04,$14,$40
	db $40,$40,$40,$40,$40,$00,$10,$06
	db $12,$06,$12,$06,$12,$15,$40,$40
	db $40,$40,$40,$40,$01,$06,$05,$11
	db $05,$11,$05,$11,$16,$40,$40,$40
	db $40,$40,$40,$02,$05,$06,$12,$06
	db $12,$06,$12,$15,$40,$40,$40,$40
	db $40,$40,$01,$06,$05,$11,$05,$11
	db $05,$11,$16,$40,$40,$40,$40,$40
	db $40,$02,$05,$13,$07,$13,$07,$13
	db $07,$17,$40,$40,$40,$40,$40,$40
	db $03,$13

DATA_15AE90:
	db $04,$14,$40,$40,$40,$40,$00,$10
	db $14,$40,$40,$40,$40,$00,$10,$05
	db $15,$40,$40,$40,$40,$01,$06,$15
	db $40,$40,$40,$40,$01,$06,$06,$16
	db $40,$40,$40,$40,$01,$05,$16,$40
	db $40,$40,$40,$02,$05,$05,$15,$40
	db $40,$40,$40,$02,$06,$15,$40,$40
	db $40,$40,$01,$06,$06,$16,$40,$40
	db $40,$40,$02,$05,$16,$40,$40,$40
	db $40,$02,$05,$07,$17,$40,$40,$40
	db $40,$03,$13,$17,$40,$40,$40,$40
	db $03,$13

DATA_15AEEA:
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$00,$10,$04,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$01,$11,$05,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$02,$12,$06,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$01,$11,$05,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $02,$12,$06,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$03
	db $13,$07

DATA_15AF44:
	db $10,$04,$14,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$06
	db $12,$15,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$05,$11
	db $16,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$06,$12,$15
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$05,$11,$16,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$13,$07,$17,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40

DATA_15AF9E:
	db $04,$10,$04,$10,$04,$14,$40,$40
	db $40,$40,$40,$00,$10,$04,$10,$05
	db $11,$05,$11,$05,$15,$40,$40,$40
	db $40,$40,$01,$06,$12,$06,$06,$12
	db $06,$12,$06,$16,$40,$40,$40,$40
	db $40,$02,$05,$11,$05,$05,$11,$05
	db $11,$05,$15,$40,$40,$40,$40,$40
	db $01,$06,$12,$06,$06,$12,$06,$12
	db $06,$16,$40,$40,$40,$40,$40,$02
	db $05,$11,$05,$07,$13,$07,$13,$07
	db $17,$40,$40,$40,$40,$40,$03,$13
	db $07,$13

DATA_15AFF8:
	db $04,$14,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$00,$10,$04,$10,$05
	db $15,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$01,$06,$12,$06,$06,$16
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$02,$05,$11,$05,$05,$15,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $01,$06,$12,$06,$06,$16,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$02
	db $05,$11,$05,$07,$17,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$03,$13
	db $07,$13

DATA_15B052:
	db $04,$10,$04,$10,$04,$14,$40,$40
	db $40,$40,$40,$40,$40,$00,$10,$05
	db $11,$05,$11,$05,$15,$40,$40,$40
	db $40,$40,$40,$40,$01,$06,$06,$12
	db $06,$12,$06,$16,$40,$40,$40,$40
	db $40,$40,$40,$02,$05,$05,$11,$05
	db $11,$05,$15,$40,$40,$40,$40,$40
	db $40,$40,$01,$06,$06,$12,$06,$12
	db $06,$16,$40,$40,$40,$40,$40,$40
	db $40,$02,$05,$07,$13,$07,$13,$07
	db $17,$40,$40,$40,$40,$40,$40,$40
	db $03,$13

DATA_15B0AC:
	db $04,$14,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$00,$10,$05
	db $15,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$01,$06,$06,$16
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$02,$05,$05,$15,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$01,$06,$06,$16,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$02,$05,$07,$17,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $03,$13

;--------------------------------------------------------------------

DATA_15B106:
	dw DATA_15B148
	dw DATA_15B168
	dw DATA_15B188
	dw DATA_15B188
	dw DATA_15B188
	dw DATA_15B188
	dw DATA_15B188
	dw DATA_15B188
	dw DATA_15B188
	dw DATA_15B188
	dw DATA_15B188
	dw DATA_15B1A8
	dw DATA_15B1C8
	dw DATA_15B1E8
	dw DATA_15B208
	dw DATA_15B228
	dw DATA_15B248
	dw DATA_15B248
	dw DATA_15B268
	dw DATA_15B288
	dw DATA_15B168
	dw DATA_15B2A8
	dw DATA_15B2C8
	dw DATA_15B2E8
	dw DATA_15B308
	dw DATA_15B328
	dw DATA_15B328
	dw DATA_15B328
	dw DATA_15B328
	dw DATA_15B348
	dw DATA_15B348
	dw DATA_15B368
	dw DATA_15B388

DATA_15B148:
	db $06,$05,$06,$05,$06,$05,$06,$05
	db $06,$05,$06,$05,$06,$05,$06,$05
	db $12,$11,$12,$11,$12,$11,$12,$11
	db $12,$11,$12,$11,$12,$11,$12,$11

DATA_15B168:
	db $07,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$04
	db $13,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$10

DATA_15B188:
	db $06,$07,$05,$05,$05,$05,$05,$05
	db $05,$05,$05,$05,$05,$05,$04,$05
	db $12,$13,$05,$05,$05,$05,$05,$05
	db $05,$05,$05,$05,$05,$05,$10,$11

DATA_15B1A8:
	db $06,$07,$06,$06,$06,$06,$04,$05
	db $06,$07,$06,$06,$06,$06,$04,$05
	db $12,$13,$06,$06,$06,$06,$10,$11
	db $12,$13,$06,$06,$06,$06,$10,$11

DATA_15B1C8:
	db $05,$05,$05,$05,$05,$05,$05,$05
	db $05,$05,$05,$05,$05,$05,$05,$05
	db $05,$05,$05,$05,$05,$05,$05,$05
	db $05,$05,$05,$05,$05,$05,$05,$05

DATA_15B1E8:							; Note: Something related to the sand seen in 2-1.
	db $07,$9D,$9D,$9D,$9D,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$9D,$04
	db $13,$9D,$9D,$9D,$9D,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$9D,$10

DATA_15B208:
	db $07,$9D,$9D,$9D,$9D,$9D,$04,$05
	db $06,$07,$9D,$9D,$9D,$9D,$9D,$04
	db $13,$9D,$9D,$9D,$9D,$9D,$10,$11
	db $12,$13,$9D,$9D,$9D,$9D,$9D,$10

DATA_15B228:
	db $06,$05,$06,$07,$9D,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$04,$05,$06,$05
	db $12,$11,$12,$13,$9D,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$10,$11,$12,$11

DATA_15B248:
	db $06,$05,$06,$05,$06,$07,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$04,$05
	db $12,$11,$12,$11,$12,$13,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$10,$11

DATA_15B268:
	db $06,$07,$9D,$9D,$9D,$9D,$9D,$9D
	db $9D,$9D,$04,$05,$06,$05,$06,$05
	db $12,$13,$9D,$9D,$9D,$9D,$9D,$9D
	db $9D,$9D,$10,$11,$12,$11,$12,$11

DATA_15B288:
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$40

DATA_15B2A8:
	db $06,$07,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$04,$05
	db $12,$13,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$10,$11

DATA_15B2C8:
	db $06,$05,$06,$07,$40,$40,$40,$40
	db $40,$40,$40,$40,$04,$05,$06,$05
	db $12,$11,$12,$13,$40,$40,$40,$40
	db $40,$40,$40,$40,$10,$11,$12,$11

DATA_15B2E8:
	db $06,$05,$06,$05,$06,$07,$40,$40
	db $40,$40,$04,$05,$06,$05,$06,$05
	db $12,$11,$12,$11,$12,$13,$40,$40
	db $40,$40,$10,$11,$12,$11,$12,$11

DATA_15B308:
	db $07,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$04,$05,$06,$05,$06,$05
	db $13,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$10,$11,$12,$11,$12,$11

DATA_15B328:
	db $06,$07,$40,$40,$40,$40,$04,$05
	db $06,$07,$40,$40,$40,$40,$04,$05
	db $12,$13,$40,$40,$40,$40,$10,$11
	db $12,$13,$40,$40,$40,$40,$10,$11

DATA_15B348:
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$04,$05
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$10,$11

DATA_15B368:
	db $06,$05,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$06,$05
	db $12,$11,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$40,$40,$12,$11

DATA_15B388:
	db $06,$05,$06,$07,$40,$40,$40,$40
	db $40,$40,$40,$40,$06,$05,$06,$05
	db $12,$11,$12,$13,$40,$40,$40,$40
	db $40,$40,$40,$40,$12,$11,$12,$11

;--------------------------------------------------------------------

DATA_15B3A8:
	dw DATA_15B3D0
	dw DATA_15B3D1
	dw DATA_15B3D8
	dw DATA_15B3D8
	dw DATA_15B3D9
	dw DATA_15B3E0
	dw DATA_15B3E1
	dw DATA_15B3E4
	dw DATA_15B3EF
	dw DATA_15B3F0
	dw DATA_15B3F7
	dw DATA_15B3F7
	dw DATA_15B3F7
	dw DATA_15B3F7
	dw DATA_15B3F7
	dw DATA_15B3F7
	dw DATA_15B3F7
	dw DATA_15B3F7
	dw DATA_15B3F7
	dw DATA_15B3F7

DATA_15B3D0:
	db $FF

DATA_15B3D1:
	db $00,$00,$00,$02,$02,$00,$FF

DATA_15B3D8:
	db $FF

DATA_15B3D9:
	db $01,$0D,$01,$0C,$01,$02,$FF

DATA_15B3E0:
	db $FF

DATA_15B3E1:
	db $01,$13,$FF

DATA_15B3E4:						; Note: Something related to 3-2
	db $00,$02,$00,$03,$00,$04,$00,$05
	db $00,$06,$FF

DATA_15B3EF:
	db $FF

DATA_15B3F0:
	db $00,$16,$01,$01,$01,$00,$FF

DATA_15B3F7:
	db $FF

;--------------------------------------------------------------------

DATA_15B3F8:
	dw DATA_15B420
	dw DATA_15B44E
	dw DATA_15B4DC
	dw DATA_15B4DE
	dw DATA_15B568
	dw DATA_15B692
	dw DATA_15B76C
	dw DATA_15B804
	dw DATA_15B88E
	dw DATA_15B8B8
	dw DATA_15B94C
	dw DATA_15B9DA
	dw DATA_15BA1C
	dw DATA_15BBB8
	dw DATA_15BCC2
	dw DATA_15BD44
	dw DATA_15BE14
	dw DATA_15BEA8
	dw DATA_15BFA0
	dw DATA_15BFD2

DATA_15B420:
	db $15,$FE,$18,$41,$5E,$41,$14,$FE
	db $2C,$41,$5D,$41,$6F,$41,$75,$43
	db $04,$FE,$3D,$41,$65,$43,$10,$FE
	db $4D,$41,$55,$43,$05,$FE,$24,$5B
	db $06,$FE,$25,$5B,$02,$FE,$6B,$5B
	db $16,$FE,$29,$4C,$FF,$FF

DATA_15B44E:
	db $02,$FE,$3B,$27,$3C,$27,$A4,$36
	db $12,$FE,$4B,$27,$3E,$27,$5C,$27
	db $06,$FE,$5B,$27,$F9,$2B,$4C,$27
	db $05,$FE,$EA,$2C,$0A,$2D,$2A,$2D
	db $DA,$2D,$13,$FE,$30,$2B,$50,$2B
	db $70,$2B,$90,$2B,$B0,$2B,$1F,$2D
	db $07,$FE,$40,$2B,$60,$2B,$80,$2B
	db $A0,$2B,$C0,$2B,$2F,$2D,$17,$FE
	db $18,$2C,$3F,$2D,$F9,$2D,$16,$FE
	db $09,$2C,$11,$2C,$13,$2C,$14,$FE
	db $07,$2D,$38,$2D,$32,$38,$10,$FE
	db $18,$2D,$A0,$38,$F2,$37,$12,$38
	db $A3,$37,$04,$FE,$28,$2D,$E2,$37
	db $02,$38,$22,$38,$B3,$37,$11,$FE
	db $FA,$2C,$1A,$2D,$3D,$27,$15,$FE
	db $3A,$2D,$EA,$2D,$33,$38,$2E,$2B
	db $16,$2C,$00,$FE,$90,$38,$93,$37
	db $01,$FE,$A3,$36,$FF,$FF

DATA_15B4DC:
	db $FF,$FF

DATA_15B4DE:
	db $06,$FE,$A7,$36,$00,$FE,$64,$38
	db $86,$2B,$C3,$2D,$9A,$2E,$10,$FE
	db $74,$38,$94,$38,$B4,$38,$04,$FE
	db $84,$38,$A4,$38,$16,$FE,$12,$2B
	db $35,$2E,$37,$2E,$39,$2E,$3B,$2E
	db $3D,$2E,$17,$FE,$13,$2B,$91,$2B
	db $31,$2E,$14,$FE,$1C,$2B,$9E,$2B
	db $33,$2E,$15,$FE,$1D,$2B,$34,$2E
	db $36,$2E,$38,$2E,$3A,$2E,$3C,$2E
	db $3E,$2E,$01,$FE,$87,$2B,$C4,$2D
	db $C6,$2D,$C8,$2D,$CA,$2D,$CC,$2D
	db $CE,$2D,$9B,$2E,$9D,$2E,$A1,$2E
	db $A3,$2E,$A5,$2E,$A7,$2E,$A9,$2E
	db $02,$FE,$88,$2B,$C5,$2D,$C7,$2D
	db $C9,$2D,$CB,$2D,$CD,$2D,$9C,$2E
	db $9E,$2E,$A2,$2E,$A4,$2E,$A6,$2E
	db $A8,$2E,$03,$FE,$89,$2B,$C1,$2D
	db $FF,$FF

DATA_15B568:
	db $05,$FE,$0B,$20,$AE,$20,$90,$21
	db $94,$2F,$6F,$30,$8F,$30,$1B,$34
	db $3B,$34,$5B,$34,$07,$36,$11,$FE
	db $1B,$20,$80,$21,$A4,$2F,$5F,$30
	db $7F,$30,$9F,$30,$2B,$34,$4B,$34
	db $6B,$34,$17,$36,$16,$FE,$2B,$20
	db $27,$36,$0D,$37,$01,$21,$0C,$42
	db $92,$42,$94,$42,$06,$FE,$AF,$20
	db $F1,$20,$E3,$2B,$4E,$30,$6E,$30
	db $8E,$30,$1A,$34,$3A,$34,$4A,$34
	db $FD,$36,$71,$21,$FF,$33,$1F,$34
	db $3F,$34,$5F,$34,$01,$FE,$8F,$20
	db $70,$21,$D2,$2B,$12,$42,$14,$42
	db $97,$43,$A1,$44,$A3,$44,$A5,$44
	db $AA,$44,$AC,$44,$AE,$44,$EF,$33
	db $12,$FE,$9F,$20,$81,$21,$3E,$30
	db $5E,$30,$7E,$30,$9E,$30,$2A,$34
	db $4A,$34,$5A,$34,$0F,$34,$2F,$34
	db $4F,$34,$17,$FE,$10,$21,$73,$58
	db $95,$42,$02,$FE,$D3,$2B,$2E,$30
	db $13,$42,$98,$43,$A2,$44,$A4,$44
	db $AB,$44,$AD,$44,$03,$FE,$2F,$30
	db $15,$42,$99,$43,$00,$FE,$EE,$33
	db $8E,$20,$EA,$33,$96,$43,$34,$2F
	db $10,$FE,$FE,$33,$1E,$34,$3E,$34
	db $5E,$34,$16,$38,$10,$58,$30,$58
	db $50,$58,$0A,$34,$44,$2F,$64,$2F
	db $84,$2F,$04,$FE,$0E,$34,$2E,$34
	db $4E,$34,$26,$38,$36,$38,$20,$58
	db $40,$58,$60,$58,$9E,$20,$FA,$33
	db $54,$2F,$74,$2F,$14,$FE,$03,$38
	db $46,$38,$2A,$57,$70,$58,$0A,$42
	db $9E,$42,$13,$FE,$F3,$57,$13,$58
	db $33,$58,$53,$58,$07,$FE,$03,$58
	db $23,$58,$43,$58,$63,$58,$15,$FE
	db $0B,$42,$0D,$42,$91,$42,$93,$42
	db $16,$37,$1A,$37,$16,$FE,$13,$37
	db $FF,$FF

DATA_15B692:
	db $14,$FE,$2C,$57,$06,$59,$D0,$5B
	db $06,$43,$86,$43,$5E,$44,$EA,$44
	db $AC,$45,$F6,$46,$17,$FE,$2F,$57
	db $01,$59,$09,$43,$89,$43,$51,$44
	db $A3,$45,$F9,$46,$12,$FE,$E0,$58
	db $00,$2B,$20,$2B,$40,$2B,$60,$2B
	db $80,$2B,$06,$FE,$F0,$58,$E2,$58
	db $10,$2B,$30,$2B,$50,$2B,$70,$2B
	db $90,$2B,$11,$FE,$B0,$59,$05,$FE
	db $C0,$59,$10,$FE,$B0,$5B,$04,$FE
	db $C0,$5B,$15,$FE,$C6,$5C,$F2,$58
	db $2D,$57,$07,$43,$87,$43,$5F,$44
	db $EB,$44,$A1,$45,$AD,$45,$F7,$46
	db $03,$FE,$AF,$57,$11,$41,$89,$41
	db $69,$43,$91,$44,$F3,$44,$A9,$46
	db $49,$47,$13,$FE,$BF,$57,$07,$FE
	db $CF,$57,$16,$FE,$F5,$58,$2E,$57
	db $08,$43,$88,$43,$50,$44,$A2,$45
	db $AD,$45,$F8,$46,$00,$FE,$1E,$41
	db $86,$41,$66,$43,$9A,$44,$A6,$46
	db $46,$47,$01,$FE,$87,$41,$67,$43
	db $9B,$44,$9D,$44,$9F,$44,$A7,$46
	db $47,$47,$71,$47,$73,$47,$75,$47
	db $7B,$47,$7D,$47,$02,$FE,$88,$41
	db $68,$43,$90,$44,$9C,$44,$9E,$44
	db $F2,$44,$A8,$46,$48,$47,$72,$47
	db $74,$47,$7A,$47,$7C,$47,$7E,$47
	db $FF,$FF

DATA_15B76C:
	db $02,$FE,$23,$45,$61,$31,$63,$31
	db $38,$34,$05,$FE,$33,$45,$34,$46
	db $11,$FE,$43,$45,$24,$46,$4C,$4D
	db $13,$FE,$73,$45,$30,$4C,$7F,$4C
	db $9F,$4C,$BF,$4C,$DF,$4C,$FF,$4D
	db $1F,$4E,$3F,$4E,$07,$FE,$83,$45
	db $B3,$45,$20,$4C,$0F,$4C,$8F,$4C
	db $AF,$4C,$EF,$4D,$0F,$4E,$2F,$4E
	db $04,$FE,$C4,$44,$74,$46,$D2,$4E
	db $1C,$FE,$8A,$21,$AA,$21,$CA,$21
	db $14,$FE,$D4,$44,$E2,$4E,$17,$FE
	db $C3,$45,$1F,$4C,$23,$FE,$45,$32
	db $01,$FE,$14,$46,$1E,$46,$60,$31
	db $62,$31,$64,$31,$6F,$31,$37,$34
	db $03,$FE,$6F,$4C,$1B,$FE,$65,$31
	db $39,$34,$10,$FE,$4A,$4D,$12,$FE
	db $4B,$4D,$4D,$4D,$1A,$FE,$6E,$31
	db $36,$34,$6A,$21,$22,$FE,$42,$32
	db $44,$32,$21,$FE,$43,$32,$FF,$FF

DATA_15B804:
	db $04,$FE,$7D,$28,$9D,$28,$66,$2F
	db $9E,$31,$10,$FE,$8D,$28,$AD,$28
	db $AE,$31,$05,$FE,$F4,$2B,$E6,$2C
	db $A0,$30,$2D,$30,$E0,$37
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $C0,$38
endif
	db $15,$FE,$04,$2C,$F6,$2C,$FC,$2D
	db $FE,$2D,$E6,$2E,$EA,$2E,$C8,$2F
	db $B0,$30,$20,$31,$A2,$31,$02,$37
	db $F0,$37,$12,$2C,$17,$FE,$13,$2C
	db $6F,$2D,$A3,$31,$03,$FE,$4F,$2D
	db $BF,$2D,$63,$32,$13,$FE,$5F,$2D
	db $EF,$2F,$0F,$30,$14,$FE,$F0,$2D
	db $16,$FE,$E1,$2E,$E3,$2E,$E7,$2E
	db $3D,$30,$07,$37,$27,$2B,$2D,$2B
	db $07,$FE,$67,$2F,$DF,$2F,$FF,$2F
	db $93,$31
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $73,$32,$CF,$2D
endif
	db $01,$FE,$1D,$30,$00,$31,$70,$31
	db $CC,$2C,$06,$FE,$10,$31,$9B,$2C
	db $00,$FE,$46,$2F,$11,$FE,$B0,$38
	db $FF,$FF

DATA_15B88E:
	db $13,$FE,$21,$21,$41,$21,$07,$FE
	db $31,$21,$17,$FE,$51,$21,$14,$21
	db $12,$FE,$C3,$21,$05,$FE,$94,$21
	db $B4,$21,$06,$FE,$F5,$20,$16,$FE
	db $05,$21,$11,$FE,$A4,$21,$C4,$21
	db $FF,$FF

DATA_15B8B8:
	db $00,$FE,$5D,$2D,$2B,$33,$38,$33
	db $F3,$28,$C6,$28,$10,$FE,$6D,$2D
	db $8D,$2D,$13,$29,$D6,$28,$04,$FE
	db $7D,$2D,$23,$29,$E6,$28,$11,$FE
	db $20,$32,$40,$32,$60,$32,$01,$34
	db $5A,$33,$58,$33,$56,$33,$05,$FE
	db $30,$32,$50,$32,$7E,$31,$7C,$31
	db $7A,$31,$2F,$33,$4A,$33,$48,$33
	db $66,$33,$68,$33,$6A,$33,$01,$FE
	db $1F,$33,$39,$33,$06,$FE,$4F,$31
	db $6F,$31,$7D,$31,$7B,$31,$10,$34
	db $2E,$33,$49,$33,$65,$33,$67,$33
	db $69,$33,$12,$FE,$5F,$31,$7F,$31
	db $59,$33,$57,$33,$55,$33,$03,$FE
	db $C9,$28,$1C,$29,$13,$FE,$D9,$28
	db $F9,$28,$CD,$20,$ED,$20,$07,$FE
	db $E9,$28,$09,$29,$2C,$29,$DD,$20
	db $02,$FE,$3F,$31,$47,$33,$3A,$33
	db $00,$34,$FF,$FF

DATA_15B94C:
	db $14,$FE,$61,$43,$04,$FE,$51,$43
	db $31,$43,$11,$43,$F1,$42,$86,$39
	db $6B,$39,$8B,$39,$30,$3A,$50,$3A
	db $70,$3A,$32,$3E,$25,$3F,$10,$FE
	db $41,$43,$21,$43,$01,$43,$E1,$42
	db $76,$39,$7B,$39,$20,$3A,$40,$3A
	db $60,$3A,$15,$3F,$13,$FE,$31,$44
	db $78,$39,$7D,$39,$22,$3A,$42,$3A
	db $62,$3A,$1B,$3F,$07,$FE,$41,$44
	db $88,$39,$6D,$39,$8D,$39,$32,$3A
	db $52,$3A,$72,$3A,$35,$3E,$2B,$3F
	db $17,$FE,$51,$44,$02,$FE,$23,$3E
	db $A1,$4C,$01,$FE,$7E,$44,$15,$FE
	db $02,$4E,$04,$4E,$1E,$4D,$16,$FE
	db $01,$4E,$07,$4E,$00,$FE,$5B,$39
	db $66,$39,$10,$3A,$22,$3E,$05,$3F
	db $03,$FE,$5D,$39,$68,$39,$12,$3A
	db $25,$3E,$0B,$3F,$FF,$FF

DATA_15B9DA:
	db $07,$FE,$27,$20,$47,$20,$2A,$30
	db $4A,$30,$6A,$30,$13,$FE,$37,$20
	db $57,$20,$3A,$30,$5A,$30,$02,$FE
	db $68,$20,$06,$FE,$78,$20,$08,$20
	db $15,$FE,$88,$20,$04,$FE,$76,$20
	db $62,$30,$44,$30,$26,$30,$14,$FE
	db $86,$20,$03,$FE,$6C,$20,$1A,$30
	db $00,$FE,$16,$30,$34,$30,$52,$30
	db $FF,$FF

DATA_15BA1C:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $00,$FE,$BB,$21,$A4,$22,$A9,$22
	db $E0,$30,$1A,$FE,$95,$2C,$68,$2C
	db $72,$2E,$2D,$2F,$44,$2F,$5F,$30
	db $0D,$31,$66,$31,$F3,$31,$10,$FE
	db $CB,$21,$B4,$22,$B9,$22,$A5,$2C
	db $C5,$22,$88,$2C,$82,$2E,$A2,$2E
	db $54,$2F,$74,$2F,$94,$2F,$3D,$2F
	db $5D,$2F,$7D,$2F,$9D,$2F,$76,$31
	db $6F,$30,$8F,$30,$97,$32,$D7,$32
	db $9B,$32,$DB,$32,$FC,$32,$C5,$2C
	db $1D,$31,$3D,$31,$5D,$31,$7D,$31
	db $03,$32,$23,$32,$43,$32,$63,$32
	db $01,$FE,$BF,$21,$97,$2C,$2F,$2F
	db $40,$31,$42,$31,$10,$30,$11,$FE
	db $CF,$21,$A7,$2C,$C7,$2C,$3F,$2F
	db $5F,$2F,$7F,$2F,$9F,$2F,$C0,$37
	db $02,$FE,$A0,$22,$41,$31,$5F,$33
	db $12,$FE,$B0,$22,$00,$37,$00,$20
	db $20,$20,$40,$20,$60,$20,$BF,$32
	db $DF,$32,$FF,$32,$04,$FE,$87,$32
	db $A7,$32,$C7,$32,$8B,$32,$AB,$32
	db $CB,$32,$0C,$33,$DB,$21,$C4,$22
	db $C9,$22,$1C,$FE,$78,$2C,$B5,$2C
	db $92,$2E,$4D,$2F,$6D,$2F,$8D,$2F
	db $64,$2F,$84,$2F,$AD,$2F,$A4,$2F
	db $7F,$30,$9F,$30,$86,$31,$D5,$2C
	db $B2,$2E,$2D,$31,$4D,$31,$6D,$31
	db $8D,$31,$13,$32,$33,$32,$53,$32
	db $73,$32,$05,$FE,$B7,$2C,$D7,$2C
	db $AF,$2F,$4F,$2F,$6F,$2F,$8F,$2F
	db $E3,$32,$DF,$21,$C5,$22,$D0,$37
	db $14,$FE,$6E,$2B,$F2,$32,$E7,$32
	db $EB,$32,$1C,$33,$20,$FE,$F0,$30
	db $15,$FE,$10,$37,$14,$37,$21,$FE
	db $F1,$30,$17,$FE,$E9,$32,$E5,$32
	db $F4,$32,$23,$FE,$F2,$30,$06,$FE
	db $E2,$32,$E4,$32,$E8,$32,$F0,$36
	db $C0,$22,$10,$20,$30,$20,$50,$20
	db $CF,$32,$EF,$32,$0F,$33,$19,$FE
	db $13,$33,$08,$33,$07,$FE,$85,$32
	db $A5,$32,$C5,$32,$89,$32,$A9,$32
	db $C9,$32,$1D,$FE,$7A,$2C,$9A,$2C
	db $BA,$2C,$DA,$2C,$97,$2E,$B7,$2E
	db $67,$2F,$87,$2F,$A7,$2F,$31,$30
	db $51,$30,$71,$30,$91,$30,$2F,$31
	db $4F,$31,$63,$31,$6F,$31,$83,$31
	db $89,$31,$8F,$31,$15,$32,$35,$32
	db $55,$32,$75,$32,$13,$FE,$95,$32
	db $D5,$32,$99,$32,$D9,$32,$1B,$FE
	db $6A,$2C,$77,$2E,$47,$2F,$11,$30
	db $0F,$31,$43,$31,$69,$31,$F5,$31
	db $16,$FE,$1F,$33,$FF,$FF
else
	db $00,$FE,$BB,$21,$A4,$22,$A9,$22
	db $E0,$30,$1A,$FE,$95,$2C,$68,$2C
	db $72,$2E,$2D,$2F,$44,$2F,$5F,$30
	db $0D,$31,$66,$31,$F3,$31,$10,$FE
	db $CB,$21,$B4,$22,$B9,$22,$A5,$2C
	db $C5,$22,$88,$2C,$82,$2E,$A2,$2E
	db $54,$2F,$74,$2F,$94,$2F,$3D,$2F
	db $5D,$2F,$7D,$2F,$9D,$2F,$76,$31
	db $6F,$30,$8F,$30,$97,$32,$D7,$32
	db $9B,$32,$DB,$32,$FC,$32,$C5,$2C
	db $1D,$31,$3D,$31,$5D,$31,$7D,$31
	db $03,$32,$23,$32,$43,$32,$63,$32
	db $01,$FE,$BF,$21,$97,$2C,$2F,$2F
	db $40,$31,$42,$31,$10,$30,$11,$FE
	db $CF,$21,$A7,$2C,$C7,$2C,$3F,$2F
	db $5F,$2F,$7F,$2F,$9F,$2F,$C0,$37
	db $02,$FE,$A0,$22,$41,$31,$5F,$33
	db $12,$FE,$B0,$22,$00,$37,$00,$20
	db $20,$20,$40,$20,$60,$20,$BF,$32
	db $DF,$32,$FF,$32,$04,$FE,$87,$32
	db $A7,$32,$C7,$32,$8B,$32,$AB,$32
	db $CB,$32,$0C,$33,$DB,$21,$C4,$22
	db $C9,$22,$1C,$FE,$78,$2C,$B5,$2C
	db $92,$2E,$4D,$2F,$6D,$2F,$8D,$2F
	db $64,$2F,$84,$2F,$AD,$2F,$A4,$2F
	db $7F,$30,$9F,$30,$86,$31,$D5,$2C
	db $B2,$2E,$2D,$31,$4D,$31,$6D,$31
	db $8D,$31,$13,$32,$33,$32,$53,$32
	db $73,$32,$05,$FE,$B7,$2C,$D7,$2C
	db $AF,$2F,$4F,$2F,$6F,$2F,$8F,$2F
	db $E3,$32,$DF,$21,$C5,$22,$14,$FE
	db $6E,$2B,$F2,$32,$E7,$32,$EB,$32
	db $1C,$33,$20,$FE,$F0,$30,$15,$FE
	db $10,$37,$14,$37,$21,$FE,$F1,$30
	db $17,$FE,$E9,$32,$E5,$32,$F4,$32
	db $23,$FE,$F2,$30,$06,$FE,$E2,$32
	db $E4,$32,$E8,$32,$F0,$36,$C0,$22
	db $10,$20,$30,$20,$50,$20,$CF,$32
	db $EF,$32,$0F,$33,$19,$FE,$13,$33
	db $08,$33,$07,$FE,$85,$32,$A5,$32
	db $C5,$32,$89,$32,$A9,$32,$C9,$32
	db $1D,$FE,$7A,$2C,$9A,$2C,$BA,$2C
	db $DA,$2C,$97,$2E,$B7,$2E,$67,$2F
	db $87,$2F,$A7,$2F,$31,$30,$51,$30
	db $71,$30,$91,$30,$2F,$31,$4F,$31
	db $63,$31,$6F,$31,$83,$31,$89,$31
	db $8F,$31,$15,$32,$35,$32,$55,$32
	db $75,$32,$13,$FE,$95,$32,$D5,$32
	db $99,$32,$D9,$32,$1B,$FE,$6A,$2C
	db $77,$2E,$47,$2F,$11,$30,$0F,$31
	db $43,$31,$69,$31,$F5,$31,$16,$FE
	db $1F,$33,$FF,$FF
endif

DATA_15BBB8:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $05,$FE,$F0,$20,$10,$21,$30,$21
	db $CD,$36,$EF,$46,$0F,$47,$2F,$47
	db $4B,$44,$6B,$44,$D0,$21,$06,$FE
	db $CE,$36,$EE,$36,$0E,$47,$2E,$47
	db $4C,$44,$6C,$44,$5D,$21,$7D,$21
	db $AF,$59,$15,$FE,$40,$21,$ED,$36
	db $C9,$45,$EB,$45,$0D,$46,$11,$FE
	db $C0,$21,$BD,$36,$DD,$36,$FF,$46
	db $1F,$47,$5B,$44,$00,$21,$20,$21
	db $08,$FE,$75,$31,$79,$31,$2F,$31
	db $51,$32,$35,$32,$18,$FE,$3F,$31
	db $5F,$31,$7F,$31,$09,$FE,$4F,$31
	db $6F,$31,$02,$FE,$A2,$57,$AD,$36
	db $AE,$36,$42,$47,$4D,$47,$03,$FE
	db $9F,$58,$43,$47,$61,$41,$13,$FE
	db $AF,$58,$CF,$58,$94,$43,$A6,$44
	db $07,$FE,$88,$43,$54,$44,$00,$FE
	db $6E,$36,$AC,$36,$7E,$37,$4C,$47
	db $12,$FE,$BE,$36,$DE,$36,$1E,$47
	db $3E,$47,$5C,$44,$6D,$21,$8D,$21
	db $9F,$59,$BF,$59,$14,$FE,$EC,$36
	db $0E,$37,$9C,$38,$BD,$38,$C7,$43
	db $C8,$45,$EA,$45,$0C,$46,$2E,$46
	db $17,$FE,$A4,$43,$F6,$44,$E5,$45
	db $03,$46,$21,$46,$19,$FE,$F8,$43
	db $16,$FE,$E4,$45,$02,$46,$04,$FE
	db $EC,$42,$0F,$36,$2F,$36,$4F,$36
	db $1F,$37,$3F,$37,$5F,$37,$10,$FE
	db $FC,$42,$1F,$36,$3F,$36,$5F,$36
	db $2F,$37,$4F,$37,$6F,$37,$1D,$FE
	db $C9,$57,$E9,$57,$BF,$58,$DF,$58
	db $63,$47,$83,$47,$1C,$FE,$BE,$58
	db $DE,$58,$AA,$59,$CA,$59,$6C,$47
	db $8C,$47,$FF,$FF
else
	db $05,$FE,$F0,$20,$10,$21,$30,$21
	db $CD,$36,$EF,$46,$0F,$47,$2F,$47
	db $4B,$44,$6B,$44,$06,$FE,$CE,$36
	db $EE,$36,$0E,$47,$2E,$47,$4C,$44
	db $6C,$44,$5D,$21,$7D,$21,$AF,$59
	db $15,$FE,$40,$21,$ED,$36,$C9,$45
	db $EB,$45,$0D,$46,$11,$FE,$C0,$21
	db $BD,$36,$DD,$36,$FF,$46,$1F,$47
	db $5B,$44,$00,$21,$20,$21,$08,$FE
	db $75,$31,$79,$31,$2F,$31,$51,$32
	db $35,$32,$18,$FE,$3F,$31,$5F,$31
	db $7F,$31,$09,$FE,$4F,$31,$6F,$31
	db $02,$FE,$A2,$57,$AD,$36,$AE,$36
	db $42,$47,$4D,$47,$03,$FE,$9F,$58
	db $43,$47,$61,$41,$13,$FE,$AF,$58
	db $CF,$58,$94,$43,$A6,$44,$07,$FE
	db $88,$43,$54,$44,$00,$FE,$6E,$36
	db $AC,$36,$7E,$37,$4C,$47,$12,$FE
	db $BE,$36,$DE,$36,$1E,$47,$3E,$47
	db $5C,$44,$6D,$21,$8D,$21,$9F,$59
	db $BF,$59,$14,$FE,$EC,$36,$0E,$37
	db $9C,$38,$BD,$38,$C7,$43,$C8,$45
	db $EA,$45,$0C,$46,$2E,$46,$17,$FE
	db $A4,$43,$F6,$44,$E5,$45,$03,$46
	db $21,$46,$19,$FE,$F8,$43,$16,$FE
	db $E4,$45,$02,$46,$04,$FE,$EC,$42
	db $0F,$36,$2F,$36,$4F,$36,$1F,$37
	db $3F,$37,$5F,$37,$10,$FE,$FC,$42
	db $1F,$36,$3F,$36,$5F,$36,$2F,$37
	db $4F,$37,$6F,$37,$1D,$FE,$C9,$57
	db $E9,$57,$BF,$58,$DF,$58,$63,$47
	db $83,$47,$1C,$FE,$BE,$58,$DE,$58
	db $AA,$59,$CA,$59,$6C,$47,$8C,$47
	db $FF,$FF
endif

DATA_15BCC2:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $06,$FE,$F0,$20,$47,$3A,$1B,$55
	db $1D,$55,$0C,$55,$CC,$54,$3F,$55
	db $5F,$55,$12,$FE,$00,$21,$37,$3A
	db $0B,$55,$FC,$54,$4F,$55,$15,$FE
	db $10,$21,$D2,$39,$11,$FE,$C0,$21
	db $7F,$54,$9F,$54,$BF,$54,$DF,$54
	db $FF,$54,$1F,$55,$04,$FE,$D0,$38
	db $87,$3A,$CC,$54,$14,$FE,$E0,$38
	db $50,$39,$44,$3A,$00,$FE,$30,$39
	db $24,$3A,$FA,$54,$16,$FE,$D3,$39
	db $03,$FE,$21,$3A,$13,$FE,$31,$3A
	db $83,$3A,$10,$FE,$34,$3A,$82,$3A
	db $17,$FE,$41,$3A,$02,$FE,$27,$3A
	db $01,$FE,$FB,$54,$05,$FE,$1A,$55
	db $1C,$55,$1E,$55,$8F,$54,$AF,$54
	db $CF,$54,$EF,$54,$0F,$55,$2F,$55
	db $D0,$21,$FF,$FF
else
	db $06,$FE,$F0,$20,$47,$3A,$1B,$55
	db $1D,$55,$0C,$55,$CC,$54,$3F,$55
	db $5F,$55,$12,$FE,$00,$21,$37,$3A
	db $0B,$55,$FC,$54,$4F,$55,$15,$FE
	db $10,$21,$D2,$39,$11,$FE,$C0,$21
	db $7F,$54,$9F,$54,$BF,$54,$DF,$54
	db $FF,$54,$1F,$55,$04,$FE,$D0,$38
	db $87,$3A,$CC,$54,$14,$FE,$E0,$38
	db $50,$39,$44,$3A,$00,$FE,$30,$39
	db $24,$3A,$FA,$54,$16,$FE,$D3,$39
	db $03,$FE,$21,$3A,$13,$FE,$31,$3A
	db $83,$3A,$10,$FE,$34,$3A,$82,$3A
	db $17,$FE,$41,$3A,$02,$FE,$27,$3A
	db $01,$FE,$FB,$54,$05,$FE,$1A,$55
	db $1C,$55,$1E,$55,$8F,$54,$AF,$54
	db $CF,$54,$EF,$54,$0F,$55,$2F,$55
	db $FF,$FF
endif

DATA_15BD44:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $11,$FE,$5F,$26,$7F,$26,$7A,$2B
	db $E1,$20,$E3,$20,$E5,$20,$E7,$20
	db $E9,$20,$7F,$28,$9F,$28,$BF,$28
	db $DF,$28,$FF,$28,$12,$FE,$FB,$2C
	db $7E,$26,$E2,$20,$E4,$20,$E6,$20
	db $E8,$20,$EA,$20,$00,$20,$20,$20
	db $40,$20,$60,$20,$80,$20,$A0,$20
	db $C0,$20,$E0,$20,$01,$FE,$D4,$20
	db $D6,$20,$D8,$20,$4F,$26,$6A,$2B
	db $DA,$20,$02,$FE,$D5,$20,$D7,$20
	db $D9,$20,$05,$FE,$6F,$26,$8A,$2B
	db $D1,$20,$D3,$20,$8F,$26,$8F,$28
	db $AF,$28,$CF,$28,$EF,$28,$0F,$29
	db $04,$FE,$7C,$28,$9C,$28,$BC,$28
	db $E0,$3F,$F0,$37,$10,$FE,$8C,$28
	db $AC,$28,$E0,$37,$15,$FE,$1A,$2B
	db $1C,$2B,$13,$FE,$CA,$2B,$09,$2E
	db $1F,$36,$3F,$36,$57,$37,$67,$37
	db $06,$FE,$8B,$2B,$EB,$2C,$D2,$20
	db $10,$20,$30,$20,$50,$20,$70,$20
	db $90,$20,$B0,$20,$D0,$20,$8E,$26
	db $17,$FE,$AB,$2B,$7E,$2B,$29,$2E
	db $5F,$36,$07,$FE,$19,$2E,$0F,$36
	db $2F,$36,$4F,$36,$16,$FE,$7D,$2B
	db $14,$FE,$00,$38,$0B,$FE,$6F,$2B
	db $0C,$FE,$50,$2C,$0D,$FE,$51,$2C
	db $FF,$FF
else
	db $11,$FE,$5F,$26,$7F,$26,$7A,$2B
	db $E1,$20,$E3,$20,$E5,$20,$E7,$20
	db $E9,$20,$7F,$28,$9F,$28,$BF,$28
	db $DF,$28,$FF,$28,$12,$FE,$FB,$2C
	db $7E,$26,$E2,$20,$E4,$20,$E6,$20
	db $E8,$20,$EA,$20,$00,$20,$20,$20
	db $40,$20,$60,$20,$80,$20,$A0,$20
	db $C0,$20,$E0,$20,$01,$FE,$D4,$20
	db $D6,$20,$D8,$20,$4F,$26,$6A,$2B
	db $DA,$20,$02,$FE,$D5,$20,$D7,$20
	db $D9,$20,$05,$FE,$6F,$26,$8A,$2B
	db $D1,$20,$D3,$20,$8F,$26,$8F,$28
	db $AF,$28,$CF,$28,$EF,$28,$0F,$29
	db $04,$FE,$7C,$28,$9C,$28,$BC,$28
	db $E0,$3F,$F0,$37,$10,$FE,$8C,$28
	db $AC,$28,$E0,$37,$15,$FE,$1A,$2B
	db $1C,$2B,$13,$FE,$CA,$2B,$09,$2E
	db $1F,$36,$3F,$36,$57,$37,$67,$37
	db $06,$FE,$8B,$2B,$EB,$2C,$D2,$20
	db $10,$20,$30,$20,$50,$20,$70,$20
	db $90,$20,$B0,$20,$D0,$20,$17,$FE
	db $AB,$2B,$7E,$2B,$29,$2E,$5F,$36
	db $07,$FE,$19,$2E,$0F,$36,$2F,$36
	db $4F,$36,$16,$FE,$7D,$2B,$14,$FE
	db $00,$38,$0B,$FE,$6F,$2B,$0C,$FE
	db $50,$2C,$0D,$FE,$51,$2C,$FF,$FF
endif

DATA_15BE14:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $05,$FE,$0C,$20,$F6,$20,$E0,$37
	db $6E,$38,$8A,$38,$8C,$38,$40,$30
	db $60,$30,$80,$30,$C0,$38,$11,$FE
	db $50,$30,$70,$30,$B0,$38,$5E,$38
	db $90,$30,$15,$FE,$2C,$20,$06,$21
	db $F0,$37,$17,$FE,$6B,$20,$15,$21
	db $1F,$37,$07,$FE,$3B,$20,$5B,$20
	db $13,$FE,$4B,$20,$02,$FE,$B3,$2B
	db $30,$30,$DC,$33,$5D,$38,$00,$FE
	db $A9,$2D,$4F,$2F,$34,$30,$00,$34
	db $5A,$38,$10,$FE,$B9,$2D,$6F,$2F
	db $8F,$2F,$44,$30,$64,$30,$84,$30
	db $20,$34,$40,$34,$6A,$38,$AF,$2F
	db $04,$FE,$5F,$2F,$7F,$2F,$9F,$2F
	db $54,$30,$74,$30,$10,$34,$30,$34
	db $7A,$38,$94,$30,$50,$34,$14,$FE
	db $14,$37,$08,$38,$12,$FE,$1C,$20
	db $7D,$38,$7E,$38,$06,$FE,$6D,$38
	db $8B,$38,$8D,$38,$FF,$FF
else
	db $05,$FE,$0C,$20,$F6,$20,$E0,$37
	db $6E,$38,$8A,$38,$8C,$38,$40,$30
	db $60,$30,$80,$30,$11,$FE,$50,$30
	db $70,$30,$B0,$38,$5E,$38,$90,$30
	db $15,$FE,$2C,$20,$06,$21,$F0,$37
	db $17,$FE,$6B,$20,$15,$21,$1F,$37
	db $07,$FE,$3B,$20,$5B,$20,$13,$FE
	db $4B,$20,$02,$FE,$B3,$2B,$30,$30
	db $DC,$33,$5D,$38,$00,$FE,$A9,$2D
	db $4F,$2F,$34,$30,$00,$34,$5A,$38
	db $10,$FE,$B9,$2D,$6F,$2F,$8F,$2F
	db $44,$30,$64,$30,$84,$30,$20,$34
	db $40,$34,$6A,$38,$AF,$2F,$04,$FE
	db $5F,$2F,$7F,$2F,$9F,$2F,$54,$30
	db $74,$30,$10,$34,$30,$34,$7A,$38
	db $94,$30,$50,$34,$14,$FE,$14,$37
	db $08,$38,$12,$FE,$1C,$20,$7D,$38
	db $7E,$38,$06,$FE,$6D,$38,$8B,$38
	db $8D,$38,$FF,$FF
endif

DATA_15BEA8:
	db $04,$FE,$3A,$37,$10,$FE,$2A,$37
	db $06,$FE,$00,$2C,$20,$2C,$40,$2C
	db $60,$2C,$80,$2C,$EF,$37,$0F,$38
	db $2F,$38,$2E,$49,$4E,$49,$6E,$49
	db $6C,$49,$00,$2B,$20,$2B,$40,$2B
	db $60,$2B,$80,$2B,$DF,$2E,$FF,$2E
	db $1F,$2F,$3F,$2F,$5F,$2F,$12,$FE
	db $FF,$37,$1F,$38,$F0,$2B,$10,$2C
	db $30,$2C,$50,$2C,$70,$2C,$3E,$49
	db $5E,$49,$5C,$49,$10,$2B,$30,$2B
	db $50,$2B,$70,$2B,$90,$2B,$CF,$2E
	db $EF,$2E,$0F,$2F,$2F,$2F,$4F,$2F
	db $01,$FE,$90,$37,$4C,$49,$91,$49
	db $93,$49,$14,$FE,$4A,$37,$15,$FE
	db $34,$38,$E4,$38,$D8,$39,$BC,$3B
	db $16,$FE,$37,$38,$3F,$38,$C7,$3A
	db $C9,$3A,$B1,$3B,$B3,$3B,$05,$FE
	db $1F,$2B,$3F,$2B,$5F,$2B,$7F,$2B
	db $9F,$2B,$D4,$38,$6F,$49,$4F,$49
	db $2F,$49,$0F,$49,$4D,$49,$6D,$49
	db $C9,$49,$E9,$49,$09,$4A,$29,$4A
	db $49,$4A,$07,$FE,$97,$3C,$B7,$3C
	db $D7,$3C,$13,$FE,$A7,$3C,$C7,$3C
	db $4F,$39,$17,$FE,$E7,$3C,$5F,$39
	db $11,$FE,$0F,$2B,$2F,$2B,$4F,$2B
	db $6F,$2B,$8F,$2B,$5F,$49,$3F,$49
	db $1F,$49,$5D,$49,$B9,$49,$D9,$49
	db $F9,$49,$19,$4A,$39,$4A,$59,$4A
	db $03,$FE,$3F,$39,$90,$48,$95,$49
	db $00,$FE,$9F,$48,$7A,$49,$B8,$49
	db $02,$FE,$92,$49,$94,$49,$FF,$FF

DATA_15BFA0:
	db $00,$FE,$7A,$4D,$01,$FE,$7B,$4D
	db $7D,$4D,$02,$FE,$7C,$4D,$12,$FE
	db $8B,$4D,$8D,$4D,$11,$FE,$8C,$4D
	db $8E,$4D,$06,$FE,$9B,$4D,$9D,$4D
	db $7F,$4D,$05,$FE,$9C,$4D,$7E,$4D
	db $04,$FE,$8A,$4D,$10,$FE,$9A,$4D
	db $FF,$FF

DATA_15BFD2:
	db $14,$FE,$51,$2C,$58,$2C,$38,$2E
	db $12,$38,$23,$38,$F2,$39,$03,$3A
	db $49,$37,$29,$39,$09,$3B,$20,$42
	db $20,$43,$9E,$4D,$19,$62,$16,$63
	db $A6,$63,$36,$64,$C6,$64,$E9,$6A
	db $B9,$68,$29,$39,$19,$6D,$2E,$6F
	db $16,$7C,$22,$7D,$1E,$7C,$DE,$7D
	db $69,$86,$17,$FE,$52,$2C,$59,$2C
	db $5C,$2C,$39,$2E,$C7,$30,$2D,$37
	db $3C,$37,$0D,$39,$1C,$39,$47,$37
	db $0D,$3B,$A1,$3D,$9F,$4D,$17,$62
	db $19,$63,$A9,$63,$39,$64,$C9,$64
	db $E7,$6A,$B7,$68,$17,$6D,$21,$6F
	db $19,$7C,$DC,$7D,$81,$7C,$67,$86
	db $19,$FE,$65,$2C,$6B,$2C,$9B,$4D
	db $57,$7D,$7D,$83,$08,$FE,$9F,$2C
	db $7D,$2E,$74,$2F,$8B,$4D,$6D,$83
	db $25,$FE,$57,$2F,$5C,$41,$66,$4C
	db $87,$4D,$72,$4F,$75,$4F,$67,$70
	db $17,$7E,$6B,$84,$FC,$84,$8B,$85
	db $00,$FE,$26,$31,$65,$31,$93,$38
	db $A2,$38,$73,$3A,$82,$3A,$40,$4D
	db $8E,$4D,$18,$50,$E6,$62,$76,$63
	db $06,$64,$96,$64,$A8,$70,$76,$7B
	db $C2,$7C,$78,$7E,$29,$68,$79,$6A
	db $19,$86,$B0,$42,$90,$43,$6E,$6E
	db $2E,$7A,$AE,$7D,$16,$FE,$2F,$36
	db $83,$3E,$E6,$6A,$66,$86,$02,$FE
	db $DF,$36,$26,$68,$06,$FE,$3B,$37
	db $A3,$38,$1B,$39,$83,$3A,$05,$FE
	db $BC,$37,$24,$38,$9C,$39,$03,$FE
	db $AC,$37,$BD,$37,$8C,$39,$9D,$39
	db $41,$4D,$8F,$4D,$19,$50,$E9,$62
	db $79,$63,$09,$64,$99,$64,$A6,$70
	db $79,$7B,$AC,$7D,$76,$7E,$27,$68
	db $77,$6A,$17,$86,$CF,$2C,$61,$6E
	db $21,$7A,$12,$FE,$F3,$39,$15,$FE
	db $16,$3A,$C6,$3B,$9A,$54,$13,$FE
	db $07,$62,$07,$6D,$A6,$2F,$DF,$2C
	db $10,$FE,$09,$62,$09,$6D,$A8,$2F
	db $0A,$FE,$26,$6F,$69,$78,$AC,$83
	db $37,$22,$0D,$FE,$29,$6F,$AD,$83
	db $04,$FE,$C8,$38,$88,$3C,$D8,$4D
	db $AE,$50,$B8,$70,$88,$7E,$07,$FE
	db $C6,$38,$86,$3C,$D6,$4D,$AC,$50
	db $B6,$70,$86,$7E,$FF,$FF

;--------------------------------------------------------------------

 ; Note: Vase interior level data and object data.

SMB2U_VaseInteriorObjectPtrs:
;$15C140
	dw DATA_15C152
	dw DATA_15C188
	dw DATA_15C1BE
	dw DATA_15C1CE
	dw DATA_15C1FA
	dw DATA_15C226
	dw DATA_15C2B8
	dw DATA_15C31C
	dw DATA_15C3AE

DATA_15C152:
	db $01,$C3,$40,$40,$40,$08,$13,$11
	db $11,$11,$11,$11,$11,$11,$02,$00
	db $04,$40,$09,$07,$40,$40,$40,$40
	db $40,$40,$40,$01,$01,$05,$11,$0A
	db $40,$40,$40,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$0B,$40,$40,$40
	db $40,$40,$40,$40,$40,$40

DATA_15C188:
	db $0B,$C3,$40,$40,$40,$0C,$40,$40
	db $40,$40,$40,$40,$40,$40,$40,$00
	db $06,$11,$0D,$40,$40,$40,$40,$40
	db $40,$40,$40,$40,$01,$07,$40,$0E
	db $04,$40,$40,$40,$40,$40,$40,$40
	db $00,$40,$40,$40,$0F,$12,$11,$11
	db $11,$11,$11,$11,$11,$03

DATA_15C1BE:
	db $D1,$0D,$04,$18,$19,$0B,$AB,$AB
	db $AB,$AB,$AB,$AB,$0C,$19,$1A,$07

DATA_15C1CE:
	db $B1,$2D,$02,$14,$04,$01,$15,$10
	db $40,$01,$18,$40,$40,$19,$40,$40
	db $19,$40,$40,$19,$40,$40,$19,$40
	db $40,$19,$40,$40,$19,$40,$40,$19
	db $40,$40,$19,$40,$00,$1A,$00,$16
	db $10,$03,$17,$07

DATA_15C1FA:
	db $B1,$2D,$02,$14,$04,$01,$15,$10
	db $40,$01,$18,$40,$40,$0B,$40,$40
	db $AB,$40,$40,$AB,$40,$40,$AB,$40
	db $40,$AB,$40,$40,$AB,$40,$40,$AB
	db $40,$40,$0C,$40,$00,$1A,$00,$16
	db $10,$03,$17,$07

DATA_15C226:
	db $D0,$8F,$40,$08,$13,$11,$11,$11
	db $11,$11,$22,$04,$20,$10,$40,$40
	db $40,$40,$40,$19,$1C,$16,$10,$40
	db $40,$40,$40,$40,$19,$1D,$17,$07
	db $40,$40,$40,$40,$40,$19,$0B,$40
	db $40,$40,$40,$40,$40,$40,$19,$AB
	db $40,$40,$40,$40,$40,$40,$40,$19
	db $AB,$40,$40,$40,$40,$40,$40,$40
	db $19,$AB,$40,$40,$40,$40,$40,$40
	db $40,$19,$AB,$40,$40,$40,$40,$40
	db $40,$40,$19,$AB,$40,$40,$40,$40
	db $40,$40,$40,$19,$AB,$40,$40,$40
	db $40,$40,$40,$40,$19,$0C,$40,$40
	db $40,$40,$40,$40,$40,$19,$1E,$14
	db $04,$40,$40,$40,$40,$40,$19,$1F
	db $15,$10,$40,$40,$40,$40,$40,$19
	db $07,$21,$10,$40,$40,$40,$40,$40
	db $19,$40,$0F,$12,$11,$11,$11,$11
	db $11,$23

DATA_15C2B8:
	db $D1,$6D,$14,$14,$14,$06,$11,$11
	db $11,$2B,$17,$17,$07,$9D,$9D,$9D
	db $19,$9D,$9D,$9D,$9D,$9D,$9D,$0B
	db $9D,$9D,$9D,$9D,$9D,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$9D,$9D
	db $9C,$9D,$9D,$9D,$9D,$9D,$9D,$9C
	db $9D,$9D,$9D,$9D,$9D,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$9D,$9D
	db $0C,$9D,$9D,$9D,$9D,$9D,$9D,$19
	db $9D,$9D,$9D,$9D,$9D,$9D,$2A,$14
	db $14,$04,$9D,$9D,$9D,$17,$17,$17
	db $05,$11,$11,$11

DATA_15C31C:
	db $50,$8F,$2E,$11,$11,$11,$11,$11
	db $02,$24,$25,$23,$9D,$9D,$9D,$9D
	db $9D,$01,$17,$26,$9D,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$19,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$19,$9D,$9C
	db $9D,$9D,$9D,$9D,$9D,$9D,$19,$9D
	db $9C,$9D,$9D,$9D,$9D,$9D,$9D,$19
	db $9D,$9D,$9D,$40,$40,$40,$00,$14
	db $1A,$9D,$9D,$9D,$40,$40,$40,$1B
	db $2C,$10,$9D,$9D,$9D,$40,$40,$40
	db $1B,$2C,$10,$9D,$9D,$9D,$40,$40
	db $40,$01,$17,$18,$9D,$9C,$9D,$9D
	db $9D,$9D,$9D,$9D,$19,$9D,$9C,$9D
	db $9D,$9D,$9D,$9D,$9D,$19,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$19,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$9D,$19
	db $22,$9D,$9D,$9D,$9D,$9D,$00,$14
	db $27,$2D,$11,$11,$11,$11,$11,$03
	db $29,$28

DATA_15C3AE:
	db $50,$8F,$2E,$11,$11,$11,$11,$11
	db $02,$24,$25,$23,$9D,$9D,$9D,$9D
	db $9D,$01,$17,$26,$9D,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$19,$9D,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$19,$9D,$9C
	db $9D,$9D,$9D,$9D,$9D,$9D,$19,$9D
	db $9C,$9D,$9D,$9D,$9D,$9D,$9D,$19
	db $9D,$9D,$9D,$9D,$9D,$40,$00,$14
	db $1A,$9D,$9D,$9D,$9D,$9D,$9D,$1B
	db $2C,$10,$9D,$40,$9D,$9D,$9D,$9D
	db $1B,$2C,$10,$9D,$9D,$9D,$9D,$9D
	db $9D,$01,$17,$18,$9D,$9C,$9D,$9D
	db $9D,$9D,$9D,$9D,$19,$9D,$9C,$9D
	db $9D,$9D,$9D,$9D,$9D,$19,$9D,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$19,$9D
	db $9D,$9D,$9D,$9D,$9D,$9D,$9D,$19
	db $22,$9D,$9D,$9D,$9D,$9D,$00,$14
	db $27,$2D,$11,$11,$11,$11,$11,$03
	db $29,$28

SMB2U_VaseInteriorLevelDataPtrs:
;$15C440
	dw DATA_15C44C
	dw DATA_15C450
	dw DATA_15C454
	dw DATA_15C458
	dw DATA_15C45C
	dw DATA_15C461

DATA_15C44C:
	db $00,$01,$02,$FF

DATA_15C450:
	db $00,$01,$03,$FF

DATA_15C454:
	db $00,$01,$04,$FF

DATA_15C458:
	db $00,$01,$05,$FF

DATA_15C45C:
	db $00,$01,$06,$07,$FF

DATA_15C461:
	db $00,$01,$06,$08,$FF

;--------------------------------------------------------------------

DATA_15C466:
	dw DATA_15C48E
	dw DATA_15C49E
	dw DATA_15C4AE
	dw DATA_15C4BE
	dw DATA_15C4CE
	dw DATA_15C4DE
	dw DATA_15C4EE
	dw DATA_15C4FE
	dw DATA_15C50E
	dw DATA_15C51E
	dw DATA_15C52E
	dw DATA_15C53E
	dw DATA_15C54E
	dw DATA_15C55E
	dw DATA_15C56E
	dw DATA_15C57E
	dw DATA_15C58E
	dw DATA_15C59E
	dw DATA_15C5AE
	dw DATA_15C5BE

DATA_15C48E:
	db $77,$77,$77,$77,$77,$77,$77,$77,$77,$77,$77,$77,$77,$77,$77,$77

DATA_15C49E:
	db $77,$7B,$F8,$F8,$F8,$F8,$F8,$F8,$F8,$F8,$F8,$F8,$F8,$F8,$7A,$77

DATA_15C4AE:
	db $F8,$F6,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$7F,$F8

DATA_15C4BE:
	db $40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40

DATA_15C4CE:
	db $F7,$7E,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$7D,$F7

DATA_15C4DE:
	db $77,$FA,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$F9,$77

DATA_15C4EE:
	db $7B,$F6,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$40,$F9,$77

DATA_15C4FE:
	db $FA,$40,$40,$40,$40,$40,$7D,$F7,$F7,$F7,$F7,$F7,$F7,$F7,$78,$77

DATA_15C50E:
	db $FA,$40,$40,$40,$40,$40,$FB,$F8,$F8,$F8,$F8,$F8,$F8,$F8,$7A,$77

DATA_15C51E:
	db $79,$7E,$40,$40,$40,$40,$7C,$40,$40,$40,$40,$40,$40,$40,$F9,$77

DATA_15C52E:
	db $77,$FA,$40,$40,$40,$40,$7C,$40,$40,$40,$40,$40,$40,$40,$F9,$77

DATA_15C53E:
	db $77,$FA,$40,$40,$40,$40,$FC,$F7,$F7,$7E,$40,$40,$40,$40,$F9,$77

DATA_15C54E:
	db $77,$FA,$40,$40,$40,$40,$F9,$77,$77,$FA,$40,$40,$40,$40,$F9,$77

DATA_15C55E:
	db $77,$FA,$40,$40,$40,$40,$F9,$7B,$F8,$F6,$40,$40,$40,$40,$F9,$77

DATA_15C56E:
	db $77,$FA,$40,$40,$40,$40,$F9,$FA,$40,$40,$40,$40,$40,$40,$F9,$77

DATA_15C57E:
	db $77,$FA,$40,$40,$40,$40,$7F,$F6,$40,$40,$40,$40,$40,$40,$F9,$77

DATA_15C58E:
	db $77,$FA,$40,$40,$40,$40,$7D,$F7,$F7,$7E,$40,$40,$40,$40,$F9,$77

DATA_15C59E:
	db $77,$79,$F7,$7E,$40,$40,$40,$40,$40,$40,$40,$40,$7D,$F7,$78,$77

DATA_15C5AE:
	db $77,$77,$77,$FA,$40,$40,$40,$40,$40,$40,$40,$40,$F9,$77,$77,$77

DATA_15C5BE:
	db $77,$77,$77,$79,$F7,$F7,$F7,$F7,$F7,$F7,$F7,$F7,$78,$77,$77,$77

;--------------------------------------------------------------------

DATA_15C5CE:
	db $00,$03,$01,$01,$02,$01,$03,$04
	db $04,$01,$05,$03,$02,$01,$03,$03
	db $04,$01,$05,$02,$02,$01,$03,$03
	db $04,$01,$05,$02,$02,$01,$03,$03
	db $04,$01,$05,$04,$02,$01,$03,$03
	db $04,$01,$05,$07,$06,$01,$07,$01
	db $08,$01,$09,$01,$0A,$01,$0B,$01
	db $0C,$04,$0D,$01,$0E,$05,$0F,$01
	db $05,$03,$10,$01,$0C,$06,$0D,$01
	db $0E,$06,$0F,$01,$05,$08,$11,$01
	db $12,$02,$13,$01,$00,$01,$FF

;--------------------------------------------------------------------

; Note: Map16 related data?

DATA_15C625:
	dl DATA_15C628

DATA_15C628:
	db $00,$00,$03 : dw $7E2C21
	db $00,$06,$03 : dw $7E2C22
	db $00,$00,$03 : dw $7E2C28
	db $00,$06,$03,$29,$2C
	db $00,$06,$03,$2C,$2C
	db $00,$02,$02,$FF,$2B
	db $01,$07,$04,$1F,$2C
	db $01,$07,$12,$11,$2C
	db $00,$00,$03,$08,$2E
	db $00,$06,$03,$09,$2E
	db $00,$04,$04,$29,$31
	db $00,$03,$04,$38,$31
	db $00,$05,$04,$37,$31
	db $00,$00,$03,$36,$31
	db $01,$02,$04,$66,$31
	db $00,$06,$02,$A7,$30
	db $00,$00,$03,$A9,$30
	db $01,$05,$04,$75,$31
	db $01,$00,$02,$27,$31
	db $00,$08,$04,$25,$2C
	db $00,$00,$04,$2B,$2C
	db $00,$08,$02,$AF,$2C
	db $00,$08,$03,$7D,$2E
	db $00,$08,$02,$74,$2F
	db $01,$06,$02,$F8,$2D
	db $01,$07,$03,$27,$36
	db $00,$02,$02,$0F,$36
	db $00,$08,$0A,$3F,$36
	db $01,$02,$02,$1C,$37
	db $01,$05,$02,$2B,$37
	db $00,$05,$02,$AB,$37
	db $01,$04,$02,$CC,$37
	db $01,$02,$02,$02,$38
	db $01,$05,$02,$13,$38
	db $00,$03,$02,$94,$38
	db $01,$04,$02,$B2,$38
	db $00,$07,$02,$96,$38
	db $00,$01,$02,$98,$38
	db $00,$02,$06,$E8,$37
	db $01,$02,$02,$FC,$38
	db $01,$05,$02,$0B,$39
	db $00,$05,$02,$8B,$39
	db $01,$04,$02,$AC,$39
	db $01,$02,$02,$E2,$39
	db $00,$03,$02,$F4,$39
	db $00,$03,$02,$74,$3A
	db $01,$04,$02,$92,$3A
	db $00,$02,$06,$CA,$39
	db $00,$06,$06,$D7,$38
	db $00,$06,$06,$B7,$3A
	db $00,$04,$03,$AE,$3B
	db $00,$00,$03,$83,$3D
	db $00,$07,$05,$F7,$36
	db $00,$01,$05,$F9,$36
	db $00,$01,$05,$D9,$38
	db $00,$01,$05,$B9,$3A
	db $00,$07,$02,$ED,$3A
	db $00,$07,$02,$81,$3D
	db $01,$01,$03,$D7,$36
	db $01,$06,$10,$21,$42
	db $01,$06,$10,$21,$43
	db $01,$00,$10,$B1,$42
	db $01,$00,$10,$91,$43
	db $01,$03,$20,$10,$42
	db $01,$05,$20,$C0,$42
	db $01,$05,$10,$10,$43
	db $01,$03,$10,$A0,$43
	db $00,$03,$04,$80,$44
	db $00,$02,$05,$D0,$43
	db $00,$00,$07,$50,$4D
	db $00,$06,$07,$51,$4D
	db $00,$00,$07,$28,$50
	db $00,$06,$07,$29,$50
	db $00,$04,$03,$CE,$4F
	db $01,$06,$05,$12,$62
	db $01,$06,$04,$1A,$62
	db $01,$01,$02,$E7,$62
	db $01,$07,$02,$17,$63
	db $01,$01,$02,$77,$63
	db $01,$07,$02,$A7,$63
	db $01,$01,$02,$07,$64
	db $01,$07,$02,$37,$64
	db $01,$01,$02,$97,$64
	db $01,$07,$02,$C7,$64
	db $01,$00,$0C,$A2,$65
	db $01,$06,$04,$D6,$67
	db $00,$06,$08,$37,$68
	db $00,$00,$08,$39,$68
	db $01,$06,$03,$B4,$68
	db $01,$06,$02,$BA,$68
	db $01,$00,$03,$74,$6A
	db $01,$00,$02,$7A,$6A
	db $00,$06,$06,$87,$6A
	db $00,$00,$06,$89,$6A
	db $01,$00,$04,$46,$6B
	db $01,$07,$06,$11,$6D
	db $01,$06,$05,$1A,$6D
	db $01,$01,$05,$A1,$70
	db $01,$01,$06,$A9,$70
	db $01,$08,$02,$27,$6F
	db $01,$07,$0E,$11,$78
	db $01,$08,$05,$6A,$78
	db $01,$01,$02,$77,$7B
	db $01,$07,$02,$17,$7C
	db $00,$04,$07,$20,$7C
	db $00,$06,$07,$21,$7C
	db $01,$01,$0C,$C3,$7C
	db $01,$07,$0C,$23,$7D
	db $00,$00,$05,$D2,$7C
	db $00,$06,$07,$C0,$7C
	db $00,$08,$02,$37,$7D
	db $00,$06,$02,$BC,$7D
	db $00,$00,$02,$BE,$7D
	db $01,$00,$0B,$A1,$7D
	db $01,$06,$0B,$D1,$7D
	db $01,$00,$05,$71,$7E
	db $01,$00,$06,$79,$7E
	db $00,$01,$03,$BE,$7D
	db $01,$00,$07,$10,$86
	db $01,$00,$04,$1A,$86
	db $01,$00,$04,$A6,$86
	db $00,$06,$04,$27,$86
	db $00,$00,$04,$29,$86
	db $FF

DATA_15C890:
	dw DATA_15C8A2
	dw DATA_15C8A4
	dw DATA_15C8A6
	dw DATA_15C8A8
	dw DATA_15C8AA
	dw DATA_15C8AC
	dw DATA_15C8AE
	dw DATA_15C8B0
	dw DATA_15C8B2

DATA_15C8A2:
	db $04,$10

DATA_15C8A4:
	db $10,$04

DATA_15C8A6:
	db $05,$11

DATA_15C8A8:
	db $11,$05

DATA_15C8AA:
	db $06,$12

DATA_15C8AC:
	db $12,$06

DATA_15C8AE:
	db $07,$13

DATA_15C8B0:
	db $13,$07

DATA_15C8B2:
	db $09,$18

DATA_15C8B4:
	dw DATA_15C8C6
	dw DATA_15C8C8
	dw DATA_15C8CA
	dw DATA_15C8CC
	dw DATA_15C8CE
	dw DATA_15C8D0
	dw DATA_15C8D2
	dw DATA_15C8D4
	dw DATA_15C8D6

DATA_15C8C6:
	db $01,$02

DATA_15C8C8:
	db $02,$01

DATA_15C8CA:
	db $05,$06

DATA_15C8CC:
	db $06,$05

DATA_15C8CE:
	db $11,$12

DATA_15C8D0:
	db $12,$11

DATA_15C8D2:
	db $15,$16

DATA_15C8D4:
	db $16,$15

DATA_15C8D6:
	db $0B,$0C

;--------------------------------------------------------------------

DATA_15C8D8:
	db !Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_3
	db !Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_6_3,!Define_SMB2U_LevelID_6_3,!Define_SMB2U_LevelID_6_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3
	db !Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_7_2,!Define_SMB2U_LevelID_7_2,!Define_SMB2U_LevelID_1_2,!Define_SMB2U_LevelID_5_3
	db !Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_3
	db !Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2
	db !Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_3_2,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3
	db !Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_3_3,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_1_3
	db !Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_1_3
	db !Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_1_3,!Define_SMB2U_LevelID_3_1,!Define_SMB2U_LevelID_3_1,!Define_SMB2U_LevelID_3_1,!Define_SMB2U_LevelID_3_1,!Define_SMB2U_LevelID_3_1,!Define_SMB2U_LevelID_3_1
	db !Define_SMB2U_LevelID_3_1,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_5_2,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_1
	db !Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_1_1,!Define_SMB2U_LevelID_4_1
	db !Define_SMB2U_LevelID_4_1,!Define_SMB2U_LevelID_4_1,!Define_SMB2U_LevelID_4_1,!Define_SMB2U_LevelID_4_1,!Define_SMB2U_LevelID_4_1,!Define_SMB2U_LevelID_4_1,!Define_SMB2U_LevelID_4_1,!Define_SMB2U_LevelID_4_1
	db !Define_SMB2U_LevelID_4_1
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db !Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3
endif
	db !Define_SMB2U_LevelID_2_3,!Define_SMB2U_LevelID_2_3,!Define_SMB2U_LevelID_2_3,!Define_SMB2U_LevelID_2_3,!Define_SMB2U_LevelID_2_3,!Define_SMB2U_LevelID_2_3,!Define_SMB2U_LevelID_2_3,!Define_SMB2U_LevelID_2_3
	db !Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3
	db !Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3
	db !Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_4_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_5_3,!Define_SMB2U_LevelID_6_3,!Define_SMB2U_LevelID_6_3

DATA_15C970:										; Todo: Put the sublevel defines here.
	db $00,$00,$00,$01,$01,$01,$01,$01
	db $01,$01,$01,$01,$01,$01,$01,$01
	db $01,$01,$01,$01,$06,$06,$00,$01
	db $01,$00,$00,$01,$01,$01,$01,$01
	db $02,$02,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$01,$01,$07,$07
	db $07,$07,$07,$07,$07,$07,$07,$07
	db $07,$07,$07,$07,$07,$07,$07,$07
	db $07,$07,$07,$07,$07,$07,$07,$07
	db $07,$07,$07,$07,$02,$02,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$01,$01,$01,$01,$01,$01
	db $00,$01,$01,$01,$01,$02,$02,$02
	db $02,$02,$02,$02,$02,$02,$02,$00
	db $00,$01,$01,$01,$01,$01,$01,$01
	db $01
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $01,$01,$01
endif
	db $06,$06,$06,$06,$06,$06,$06,$06
	db $07,$07,$07,$07,$07,$07,$07,$07
	db $07,$07,$07,$07,$07,$07,$07,$07
	db $07,$07,$05,$05,$05,$06,$06

DATA_15CA08:
	dw $7E2585,$7E2610,$7E2670,$7E2920,$7E2930,$7E2940,$7E229D,$7E2085
	dw $7E208B,$7E22BE,$7E21C9,$7E2197,$7E2199,$7E21C7,$7E20DD,$7E20DE
	dw $7E276D,$7E276E,$7E285B,$7E285C,$7E27E8,$7E2858,$7E267F,$7E20C7
	dw $7E2DD6,$7E22B1,$7E2491,$7E22AC,$7E22BC,$7E22AD,$7E22BD,$7E331B
	dw $7E3862,$7E3873,$7E21D2,$7E23B1,$7E2591,$7E2595,$7E2861,$7E22C3
	dw $7E24A3,$7E2593,$7E2680,$7E2863,$7E2867,$7E2869,$7E6ECF,$7E6EDF
	dw $7E712E,$7E713E,$7E714E,$7E715E,$7E716E,$7E717E,$7E718E,$7E719E
	dw $7E71AE,$7E7192,$7E71A2,$7E712B,$7E713B,$7E714B,$7E715B,$7E716B
	dw $7E717B,$7E718B,$7E6D85,$7E6D95,$7E6DA5,$7E6DB5,$7E6DC5,$7E6D89
	dw $7E6D99,$7E6DA9,$7E6DB9,$7E6DC9,$7E3A9F,$7E3978,$7E21A0,$7E21A4
	dw $7E2186,$7E218D,$7E22A6,$7E229A,$7E229D,$7E2560,$7E2561,$7E2564
	dw $7E2565,$7E2568,$7E30C2,$7E3103,$7E3134,$7E33E6,$7E33E7,$7E3409
	dw $7E2148,$7E21D9,$7E22CC,$7E22CD,$7E2950,$7E3CB5,$7E3CC5,$7E3CD5
	dw $7E3CE5,$7E3CF5,$7E3CBA,$7E3CCA,$7E3CDA,$7E3CEA,$7E3CFA,$7E293E
	dw $7E293F,$7E21B6,$7E21C6,$7E21D6,$7E2394,$7E23A4,$7E23B4,$7E2593
	dw $7E277A
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	dw $7E22CD,$7E23B5,$7E277D
endif
	dw $7E638C,$7E638D,$7E639C,$7E639D,$7E63AC,$7E63AD,$7E63BC,$7E63BD
	dw $7E6D00,$7E6D01,$7E6D0E,$7E6D0F,$7E6D10,$7E6D11,$7E6D1E,$7E6D1F
	dw $7E6D60,$7E6D61,$7E6D6E,$7E6D6F,$7E6D70,$7E6D71,$7E6D7E,$7E6D7F
	dw $7E6DC2,$7E6DCD,$7E58A6,$7E58B6,$7E58C6,$7E637B,$7E638B

DATA_15CB38:
	db $3A,$DB,$39,$37,$39,$39,$39,$A7
	db $A7,$39,$39,$A7,$A7,$A7,$3A,$37
	db $38,$39,$3A,$37,$19,$19,$3A,$A7
	db $D2,$A7,$A7,$A7,$A7,$39,$39,$70
	db $F5,$F5,$3A,$3A,$3A,$3A,$3A,$39
	db $39,$39,$39,$39,$3A,$39,$76,$76
	db $76,$76,$76,$76,$76,$76,$76,$76
	db $76,$3F,$3F,$3F,$3F,$3F,$3F,$3F
	db $3F,$3F,$62,$62,$62,$62,$62,$63
	db $63,$63,$63,$63,$A4,$A5,$A4,$A5
	db $A4,$A5,$A5,$A4,$A5,$A4,$A5,$A4
	db $A5,$A4,$A5,$A5,$A5,$A4,$A5,$A5
	db $A5,$39,$A7,$39,$39,$CE,$C9,$C9
	db $C9,$D3,$CA,$C7,$C7,$C7,$D2,$0A
	db $0A,$39,$39,$39,$39,$39,$39,$A7
	db $39
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $A7,$A7,$A7
endif
	db $BB,$BA,$BC,$BD,$BF,$BE,$BA,$BB
	db $BC,$BD,$BC,$BD,$BF,$BE,$BF,$BE
	db $BC,$BD,$BC,$BD,$BF,$BE,$BF,$BE
	db $BA,$BB,$BF,$BA,$BD,$BE,$BA

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
%FREE_BYTES(NULLROM, 1, $FF)
else
%FREE_BYTES(NULLROM, 1072, $FF)
endif

;--------------------------------------------------------------------

DATA_15D000:
	db $8C,$68,$A6,$6A,$6A,$A6,$68

CODE_15D007:
	PHX
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr36_Coin
	BNE.b CODE_15D038
	LDA.b $79,x
	BEQ.b CODE_15D038
	INC.w $079E
	LDA.w $079E
	CMP.b #$0E
	BCC.b CODE_15D023
	LDA.b #$00
	STA.w $079E
CODE_15D023:
	LSR
	TAX
	LDA.l DATA_15D000,x
	STA.w $0712
	CPX.b #$04
	BCC.b CODE_15D038
	LDA.w $0713
	ORA.b #$40
	STA.w $0713
CODE_15D038:
	PLX
	RTL

;--------------------------------------------------------------------

SMB2U_ProcessBobOmbDoor:
.Main:
;$15D03A
	PHB
	PHK
	PLB
	PHX
	PHY
	LDA.b #$01
	STA.b !RAM_SMB2U_Player_HurtTimer
	LDA.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	ASL
	TAX
	LDA.w DATA_15D055,x
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w DATA_15D055+$01,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	JMP.w (!RAM_SMB2U_Global_ScratchRAM00)

DATA_15D055:
	dw CODE_15D067
	dw CODE_15D084
	dw CODE_15D05D
	dw CODE_15D072

;--------------------------------------------------------------------

CODE_15D05D:
	DEC.w $0795
	BPL.b CODE_15D084
	INC.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	BRA.b CODE_15D084

CODE_15D067:
	STZ.w !RAM_SMB2U_Level_BobOmbDoorAnimationFrameCounter
	INC.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	INC.w !RAM_SMB2U_Player_PlayerLocked
	BRA.b CODE_15D084

CODE_15D072:
	DEC.w !RAM_SMB2U_Level_BobOmbDoorAnimationFrameCounter
	LDA.w !RAM_SMB2U_Level_BobOmbDoorAnimationFrameCounter
	BPL.b CODE_15D084
	LDA.b #$FF
	STA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	STZ.w !RAM_SMB2U_Player_PlayerLocked
	BRA.b CODE_15D084

CODE_15D084:
	REP.b #$10
	LDY.w #$01FC
	LDX.w #$0007
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	CMP.b #$03
	BNE.b CODE_15D0A0
	LDY.w #$007C
CODE_15D0A0:
	JSR.w CODE_15D197
	LDA.l DATA_15D1AD,x
	CPX.w #$0002
	BCC.b CODE_15D0B0
	SEC
	SBC.w !RAM_SMB2U_Level_BobOmbDoorAnimationFrameCounter
CODE_15D0B0:
	CMP.b #$60
	BCS.b CODE_15D0B6
	LDA.b #$F0
CODE_15D0B6:
	DEC
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.l DATA_15D1B5,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.l DATA_15D1BD,x
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	LDA.b #$04
	XBA
	LDA.l DATA_15D1A5,x
	REP.b #$20
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	SEP.b #$20
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	PHY
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	BEQ.b CODE_15D0EA
	LDA.b #$01
CODE_15D0EA:
	ORA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PLY
	DEX
	BPL.b CODE_15D0A0
	LDA.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	CMP.b #$01
	BNE.b CODE_15D10C
	INC.w !RAM_SMB2U_Level_BobOmbDoorAnimationFrameCounter
	LDA.w !RAM_SMB2U_Level_BobOmbDoorAnimationFrameCounter
	CMP.b #$20
	BCC.b CODE_15D10C
	INC.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	LDA.b #$10
	STA.w $0795
CODE_15D10C:
	LDA.w !RAM_SMB2U_Player_DoorTypeBeingEntered
	BPL.b CODE_15D117
	STZ.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	STZ.w !RAM_SMB2U_Level_BobOmbDoorAnimationFrameCounter
CODE_15D117:
	SEP.b #$10
	PLY
	PLX
	PLB
	RTL

;--------------------------------------------------------------------

SMB2U_DrawStationaryBobOmbDoor:
.Main:
;$15D11D
	LDA.w !RAM_SMB2U_Player_BobombAndBrownDoorState
	BNE.b CODE_15D196
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_6_3
	BNE.b CODE_15D196
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_6_3_OutsideBobOmbCaveEntrance
	BNE.b CODE_15D196
	LDA.b !RAM_SMB2U_Player_XPosHi
	CMP.b #$04
	BCC.b CODE_15D196
	PHB
	PHK
	PLB
	PHX
	PHY
	REP.b #$10
	LDX.w #$0007
	LDY.w #$01FC
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	STA.b !RAM_SMB2U_Global_ScratchRAM01
CODE_15D14D:
	JSR.w CODE_15D197
	LDA.l DATA_15D1AD,x
	DEC
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.l DATA_15D1B5,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.l DATA_15D1BD,x
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	LDA.b #$04
	XBA
	LDA.l DATA_15D1A5,x
	REP.b #$20
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	SEP.b #$20
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	PHY
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	BEQ.b CODE_15D188
	LDA.b #$01
CODE_15D188:
	ORA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PLY
	DEX
	BPL.b CODE_15D14D
	SEP.b #$10
	PLY
	PLX
	PLB
CODE_15D196:
	RTL

;--------------------------------------------------------------------

CODE_15D197:
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	CMP.b #$F0
	BEQ.b CODE_15D1A4
	DEY
	DEY
	DEY
	DEY
	BRA.b CODE_15D197

CODE_15D1A4:
	RTS

;--------------------------------------------------------------------

DATA_15D1A5:
	db $90,$A0,$90,$A0,$90,$A0,$90,$A0

DATA_15D1AD:
	db $60,$60,$70,$70,$80,$80,$90,$90

DATA_15D1B5:
	db $A0,$A2,$A4,$A6,$62,$64,$66,$AE

DATA_15D1BD:
	db $27,$27,$27,$27,$26,$26,$26,$27

;--------------------------------------------------------------------

CODE_15D1C5:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_6_3
	BNE.b CODE_15D1F9
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_6_3_BobOmbCave
	BEQ.b CODE_15D1E9
	CMP.b #!Define_SMB2U_SublevelID_6_3_OutsideBobOmbCaveEntrance
	BNE.b CODE_15D1F9
	LDA.b !RAM_SMB2U_Player_XPosHi
	CMP.b #$04
	BNE.b CODE_15D1F9
	LDA.b !RAM_SMB2U_Player_XPosLo
	CMP.b #$90
	BCC.b CODE_15D1F9
	CMP.b #$A0
	BCS.b CODE_15D1F9
	SEC
	RTL

CODE_15D1E9:
	LDA.b !RAM_SMB2U_Player_XPosHi
	BNE.b CODE_15D1F9
	LDA.b !RAM_SMB2U_Player_XPosLo
	CMP.b #$50
	BCC.b CODE_15D1F9
	CMP.b #$60
	BCS.b CODE_15D1F9
	SEC
	RTL

CODE_15D1F9:
	CLC
	RTL

;--------------------------------------------------------------------

DATA_15D1FB:
	db $A6,$A7

DATA_15D1FD:
	db $A8,$A9,$AA,$AB,$AC,$AD,$B6,$B7
	db $B8,$B9,$BA,$BB,$BC,$BD,$BD,$BC
	db $BB,$BA,$B9,$B8,$B7,$B6,$AD,$AC
	db $AB,$AA,$A9,$A8,$A7,$A6

CODE_15D21B:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	SEP.b #$30
endif
	SEC
	RTL

CODE_15D21F:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_15D226
	STZ.w !RAM_SMB2U_Level_SpriteTileXDispHi
CODE_15D226:
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	REP.b #$20
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CLC
	ADC.w #$0080
	CMP.w #$0200
	SEP.b #$20
	BCS.b CODE_15D21B
	JSL.l CODE_15CDDF
	BCS.b CODE_15D21B
else
	CMP.w #$0180
	BCC.b CODE_15D239
	CMP.w #$FF80
	BCC.b CODE_15D21B
endif
CODE_15D239:
	LDA.w $02F8
	STA.w $070B
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $02F9
	STA.w $070C
else
	SEP.b #$20
endif
	LDA.b !RAM_SMB2U_Global_FrameCounter
	LSR
	LSR
	AND.b #$07
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDY.b !RAM_SMB2U_NorSpr_XSpeed,x
	BMI.b CODE_15D24B
CODE_15D24B:
endif
	TAX
	ASL
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w DATA_119AA6,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	STA.b $6F,x
	LDA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	AND.b #$02
	LSR
	LDX.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	BEQ.b CODE_15D265
	LDA.b #$00
CODE_15D265:
	ADC.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w $0713
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	LDX.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BEQ.b CODE_15D274
	LDA.b #$F0
CODE_15D274:
endif
	REP.b #$10
	LDY.w $070B
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
endif
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	STA.w $0712
endif
	LDA.w $0713
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	STA.w $0713
	LDX.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.l DATA_15D1FB,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.l DATA_15D1FB+$01,x
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	LDA.b #$00
	LDX.b !RAM_SMB2U_Global_ScratchRAM0E
	CPX.w #$0010
	BCC.b CODE_15D2AC
	LDA.b #$40
CODE_15D2AC:
	ORA.b #$2D
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	STA.w $0714
	JSL.l CODE_14E483
	REP.b #$10
	LDY.w $02F8
	STY.w $070D
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
else
	LDA.w $0712
endif
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
	LDA.w $0713
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	LDX.b !RAM_SMB2U_Global_ScratchRAM0E
	LDA.l DATA_15D1FD,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.l DATA_15D1FD+$01,x
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	LDA.w $0714
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	CLC
	RTL

;--------------------------------------------------------------------

DATA_15D2F6:
;        X,Y,Tile,Prop |      X,Y,Tile,Prop
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	;APERTE
	db $50,$C8,$C8,$30 : db $58,$C8,$DF,$30
	db $60,$C8,$CC,$30 : db $68,$C8,$1F,$31
	db $70,$C8,$3F,$31 : db $78,$C8,$CC,$30
	; START
	db $88,$C8,$2F,$31 : db $90,$C8,$3F,$31
	db $98,$C8,$C8,$30 : db $A0,$C8,$1F,$31
	db $A8,$C8,$3F,$31
else
	; PUSH
	db $58,$C8,$DF,$30 : db $60,$C8,$79,$31
	db $68,$C8,$2F,$31 : db $70,$C8,$CF,$30
	; START
	db $80,$C8,$2F,$31 : db $88,$C8,$3F,$31
	db $90,$C8,$C8,$30 : db $98,$C8,$1F,$31
	db $A0,$C8,$3F,$31
endif
.End:

SMB2U_DrawEndingPushStartText:
.Main:
;$15D31A
	;LDX.b #$23
	LDX.b #DATA_15D2F6_End-DATA_15D2F6-$01
CODE_15D31C:
	LDA.l DATA_15D2F6,x
	STA.w SMB2U_OAMBuffer[$40].XDisp,x
	DEX
	BPL.b CODE_15D31C
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	LDX.b #(DATA_15D2F6_End-DATA_15D2F6-$01)/4
-:
	STZ.w SMB2U_OAMTileSizeBuffer[$40].Slot,x
	DEX
	BPL.b -
else
	STZ.w SMB2U_OAMTileSizeBuffer[$40].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$41].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$42].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$43].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$44].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$45].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$46].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$47].Slot
	STZ.w SMB2U_OAMTileSizeBuffer[$48].Slot
endif
	RTL

;--------------------------------------------------------------------

if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
; Note: PAL exclusive routine.

CODE_15CDDF:
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
CODE_15CDE6:
	REP.b #$20
	CLC
	ADC.w #$0010
	CMP.w #$0100
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

; Note: PAL exclusive routine.

CODE_15CDF2:
	STZ.w $0715
	BPL.b CODE_15CDFA
	DEC.w $0715
CODE_15CDFA:
	CLC
	ADC.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.w $0715
	XBA
	LDA.w $07A5
	REP.b #$20
	CLC
	ADC.w #$0010
	CMP.w #$0110
	SEP.b #$20
	RTL

;--------------------------------------------------------------------

; Note: This seems to be a PAL exclusive duplicate of CODE_14E483.
; Is related to the whale spout.

CODE_15CE17:
	REP.b #$30
	LDX.w #!Define_SMB2U_MaxNormalSpriteSlot
CODE_15CE1C:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	AND.w #$00FF
	BEQ.b CODE_15CE4C
CODE_15CE23:
	DEX
	BPL.b CODE_15CE1C
	LDY.w #$0120
CODE_15CE29:
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BNE.b CODE_15CE3F
	LDA.w SMB2U_OAMBuffer[$01].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BEQ.b CODE_15CE70
CODE_15CE3F:
	TYA
	CLC
	ADC.w #$0008
	TAY
	CPY.w #$01D8
	BNE.b CODE_15CE29
	BRA.b CODE_15CE70

CODE_15CE4C:
	TXA
	CLC
	ADC.w $0400
	AND.w #$00FF
	ASL
	TAY
	LDA.w DATA_11CC23,y
	TAY
	LDA.w SMB2U_OAMBuffer[$00].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BNE.b CODE_15CE23
	LDA.w SMB2U_OAMBuffer[$01].YDisp,y
	AND.w #$00FF
	CMP.w #$00F0
	BNE.b CODE_15CE23
CODE_15CE70:
	STY.w $02F8
	SEP.b #$30
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTL

	%FREE_BYTES(NULLROM, 379, $FF)
	%ROUTINE_SMB2U_ProcessTitleScreen(NULLROM)				; N/A
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_E) != $00
	%FREE_BYTES(NULLROM, 28, $FF)
else
	%FREE_BYTES(NULLROM, 1, $FF)
endif
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
%FREE_BYTES(NULLROM, 3262-120, $FF)
else
%FREE_BYTES(NULLROM, 3262, $FF)
endif

;--------------------------------------------------------------------

DATA_15E000:
	dl SMB2U_StripeImageUploadTable[$00].LowByte
	dl SMB2U_TitleScreenBorderStripeImage
	dl SMB2U_TitleScreenLogoStripeImage
	dl SMB2U_GameOverScreenBorderStripeImage
	dl SMB2U_WarpZoneScreenTextAndBirdo

SMB2U_TitleScreenBorderStripeImage:
;$15E00F
	db $0C,$00,$47,$FE
	db $BD,$09

	db $0C,$01,$C0,$3E
	db $BE,$04

	db $0C,$02,$C0,$3E
	db $BE,$04

	db $0C,$03,$C0,$3E
	db $BE,$04

	db $0C,$1C,$C0,$3E
	db $BE,$04

	db $0C,$1D,$C0,$3E
	db $BE,$04

	db $0C,$1E,$C0,$3E

	db $BE,$04

	db $0C,$04,$40,$2E
	db $BE,$04

	db $0C,$24,$40,$2E
	db $BE,$04

	db $0C,$44,$40,$2E

	db $BE,$04

	db $0F,$44,$40,$2E
	db $BE,$04

	db $0F,$64,$40,$2E
	db $BE,$04

	db $0F,$84,$40,$2E
	db $BE,$04

	db $0F,$A4,$40,$2E
	db $BE,$04

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
;[BR] Visual fixes to the border
	%SMAS_DrawStripeHeader(0, 3, 15,01, 0, !FALSE, 2*2)
	db $37,$04,$37,$44
endif

	db $0C,$44,$00,$17
	db $BE,$04,$02,$04,$03,$04,$04,$04,$05,$04,$06,$04,$07,$04,$08,$04
	db $09,$04,$0A,$04,$0B,$04,$0C,$04

	db $0C,$50,$00,$17
	db $0C,$44,$0B,$44,$0A,$44,$09,$44,$08,$44,$07,$44,$06,$44,$05,$44
	db $04,$44,$03,$44,$02,$44,$BE,$04

	db $0C,$64,$00,$0F
	db $0D,$04,$0E,$04,$0F,$04,$10,$04,$11,$04,$12,$04,$13,$04,$14,$04

	db $0C,$74,$00,$0F
	db $14,$44,$13,$44,$12,$44,$11,$44,$10,$44,$0F,$44,$0E,$44,$0D,$44

	db $0C,$83,$00,$09
	db $15,$04,$16,$04,$17,$04,$18,$04,$19,$04

	db $0C,$98,$00,$09

	db $19,$44,$18,$44,$17,$44,$16,$44,$15,$44

	db $0C,$A3,$00,$07
	db $1A,$04,$1B,$04,$1C,$04,$1D,$04

	db $0C,$B9,$00,$07
	db $1D,$44,$1C,$44,$1B,$44,$1A,$44

	db $0C,$C3,$00,$05
	db $1E,$04,$1F,$04,$20,$04

	db $0C,$DA,$00,$05
	db $20,$44,$1F,$44,$1E,$44

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	%SMAS_DrawStripeHeader(0, 3, 03,07, 0, !FALSE, 2*2)
	db $21,$04,$22,$04

	%SMAS_DrawStripeHeader(0, 3, 27,07, 0, !FALSE, 2*2)
	db $22,$44,$21,$44
else
	db $0C,$E3,$00,$01
	db $21,$04

	db $0C,$FC,$00,$01
	db $21,$44
endif

	db $0D,$03,$C0,$1E
	db $23,$04

	db $0D,$1C,$C0,$1E
	db $23,$44

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	%SMAS_DrawStripeHeader(0, 3, 02,17, 1, !TRUE, 7*2)
	db $01,$04

	%SMAS_DrawStripeHeader(0, 3, 29,17, 1, !TRUE, 7*2)
	db $01,$44
else
	db $0E,$42,$C0,$0C
	db $01,$04

	db $0E,$5D,$C0,$0C
	db $01,$44
endif

	db $0D,$A3,$00,$01
	db $24,$04

	db $0D,$BC,$00,$01
	db $24,$44

	db $0D,$C2,$00,$03
	db $25,$04,$26,$04

	db $0D,$DC,$00,$03
	db $26,$44,$25,$44

	db $0D,$E2,$00,$03
	db $27,$04,$28,$04

	db $0D,$FC,$00,$03
	db $28,$44,$27,$44

	db $0E,$02,$00,$03
	db $29,$04,$2A,$04

	db $0E,$1C,$00,$03
	db $2A,$44,$29,$44

	db $0F,$03,$00,$01
	db $2B,$04

	db $0F,$23,$00,$01
	db $2C,$04

	db $0F,$26,$40,$26
	db $2F,$04

	db $0F,$46,$40,$2A
	db $34,$04

	db $0E,$A4,$80,$0B
	db $94,$1C,$96,$1C,$80,$10,$82,$10,$84,$10,$86,$10

	db $0E,$A5,$80,$0B
	db $95,$1C,$97,$1C,$81,$10,$83,$10,$85,$10,$87,$10

	db $0F,$47,$00,$03
	db $A0,$1C,$A1,$1C

	db $0F,$59,$00,$03
	db $A0,$1C,$A1,$1C

	db $0F,$09,$80,$03
	db $B2,$1C,$B4,$1C

	db $0F,$0A,$80,$03
	db $B3,$1C,$B5,$1C

	db $0E,$F4,$00,$03
	db $90,$1C,$91,$1C

	db $0F,$14,$00,$05
	db $92,$1C,$93,$1C,$9F,$18

	db $0E,$F7,$80,$07
	db $88,$18,$8A,$18,$8C,$18,$8E,$18

	db $0E,$F8,$80,$07
	db $89,$18,$8B,$18,$8D,$18,$8F,$18

	db $0E,$DA,$80,$07
	db $A2,$0C,$A4,$0C,$A6,$0C,$A8,$0C

	db $0E,$DB,$80,$07
	db $A3,$0C,$A5,$0C,$A7,$0C,$A9,$0C

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $0E,$DC,$80,$09
	db $AA,$14,$AC,$14,$AE,$14,$B0,$14,$35,$04
else
	db $0E,$DC,$80,$07
	db $AA,$14,$AC,$14,$AE,$14,$B0,$14
endif

	db $0E,$DD,$80,$07
	db $AB,$14,$AD,$14,$AF,$14,$B1,$14

	db $0F,$0D,$00,$05
	db $98,$04,$2D,$04,$2E,$04

	db $0F,$10,$00,$05
	db $2E,$44,$2D,$44,$98,$44

	db $0F,$2C,$00,$07
	db $30,$04,$31,$04,$32,$04,$33,$04

	db $0F,$30,$00,$07
	db $33,$44,$32,$44,$31,$44,$30,$44

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	%SMAS_DrawStripeHeader(0, 3, 12,26, 0, !FALSE, 8*2)
	db $35,$04,$36,$04,$36,$04,$BE,$04,$BE,$04,$36,$44,$36,$44,$35,$44
else
	db $0F,$4F,$40,$03
	db $BE,$04
endif

	db $FF

SMB2U_TitleScreenLogoStripeImage:
;$15E250
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	db $0D,$19,$00,$03
	db $F0,$09,$F1,$09

	db $0D,$26,$00,$29
	db $59,$08,$59,$48,$67,$08,$67,$08,$64,$08,$59,$48,$64,$08,$71,$08
	db $64,$08,$59,$48,$BD,$09,$59,$08,$5A,$08,$59,$48,$59,$08,$59,$48
	db $64,$08,$59,$48,$67,$08,$59,$08,$59,$48

	db $0D,$46,$00,$29
	db $5C,$08,$6C,$08,$5C,$08,$5C,$08,$5C,$08,$5D,$08,$5C,$08,$56,$08
	db $5C,$08,$5D,$08,$BD,$09,$5C,$08,$5C,$08,$5D,$08,$5C,$08,$5D,$08
	db $5C,$08,$5D,$08,$5C,$08,$5C,$08,$5D,$08

	db $0D,$66,$00,$29
	db $6D,$08,$6E,$08,$5E,$08,$5E,$08,$5E,$08,$70,$08,$72,$08,$73,$08
	db $5E,$08,$65,$08,$BD,$09,$5E,$08,$5E,$08,$5E,$08,$5E,$08,$5E,$08
	db $5E,$08,$65,$08,$5E,$08,$5E,$08,$5E,$08

	db $0D,$86,$00,$29
	db $B8,$08,$6F,$08,$5F,$08,$5F,$08,$5F,$08,$4F,$08,$5F,$08,$74,$08
	db $5F,$08,$66,$08,$BD,$09,$5F,$08,$5F,$08,$5F,$08,$61,$08,$62,$08
	db $5F,$08,$66,$08,$5F,$08,$5F,$08,$5F,$08

	db $0D,$A6,$00,$29
	db $68,$08,$69,$08,$68,$08,$69,$08,$60,$08,$BD,$09,$75,$08,$76,$08
	db $60,$08,$60,$08,$BD,$09,$60,$08,$60,$08,$60,$08,$60,$08,$63,$08
	db $60,$08,$60,$08,$60,$08,$68,$08,$69,$08

	db $0D,$C6,$00,$29
	db $46,$08,$47,$08,$46,$08,$47,$08,$55,$08,$BD,$09,$55,$08,$56,$08
	db $55,$08,$55,$08,$BD,$09,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08
	db $55,$08,$55,$08,$55,$08,$46,$08,$47,$08

	db $0E,$0C,$00,$11
	db $77,$08,$78,$08,$79,$08,$7A,$08,$7B,$08,$7C,$08,$7D,$08,$7E,$08
	db $7F,$08

	db $0E,$2C,$00,$11
	db $40,$08,$41,$08,$42,$08,$43,$08,$44,$08,$45,$08,$48,$08,$49,$08
	db $4A,$08

	db $0E,$4C,$00,$11
	db $4B,$08,$4C,$08,$4D,$08,$4E,$08,$B6,$08,$B7,$08,$B9,$08,$BA,$08
	db $BB,$08

	db $0E,$A7,$00,$25
	db $F9,$15,$C1,$15,$C9,$15,$C8,$15,$C8,$15,$E8,$15,$C1,$15,$C9,$15
	db $C9,$15,$C2,$15,$BF,$09,$D7,$15,$D2,$15,$D7,$15,$DD,$15,$CE,$15
	db $D7,$15,$CD,$15,$D8,$15

	db $0E,$C7,$00,$1B
	db $F9,$15,$C1,$15,$C9,$15,$C9,$15,$C3,$15,$BF,$09,$D7,$15,$D2,$15
	db $D7,$15,$DD,$15,$CE,$15,$D7,$15,$CD,$15,$D8,$15
else
	; SUPER
	db $0C,$AB,$00,$13
	db $70,$08,$71,$08,$67,$08,$67,$08,$64,$08,$59,$48,$64,$08,$51,$08
	db $64,$08,$59,$48

	db $0C,$CB,$00,$13
	db $72,$08,$73,$08,$5C,$08,$5C,$08,$5C,$08,$7E,$08,$5C,$08,$52,$08
	db $5C,$08,$57,$08

	db $0C,$EB,$00,$13
	db $75,$08,$76,$08,$7C,$08,$7D,$08,$50,$08,$4F,$08,$53,$08,$54,$08
	db $50,$08,$58,$08

	db $0D,$0B,$00,$13
	db $46,$08,$47,$08,$46,$08,$47,$08,$55,$08,$BF,$00,$55,$08,$56,$08
	db $55,$08,$55,$08

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
;				  Layer,Map, X,Y, Dir, RLE, Size in bytes
	; Translation credits
	%SMAS_DrawStripeHeader(0, 3, 03,01, 0, !FALSE, 27*2)
	db $00,$06
	db $01,$06,$02,$06,$03,$06,$04,$06,$05,$06,$06,$06,$07,$06,$08,$06
	db $09,$06,$0A,$06,$0B,$06,$09,$06,$0D,$06,$0E,$06,$0F,$06,$BE,$04
	db $01,$06,$02,$06,$13,$06,$04,$06,$05,$06,$06,$06,$07,$06,$08,$06
	db $09,$06,$0F,$06
	
	; IRMÃOS MARIO
	%SMAS_DrawStripeHeader(0, 3, 10,09, 0, !FALSE, 2*2)
	db $7F,$08,$5B,$08

	%SMAS_DrawStripeHeader(0, 3, 04,10, 0, !FALSE, 24*2)
	db $67,$08,$64,$08,$59,$48,$59,$08,$5A,$08,$59,$48,$6A,$08,$6B,$08
	db $59,$08,$59,$48,$59,$08,$59,$48,$BF,$00,$BF,$00
	db $59,$08,$5A,$08,$59,$48,$59,$08,$59,$48,$64,$08,$59,$48,$67,$08
	db $59,$08,$59,$48

	%SMAS_DrawStripeHeader(0, 3, 04,11, 0, !FALSE, 24*2)
	db $5C,$08,$5C,$08,$5D,$08,$5C,$08,$5C,$08,$5D,$08,$5C,$08,$5D,$08
	db $5C,$08,$5D,$08,$5C,$08,$6C,$08,$BF,$00,$BF,$00
	db $5C,$08,$5C,$08,$5D,$08,$5C,$08,$5D,$08,$5C,$08,$5D,$08,$5C,$08
	db $5C,$08,$5D,$08

	%SMAS_DrawStripeHeader(0, 3, 04,12, 0, !FALSE, 24*2)
	db $5E,$08,$5E,$08,$65,$08,$5E,$08,$5E,$08,$5E,$08,$5E,$08,$5E,$08
	db $5E,$08,$5E,$08,$6D,$08,$6E,$08,$BF,$00,$BF,$00
	db $5E,$08,$5E,$08,$5E,$08,$5E,$08,$5E,$08,$5E,$08,$65,$08,$5E,$08
	db $5E,$08,$5E,$08

	%SMAS_DrawStripeHeader(0, 3, 04,13, 0, !FALSE, 24*2)
	db $5F,$08,$5F,$08,$66,$08,$5F,$08,$5F,$08,$5F,$08,$61,$08,$62,$08
	db $5F,$08,$5F,$08,$B8,$08,$6F,$08,$BF,$00,$BF,$00
	db $5F,$08,$5F,$08,$5F,$08,$61,$08,$62,$08,$5F,$08,$66,$08,$5F,$08
	db $5F,$08,$5F,$08

	%SMAS_DrawStripeHeader(0, 3, 04,14, 0, !FALSE, 24*2)
	db $60,$08,$60,$08,$60,$08,$60,$08,$60,$08,$60,$08,$60,$08,$63,$08
	db $68,$08,$69,$08,$68,$08,$69,$08,$BF,$00,$BF,$00
	db $60,$08,$60,$08,$60,$08,$60,$08,$63,$08,$60,$08,$60,$08,$60,$08
	db $68,$08,$69,$08

	%SMAS_DrawStripeHeader(0, 3, 04,15, 0, !FALSE, 24*2)
	db $55,$08,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08
	db $46,$08,$47,$08,$46,$08,$47,$08,$BF,$00,$BF,$00
	db $55,$08,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08
	db $46,$08,$47,$08
else
	; TM
	db $0D,$38,$00,$03
	db $F0,$09,$F1,$09

	; MARIO BROS.
	db $0D,$46,$00,$25
	db $59,$08,$5A,$08,$59,$48,$59,$08,$59,$48,$64,$08,$59,$48,$67,$08
	db $59,$08,$59,$48,$BF,$00,$64,$08,$59,$48,$64,$08,$59,$48,$59,$08
	db $59,$48,$59,$08,$59,$48

	db $0D,$66,$00,$25
	db $5C,$08,$5C,$08,$5D,$08,$5C,$08,$5D,$08,$5C,$08,$5D,$08,$5C,$08
	db $5C,$08,$5D,$08,$BF,$00,$5C,$08,$5D,$08,$5C,$08,$5D,$08,$5C,$08
	db $5D,$08,$5C,$08,$6C,$08

	db $0D,$86,$00,$25
	db $5E,$08,$5E,$08,$5E,$08,$5E,$08,$5E,$08,$5E,$08,$65,$08,$5E,$08
	db $5E,$08,$5E,$08,$BF,$00,$5E,$08,$65,$08,$5E,$08,$65,$08,$5E,$08
	db $5E,$08,$6D,$08,$6E,$08

	db $0D,$A6,$00,$25
	db $5F,$08,$5F,$08,$5F,$08,$61,$08,$62,$08,$5F,$08,$66,$08,$5F,$08
	db $5F,$08,$5F,$08,$BF,$00,$5F,$08,$66,$08,$5F,$08,$66,$08,$5F,$08
	db $5F,$08,$B8,$08,$6F,$08

	db $0D,$C6,$00,$27
	db $60,$08,$60,$08,$60,$08,$60,$08,$63,$08,$60,$08,$60,$08,$60,$08
	db $68,$08,$69,$08,$BF,$00,$60,$08,$6A,$08,$60,$08,$60,$08,$68,$08
	db $69,$08,$68,$08,$69,$08,$5B,$08

	db $0D,$E6,$00,$27
	db $55,$08,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08,$55,$08
	db $46,$08,$47,$08,$BF,$00,$55,$08,$6B,$08,$55,$08,$55,$08,$46,$08
	db $47,$08,$46,$08,$47,$08,$55,$08
endif
	; 2
	db $0E,$2E,$00,$07
	db $40,$08,$41,$08,$42,$08,$43,$08

	db $0E,$4E,$00,$07
	db $44,$08,$45,$08,$48,$08,$49,$08

	db $0E,$6E,$00,$07
	db $4A,$08,$4B,$08,$4C,$08,$4D,$08

	db $0E,$8E,$00,$07
	db $4E,$08,$77,$08,$78,$08,$79,$08

	db $0E,$AE,$00,$07
	db $7A,$08,$7B,$08,$7B,$08,$7B,$08

	; (C)1988-1993 NINTENDO
	db $0E,$C7,$00,$25
	db $F9,$15,$C1,$15,$C9,$15,$C8,$15,$C8,$15,$E8,$15,$C1,$15,$C9,$15
	db $C9,$15,$C3,$15,$BF,$09,$D7,$15,$D2,$15,$D7,$15,$DD,$15,$CE,$15
	db $D7,$15,$CD,$15,$D8,$15
endif
	db $FF

SMB2U_GameOverScreenBorderStripeImage:
;$15E41F
	db $08,$00,$47,$FE
	db $BD,$09

	db $08,$01,$C0,$3E
	db $BE,$04

	db $08,$02,$C0,$3E
	db $BE,$04

	db $08,$03,$C0,$3E
	db $BE,$04

	db $08,$1C,$C0,$3E
	db $BE,$04

	db $08,$1D,$C0,$3E
	db $BE,$04

	db $08,$1E,$C0,$3E
	db $BE,$04

	db $08,$04,$40,$2E
	db $BE,$04

	db $08,$24,$40,$2E
	db $BE,$04

	db $08,$44,$40,$2E
	db $BE,$04

	db $0B,$44,$40,$2E
	db $BE,$04

	db $0B,$64,$40,$2E
	db $BE,$04

	db $0B,$84,$40,$2E
	db $BE,$04

	db $0B,$A4,$40,$2E
	db $BE,$04

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
;[BR] Visual fixes to the border
	%SMAS_DrawStripeHeader(0, 2, 15,01, 0, !FALSE, 2*2)
	db $37,$04,$37,$44
endif

	db $08,$44,$00,$17
	db $BE,$04,$02,$04,$03,$04,$04,$04,$05,$04,$06,$04,$07,$04,$08,$04
	db $09,$04,$0A,$04,$0B,$04,$0C,$04

	db $08,$50,$00,$17
	db $0C,$44,$0B,$44,$0A,$44,$09,$44,$08,$44,$07,$44,$06,$44,$05,$44
	db $04,$44,$03,$44,$02,$44,$BE,$04

	db $08,$64,$00,$0F
	db $0D,$04,$0E,$04,$0F,$04,$10,$04,$11,$04,$12,$04,$13,$04,$14,$04

	db $08,$74,$00,$0F
	db $14,$44,$13,$44,$12,$44,$11,$44,$10,$44,$0F,$44,$0E,$44,$0D,$44

	db $08,$83,$00,$09
	db $15,$04,$16,$04,$17,$04,$18,$04,$19,$04

	db $08,$98,$00,$09
	db $19,$44,$18,$44,$17,$44,$16,$44,$15,$44

	db $08,$A3,$00,$07
	db $1A,$04,$1B,$04,$1C,$04,$1D,$04

	db $08,$B9,$00,$07
	db $1D,$44,$1C,$44,$1B,$44,$1A,$44

	db $08,$C3,$00,$05
	db $1E,$04,$1F,$04,$20,$04

	db $08,$DA,$00,$05
	db $20,$44,$1F,$44,$1E,$44

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	%SMAS_DrawStripeHeader(0, 2, 03,07, 0, !FALSE, 2*2)
	db $21,$04,$22,$04

	%SMAS_DrawStripeHeader(0, 2, 27,07, 0, !FALSE, 2*2)
	db $22,$44,$21,$44
else
	db $08,$E3,$00,$01
	db $21,$04

	db $08,$FC,$00,$01
	db $21,$44
endif

	db $09,$03,$C0,$1E
	db $23,$04

	db $09,$1C,$C0,$1E
	db $23,$44

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	%SMAS_DrawStripeHeader(0, 2, 02,17, 1, !TRUE, 7*2)
	db $01,$04

	%SMAS_DrawStripeHeader(0, 2, 29,17, 1, !TRUE, 7*2)
	db $01,$44
else
	db $0A,$42,$C0,$0C
	db $01,$04

	db $0A,$5D,$C0,$0C
	db $01,$44
endif

	db $09,$A3,$00,$01
	db $24,$04

	db $09,$BC,$00,$01
	db $24,$44

	db $09,$C2,$00,$03
	db $25,$04,$26,$04

	db $09,$DC,$00,$03
	db $26,$44,$25,$44

	db $09,$E2,$00,$03
	db $27,$04,$28,$04

	db $09,$FC,$00,$03
	db $28,$44,$27,$44

	db $0A,$02,$00,$03
	db $29,$04,$2A,$04

	db $0A,$1C,$00,$03
	db $2A,$44,$29,$44

	db $0B,$03,$00,$01
	db $2B,$04

	db $0B,$23,$00,$01
	db $2C,$04

	db $0B,$26,$40,$26
	db $2F,$04

	db $0B,$46,$40,$2A
	db $34,$04

	db $0A,$A4,$80,$0B
	db $94,$1C,$96,$1C,$80,$10,$82,$10,$84,$10,$86,$10

	db $0A,$A5,$80,$0B
	db $95,$1C,$97,$1C,$81,$10,$83,$10,$85,$10,$87,$10

	db $0B,$47,$00,$03
	db $A0,$1C,$A1,$1C

	db $0B,$59,$00,$03
	db $A0,$1C,$A1,$1C

	db $0B,$09,$80,$03
	db $B2,$1C,$B4,$1C

	db $0B,$0A,$80,$03
	db $B3,$1C,$B5,$1C

	db $0A,$F4,$00,$03
	db $90,$1C,$91,$1C

	db $0B,$14,$00,$05
	db $92,$1C,$93,$1C,$9F,$18

	db $0A,$F7,$80,$07
	db $88,$18,$8A,$18,$8C,$18,$8E,$18

	db $0A,$F8,$80,$07
	db $89,$18,$8B,$18,$8D,$18,$8F,$18

	db $0A,$DA,$80,$07
	db $A2,$0C,$A4,$0C,$A6,$0C,$A8,$0C

	db $0A,$DB,$80,$07
	db $A3,$0C,$A5,$0C,$A7,$0C,$A9,$0C

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $0A,$DC,$80,$09
	db $AA,$14,$AC,$14,$AE,$14,$B0,$14,$35,$04
else
	db $0A,$DC,$80,$07
	db $AA,$14,$AC,$14,$AE,$14,$B0,$14
endif

	db $0A,$DD,$80,$07
	db $AB,$14,$AD,$14,$AF,$14,$B1,$14

	db $0B,$0D,$00,$05
	db $98,$04,$2D,$04,$2E,$04

	db $0B,$10,$00,$05
	db $2E,$44,$2D,$44,$98,$44

	db $0B,$2C,$00,$07
	db $30,$04,$31,$04,$32,$04,$33,$04

	db $0B,$30,$00,$07
	db $33,$44,$32,$44,$31,$44,$30,$44

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	%SMAS_DrawStripeHeader(0, 2, 12,26, 0, !FALSE, 8*2)
	db $35,$04,$36,$04,$36,$04,$BE,$04,$BE,$04,$36,$44,$36,$44,$35,$44
else
	db $0B,$4F,$40,$03
	db $BE,$04
endif

	db $FF

SMB2U_WarpZoneScreenTextAndBirdo:
;$15E660
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	; "TRANSPORTE"
	%SMAS_DrawStripeHeader(0, 3, 09,06, 0, !FALSE, 14*2)
	db $40,$08,$41,$08,$42,$08,$43,$08,$44,$08,$45,$08,$46,$08,$47,$08
	db $48,$08,$49,$08,$4A,$08,$4B,$08,$4C,$08,$4D,$08
	
	%SMAS_DrawStripeHeader(0, 3, 09,07, 0, !FALSE, 14*2)
	db $50,$08,$51,$08,$52,$08,$53,$08,$54,$08,$55,$08,$56,$08,$57,$08
	db $58,$08,$59,$08,$5A,$08,$5B,$08,$5C,$08,$5D,$08

	%SMAS_DrawStripeHeader(0, 3, 09,08, 0, !FALSE, 14*2)
	db $60,$08,$61,$08,$62,$08,$63,$08,$64,$08,$65,$08,$66,$08,$67,$08
	db $68,$08,$69,$08,$6A,$08,$6B,$08,$6C,$08,$6D,$08

	; "Mundo"
	%SMAS_DrawStripeHeader(0, 3, 09,14, 0, !FALSE, 6*2)
	db $C0,$08,$C1,$08,$C2,$08,$C3,$08,$C4,$08,$C5,$08

	%SMAS_DrawStripeHeader(0, 3, 09,15, 0, !FALSE, 7*2)
	db $D0,$08,$D1,$08,$D2,$08,$D3,$08,$D4,$08,$D5,$08,$CD,$08

	%SMAS_DrawStripeHeader(0, 3, 09,16, 0, !FALSE, 7*2)
	db $E0,$08,$E1,$08,$E2,$08,$E3,$08,$E4,$08,$E5,$08,$DD,$08
else
	; "WARP"
	db $0C,$CD,$00,$0B
	db $C0,$08,$C1,$08,$C2,$08,$C3,$08,$C4,$08,$C5,$08

	db $0C,$ED,$00,$0B
	db $D0,$08,$D1,$08,$D2,$08,$D3,$08,$D4,$08,$D5,$08

	db $0D,$0D,$00,$0B
	db $E0,$08,$E1,$08,$E2,$08,$E3,$08,$E4,$08,$E5,$08

	; "World"
	db $0D,$CA,$00,$0B
	db $C0,$08,$C1,$08,$BD,$09,$BD,$09,$EC,$08,$ED,$08

	db $0D,$EA,$00,$0B
	db $D0,$08,$F4,$08,$CD,$08,$CE,$08,$CF,$08,$EB,$08

	db $0E,$0A,$00,$0B
	db $E0,$08,$F5,$08,$DD,$08,$DE,$08,$DF,$08,$FB,$08
endif
	; Birdo
	db $0D,$94,$00,$05
	db $C6,$00,$C7,$00,$C8,$00

	db $0D,$B4,$00,$05
	db $D6,$00,$D7,$00,$D8,$00

	db $0D,$D3,$00,$07
	db $C9,$00,$CA,$00,$CB,$00,$CC,$00

	db $0D,$F3,$00,$07
	db $D9,$00,$DA,$00,$DB,$00,$DC,$00

	db $0E,$13,$00,$09
	db $E6,$00,$E7,$00,$E8,$00,$E9,$00,$EA,$00

	db $0E,$33,$00,$09
	db $F6,$00,$F7,$00,$F8,$00,$F9,$00,$FA,$00

	db $0E,$54,$00,$07
	db $F0,$00,$F1,$00,$F2,$00,$F3,$00

	db $FF

;--------------------------------------------------------------------

	%DATATABLE_SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData(NULLROM)			; $15E715
	%DATATABLE_SMB2U_TitleScreenStoryTextStripeImages(NULLROM)					; $15E835
	%DATATABLE_SMB2U_HighlightedCharacterSelectCharacterStripeImage(NULLROM)			; $15EAE1

;--------------------------------------------------------------------

DATA_15EBA5:
	db $81,$83,$83,$85,$83,$83,$87,$85,$8D,$87,$81,$81,$81,$83,$83,$83
	db $87,$81,$8D,$83,$87,$81,$81,$83,$83,$83,$8F,$06,$8B,$8B,$83,$8B
	db $82,$8B,$8B,$83,$85,$89,$8D,$83,$83,$8F,$8B,$8B,$8B,$86,$CB,$CB
	db $CB,$CB,$89,$89,$81,$82,$82,$82,$87,$89,$82,$8F,$82,$82,$82,$83
	db $82,$0D,$86,$86,$82,$83,$80

DATA_15EBEC:
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$06,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
	db $00,$00,$00,$00,$00,$00,$00

;--------------------------------------------------------------------

	%DATATABLE_SMB2U_CharacterSelectLifCounterStripeImage(NULLROM)			; $15EC33
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
elseif !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	%FREE_BYTES(NULLROM, 718, $FF)
else
	%FREE_BYTES(NULLROM, 680, $FF)
endif
	%DATATABLE_SMB2U_LevelPreviewTilemaps(NULLROM)					; $15EF00
	%DATATABLE_SMB2U_LevelPreviewPalettes(NULLROM)					; $15F555
	%DATATABLE_SMB2U_VaseInteriorWindowHDMAData(NULLROM)				; $15F675
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	%DATATABLE_SMB2U_LevelSpriteData(NULLROM)					; N/A
	%FREE_BYTES(NULLROM, 1355, $FF)
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	%FREE_BYTES(NULLROM, 178-116, $FF)
else
	%FREE_BYTES(NULLROM, 178, $FF)
endif
%BANK_END(<EndBank>)
endmacro

;#############################################################################################################
;#############################################################################################################

macro SMB2UBank16Macros(StartBank, EndBank)
%BANK_START(<StartBank>)

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
;$168000
SMB2U_TitleScreenTLCreditsGFX:
	incbin "Graphics/GFX_TitleScreenTLCredits.bin"
.End:

;$168400
SMB2U_WarpBRTitleGFX:
	incbin "Graphics/GFX_WarpBRTitle.bin"
.End:

; Empty bytes left
%FREE_BYTES($168C00, $3400, $00)
else
	SMB2U_UncompressedGFX_Player_UnusedDuplicates:
	;$168000
	incbin "Graphics/GFX_Player_UnusedDuplicates.bin"
endif

SMB2U_UncompressedGFX_Sprite_Global2:
;$16C000
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_Sprite_Global2_br.bin"
else
	incbin "Graphics/GFX_Sprite_Global2.bin"
endif

SMB2U_UncompressedGFX_Sprite_StandardEnemies:
;$16D000
	incbin "Graphics/GFX_Sprite_StandardEnemies.bin"

SMB2U_UncompressedGFX_Sprite_GrasslandEnemies:
;$16D800
	incbin "Graphics/GFX_Sprite_GrasslandEnemies.bin"

SMB2U_UncompressedGFX_Sprite_DynamicSprites:
;$16E000
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_Sprite_DynamicSprites_fix.bin"
else
	incbin "Graphics/GFX_Sprite_DynamicSprites.bin"
endif

SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndGrasslandObjects:
;$16F000
	incbin "Graphics/GFX_Sprite_BirdoSparkBobOmbAndGrasslandObjects.bin"

SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndDesertObjects:
;$16F800
	incbin "Graphics/GFX_Sprite_BirdoSparkBobOmbAndDesertObjects.bin"
%BANK_END(<EndBank>)
endmacro

macro SMB2UBank17Macros(StartBank, EndBank)
%BANK_START(<StartBank>)

SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndSnowObjects:
;$178000
	incbin "Graphics/GFX_Sprite_BirdoSparkBobOmbAndSnowObjects.bin"

SMB2U_UncompressedGFX_Sprite_BirdoSparkBobOmbAndSkyObjects:
;$178800
	incbin "Graphics/GFX_Sprite_BirdoSparkBobOmbAndSkyObjects.bin"

SMB2U_UncompressedGFX_Sprite_Albatoss:
;$179000
	incbin "Graphics/GFX_Sprite_Albatoss.bin"

SMB2U_UncompressedGFX_Sprite_DesertEnemies:
;$179800
	incbin "Graphics/GFX_Sprite_DesertEnemies.bin"

SMB2U_UncompressedGFX_Sprite_SnowEnemies:
;$17A000
	incbin "Graphics/GFX_Sprite_SnowEnemies.bin"

SMB2U_UncompressedGFX_Sprite_SkyEnemies:
;$17A800
	incbin "Graphics/GFX_Sprite_SkyEnemies.bin"

SMB2U_UncompressedGFX_BG_EndingScreen1:
;$17B000
	incbin "Graphics/GFX_BG_EndingScreen1.bin"

SMB2U_UncompressedGFX_Sprite_EndingScreen2_1:
;$17B800
	incbin "Graphics/GFX_Sprite_EndingScreen2_1.bin"

SMB2U_UncompressedGFX_Sprite_EndingScreen2_2:
;$17C000
	incbin "Graphics/GFX_Sprite_EndingScreen2_2.bin"

SMB2U_UncompressedGFX_UnusedCharacterSelectCharacterTiles:
;$17C800
	incbin "Graphics/GFX_UnusedCharacterSelectCharacterTiles.bin"

SMB2U_UncompressedGFX_Sprite_Mouser:
;$17D000
	incbin "Graphics/GFX_Sprite_Mouser.bin"

SMB2U_UncompressedGFX_Sprite_Tryclyde:
;$17D800
	incbin "Graphics/GFX_Sprite_Tryclyde.bin"

SMB2U_UncompressedGFX_Sprite_Fryguy:
;$17E000
	incbin "Graphics/GFX_Sprite_Fryguy.bin"

SMB2U_UncompressedGFX_Sprite_Clawgrip:
;$17E800
	incbin "Graphics/GFX_Sprite_Clawgrip.bin"

SMB2U_UncompressedGFX_Sprite_Wart1:
;$17F000
	incbin "Graphics/GFX_Sprite_Wart1.bin"

SMB2U_UncompressedGFX_Sprite_Wart2:
;$17F800
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_Sprite_Wart2_fix.bin"
else
	incbin "Graphics/GFX_Sprite_Wart2.bin"
endif
%BANK_END(<EndBank>)
endmacro

macro SMB2UBank18Macros(StartBank, EndBank)
%BANK_START(<StartBank>)

SMB2U_UncompressedGFX_FG_StandardGrasslandTiles:
;$188000
	incbin "Graphics/GFX_FG_StandardGrasslandTiles.bin"

SMB2U_UncompressedGFX_FG_StandardDesertTiles:
;$189000
	incbin "Graphics/GFX_FG_StandardDesertTiles.bin"

SMB2U_UncompressedGFX_FG_StandardSnowTiles:
;$18A000
	incbin "Graphics/GFX_FG_StandardSnowTiles.bin"

SMB2U_UncompressedGFX_FG_StandardSkyTiles:
;$18B000
	incbin "Graphics/GFX_FG_StandardSkyTiles.bin"

SMB2U_UncompressedGFX_FG_GlobalTiles1:
;$18C000
	incbin "Graphics/GFX_FG_GlobalTiles1.bin"

SMB2U_UncompressedGFX_FG_GlobalTiles2:
;$18C800
	incbin "Graphics/GFX_FG_GlobalTiles2.bin"

SMB2U_UncompressedGFX_FG_AnimatedTilesBank18:
;$18D000
	incbin "Graphics/GFX_FG_AnimatedTilesBank18.bin"
%BANK_END(<EndBank>)
endmacro

macro SMB2UBank19_00Macros(StartBank, EndBank)
;%BANK_START(<StartBank>)
SMB2U_UncompressedGFX_TitleScreenBorder:
;$198000
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_TitleScreenBorder_fix.bin"
else
	incbin "Graphics/GFX_TitleScreenBorder.bin"
endif

SMB2U_UncompressedGFX_BonusChanceText:
;$198800
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_BonusChanceText_br.bin"
else
	incbin "Graphics/GFX_BonusChanceText.bin"
endif

SMB2U_UncompressedGFX_TitleScreenCharacters:
;$199000
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	incbin "Graphics/GFX_TitleScreenCharacters_SMAS_J.bin"
else
	incbin "Graphics/GFX_TitleScreenCharacters_SMAS_U.bin"
endif
;%BANK_END(<EndBank>)
endmacro

macro SMB2UBank19_01Macros(StartBank, EndBank)
;%BANK_START(<StartBank>)
SMB2U_UncompressedGFX_TitleScreenLogo:
;$19A000
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	incbin "Graphics/GFX_TitleScreenLogo_SMAS_J.bin"
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_TitleScreenLogo_SMAS_br.bin"
else
	incbin "Graphics/GFX_TitleScreenLogo_SMAS_U.bin"
endif

SMB2U_UncompressedGFX_CharacterSelectCharacters:
;$19A800
	incbin "Graphics/GFX_CharacterSelectCharacters.bin"

SMB2U_UncompressedGFX_Curtain:
;$19B000
	incbin "Graphics/GFX_Curtain.bin"

SMB2U_UncompressedGFX_EndingScreen2Tiles:
;$19C000
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_EndingScreen2Tiles_fix.bin"
else
	incbin "Graphics/GFX_EndingScreen2Tiles.bin"
endif

SMB2U_UncompressedGFX_StaticSleepingMario:
;$19C800
	incbin "Graphics/GFX_StaticSleepingMario.bin"

SMB2U_UncompressedGFX_Sprite_Global1:
;$19E000
	incbin "Graphics/GFX_Sprite_Global1.bin"

SMB2U_UncompressedGFX_GameOverTiles:
;$19F000
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_GameOverTiles_br.bin"
else
	incbin "Graphics/GFX_GameOverTiles.bin"
endif

SMB2U_UncompressedGFX_ShadedFont:
;$19F800
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_ShadedFont_br.bin"
else
	incbin "Graphics/GFX_ShadedFont.bin"
endif
;%BANK_END(<EndBank>)
endmacro

macro DATATABLE_SMB2U_Bank1AGraphics(Address)
namespace SMB2U_UncompressedGFX
%InsertMacroAtXPosition(<Address>)

AnimatedSleepingMario:
;$1A8000
	incbin "Graphics/GFX_AnimatedSleepingMario.bin"
AnimatedSleepingMarioEnd:
PauseMenu:
;$1AE000
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	incbin "Graphics/GFX_PauseMenu_SMAS_J.bin"
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_PauseMenu_SMAS_br.bin"
else
	incbin "Graphics/GFX_PauseMenu_SMAS_U.bin"
endif
PauseMenuEnd:

namespace off
endmacro

macro SMB2UBank1BMacros(StartBank, EndBank)
%BANK_START(<StartBank>)

SMB2U_UncompressedGFX_Sprite_EndingScreen3:
;$1B8000
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	incbin "Graphics/GFX_Sprite_EndingScreen3_SMAS_J.bin"					; Note: Literally the only difference between these files is the color of toad's feet.
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_Sprite_EndingScreen3_SMAS_br.bin"
.End:
else
	incbin "Graphics/GFX_Sprite_EndingScreen3_SMAS_U.bin"
endif

SMB2U_UncompressedGFX_LevelPreviewBorder:
;$1BB000
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	incbin "Graphics/GFX_LevelPreviewBorder_SMAS_J.bin"
elseif !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_LevelPreviewBorder_SMAS_br.bin"
else
	incbin "Graphics/GFX_LevelPreviewBorder_SMAS_U.bin"
endif

SMB2U_UncompressedGFX_SlotMachineReels:
;$1BB800
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_SlotMachineReels_br.bin"
else
	incbin "Graphics/GFX_SlotMachineReels.bin"
endif

SMB2U_UncompressedGFX_FG_RockyGround:
;$1BC000
	incbin "Graphics/GFX_FG_RockyGround.bin"

SMB2U_UncompressedGFX_BG_Jungle1:
;$1BC800
	incbin "Graphics/GFX_BG_Jungle1.bin"

SMB2U_UncompressedGFX_BG_Jungle2:
;$1BD000
	incbin "Graphics/GFX_BG_Jungle2.bin"

SMB2U_UncompressedGFX_BG_Underground:
;$1BD800
	incbin "Graphics/GFX_BG_Underground.bin"

SMB2U_UncompressedGFX_BG_Warehouse1:
;$1BE000
	incbin "Graphics/GFX_BG_Warehouse1.bin"

SMB2U_UncompressedGFX_BG_Warehouse2:
;$1BE800
	incbin "Graphics/GFX_BG_Warehouse2.bin"

SMB2U_UncompressedGFX_BG_Desert1:
;$1BF000
	incbin "Graphics/GFX_BG_Desert1.bin"

SMB2U_UncompressedGFX_BG_Desert2:
;$1BF800
	incbin "Graphics/GFX_BG_Desert2.bin"
%BANK_END(<EndBank>)
endmacro

macro SMB2UBank1CMacros(StartBank, EndBank)
%BANK_START(<StartBank>)

SMB2U_UncompressedGFX_BG_PyramidInterior1:
;$1C8000
	incbin "Graphics/GFX_BG_PyramidInterior1.bin"

SMB2U_UncompressedGFX_BG_PyramidInterior2:
;$1C8800
	incbin "Graphics/GFX_BG_PyramidInterior2.bin"

SMB2U_UncompressedGFX_BG_DesertCliff:
;$1C9000
	incbin "Graphics/GFX_BG_DesertCliff.bin"

SMB2U_UncompressedGFX_BG_StripedHills:
;$1C9800
	incbin "Graphics/GFX_BG_StripedHills.bin"

SMB2U_UncompressedGFX_BG_SnowHills1:
;$1CA000
	incbin "Graphics/GFX_BG_SnowHills1.bin"

SMB2U_UncompressedGFX_BG_SnowHills2:
;$1CA800
	incbin "Graphics/GFX_BG_SnowHills2.bin"

SMB2U_UncompressedGFX_BG_IceCrystalCave:
;$1CB000
	incbin "Graphics/GFX_BG_IceCrystalCave.bin"

SMB2U_UncompressedGFX_BG_NightGrassyHills:
;$1CB800
	incbin "Graphics/GFX_BG_NightGrassyHills.bin"

SMB2U_UncompressedGFX_BG_SkyStructures1:
;$1CC000
	incbin "Graphics/GFX_BG_SkyStructures1.bin"

SMB2U_UncompressedGFX_BG_SkyStructures2:
;$1CC800
	incbin "Graphics/GFX_BG_SkyStructures2.bin"

SMB2U_UncompressedGFX_BG_WartsFortress1:
;$1CD000
	incbin "Graphics/GFX_BG_WartsFortress1.bin"

SMB2U_UncompressedGFX_BG_WartsFortress2:
;$1CD800
	incbin "Graphics/GFX_BG_WartsFortress2.bin"

SMB2U_UncompressedGFX_BG_WartsFortress3:
;$1CE000
	incbin "Graphics/GFX_BG_WartsFortress3.bin"

SMB2U_UncompressedGFX_BG_GentleHills:
;$1CE800
	incbin "Graphics/GFX_BG_GentleHills.bin"

SMB2U_UncompressedGFX_LevelPreviewTiles:
;$1CF000
	incbin "Graphics/GFX_LevelPreviewTiles.bin"

SMB2U_UncompressedGFX_BG_SkyStructures3:
;$1CF800
	incbin "Graphics/GFX_BG_SkyStructures3.bin"
%BANK_END(<EndBank>)
endmacro

macro SMB2UBank1DMacros(StartBank, EndBank)
%BANK_START(<StartBank>)

SMB2U_UncompressedGFX_FG_IceRock:
;$1D8000
	incbin "Graphics/GFX_FG_IceRock.bin"

SMB2U_UncompressedGFX_WarpZoneTiles:
;$1D8800
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	incbin "Graphics/GFX_WarpZoneTiles_br.bin"
else
	incbin "Graphics/GFX_WarpZoneTiles.bin"
endif

SMB2U_UncompressedGFX_FG_BrickBuilding:
;$1D9000
	incbin "Graphics/GFX_FG_BrickBuilding.bin"

SMB2U_UncompressedGFX_FG_GiantTree:
;$1D9800
	incbin "Graphics/GFX_FG_GiantTree.bin"

SMB2U_UncompressedGFX_FG_VeggieMachine:
;$1DA000
	incbin "Graphics/GFX_FG_VeggieMachine.bin"

SMB2U_UncompressedGFX_FG_PyramidInterior:
;$1DA800
	incbin "Graphics/GFX_FG_PyramidInterior.bin"

SMB2U_UncompressedGFX_FG_SkyFortressInterior:
;$1DB000
	incbin "Graphics/GFX_FG_SkyFortressInterior.bin"

SMB2U_UncompressedGFX_BG_GiantPhanto1:
;$1DB800
	incbin "Graphics/GFX_BG_GiantPhanto1.bin"

SMB2U_UncompressedGFX_BG_GiantPhanto2:
;$1DC000
	incbin "Graphics/GFX_BG_GiantPhanto2.bin"

SMB2U_UncompressedGFX_BG_GiantPhanto3:
;$1DC800
	incbin "Graphics/GFX_BG_GiantPhanto3.bin"

SMB2U_UncompressedGFX_FG_AnimatedTilesBank1D:
;$1DD000
	incbin "Graphics/GFX_FG_AnimatedTilesBank1D.bin"
%BANK_END(<EndBank>)
endmacro

macro SMB2UBank1EMacros(StartBank, EndBank)
;%BANK_START(<StartBank>)

SMB2U_UncompressedGFX_Layer3:
;$1E8000
	incbin "Graphics/GFX_Layer3.bin"

	%FREE_BYTES(NULLROM, 12288, $00)				; $1E9000
;%BANK_END(<EndBank>)
endmacro

macro SMB2UBank2FMacros(StartBank, EndBank)
;%BANK_START(<StartBank>)

SMB2U_UncompressedGFX_Player:
.Mario:
;$2F8000
	incbin "Graphics/GFX_Player_Mario.bin"

.Luigi:
;$2F9400
	incbin "Graphics/GFX_Player_Luigi.bin"

.Peach:
;$2FA800
	incbin "Graphics/GFX_Player_Peach.bin"

.Toad:
;$2FBC00
	incbin "Graphics/GFX_Player_Toad.bin"
;%BANK_END(<EndBank>)
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_VBlankRoutine(Address)
namespace SMB2U_VBlankRoutine
%InsertMacroAtXPosition(<Address>)

; Glitch: This routine uses non-VBlank safe scratch RAM addresses!

CODE_1191F0:
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STA.w !REGISTER_ScreenDisplayRegister
	LDA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	AND.b #$80
	ORA.b #$01
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
	DEC.w !RAM_SMB2U_Global_WaitForVBlankFlag
	JMP.w CODE_1192B7

CODE_119204:
	JSR.w CODE_119523
	STZ.w !RAM_SMB2U_Global_Layer1YPosLo
	STZ.w !RAM_SMB2U_Global_Layer1YPosHi
	STZ.w !RAM_SMB2U_Level_ShakingLayer1DispYLo
	STZ.w $04C7
	JMP.w CODE_119288

CODE_119216:
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STA.w !REGISTER_ScreenDisplayRegister
	JMP.w CODE_1192B7

Main:
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	SEI
	REP.b #$30
	PHA
	PHX
	PHY
	PHD
	LDA.w #!RAM_SMB2U_Global_ScratchRAM00
	TCD
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	PHA
	SEP.b #$30
endif
	PHB
	PHK
	PLB
	LDA.w !REGISTER_NMIEnable
	LDA.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	STA.w !REGISTER_ScreenDisplayRegister
	STZ.w !REGISTER_HDMAEnable
	JSL.l CODE_138B2A
	LDA.w !RAM_SMB2U_Global_WaitForVBlankFlag
	BNE.b CODE_119216
	JSR.w CODE_11937D
	JSL.l SMB2U_UploadLevelPreviewOrPauseMenuGraphics_Main
	BIT.w $0100
	BPL.b CODE_119204
	BVS.b CODE_119245
	BRA.b CODE_1191F0

CODE_119245:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_11925D
	LDA.w $051E
	BEQ.b CODE_11925D
	STZ.w $051E
	LDA.w $00D2
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w $00D1
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	STZ.b !RAM_SMB2U_Global_ScratchRAM02
CODE_11925D:
	JSR.w CODE_119523
	JSR.w SMB2U_UpdateLayer2Tilemap_Main
	JSL.l SMB2U_UpdateLayer3Tilemap_Main
	LDA.b #$B0
	ORA.w !RAM_SMB2U_Global_Layer1XPosHi
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_119275
	AND.b #$FE
	ORA.w !RAM_SMB2U_Global_Layer1YPosHi
CODE_119275:
	AND.b #$80
	STA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	INC.b !RAM_SMB2U_Global_FrameCounter
	INC.w !RAM_SMB2U_Global_BossFlashingPaletteIndex
	LDA.w !RAM_SMB2U_Global_BossFlashingPaletteIndex
	CMP.b #$06
	BCC.b CODE_119288
	STZ.w !RAM_SMB2U_Global_BossFlashingPaletteIndex
CODE_119288:
	LDA.b #$00
	STA.l $7F0000
	STA.l $7F0001
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexLo
	STA.l !RAM_SMB2U_Global_Layer3BGStripeImageUploadIndexHi
	DEC
	STA.l $7F0002
	STA.l !RAM_SMB2U_Global_Layer3TilemapStripeImageUploadTable
	LDA.b !RAM_SMB2U_Global_StripeImageToUpload
	BNE.b CODE_1192B2
	STZ.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	STZ.w !RAM_SMB2U_Global_StripeImageUploadIndexHi
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte
CODE_1192B2:
	STZ.b !RAM_SMB2U_Global_StripeImageToUpload
	DEC.w !RAM_SMB2U_Global_WaitForVBlankFlag
CODE_1192B7:
	PHD
	LDA.b #!REGISTER_ScreenDisplayRegister>>8
	XBA
	LDA.b #!REGISTER_ScreenDisplayRegister
	TCD
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	STA.b !REGISTER_BG1HorizScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer1XPosHi
	STA.b !REGISTER_BG1HorizScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer1YPosLo
	CLC
	ADC.w !RAM_SMB2U_Level_ShakingLayer1DispYLo
	STA.b !REGISTER_BG1VertScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer1YPosHi
	STA.b !REGISTER_BG1VertScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer2XPosLo
	STA.b !REGISTER_BG2HorizScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer2XPosHi
	STA.b !REGISTER_BG2HorizScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer2YPosLo
	STA.b !REGISTER_BG2VertScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer2YPosHi
	STA.b !REGISTER_BG2VertScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer3XPosLo
	STA.b !REGISTER_BG3HorizScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer3XPosHi
	STA.b !REGISTER_BG3HorizScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer3YPosLo
	STA.b !REGISTER_BG3VertScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer3YPosHi
	STA.b !REGISTER_BG3VertScrollOffset
	REP.b #$10
	LDX.w !RAM_SMB2U_Global_BG1And2WindowMaskSettingsMirror
	STX.b !REGISTER_BG1And2WindowMaskSettings
	LDA.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
	STA.b !REGISTER_ObjectAndColorWindowSettings
	LDX.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	STX.b !REGISTER_ColorMathInitialSettings
	LDX.w !RAM_SMB2U_Global_MainScreenWindowMaskMirror
	STX.b !REGISTER_MainScreenWindowMask
	LDA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	STA.b !REGISTER_FixedColorData
	LDA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	STA.b !REGISTER_FixedColorData
	LDA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	STA.b !REGISTER_FixedColorData
	LDX.w !RAM_SMB2U_Global_MainScreenLayersMirror
	STX.b !REGISTER_MainScreenLayers
	LDA.w !RAM_SMB2U_Global_BG1AddressAndSize
	STA.b !REGISTER_BG1AddressAndSize
	LDA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	STA.w !REGISTER_BGModeAndTileSizeSetting					; Optimization: Unnecessary absolute addressing
	SEP.b #$10
	LDA.w !RAM_SMB2U_Global_VCountTimerLo
	BEQ.b CODE_119367
	CMP.b #$BE
	BEQ.b CODE_119350
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	XBA
	LDA.w !RAM_SMB2U_Global_Layer1XPosLo
	REP.b #$20
	LSR
	LSR
	SEP.b #$20
	STA.b !REGISTER_BG2HorizScrollOffset
	XBA
	STA.b !REGISTER_BG2HorizScrollOffset
CODE_119350:
	LDX.w !REGISTER_IRQEnable
	LDA.w !RAM_SMB2U_Global_VCountTimerLo
	STA.w !REGISTER_VCountTimerLo
	STZ.w !REGISTER_VCountTimerHi
	STZ.w !REGISTER_HCountTimerLo
	STZ.w !REGISTER_HCountTimerHi
	LDA.b #$A1
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
CODE_119367:
	PLD
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STA.w !REGISTER_ScreenDisplayRegister
	LDA.w !RAM_SMB2U_Global_HDMAEnableMirror
	STA.w !REGISTER_HDMAEnable
	JSL.l SMB2U_LevelTileAnimations_Main
	JSR.w CODE_119640
	PLB
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	REP.b #$30
	PLA
	STA.w !RAM_SMB2U_Global_ScratchRAM00
	PLD
	PLY
	PLX
	PLA
EndofVBlank:
	RTI
else
	RTL
endif

CODE_11937C:
	RTS

CODE_11937D:
	JSR.w CODE_1193F8
	PHD
	LDX.b #$80
	STX.w !REGISTER_VRAMAddressIncrementValue
	REP.b #$20
	LDA.w #DMA[$00].Parameters
	TCD
	STZ.w !REGISTER_OAMAddressLo
	LDA.w #(!REGISTER_OAMDataWritePort&$0000FF<<8)+$00
	STA.b DMA[$00].Parameters
	LDA.w #SMB2U_OAMBuffer[$00].XDisp
	STA.b DMA[$00].SourceLo
	STZ.b DMA[$00].SourceBank
	LDA.w #$0220
	STA.b DMA[$00].SizeLo
	LDY.b #$01
	STY.w !REGISTER_DMAEnable
	LDX.w !RAM_SMB2U_Level_UseVaseInteriorWindowHDMAFlag
	BEQ.b CODE_1193AF
	LDA.w #!RAM_SMB2U_Level_VaseInteriorWindowHDMATable
	STA.b HDMA[$07].SourceLo
CODE_1193AF:
	LDA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollVRAMAddressLo
	BEQ.b CODE_1193CF
	STA.w !REGISTER_VRAMAddressLo
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STA.b DMA[$00].Parameters
	LDA.w #!RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable
	STA.b DMA[$00].SourceLo
	LDX.b #!RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable>>16
	STX.b DMA[$00].SourceBank
	LDA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollDataSizeLo
	STA.b DMA[$00].SizeLo
	STY.w !REGISTER_DMAEnable
CODE_1193CF:
	SEP.b #$20
	LDA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	BEQ.b CODE_1193F1
	STZ.w !REGISTER_CGRAMAddress
	REP.b #$20
	LDA.w #(!REGISTER_WriteToCGRAMPort&$0000FF<<8)+$00
	STA.b DMA[$00].Parameters
	LDA.w #SMB2U_PaletteMirror[$00].LowByte
	STA.b DMA[$00].SourceLo
	LDX.b #SMB2U_PaletteMirror[$00].LowByte>>16
	STX.b DMA[$00].SourceBank
	LDA.w #$0200
	STA.b DMA[$00].SizeLo
	STY.w !REGISTER_DMAEnable
CODE_1193F1:
	SEP.b #$20
	STZ.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	PLD
	RTS

CODE_1193F8:
	PHD
	LDA.b #SMB2U_UpperOAMBuffer[$00].Slot>>8
	XBA
	LDA.b #SMB2U_UpperOAMBuffer[$00].Slot
	TCD
	LDY.b #$1C
CODE_119401:
	TYA
	ASL
	ASL
	TAX
	LDA.b SMB2U_OAMTileSizeBuffer[$03].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$02].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$01].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$00].Slot,x
	STA.w SMB2U_UpperOAMBuffer[$00].Slot,y
	LDA.b SMB2U_OAMTileSizeBuffer[$07].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$06].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$05].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$04].Slot,x
	STA.w SMB2U_UpperOAMBuffer[$01].Slot,y
	LDA.b SMB2U_OAMTileSizeBuffer[$0B].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$0A].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$09].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$08].Slot,x
	STA.w SMB2U_UpperOAMBuffer[$02].Slot,y
	LDA.b SMB2U_OAMTileSizeBuffer[$0F].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$0E].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$0D].Slot,x
	ASL
	ASL
	ORA.b SMB2U_OAMTileSizeBuffer[$0C].Slot,x
	STA.w SMB2U_UpperOAMBuffer[$03].Slot,y
	DEY
	DEY
	DEY
	DEY
	BPL.b CODE_119401
	PLD
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_IRQRoutine(Address)
namespace SMB2U_IRQRoutine
%InsertMacroAtXPosition(<Address>)

Main:
CODE_1195C8:
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	SEI
	REP.b #$30
	PHA
	PHX
	PHY
	PHD
	LDA.w #!RAM_SMB2U_Global_ScratchRAM00
	TCD
	SEP.b #$30
endif
	PHB
	PHK
	PLB
	LDA.w !REGISTER_IRQEnable
	BPL.b CODE_119601
	LDA.w !RAM_SMB2U_Global_VCountTimerLo
	BEQ.b CODE_119601
	CMP.b #$BE
	BEQ.b CODE_1195DC
	BRL.w CODE_119603

CODE_1195DC:
	BIT.w !REGISTER_HVBlankFlagsAndJoypadStatus
	BVC.b CODE_1195DC
	LDA.b !RAM_SMB2U_Ending_Layer1SubconsXPosLo
	STA.w !REGISTER_BG1HorizScrollOffset
	LDA.w !RAM_SMB2U_Ending_Layer1SubconsXPosHi
	STA.w !REGISTER_BG1HorizScrollOffset
	STZ.w !REGISTER_BG1VertScrollOffset
	STZ.w !REGISTER_BG1VertScrollOffset
CODE_1195F2:
	LDA.w !RAM_SMB2U_Global_VCountTimerLo
	CMP.b #$FF
	BNE.b CODE_119601
	STZ.w !RAM_SMB2U_Global_VCountTimerLo
	LDA.b #$81
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
CODE_119601:
	PLB
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	REP.b #$30
	PLD
	PLY
	PLX
	PLA
	RTI
else
	RTL
endif

CODE_119603:
	BIT.w !REGISTER_HVBlankFlagsAndJoypadStatus
	BVC.b CODE_119603
	LDA.w !RAM_SMB2U_Global_Layer2XPosLo
	STA.w !REGISTER_BG2HorizScrollOffset
	LDA.w !RAM_SMB2U_Global_Layer2XPosHi
	STA.w !REGISTER_BG2HorizScrollOffset
	STZ.w !REGISTER_BG2VertScrollOffset
	STZ.w !REGISTER_BG2VertScrollOffset
	BRA.b CODE_1195F2
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_PollJoypadInputs(Address)
namespace SMB2U_PollJoypadInputs
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !REGISTER_HVBlankFlagsAndJoypadStatus
	LSR
	BCS.b Main
	STZ.w !REGISTER_JoypadSerialPort1
	LDA.l !SRAM_SMAS_Global_Controller1PluggedInFlag
	TAX
	LDA.w !REGISTER_Joypad1Lo,x
	STA.b !RAM_SMB2U_Global_ControllerHold2
	TAY
	EOR.w !RAM_SMB2U_Global_P1CtrlDisableHi
	AND.b !RAM_SMB2U_Global_ControllerHold2
	STA.b !RAM_SMB2U_Global_ControllerPress2
	STY.w !RAM_SMB2U_Global_P1CtrlDisableHi
	LDA.w !REGISTER_Joypad1Hi,x
	STA.b !RAM_SMB2U_Global_ControllerHold1
	TAY
	EOR.w !RAM_SMB2U_Global_P1CtrlDisableLo
	AND.b !RAM_SMB2U_Global_ControllerHold1
	STA.b !RAM_SMB2U_Global_ControllerPress1
	STY.w !RAM_SMB2U_Global_P1CtrlDisableLo
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_DrawPlayerSprite(Address)
namespace SMB2U_DrawPlayerSprite
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_14E57C
	LDA.b $64
	AND.b #$FC
	STA.b $64
	LDY.w !RAM_SMB2U_Player_CurrentState
	CPY.b #!Define_SMB2U_PlayerState08_HasBeenHurt
	BEQ.b CODE_14E170
	LDY.w !RAM_SMB2U_Player_StarPowerTimer
	BNE.b CODE_14E170
	LDA.b !RAM_SMB2U_Player_HurtTimer
	BEQ.b CODE_14E179
	LSR
	LSR
	LSR
	LSR
	TAY
	LDA.b !RAM_SMB2U_Player_HurtTimer
	AND.w DATA_11CC1B,y
	BNE.b CODE_14E179
	RTL

CODE_14E170:
	STZ.w $0D0A
	JSL.l SMB2U_BufferPlayerFlashingPaletteAnimationData_Main
	BRA.b CODE_14E17D

CODE_14E179:
	JSL.l SMB2U_BufferPlayerPowerJumpFlashPaletteAnimationData_Main
CODE_14E17D:
	LDA.w !RAM_SMB2U_Player_InQuicksandDepth
	BEQ.b CODE_14E186
	LDA.b #$20
	TSB.b $64
CODE_14E186:
	LDA.w !RAM_SMB2U_Player_OnScreenPosXLo
	STA.w SMB2U_OAMBuffer[$20].XDisp
	STA.w SMB2U_OAMBuffer[$21].XDisp
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Player_OnScreenPosYHi
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDY.b !RAM_SMB2U_Player_BasePose
	CPY.b #$04
	BEQ.b CODE_14E1AF
	LDA.w $06C2
	BEQ.b CODE_14E1AF
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CLC
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	BCC.b CODE_14E1AF
	INC.b !RAM_SMB2U_Global_ScratchRAM01
CODE_14E1AF:
	LDA.b !RAM_SMB2U_Player_CharacterGFXSet
	CMP.b #$01
	BEQ.b CODE_14E1C1
	CPY.b #$00
	BNE.b CODE_14E1C1
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	BNE.b CODE_14E1BF
	DEC.b !RAM_SMB2U_Global_ScratchRAM01
CODE_14E1BF:
	DEC.b !RAM_SMB2U_Global_ScratchRAM00
CODE_14E1C1:
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.w #$FFF0
	BCS.b CODE_14E1CF
	CMP.w #$00F0
	BCS.b CODE_14E1D6
CODE_14E1CF:
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMBuffer[$20].YDisp
CODE_14E1D6:
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CLC
	ADC.w #$0010
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.w #$FFF0
	BCS.b CODE_14E1EA
	CMP.w #$00F0
	BCS.b CODE_14E1F1
CODE_14E1EA:
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMBuffer[$21].YDisp
CODE_14E1F1:
	SEP.b #$20
	LDA.b !RAM_SMB2U_Player_FacingDirection
	LSR
	ROR
	ROR
	ORA.b $64
	AND.b #$F0
	LDX.b !RAM_SMB2U_Player_BasePose
	CPX.b #$07
	BEQ.b CODE_14E206
	CPX.b #$04
	BNE.b CODE_14E223
CODE_14E206:
	AND.b #$20
	EOR.b #$20
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b $64
	AND.b #$C0
	TSB.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b $64
	AND.b #$03
	ASL
	ORA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w SMB2U_OAMBuffer[$20].Prop
	AND.b #$FE
	STA.w SMB2U_OAMBuffer[$21].Prop
	BRA.b CODE_14E240

CODE_14E223:
	PHA
	LDA.b $64
	AND.b #$20
	EOR.b #$20
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b $64
	AND.b #$03
	ASL
	TSB.b !RAM_SMB2U_Global_ScratchRAM02
	PLA
	AND.b #$DC
	ORA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.w SMB2U_OAMBuffer[$20].Prop
	AND.b #$FE
	STA.w SMB2U_OAMBuffer[$21].Prop
CODE_14E240:
	LDA.b !RAM_SMB2U_Player_BasePose
	CMP.b #$04
	BNE.b CODE_14E24B
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$20].YDisp
CODE_14E24B:
	LDA.b #$00
	STA.w SMB2U_OAMBuffer[$20].Tile
	LDA.b #$02
	STA.w SMB2U_OAMBuffer[$21].Tile
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$20].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$21].Slot
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BNE.b CODE_14E2B0
	LDA.w SMB2U_OAMBuffer[$20].XDisp
	CMP.b #$F0
	BCC.b CODE_14E2B0
	LDA.w !RAM_SMB2U_Level_CurrentLevel					;\ Note: Prevent the player sprite from wrapping around the screen in 5-2 and 7-2.
	CMP.b #!Define_SMB2U_LevelID_5_2					;|
	BEQ.b CODE_14E2A8							;|
	CMP.b #!Define_SMB2U_LevelID_7_2					;|
	BEQ.b CODE_14E2A8							;/
	LDA.w SMB2U_OAMBuffer[$20].XDisp
	STA.w SMB2U_OAMBuffer[$22].XDisp
	STA.w SMB2U_OAMBuffer[$23].XDisp
	LDA.w SMB2U_OAMBuffer[$20].YDisp
	STA.w SMB2U_OAMBuffer[$22].YDisp
	LDA.w SMB2U_OAMBuffer[$21].YDisp
	STA.w SMB2U_OAMBuffer[$23].YDisp
	LDA.w SMB2U_OAMBuffer[$20].Tile
	STA.w SMB2U_OAMBuffer[$22].Tile
	LDA.w SMB2U_OAMBuffer[$21].Tile
	STA.w SMB2U_OAMBuffer[$23].Tile
	LDA.w SMB2U_OAMBuffer[$20].Prop
	STA.w SMB2U_OAMBuffer[$22].Prop
	LDA.w SMB2U_OAMBuffer[$21].Prop
	STA.w SMB2U_OAMBuffer[$23].Prop
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$22].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$23].Slot
CODE_14E2A8:
	LDA.b #$03
	STA.w SMB2U_OAMTileSizeBuffer[$20].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$21].Slot
CODE_14E2B0:
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_RT00_SMB2U_UploadMusicBank(Address)
namespace SMB2U_UploadMusicBank
%InsertMacroAtXPosition(<Address>)

Main:
	SEI
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	STZ.w !REGISTER_HDMAEnable
	LDA.b #$FF
	STA.w !REGISTER_APUPort1
	LDA.b #MusicBank
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #MusicBank>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #MusicBank>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	JSR.w SMB2U_HandleSPCUploads_Main
	RTL
namespace off
endmacro

macro ROUTINE_RT01_SMB2U_UploadMusicBank(Address)
namespace SMB2U_UploadMusicBank
%InsertMacroAtXPosition(<Address>)

MusicBank:
;$1FC000
	incbin "SPC700/SMB2U_MusicBank.bin"
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_UploadLevelPreviewLevelTilemap(Address)
namespace SMB2U_UploadLevelPreviewLevelTilemap
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	AND.b #$0F
	STA.w !RAM_SMB2U_Level_CurrentWorld
	ASL
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentWorld
	TAX
	LDA.l SMB2U_LevelPreviewTilemaps_Ptrs,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.l SMB2U_LevelPreviewTilemaps_Ptrs+$01,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.l SMB2U_LevelPreviewTilemaps_Ptrs+$02,x
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.b #$80
	STA.w !REGISTER_VRAMAddressIncrementValue
	REP.b #$30
	LDA.w #$0566
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.w #$0000
CODE_12F9F2:
	LDX.w #$0026
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !REGISTER_VRAMAddressLo
CODE_12F9FA:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM02],y
	STA.w !REGISTER_WriteToVRAMPortLo
	INY
	INY
	DEX
	DEX
	BPL.b CODE_12F9FA
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	ADC.w #$0020
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.w #$06A6
	BNE.b CODE_12F9F2
	SEP.b #$30
	RTL
namespace off
endmacro

;--------------------------------------------------------------------

; Note: Unused duplicate of the above routine.

macro ROUTINE_SMB2U_CopyOfUploadLevelPreviewLevelTilemap(Address)
namespace SMB2U_CopyOfUploadLevelPreviewLevelTilemap
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	AND.b #$0F
	STA.w !RAM_SMB2U_Level_CurrentWorld
	ASL
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentWorld
	TAX
	LDA.l SMB2U_LevelPreviewTilemaps_Ptrs,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.l SMB2U_LevelPreviewTilemaps_Ptrs+$01,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.l SMB2U_LevelPreviewTilemaps_Ptrs+$02,x
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.b #$80
	STA.w !REGISTER_VRAMAddressIncrementValue
	REP.b #$30
	LDA.w #$0626
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.w #$00F0
ADDR_14D9AB:
	LDX.w #$0026
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !REGISTER_VRAMAddressLo
ADDR_14D9B3:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM02],y
	STA.w !REGISTER_WriteToVRAMPortLo
	INY
	INY
	DEX
	DEX
	BPL.b ADDR_14D9B3
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	ADC.w #$0020
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.w #$06A6
	BNE.b ADDR_14D9AB
	SEP.b #$30
	RTL
namespace off
endmacro

;--------------------------------------------------------------------

macro DATATABLE_SMB2U_LevelPreviewTilemaps(Address)
namespace SMB2U_LevelPreviewTilemaps
%InsertMacroAtXPosition(<Address>)


Ptrs:
	dl World1
	dl World2
	dl World3
	dl World4
	dl World5
	dl World6
	dl World7

World1:
World3:
World5:
	dw $00FF,$00FF,$0446,$0447,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0456,$0457,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$1C00,$1C01,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0848,$0849,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$0442,$0443,$0444,$0443,$0444,$0443,$0444,$0445,$00FF,$00FF,$00FF,$00FF,$0848,$0849
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0452,$0453,$0454,$0453,$0454,$0453,$0454,$0455,$00FF,$00FF
	dw $00FF,$00FF,$0848,$0849,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0452,$0453,$0454,$0453,$0454,$0453
	dw $0454,$0455,$00FF,$00FF,$00FF,$00FF,$0848,$0849,$00FF,$00FF,$1C00,$1C01,$00FF,$00FF,$0452,$0453
	dw $0454,$0453,$0454,$0453,$0454,$0455,$00FF,$00FF,$0840,$0841,$0840,$0841,$0840,$0841,$0840,$0841
	dw $0840,$0841,$0840,$0841,$0840,$0841,$0840,$0841,$0840,$0841,$0840,$0841,$0850,$0851,$0850,$0851
	dw $0850,$0851,$0850,$0851,$0850,$0851,$0850,$0851,$0850,$0851,$0850,$0851,$0850,$0851,$0850,$0851
	dw $0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859
	dw $0858,$0859,$0858,$0859,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858
	dw $0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858

World2:
World6:
	dw $00FF,$00FF,$0446,$0447,$00FF,$00FF,$0466,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0476,$00FF
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0456,$0457,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0466,$00FF,$00FF,$00FF,$0848,$0849,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$0476,$00FF,$00FF,$00FF,$0464,$0862,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0848,$0849
	dw $0476,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0473,$0474,$0872,$0863,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$0848,$0849,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0473,$0475,$0474,$0872,$0865
	dw $0863,$00FF,$00FF,$00FF,$00FF,$00FF,$0848,$0849,$00FF,$00FF,$1C00,$1C01,$00FF,$00FF,$0473,$0475
	dw $0475,$0474,$0872,$0865,$0865,$0863,$00FF,$00FF,$0860,$0861,$0860,$0861,$0860,$0861,$0860,$0861
	dw $0860,$0861,$0860,$0861,$0860,$0861,$0860,$0861,$0860,$0861,$0860,$0861,$0870,$0871,$0870,$0871
	dw $0870,$0871,$0870,$0871,$0870,$0871,$0870,$0871,$0870,$0871,$0870,$0871,$0870,$0871,$0870,$0871
	dw $0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859
	dw $0858,$0859,$0858,$0859,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858
	dw $0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858

World4:
	dw $00FF,$00FF,$0446,$0447,$00FF,$00FF,$00FF,$00FF,$0867,$0877,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0456,$0457,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$1C00,$1C01,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0848,$0849,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$044C,$044D,$044E,$044D,$044E,$044D,$044E,$044F,$00FF,$00FF,$00FF,$00FF,$0848,$0849
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$045C,$045D,$045E,$045D,$045E,$045D,$045E,$045F,$00FF,$00FF
	dw $00FF,$00FF,$0848,$0849,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$045C,$045D,$045E,$045D,$045E,$045D
	dw $045E,$045F,$00FF,$00FF,$00FF,$00FF,$0848,$0849,$00FF,$00FF,$1C00,$1C01,$00FF,$00FF,$045C,$045D
	dw $045E,$045D,$045E,$045D,$045E,$045F,$00FF,$00FF,$084A,$084B,$084A,$084B,$084A,$084B,$084A,$084B
	dw $084A,$084B,$084A,$084B,$084A,$084B,$084A,$084B,$084A,$084B,$084A,$084B,$085A,$085B,$085A,$085B
	dw $085A,$085B,$085A,$085B,$085A,$085B,$085A,$085B,$085A,$085B,$085A,$085B,$085A,$085B,$085A,$085B
	dw $0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859
	dw $0858,$0859,$0858,$0859,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858
	dw $0859,$0858,$0859,$0858,$0859,$0858,$0859,$0858

World7:
	dw $00FF,$00FF,$047C,$047D,$00FF,$00FF,$00FF,$0867,$0877,$00FF,$0868,$0869,$086A,$0869,$086A,$0869
	dw $086A,$086B,$00FF,$00FF,$00FF,$00FF,$047E,$047F,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$0878,$0879
	dw $087A,$0879,$087A,$0879,$087A,$087B,$00FF,$00FF,$00FF,$00FF,$047E,$047F,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$086C,$086D,$086E,$086D,$086E,$086D,$086E,$086F,$00BF,$00BF,$00FF,$00FF,$047E,$047F
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$086C,$086D,$086E,$086D,$086E,$086D,$086E,$086F,$00BF,$00BF
	dw $00FF,$00FF,$047E,$047F,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$086C,$086D,$086E,$086D,$086E,$086D
	dw $086E,$086F,$00BF,$00BF,$00FF,$00FF,$047E,$047F,$00FF,$00FF,$1C00,$1C01,$00FF,$00FF,$086C,$086D
	dw $086E,$086D,$086E,$086D,$086E,$086F,$00BF,$00BF,$141B,$141F,$141D,$141F,$141D,$141F,$141D,$141F
	dw $141D,$141F,$141D,$141F,$141D,$141F,$141D,$141F,$141D,$141F,$141D,$1421,$141C,$1420,$141E,$1420
	dw $141E,$1420,$141E,$1420,$141E,$1420,$141E,$1420,$141E,$1420,$141E,$1420,$141E,$1420,$141E,$1422
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF
	dw $00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF,$00FF
namespace off
endmacro


;#############################################################################################################
;#############################################################################################################

macro DATATABLE_SMB2U_VaseInteriorWindowHDMAData(Address)
namespace SMB2U_VaseInteriorWindowHDMAData
%InsertMacroAtXPosition(<Address>)

Ptrs:
	dl DATA_15F67E
	dl DATA_15F83E
	dl DATA_15FB1E

DATA_15F67E:
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
else
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8
endif

DATA_15F83E:
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0
	db $30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0
	db $30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0
	db $30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0
	db $30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0
	db $30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0,$30,$D0
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8,$08,$F8
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
endif

DATA_15FB1E:
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8,$38,$C8
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8
	db $28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8,$28,$D8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8,$18,$E8
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF,$08,$FF
	db $18,$E0,$18,$E0,$18,$E0,$18,$E0,$18,$E0,$18,$E0,$18,$E0,$18,$E0
	db $18,$E0,$18,$E0,$18,$E0,$18,$E0,$18,$E0,$18,$E0,$18,$E0,$18,$E0
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00,$FF,$00
	db $FF
endif
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro DATATABLE_SMB2U_LevelSpriteData(Address)
namespace SMB2U_LevelSpriteData
%InsertMacroAtXPosition(<Address>)

Main:
Ptrs:
.Hi1:
	db DATA_11F50F>>8,DATA_11F523>>8,DATA_11F537>>8
	db DATA_11F54B>>8,DATA_11F55F>>8,DATA_11F573>>8
	db DATA_11F587>>8,DATA_11F59B>>8,DATA_11F5AF>>8
	db DATA_11F5C3>>8,DATA_11F5D7>>8,DATA_11F5EB>>8
	db DATA_11F5FF>>8,DATA_11F613>>8,DATA_11F627>>8
	db DATA_11F63B>>8,DATA_11F64F>>8,DATA_11F663>>8
	db DATA_11F677>>8,DATA_11F68B>>8,DATA_11F69F>>8

.Lo1:
	db DATA_11F50F,DATA_11F523,DATA_11F537
	db DATA_11F54B,DATA_11F55F,DATA_11F573
	db DATA_11F587,DATA_11F59B,DATA_11F5AF
	db DATA_11F5C3,DATA_11F5D7,DATA_11F5EB
	db DATA_11F5FF,DATA_11F613,DATA_11F627
	db DATA_11F63B,DATA_11F64F,DATA_11F663
	db DATA_11F677,DATA_11F68B,DATA_11F69F

.Hi2:
	db DATA_11F519>>8,DATA_11F52D>>8,DATA_11F541>>8
	db DATA_11F555>>8,DATA_11F569>>8,DATA_11F57D>>8
	db DATA_11F591>>8,DATA_11F5A5>>8,DATA_11F5B9>>8
	db DATA_11F5CD>>8,DATA_11F5E1>>8,DATA_11F5F5>>8
	db DATA_11F609>>8,DATA_11F61D>>8,DATA_11F631>>8
	db DATA_11F645>>8,DATA_11F659>>8,DATA_11F66D>>8
	db DATA_11F681>>8,DATA_11F695>>8,DATA_11F6A9>>8

.Lo2:
	db DATA_11F519,DATA_11F52D,DATA_11F541
	db DATA_11F555,DATA_11F569,DATA_11F57D
	db DATA_11F591,DATA_11F5A5,DATA_11F5B9
	db DATA_11F5CD,DATA_11F5E1,DATA_11F5F5
	db DATA_11F609,DATA_11F61D,DATA_11F631
	db DATA_11F645,DATA_11F659,DATA_11F66D
	db DATA_11F681,DATA_11F695,DATA_11F6A9

DATA_11F50F:
	db DATA_11F6B3>>8,DATA_11F6BC>>8,DATA_11F6D1>>8,DATA_11F70E>>8,DATA_11F714>>8,DATA_11F719>>8,DATA_11F719>>8,DATA_11F719>>8,DATA_11F719>>8,DATA_11F719>>8

DATA_11F519:
	db DATA_11F6B3,DATA_11F6BC,DATA_11F6D1,DATA_11F70E,DATA_11F714,DATA_11F719,DATA_11F719,DATA_11F719,DATA_11F719,DATA_11F719

DATA_11F523:
	db DATA_11F725>>8,DATA_11F745>>8,DATA_11F754>>8,DATA_11F75E>>8,DATA_11F764>>8,DATA_11F771>>8,DATA_11F771>>8,DATA_11F771>>8,DATA_11F771>>8,DATA_11F771>>8

DATA_11F52D:
	db DATA_11F725,DATA_11F745,DATA_11F754,DATA_11F75E,DATA_11F764,DATA_11F771,DATA_11F771,DATA_11F771,DATA_11F771,DATA_11F771

DATA_11F537:
	db DATA_11F774>>8,DATA_11F7A9>>8,DATA_11F7B1>>8,DATA_11F7CB>>8,DATA_11F7EE>>8,DATA_11F7EE>>8,DATA_11F7EE>>8,DATA_11F7EE>>8,DATA_11F7EE>>8,DATA_11F7EE>>8

DATA_11F541:
	db DATA_11F774,DATA_11F7A9,DATA_11F7B1,DATA_11F7CB,DATA_11F7EE,DATA_11F7EE,DATA_11F7EE,DATA_11F7EE,DATA_11F7EE,DATA_11F7EE

DATA_11F54B:
	db DATA_11F7F5>>8,DATA_11F814>>8,DATA_11F825>>8,DATA_11F825>>8,DATA_11F82F>>8,DATA_11F825>>8,DATA_11F825>>8,DATA_11F825>>8,DATA_11F825>>8,DATA_11F825>>8

DATA_11F555:
	db DATA_11F7F5,DATA_11F814,DATA_11F825,DATA_11F825,DATA_11F82F,DATA_11F825,DATA_11F825,DATA_11F825,DATA_11F825,DATA_11F825

DATA_11F55F:
	db DATA_11F83C>>8,DATA_11F847>>8,DATA_11F876>>8,DATA_11F885>>8,DATA_11F898>>8,DATA_11F8A5>>8,DATA_11F8A5>>8,DATA_11F8A5>>8,DATA_11F8A5>>8,DATA_11F8A5>>8

DATA_11F569:
	db DATA_11F83C,DATA_11F847,DATA_11F876,DATA_11F885,DATA_11F898,DATA_11F8A5,DATA_11F8A5,DATA_11F8A5,DATA_11F8A5,DATA_11F8A5

DATA_11F573:
	db DATA_11F8AF>>8,DATA_11F8B3>>8,DATA_11F8CE>>8,DATA_11F8D1>>8,DATA_11F8F3>>8,DATA_11F900>>8,DATA_11F920>>8,DATA_11F927>>8,DATA_11F927>>8,DATA_11F927>>8

DATA_11F57D:
	db DATA_11F8AF,DATA_11F8B3,DATA_11F8CE,DATA_11F8D1,DATA_11F8F3,DATA_11F900,DATA_11F920,DATA_11F927,DATA_11F927,DATA_11F927

DATA_11F587:
	db DATA_11F930>>8,DATA_11F933>>8,DATA_11F94E>>8,DATA_11F952>>8,DATA_11F963>>8,DATA_11F96E>>8,DATA_11F96E>>8,DATA_11F96E>>8,DATA_11F96E>>8,DATA_11F96E>>8

DATA_11F591:
	db DATA_11F930,DATA_11F933,DATA_11F94E,DATA_11F952,DATA_11F963,DATA_11F96E,DATA_11F96E,DATA_11F96E,DATA_11F96E,DATA_11F96E

DATA_11F59B:
	db DATA_11F96E>>8,DATA_11F991>>8,DATA_11F9AA>>8,DATA_11F9B5>>8,DATA_11F9BA>>8,DATA_11F9BA>>8,DATA_11F9BA>>8,DATA_11F9BA>>8,DATA_11F9BA>>8,DATA_11F9BA>>8

DATA_11F5A5:
	db DATA_11F96E,DATA_11F991,DATA_11F9AA,DATA_11F9B5,DATA_11F9BA,DATA_11F9BA,DATA_11F9BA,DATA_11F9BA,DATA_11F9BA,DATA_11F9BA

DATA_11F5AF:
	db DATA_11F9BA>>8,DATA_11F9BF>>8,DATA_11F9CE>>8,DATA_11F9E1>>8,DATA_11FA14>>8,DATA_11FA30>>8,DATA_11FA3D>>8,DATA_11FA49>>8,DATA_11FA5D>>8,DATA_11FA5D>>8

DATA_11F5B9:
	db DATA_11F9BA,DATA_11F9BF,DATA_11F9CE,DATA_11F9E1,DATA_11FA14,DATA_11FA30,DATA_11FA3D,DATA_11FA49,DATA_11FA5D,DATA_11FA5D

DATA_11F5C3:
	db DATA_11FA67>>8,DATA_11FA96>>8,DATA_11FAB7>>8,DATA_11FAB7>>8,DATA_11FAB7>>8,DATA_11FAB7>>8,DATA_11FAB7>>8,DATA_11FAB7>>8,DATA_11FAB7>>8,DATA_11FAB7>>8

DATA_11F5CD:
	db DATA_11FA67,DATA_11FA96,DATA_11FAB7,DATA_11FAB7,DATA_11FAB7,DATA_11FAB7,DATA_11FAB7,DATA_11FAB7,DATA_11FAB7,DATA_11FAB7

DATA_11F5D7:
	db DATA_11FAE5>>8,DATA_11FAEA>>8,DATA_11FB31>>8,DATA_11FB58>>8,DATA_11FB63>>8,DATA_11FB63>>8,DATA_11FB63>>8,DATA_11FB63>>8,DATA_11FB63>>8,DATA_11FB63>>8

DATA_11F5E1:
	db DATA_11FAE5,DATA_11FAEA,DATA_11FB31,DATA_11FB58,DATA_11FB63,DATA_11FB63,DATA_11FB63,DATA_11FB63,DATA_11FB63,DATA_11FB63

DATA_11F5EB:
	db DATA_11FB72>>8,DATA_11FB76>>8,DATA_11FB85>>8,DATA_11FBAC>>8,DATA_11FBC5>>8,DATA_11FBD0>>8,DATA_11FBE3>>8,DATA_11FBF6>>8,DATA_11FC03>>8,DATA_11FC0E>>8

DATA_11F5F5:
	db DATA_11FB72,DATA_11FB76,DATA_11FB85,DATA_11FBAC,DATA_11FBC5,DATA_11FBD0,DATA_11FBE3,DATA_11FBF6,DATA_11FC03,DATA_11FC0E

DATA_11F5FF:
	db DATA_11FC19>>8,DATA_11FC23>>8,DATA_11FC4C>>8,DATA_11FC55>>8,DATA_11FC55>>8,DATA_11FC55>>8,DATA_11FC55>>8,DATA_11FC55>>8,DATA_11FC55>>8,DATA_11FC55>>8

DATA_11F609:
	db DATA_11FC19,DATA_11FC23,DATA_11FC4C,DATA_11FC55,DATA_11FC55,DATA_11FC55,DATA_11FC55,DATA_11FC55,DATA_11FC55,DATA_11FC55

DATA_11F613:
	db DATA_11FC55>>8,DATA_11FC5A>>8,DATA_11FC91>>8,DATA_11FCAA>>8,DATA_11FCB6>>8,DATA_11FCBF>>8,DATA_11FCCB>>8,DATA_11FCCB>>8,DATA_11FCCB>>8,DATA_11FCCB>>8

DATA_11F61D:
	db DATA_11FC55,DATA_11FC5A,DATA_11FC91,DATA_11FCAA,DATA_11FCB6,DATA_11FCBF,DATA_11FCCB,DATA_11FCCB,DATA_11FCCB,DATA_11FCCB

DATA_11F627:
	db DATA_11FCCB>>8,DATA_11FCD0>>8,DATA_11FCEF>>8,DATA_11FD01>>8,DATA_11FD1F>>8,DATA_11FD40>>8,DATA_11FD40>>8,DATA_11FD40>>8,DATA_11FD40>>8,DATA_11FD40>>8

DATA_11F631:
	db DATA_11FCCB,DATA_11FCD0,DATA_11FCEF,DATA_11FD01,DATA_11FD1F,DATA_11FD40,DATA_11FD40,DATA_11FD40,DATA_11FD40,DATA_11FD40

DATA_11F63B:
	db DATA_11FD45>>8,DATA_11FD70>>8,DATA_11FD7F>>8,DATA_11FD89>>8,DATA_11FD96>>8,DATA_11FDA5>>8,DATA_11FDAE>>8,DATA_11FDAE>>8,DATA_11FDAE>>8,DATA_11FDAE>>8

DATA_11F645:
	db DATA_11FD45,DATA_11FD70,DATA_11FD7F,DATA_11FD89,DATA_11FD96,DATA_11FDA5,DATA_11FDAE,DATA_11FDAE,DATA_11FDAE,DATA_11FDAE

DATA_11F64F:
	db DATA_11FDB2>>8,DATA_11FDB7>>8,DATA_11FDEC>>8,DATA_11FDEC>>8,DATA_11FDEC>>8,DATA_11FDEC>>8,DATA_11FDEC>>8,DATA_11FDEC>>8,DATA_11FDEC>>8,DATA_11FDEC>>8

DATA_11F659:
	db DATA_11FDB2,DATA_11FDB7,DATA_11FDEC,DATA_11FDEC,DATA_11FDEC,DATA_11FDEC,DATA_11FDEC,DATA_11FDEC,DATA_11FDEC,DATA_11FDEC

DATA_11F663:
	db DATA_11FDF6>>8,DATA_11FDFA>>8,DATA_11FE08>>8,DATA_11FE23>>8,DATA_11FE50>>8,DATA_11FE55>>8,DATA_11FE5E>>8,DATA_11FE5E>>8,DATA_11FE5E>>8,DATA_11FE5E>>8

DATA_11F66D:
	db DATA_11FDF6,DATA_11FDFA,DATA_11FE08,DATA_11FE23,DATA_11FE50,DATA_11FE55,DATA_11FE5E,DATA_11FE5E,DATA_11FE5E,DATA_11FE5E

DATA_11F677:
	db DATA_11FE63>>8,DATA_11FE67>>8,DATA_11FE93>>8,DATA_11FEA8>>8,DATA_11FEBD>>8,DATA_11FEC6>>8,DATA_11FEC6>>8,DATA_11FEC6>>8,DATA_11FEC6>>8,DATA_11FEC6>>8

DATA_11F681:
	db DATA_11FE63,DATA_11FE67,DATA_11FE93,DATA_11FEA8,DATA_11FEBD,DATA_11FEC6,DATA_11FEC6,DATA_11FEC6,DATA_11FEC6,DATA_11FEC6

DATA_11F68B:
	db DATA_11FECC>>8,DATA_11FED8>>8,DATA_11FEF4>>8,DATA_11FF15>>8,DATA_11FF2E>>8,DATA_11FF53>>8,DATA_11FF5B>>8,DATA_11FF86>>8,DATA_11FFA5>>8,DATA_11FFCB>>8

DATA_11F695:
	db DATA_11FECC,DATA_11FED8,DATA_11FEF4,DATA_11FF15,DATA_11FF2E,DATA_11FF53,DATA_11FF5B,DATA_11FF86,DATA_11FFA5,DATA_11FFCB

DATA_11F69F:
	db DATA_11FFD6>>8,DATA_11FFD7>>8,DATA_11FFD8>>8,DATA_11FFD9>>8,DATA_11FFDA>>8,DATA_11FFDA>>8,DATA_11FFDA>>8,DATA_11FFDA>>8,DATA_11FFDA>>8,DATA_11FFDA>>8

DATA_11F6A9:
	db DATA_11FFD6,DATA_11FFD7,DATA_11FFD8,DATA_11FFD9,DATA_11FFDA,DATA_11FFDA,DATA_11FFDA,DATA_11FFDA,DATA_11FFDA,DATA_11FFDA

DATA_11F6B3:
	incbin "Levels/1-1/1-1_Sprite_Sub00.bin"

DATA_11F6BC:
	incbin "Levels/1-1/1-1_Sprite_Sub01.bin"

DATA_11F6D1:
	incbin "Levels/1-1/1-1_Sprite_Sub02.bin"

DATA_11F70E:
	incbin "Levels/1-1/1-1_Sprite_Sub03.bin"

DATA_11F714:
	incbin "Levels/1-1/1-1_Sprite_Sub04.bin"

DATA_11F719:
	incbin "Levels/1-1/1-1_Sprite_Sub05.bin"

DATA_11F725:
	incbin "Levels/1-2/1-2_Sprite_Sub00.bin"

DATA_11F745:
	incbin "Levels/1-2/1-2_Sprite_Sub01.bin"

DATA_11F754:
	incbin "Levels/1-2/1-2_Sprite_Sub02.bin"

DATA_11F75E:
	incbin "Levels/1-2/1-2_Sprite_Sub03.bin"

DATA_11F764:
	incbin "Levels/1-2/1-2_Sprite_Sub04.bin"

DATA_11F771:
	incbin "Levels/1-2/1-2_Sprite_Sub05.bin"

DATA_11F774:
	incbin "Levels/1-3/1-3_Sprite_Sub00.bin"

DATA_11F7A9:
	incbin "Levels/1-3/1-3_Sprite_Sub01.bin"

DATA_11F7B1:
	incbin "Levels/1-3/1-3_Sprite_Sub02.bin"

DATA_11F7CB:
	incbin "Levels/1-3/1-3_Sprite_Sub03.bin"

DATA_11F7EE:
	incbin "Levels/1-3/1-3_Sprite_Sub04.bin"

DATA_11F7F5:
	incbin "Levels/2-1/2-1_Sprite_Sub00.bin"

DATA_11F814:
	incbin "Levels/2-1/2-1_Sprite_Sub01.bin"

DATA_11F825:
	incbin "Levels/2-1/2-1_Sprite_Sub02.bin"

DATA_11F82F:
	incbin "Levels/2-1/2-1_Sprite_Sub04.bin"

DATA_11F83C:
	incbin "Levels/2-2/2-2_Sprite_Sub00.bin"

DATA_11F847:
	incbin "Levels/2-2/2-2_Sprite_Sub01.bin"

DATA_11F876:
	incbin "Levels/2-2/2-2_Sprite_Sub02.bin"

DATA_11F885:
	incbin "Levels/2-2/2-2_Sprite_Sub03.bin"

DATA_11F898:
	incbin "Levels/2-2/2-2_Sprite_Sub04.bin"

DATA_11F8A5:
	incbin "Levels/2-2/2-2_Sprite_Sub05.bin"

DATA_11F8AF:
	incbin "Levels/2-3/2-3_Sprite_Sub00.bin"

DATA_11F8B3:
	incbin "Levels/2-3/2-3_Sprite_Sub01.bin"

DATA_11F8CE:
	incbin "Levels/2-3/2-3_Sprite_Sub02.bin"

DATA_11F8D1:
	incbin "Levels/2-3/2-3_Sprite_Sub03.bin"

DATA_11F8F3:
	incbin "Levels/2-3/2-3_Sprite_Sub04.bin"

DATA_11F900:
	incbin "Levels/2-3/2-3_Sprite_Sub05.bin"

DATA_11F920:
	incbin "Levels/2-3/2-3_Sprite_Sub06.bin"

DATA_11F927:
	incbin "Levels/2-3/2-3_Sprite_Sub07.bin"

DATA_11F930:
	incbin "Levels/3-1/3-1_Sprite_Sub00.bin"

DATA_11F933:
	incbin "Levels/3-1/3-1_Sprite_Sub01.bin"

DATA_11F94E:
	incbin "Levels/3-1/3-1_Sprite_Sub02.bin"

DATA_11F952:
	incbin "Levels/3-1/3-1_Sprite_Sub03.bin"

DATA_11F963:
	incbin "Levels/3-1/3-1_Sprite_Sub04.bin"

DATA_11F96E:
	incbin "Levels/3-2/3-2_Sprite_Sub00.bin"

DATA_11F991:
	incbin "Levels/3-2/3-2_Sprite_Sub01.bin"

DATA_11F9AA:
	incbin "Levels/3-2/3-2_Sprite_Sub02.bin"

DATA_11F9B5:
	incbin "Levels/3-2/3-2_Sprite_Sub03.bin"

DATA_11F9BA:
	incbin "Levels/3-3/3-3_Sprite_Sub00.bin"

DATA_11F9BF:
	incbin "Levels/3-3/3-3_Sprite_Sub01.bin"

DATA_11F9CE:
	incbin "Levels/3-3/3-3_Sprite_Sub02.bin"

DATA_11F9E1:
	incbin "Levels/3-3/3-3_Sprite_Sub03.bin"

DATA_11FA14:
	incbin "Levels/3-3/3-3_Sprite_Sub04.bin"

DATA_11FA30:
	incbin "Levels/3-3/3-3_Sprite_Sub05.bin"

DATA_11FA3D:
	incbin "Levels/3-3/3-3_Sprite_Sub06.bin"

DATA_11FA49:
	incbin "Levels/3-3/3-3_Sprite_Sub07.bin"

DATA_11FA5D:
	incbin "Levels/3-3/3-3_Sprite_Sub08.bin"

DATA_11FA67:
	incbin "Levels/4-1/4-1_Sprite_Sub00.bin"

DATA_11FA96:
	incbin "Levels/4-1/4-1_Sprite_Sub01.bin"

DATA_11FAB7:
	incbin "Levels/4-1/4-1_Sprite_Sub02.bin"

DATA_11FAE5:
	incbin "Levels/4-2/4-2_Sprite_Sub00.bin"

DATA_11FAEA:
	incbin "Levels/4-2/4-2_Sprite_Sub01.bin"

DATA_11FB31:
	incbin "Levels/4-2/4-2_Sprite_Sub02.bin"

DATA_11FB58:
	incbin "Levels/4-2/4-2_Sprite_Sub03.bin"

DATA_11FB63:
	incbin "Levels/4-2/4-2_Sprite_Sub04.bin"

DATA_11FB72:
	incbin "Levels/4-3/4-3_Sprite_Sub00.bin"

DATA_11FB76:
	incbin "Levels/4-3/4-3_Sprite_Sub01.bin"

DATA_11FB85:
	incbin "Levels/4-3/4-3_Sprite_Sub02.bin"

DATA_11FBAC:
	incbin "Levels/4-3/4-3_Sprite_Sub03.bin"

DATA_11FBC5:
	incbin "Levels/4-3/4-3_Sprite_Sub04.bin"

DATA_11FBD0:
	incbin "Levels/4-3/4-3_Sprite_Sub05.bin"

DATA_11FBE3:
	incbin "Levels/4-3/4-3_Sprite_Sub06.bin"

DATA_11FBF6:
	incbin "Levels/4-3/4-3_Sprite_Sub07.bin"

DATA_11FC03:
	incbin "Levels/4-3/4-3_Sprite_Sub08.bin"

DATA_11FC0E:
	incbin "Levels/4-3/4-3_Sprite_Sub09.bin"

DATA_11FC19:
	incbin "Levels/5-1/5-1_Sprite_Sub00.bin"

DATA_11FC23:
	incbin "Levels/5-1/5-1_Sprite_Sub01.bin"

DATA_11FC4C:
	incbin "Levels/5-1/5-1_Sprite_Sub02.bin"

DATA_11FC55:
	incbin "Levels/5-2/5-2_Sprite_Sub00.bin"

DATA_11FC5A:
	incbin "Levels/5-2/5-2_Sprite_Sub01.bin"

DATA_11FC91:
	incbin "Levels/5-2/5-2_Sprite_Sub02.bin"

DATA_11FCAA:
	incbin "Levels/5-2/5-2_Sprite_Sub03.bin"

DATA_11FCB6:
	incbin "Levels/5-2/5-2_Sprite_Sub04.bin"

DATA_11FCBF:
	incbin "Levels/5-2/5-2_Sprite_Sub05.bin"

DATA_11FCCB:
	incbin "Levels/5-3/5-3_Sprite_Sub00.bin"

DATA_11FCD0:
	incbin "Levels/5-3/5-3_Sprite_Sub01.bin"

DATA_11FCEF:
	incbin "Levels/5-3/5-3_Sprite_Sub02.bin"

DATA_11FD01:
	incbin "Levels/5-3/5-3_Sprite_Sub03.bin"

DATA_11FD1F:
	incbin "Levels/5-3/5-3_Sprite_Sub04.bin"

DATA_11FD40:
	incbin "Levels/5-3/5-3_Sprite_Sub05.bin"

DATA_11FD45:
	incbin "Levels/6-1/6-1_Sprite_Sub00.bin"

DATA_11FD70:
	incbin "Levels/6-1/6-1_Sprite_Sub01.bin"

DATA_11FD7F:
	incbin "Levels/6-1/6-1_Sprite_Sub02.bin"

DATA_11FD89:
	incbin "Levels/6-1/6-1_Sprite_Sub03.bin"

DATA_11FD96:
	incbin "Levels/6-1/6-1_Sprite_Sub04.bin"

DATA_11FDA5:
	incbin "Levels/6-1/6-1_Sprite_Sub05.bin"

DATA_11FDAE:
	incbin "Levels/6-1/6-1_Sprite_Sub06.bin"

DATA_11FDB2:
	incbin "Levels/6-2/6-2_Sprite_Sub00.bin"

DATA_11FDB7:
	incbin "Levels/6-2/6-2_Sprite_Sub01.bin"

DATA_11FDEC:
	incbin "Levels/6-2/6-2_Sprite_Sub02.bin"

DATA_11FDF6:
	incbin "Levels/6-3/6-3_Sprite_Sub00.bin"

DATA_11FDFA:
	incbin "Levels/6-3/6-3_Sprite_Sub01.bin"

DATA_11FE08:
	incbin "Levels/6-3/6-3_Sprite_Sub02.bin"

DATA_11FE23:
	incbin "Levels/6-3/6-3_Sprite_Sub03.bin"

DATA_11FE50:
	incbin "Levels/6-3/6-3_Sprite_Sub04.bin"

DATA_11FE55:
	incbin "Levels/6-3/6-3_Sprite_Sub05.bin"

DATA_11FE5E:
	incbin "Levels/6-3/6-3_Sprite_Sub06.bin"

DATA_11FE63:
	incbin "Levels/7-1/7-1_Sprite_Sub00.bin"

DATA_11FE67:
	incbin "Levels/7-1/7-1_Sprite_Sub01.bin"

DATA_11FE93:
	incbin "Levels/7-1/7-1_Sprite_Sub02.bin"

DATA_11FEA8:
	incbin "Levels/7-1/7-1_Sprite_Sub03.bin"

DATA_11FEBD:
	incbin "Levels/7-1/7-1_Sprite_Sub04.bin"

DATA_11FEC6:
	incbin "Levels/7-1/7-1_Sprite_Sub05.bin"

DATA_11FECC:
	incbin "Levels/7-2/7-2_Sprite_Sub00.bin"

DATA_11FED8:
	incbin "Levels/7-2/7-2_Sprite_Sub01.bin"

DATA_11FEF4:
	incbin "Levels/7-2/7-2_Sprite_Sub02.bin"

DATA_11FF15:
	incbin "Levels/7-2/7-2_Sprite_Sub03.bin"

DATA_11FF2E:
	incbin "Levels/7-2/7-2_Sprite_Sub04.bin"

DATA_11FF53:
	incbin "Levels/7-2/7-2_Sprite_Sub05.bin"

DATA_11FF5B:
	incbin "Levels/7-2/7-2_Sprite_Sub06.bin"

DATA_11FF86:
	incbin "Levels/7-2/7-2_Sprite_Sub07.bin"

DATA_11FFA5:
	incbin "Levels/7-2/7-2_Sprite_Sub08.bin"

DATA_11FFCB:
	incbin "Levels/7-2/7-2_Sprite_Sub09.bin"

DATA_11FFD6:
	incbin "Levels/7-3/7-3_Sprite_Sub00.bin"

DATA_11FFD7:
	incbin "Levels/7-3/7-3_Sprite_Sub01.bin"

DATA_11FFD8:
	incbin "Levels/7-3/7-3_Sprite_Sub02.bin"

DATA_11FFD9:
	incbin "Levels/7-3/7-3_Sprite_Sub03.bin"

DATA_11FFDA:
	incbin "Levels/7-3/7-3_Sprite_Sub04.bin"
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_StoreNewCheckpointInformation(Address)
namespace SMB2U_StoreNewCheckpointInformation
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_Player_TeleportFlag
	CMP.b #$02
	BEQ.b CODE_14E060
	LDY.b #$03
CODE_14E037:
	LDA.w !RAM_SMB2U_Level_CurrentLevel,y
	STA.w !RAM_SMB2U_Player_CheckpointLevel,y
	DEY
	BPL.b CODE_14E037
	LDA.b !RAM_SMB2U_Player_XPosLo
	STA.w !RAM_SMB2U_Player_CheckpointPlayerXPosLo
	LDA.b !RAM_SMB2U_Player_YPosLo
	STA.w !RAM_SMB2U_Player_CheckpointPlayerYPosLo
	LDA.w !RAM_SMB2U_Player_OnScreenPosXLo
	STA.w !RAM_SMB2U_Player_CheckpointPlayerOnScreenPosX
	LDA.w !RAM_SMB2U_Player_OnScreenPosYLo
	STA.w !RAM_SMB2U_Player_CheckpointPlayerOnScreenPosYLo
	LDA.b !RAM_SMB2U_Player_YSpeed
	STA.w !RAM_SMB2U_Player_CheckpointPlayerYSpeed
	LDA.b !RAM_SMB2U_Player_CurrentState
	STA.w !RAM_SMB2U_Player_CheckpointPlayerState
CODE_14E060:
	RTL
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_LoadCheckpointInformation(Address)
namespace SMB2U_LoadCheckpointInformation
%InsertMacroAtXPosition(<Address>)

Main:
	LDY.b #$03
CODE_14E063:
	LDA.w !RAM_SMB2U_Player_CheckpointLevel,y
	STA.w !RAM_SMB2U_Level_CurrentLevel,y
	DEY
	BPL.b CODE_14E063
	LDA.w !RAM_SMB2U_Player_CheckpointPlayerXPosLo
	STA.b !RAM_SMB2U_Player_XPosLo
	LDA.w !RAM_SMB2U_Player_CheckpointPlayerYPosLo
	STA.b !RAM_SMB2U_Player_YPosLo
	LDA.w !RAM_SMB2U_Player_CheckpointPlayerOnScreenPosX
	STA.w !RAM_SMB2U_Player_OnScreenPosXLo
	LDA.w !RAM_SMB2U_Player_CheckpointPlayerOnScreenPosYLo
	STA.w !RAM_SMB2U_Player_OnScreenPosYLo
	LDA.w !RAM_SMB2U_Player_CheckpointPlayerYSpeed
	STA.b !RAM_SMB2U_Player_YSpeed
	LDA.w !RAM_SMB2U_Player_CheckpointPlayerState
	STA.b !RAM_SMB2U_Player_CurrentState
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	STA.w !RAM_SMB2U_Player_VaseWarpType
	STA.b !RAM_SMB2U_Player_InAirFlag
	STA.b !RAM_SMB2U_Player_HurtTimer
CODE_14E098:
	PHB
	LDA.b #DATA_11CBEE>>16
	PHA
	PLB
	LDY.w !RAM_SMB2U_Player_NumberOfHealthUpgrades
	LDA.w DATA_11CBEE,y
	STA.w !RAM_SMB2U_Player_CurrentHP
	PLB
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferSpriteListData(Address)
namespace SMB2U_BufferSpriteListData
%InsertMacroAtXPosition(<Address>)

Main:
	LDX.w !RAM_SMB2U_Level_CurrentLevel
	LDA.l SMB2U_LevelSpriteData_Ptrs_Lo1,x
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.l SMB2U_LevelSpriteData_Ptrs_Hi1,x
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #SMB2U_LevelSpriteData_Main>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.l SMB2U_LevelSpriteData_Ptrs_Lo2,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.l SMB2U_LevelSpriteData_Ptrs_Hi2,x
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.b #SMB2U_LevelSpriteData_Main>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDY.b #$04
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$01
	BEQ.b CODE_14E40D
	LDY.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
CODE_14E40D:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b [!RAM_SMB2U_Global_ScratchRAM03],y
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	REP.b #$20
	LDY.b #$00
CODE_14E419:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w !RAM_SMB2U_Level_SpriteListData,y
	INY
	INY
	BNE.b CODE_14E419
	SEP.b #$20
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro DATATABLE_SMB2U_CastListOAMData(Address)
namespace SMB2U_CastListOAMData
%InsertMacroAtXPosition(<Address>)
;[BR] Added table for better readability.
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	table "Tables/Fonts/CastList_br.txt"
else
	table "Tables/Fonts/CastList.txt"
endif

CastText:
;$14C564
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
;        X, Y, Tile&Prop
	db $33,$60 : dw "E"
	db $3D,$60 : dw "L"
	db $47,$60 : dw "E"
	db $51,$60 : dw "N"
	db $5B,$60 : dw "C"
	db $65,$60 : dw "O"	
else
;        X,Y, Tile,Prop| X,Y, Tile,Prop
	db $30,$60 : dw "C" : db $40,$60 : dw "A"
	db $50,$60 : dw "S" : db $60,$60 : dw "T"
endif

SnickeringWartFaceTiles:
.Frame1:
;$14C574
	db $05,$07,$08,$25,$27,$28

.Frame2:
;$14C57A
	db $0A,$0C,$0D,$2A,$2C,$2D

UNK_14C580:
	db $32,$22,$12

PtrBank:
;$14C583
	db SMB2U_CastListOAMData_Mario>>16,SMB2U_CastListOAMData_Luigi>>16,SMB2U_CastListOAMData_Peach>>16,SMB2U_CastListOAMData_Toad>>16,SMB2U_CastListOAMData_ShyGuy>>16,SMB2U_CastListOAMData_Snifit>>16,SMB2U_CastListOAMData_Ninji>>16,SMB2U_CastListOAMData_Beezo>>16
	db SMB2U_CastListOAMData_Porcupo>>16,SMB2U_CastListOAMData_Tweeter>>16,SMB2U_CastListOAMData_BobOmb>>16,SMB2U_CastListOAMData_Hoopster>>16,SMB2U_CastListOAMData_Trouter>>16,SMB2U_CastListOAMData_Pidgit>>16,SMB2U_CastListOAMData_Panser>>16,SMB2U_CastListOAMData_Flurry>>16
	db SMB2U_CastListOAMData_Albatoss>>16,SMB2U_CastListOAMData_Phanto>>16,SMB2U_CastListOAMData_Spark>>16,SMB2U_CastListOAMData_Subcon>>16,SMB2U_CastListOAMData_Pokey>>16,SMB2U_CastListOAMData_Ostro>>16,SMB2U_CastListOAMData_Birdo>>16,SMB2U_CastListOAMData_Autobomb>>16
	db SMB2U_CastListOAMData_Cobrat>>16,SMB2U_CastListOAMData_Mouser>>16,SMB2U_CastListOAMData_FryGuy>>16,SMB2U_CastListOAMData_Clawgrip>>16,SMB2U_CastListOAMData_Tryclyde>>16

PtrHi:
;$14C5A0
	db SMB2U_CastListOAMData_Mario>>8,SMB2U_CastListOAMData_Luigi>>8,SMB2U_CastListOAMData_Peach>>8,SMB2U_CastListOAMData_Toad>>8,SMB2U_CastListOAMData_ShyGuy>>8,SMB2U_CastListOAMData_Snifit>>8,SMB2U_CastListOAMData_Ninji>>8,SMB2U_CastListOAMData_Beezo>>8
	db SMB2U_CastListOAMData_Porcupo>>8,SMB2U_CastListOAMData_Tweeter>>8,SMB2U_CastListOAMData_BobOmb>>8,SMB2U_CastListOAMData_Hoopster>>8,SMB2U_CastListOAMData_Trouter>>8,SMB2U_CastListOAMData_Pidgit>>8,SMB2U_CastListOAMData_Panser>>8,SMB2U_CastListOAMData_Flurry>>8
	db SMB2U_CastListOAMData_Albatoss>>8,SMB2U_CastListOAMData_Phanto>>8,SMB2U_CastListOAMData_Spark>>8,SMB2U_CastListOAMData_Subcon>>8,SMB2U_CastListOAMData_Pokey>>8,SMB2U_CastListOAMData_Ostro>>8,SMB2U_CastListOAMData_Birdo>>8,SMB2U_CastListOAMData_Autobomb>>8
	db SMB2U_CastListOAMData_Cobrat>>8,SMB2U_CastListOAMData_Mouser>>8,SMB2U_CastListOAMData_FryGuy>>8,SMB2U_CastListOAMData_Clawgrip>>8,SMB2U_CastListOAMData_Tryclyde>>8

PtrLo:
;$14C5BD
	db SMB2U_CastListOAMData_Mario,SMB2U_CastListOAMData_Luigi,SMB2U_CastListOAMData_Peach,SMB2U_CastListOAMData_Toad,SMB2U_CastListOAMData_ShyGuy,SMB2U_CastListOAMData_Snifit,SMB2U_CastListOAMData_Ninji,SMB2U_CastListOAMData_Beezo
	db SMB2U_CastListOAMData_Porcupo,SMB2U_CastListOAMData_Tweeter,SMB2U_CastListOAMData_BobOmb,SMB2U_CastListOAMData_Hoopster,SMB2U_CastListOAMData_Trouter,SMB2U_CastListOAMData_Pidgit,SMB2U_CastListOAMData_Panser,SMB2U_CastListOAMData_Flurry
	db SMB2U_CastListOAMData_Albatoss,SMB2U_CastListOAMData_Phanto,SMB2U_CastListOAMData_Spark,SMB2U_CastListOAMData_Subcon,SMB2U_CastListOAMData_Pokey,SMB2U_CastListOAMData_Ostro,SMB2U_CastListOAMData_Birdo,SMB2U_CastListOAMData_Autobomb
	db SMB2U_CastListOAMData_Cobrat,SMB2U_CastListOAMData_Mouser,SMB2U_CastListOAMData_FryGuy,SMB2U_CastListOAMData_Clawgrip,SMB2U_CastListOAMData_Tryclyde

; Following the new [BR] code, the last letter object will
; always be one row above the others.
Mario:
;$14C5DA
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$00,$24,$58,$D0,$E9,$24
	db $48,$F9,$20,$24,$58,$F9,$E9,$24
	db $34,$F9 : dw " "
	db $3C,$F9 : dw "M" : db $44,$F9 : dw "A"
	db $4C,$F9 : dw "R" : db $54,$F9 : dw "I" : db $5C,$F9 : dw "O"
	db $64,$F9 : dw " " : db $64,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$00,$24,$50,$D0,$E9,$24
	db $40,$F9,$20,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw " "
	db $34,$F9 : dw "M" : db $3C,$F9 : dw "A"
	db $44,$F9 : dw "R" : db $4C,$F9 : dw "I" : db $54,$F9 : dw "O"
	db $5C,$F9 : dw " " : db $64,$F9 : dw " "
endif

Luigi:
;$14C60A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$02,$24,$58,$D0,$E9,$24
	db $48,$F9,$22,$24,$58,$F9,$E9,$24
	db $34,$F9 : dw " "
	db $3C,$F9 : dw "L" : db $44,$F9 : dw "U" : db $4C,$F9 : dw "I"
	db $54,$F9 : dw "G" : db $5C,$F9 : dw "I"
	db $64,$F9 : dw " " : db $64,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$02,$24,$50,$D0,$E9,$24
	db $40,$F9,$22,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw " "
	db $34,$F9 : dw "L" : db $3C,$F9 : dw "U" : db $44,$F9 : dw "I"
	db $4C,$F9 : dw "G" : db $54,$F9 : dw "I"
	db $5C,$F9 : dw " " : db $64,$F9 : dw " "
endif

Peach:										; Note: Peach is referred to as "PRINCESS". It was changed to "PEACH" in the GBA version.
;$14C63A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$04,$24,$58,$D0,$E9,$24
	db $48,$F9,$24,$24,$58,$F9,$E9,$24
	db $30,$F9 : dw "P" : db $38,$F9 : dw "R"
	db $40,$F9 : dw "I" : db $48,$F9 : dw "N"
	db $50,$F9 : dw "C" : db $58,$F9 : dw "E"
	db $60,$F9 : dw "S" : db $68,$F9 : dw "A"
	
	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$04,$24,$50,$D0,$E9,$24
	db $40,$F9,$24,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw "P" : db $30,$F9 : dw "R"
	db $38,$F9 : dw "I" : db $40,$F9 : dw "N"
	db $48,$F9 : dw "C" : db $50,$F9 : dw "E"
	db $58,$F9 : dw "S" : db $60,$F9 : dw "S"
endif

Toad:
;$14C66A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$06,$24,$58,$D0,$E9,$24
	db $48,$F9,$26,$24,$58,$F9,$E9,$24
	db $30,$F9 : dw " " : db $38,$F9 : dw " "
	db $40,$F9 : dw "T" : db $48,$F9 : dw "O"
	db $50,$F9 : dw "A" : db $58,$F9 : dw "D"
	db $60,$F9 : dw " " : db $68,$F9 : dw " "
	
	db $28,$F9 : dw " " : db $78,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$06,$24,$50,$D0,$E9,$24
	db $40,$F9,$26,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw " " : db $30,$F9 : dw " "
	db $38,$F9 : dw "T" : db $40,$F9 : dw "O"
	db $48,$F9 : dw "A" : db $50,$F9 : dw "D"
	db $58,$F9 : dw " " : db $60,$F9 : dw " "
endif

ShyGuy:
;$14C69A
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$08,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw "M" : db $30,$F9 : dw "A" : db $38,$F9 : dw "S"
	db $40,$F9 : dw "C" : db $48,$F9 : dw "A"
	db $50,$F9 : dw "R" : db $58,$F9 : dw "I"
	db $60,$F9 : dw "N" : db $68,$F9 : dw "H" : db $70,$F9 : dw "A"

	db $78,$F9 : dw " "
else
	db $40,$F9,$08,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw " "
	db $30,$F9 : dw "S" : db $38,$F9 : dw "H" : db $40,$F9 : dw "Y"
	db $48,$F9 : dw "G" : db $50,$F9 : dw "U" : db $58,$F9 : dw "Y"
	db $60,$F9 : dw " "
endif

Snifit:
;$14C6CA
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$E9,$24,$58,$D0,$E9,$24
	db $48,$F9,$0A,$24,$58,$F9,$E9,$24
	db $2C,$F9 : dw " " : db $34,$F9 : dw " "
	db $3C,$F9 : dw "S"
	db $44,$F9 : dw "N" : db $4C,$F9 : dw "I"
	db $54,$F9 : dw "F" : db $5C,$F9 : dw "T"
	db $64,$F9 : dw " "

	db $28,$F9 : dw " " : db $78,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
	db $40,$F9,$0A,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw " " : db $30,$F9 : dw "S"
	db $38,$F9 : dw "N" : db $40,$F9 : dw "I"
	db $48,$F9 : dw "F" : db $50,$F9 : dw "I"
	db $58,$F9 : dw "T" : db $60,$F9 : dw " "
endif

Ninji:
;$14C6FA
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$E9,$24,$58,$D0,$E9,$24
	db $48,$F9,$0C,$24,$58,$F9,$E9,$24
	db $34,$F9 : dw " "
	db $3C,$F9 : dw "N" : db $44,$F9 : dw "I" : db $4C,$F9 : dw "N"
	db $54,$F9 : dw "J" : db $5C,$F9 : dw "I"
	db $64,$F9 : dw " " : db $6C,$F9 : dw " "
	db $28,$F9 : dw " " : db $78,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
	db $40,$F9,$0C,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw " "
	db $34,$F9 : dw "N" : db $3C,$F9 : dw "I" : db $44,$F9 : dw "N"
	db $4C,$F9 : dw "J" : db $54,$F9 : dw "I"
	db $5C,$F9 : dw " " : db $64,$F9 : dw " "
endif

Beezo:
;$14C72A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$E9,$24,$58,$D0,$E9,$24
	db $48,$F9,$0E,$24,$58,$F9,$E9,$24
	db $30,$F9 : dw "A" : db $38,$F9 : dw "S" : db $40,$F9 : dw "A"
	db $48,$F9 : dw "B" : db $50,$F9 : dw "E"
	db $58,$F9 : dw "L" : db $60,$F9 : dw "H" : db $68,$F9 : dw "A"
	
	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
	db $40,$F9,$0E,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw " " : db $34,$F9 : dw "B"
	db $3C,$F9 : dw "E" : db $44,$F9 : dw "E"
	db $4C,$F9 : dw "Z" : db $54,$F9 : dw "O"
	db $5C,$F9 : dw " " : db $64,$F9 : dw " "
endif

Porcupo:
;$14C75A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$E9,$24,$58,$D0,$E9,$24
	db $48,$F9,$28,$24,$58,$F9,$E9,$24
	db $34,$F9 : dw "P" : db $3C,$F9 : dw "O"
	db $44,$F9 : dw "R" : db $4C,$F9 : dw "C"
	db $54,$F9 : dw "U" : db $5C,$F9 : dw "P"
	db $64,$F9 : dw "I" : db $6C,$F9 : dw " "
	db $28,$F9 : dw " " : db $70,$F9 : dw " "

	db $64,$D0 : dw "/"
else
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
	db $40,$F9,$28,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw "P" : db $34,$F9 : dw "O"
	db $3C,$F9 : dw "R" : db $44,$F9 : dw "C"
	db $4C,$F9 : dw "U" : db $54,$F9 : dw "P"
	db $5C,$F9 : dw "O" : db $64,$F9 : dw " "
endif

Tweeter:
;$14C78A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$E9,$24,$58,$D0,$E9,$24
	db $48,$F9,$2A,$24,$58,$F9,$E9,$24
	db $34,$F9 : dw " "
	db $3C,$F9 : dw "P" : db $44,$F9 : dw "I"
	db $4C,$F9 : dw "A"
	db $54,$F9 : dw "R" : db $5C,$F9 : dw "A"
	db $64,$F9 : dw " " : db $6C,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
	db $40,$F9,$2A,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw "T" : db $34,$F9 : dw "W"
	db $3C,$F9 : dw "E" : db $44,$F9 : dw "E"
	db $4C,$F9 : dw "T" : db $54,$F9 : dw "E"
	db $5C,$F9 : dw "R" : db $64,$F9 : dw " "
endif

BobOmb:
;$14C7BA
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$2C,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw "B" : db $34,$F9 : dw "O" : db $3C,$F9 : dw "B"
	db $44,$F9 : dw "*"
	db $4C,$F9 : dw "B" : db $54,$F9 : dw "O" : db $5C,$F9 : dw "M"
	db $64,$F9 : dw "B" : db $6C,$F9 : dw "A"
	db $70,$F9 : dw " "

	db $78,$F9 : dw " "
else
	db $40,$F9,$2C,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw "B" : db $34,$F9 : dw "O"
	db $3C,$F9 : dw "B" : db $44,$F9 : dw " "
	db $4C,$F9 : dw "O" : db $54,$F9 : dw "M"
	db $5C,$F9 : dw "B" : db $64,$F9 : dw " "
endif

Hoopster:									;\ Note: This enemy is referred to as "HOOPSTAR", which is a typo
;$14C7EA									;| The Japanese language doesn't have an "ER" sound, so a common substitution to this is to use an "AR" sound.
										;/ It's hard to say why this one enemy's name has this mistake, but Nintendo changed it to "HOOPSTER" in the GBA version.
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$2E,$24,$50,$F9,$E9,$24
	db $34,$F9 : dw "J" : db $3C,$F9 : dw "O" : db $44,$F9 : dw "A"
	db $4C,$F9 : dw "N" : db $54,$F9 : dw "O"
	db $5C,$F9 : dw "L" : db $64,$F9 : dw "A"
	db $6C,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$F9,$2E,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw "H" : db $30,$F9 : dw "O"
	db $38,$F9 : dw "O" : db $40,$F9 : dw "P"
	db $48,$F9 : dw "S" : db $50,$F9 : dw "T"
	db $58,$F9 : dw "A" : db $60,$F9 : dw "R"
endif

Trouter:
;$14C81A
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$40,$24,$50,$F9,$E9,$24
	db $34,$F9 : dw "T" : db $3C,$F9 : dw "R" : db $44,$F9 : dw "U"
	db $4C,$F9 : dw "T" : db $54,$F9 : dw "A"
	db $5C,$F9 : dw "N" : db $64,$F9 : dw "O"
	db $6C,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$F9,$40,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw "T" : db $34,$F9 : dw "R"
	db $3C,$F9 : dw "O" : db $44,$F9 : dw "U"
	db $4C,$F9 : dw "T" : db $54,$F9 : dw "E"
	db $5C,$F9 : dw "R" : db $64,$F9 : dw " "
endif

Pidgit:
;$14C84A
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$42,$24,$50,$F9,$E9,$24
	db $30,$F9 : dw " "
	db $38,$F9 : dw "C" : db $40,$F9 : dw "O" : db $48,$F9 : dw "R"
	db $50,$F9 : dw "V" : db $58,$F9 : dw "A" : db $60,$F9 : dw "L"
	db $68,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$F9,$42,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw " " : db $30,$F9 : dw "P"
	db $38,$F9 : dw "I" : db $40,$F9 : dw "D"
	db $48,$F9 : dw "G" : db $50,$F9 : dw "I"
	db $58,$F9 : dw "T" : db $60,$F9 : dw " "
endif

Panser:
;$14C87A
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$44,$24,$50,$F9,$E9,$24
	db $30,$F9 : dw "V" : db $38,$F9 : dw "I" : db $40,$F9 : dw "O"
	db $48,$F9 : dw "L" : db $50,$F9 : dw "E"
	db $58,$F9 : dw "T" : db $60,$F9 : dw "A" : db $68,$F9 : dw "L"

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$F9,$44,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw " " : db $30,$F9 : dw "P"
	db $38,$F9 : dw "A" : db $40,$F9 : dw "N"
	db $48,$F9 : dw "S" : db $50,$F9 : dw "E"
	db $58,$F9 : dw "R" : db $60,$F9 : dw " "
endif

Flurry:
;$14C8AA
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$46,$24,$50,$F9,$E9,$24
	db $30,$F9 : dw " "
	db $38,$F9 : dw "F" : db $40,$F9 : dw "O"
	db $48,$F9 : dw "F" : db $50,$F9 : dw "R"
	db $58,$F9 : dw "I" : db $60,$F9 : dw "O"
	db $68,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$F9,$46,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw " " : db $30,$F9 : dw "F"
	db $38,$F9 : dw "L" : db $40,$F9 : dw "U"
	db $48,$F9 : dw "R" : db $50,$F9 : dw "R"
	db $58,$F9 : dw "Y" : db $60,$F9 : dw " "
endif

Albatoss:
;$14C8DA
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $40,$F9,$48,$24,$50,$F9,$4A,$24
	db $30,$F9 : dw "A" : db $38,$F9 : dw "L"
	db $40,$F9 : dw "B" : db $48,$F9 : dw "A"
	db $50,$F9 : dw "T" : db $58,$F9 : dw "R"
	db $60,$F9 : dw "A" : db $68,$F9 : dw "Z"

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $38,$F9,$48,$24,$48,$F9,$4A,$24
	db $28,$F9 : dw "A" : db $30,$F9 : dw "L"
	db $38,$F9 : dw "B" : db $40,$F9 : dw "A"
	db $48,$F9 : dw "T" : db $50,$F9 : dw "O"
	db $58,$F9 : dw "S" : db $60,$F9 : dw "S"
endif

Phanto:
;$14C90A
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$64,$24,$58,$F9,$E9,$24
	db $28,$F9 : dw "F" : db $30,$F9 : dw "A" : db $38,$F9 : dw "N"
	db $40,$F9 : dw "T" : db $48,$F9 : dw "A" : db $50,$F9 : dw "S"
	db $58,$F9 : dw "C" : db $60,$F9 : dw "A"
	db $68,$F9 : dw "R" : db $70,$F9 : dw "A"

	db $48,$F9 : dw "/"
else
	db $40,$F9,$64,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw " " : db $30,$F9 : dw "P"
	db $38,$F9 : dw "H" : db $40,$F9 : dw "A"
	db $48,$F9 : dw "N" : db $50,$F9 : dw "T"
	db $58,$F9 : dw "O" : db $60,$F9 : dw " "
endif

Spark:
;$14C93A
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$66,$24,$58,$F9,$E9,$24
	db $38,$F9 : dw "F" : db $40,$F9 : dw "A"
	db $48,$F9 : dw "I" : db $50,$F9 : dw "S"
	db $58,$F9 : dw "C" : db $60,$F9 : dw "A"
	db $68,$F9 : dw " " : db $70,$F9 : dw " "
	db $28,$F9 : dw " " : db $70,$F9 : dw " "

	db $48,$F9 : dw "/"
else
	db $40,$F9,$66,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw " " : db $34,$F9 : dw "S"
	db $3C,$F9 : dw "P" : db $44,$F9 : dw "A"
	db $4C,$F9 : dw "R" : db $54,$F9 : dw "K"
	db $5C,$F9 : dw " " : db $64,$F9 : dw " "
endif

Subcon:
;$14C96A
	db $40,$D0,$E9,$24,$50,$D0,$E9,$24
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$F9,$68,$24,$58,$F9,$E9,$24
	db $30,$F9 : dw " " : db $38,$F9 : dw "S"
	db $40,$F9 : dw "U" : db $48,$F9 : dw "B"
	db $50,$F9 : dw "C" : db $58,$F9 : dw "O"
	db $60,$F9 : dw "N" : db $68,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$F9,$68,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw " " : db $34,$F9 : dw "S"
	db $3C,$F9 : dw "U" : db $44,$F9 : dw "B"
	db $4C,$F9 : dw "C" : db $54,$F9 : dw "O"
	db $5C,$F9 : dw "N" : db $64,$F9 : dw " "
endif

Pokey:
;$14C99A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$60,$24,$50,$D0,$E9,$24
	db $48,$F9,$62,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw "C" : db $34,$F9 : dw "A" : db $3C,$F9 : dw "C"
	db $44,$F9 : dw "T" : db $4C,$F9 : dw "U"
	db $54,$F9 : dw "B" : db $5C,$F9 : dw "O"
	db $64,$F9 : dw "L" : db $6C,$F9 : dw "A"
	db $70,$F9 : dw " "

	db $78,$F9 : dw " "
else
	db $40,$D0,$60,$24,$50,$D0,$E9,$24
	db $40,$F9,$62,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw " " : db $34,$F9 : dw "P"
	db $3C,$F9 : dw "O" : db $44,$F9 : dw "K"
	db $4C,$F9 : dw "E" : db $54,$F9 : dw "Y"
	db $5C,$F9 : dw " " : db $64,$F9 : dw " "
endif

Ostro:										; Note: This enemy is incorrectly referred to as "BIRDO". This was fixed in the GBA version.
;$14C9CA
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$6A,$24,$58,$D0,$E9,$24
	db $48,$F9,$6C,$24,$58,$F9,$E9,$24
	db $34,$F9 : dw "V" : db $3C,$F9 : dw "E" : db $44,$F9 : dw "Z"
	db $4C,$F9 : dw "T" : db $54,$F9 : dw "R"
	db $5C,$F9 : dw "U" : db $64,$F9 : dw "Z"
	db $6C,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$6A,$24,$50,$D0,$E9,$24
	db $40,$F9,$6C,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw " " : db $34,$F9 : dw "B"
	db $3C,$F9 : dw "I" : db $44,$F9 : dw "R"
	db $4C,$F9 : dw "D" : db $54,$F9 : dw "O"
	db $5C,$F9 : dw " " : db $64,$F9 : dw " "
endif

Birdo:										; Note: This enemy is incorrectly referred to as "OSTRO". This was fixed in the GBA version.
;$14C9FA
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$6E,$24,$58,$D0,$E9,$24
	db $48,$F9,$80,$24,$58,$F9,$E9,$24
	db $34,$F9 : dw " " : db $3C,$F9 : dw "B"
	db $44,$F9 : dw "I" : db $4C,$F9 : dw "R"
	db $54,$F9 : dw "D" : db $5C,$F9 : dw "O"
	db $64,$F9 : dw " " : db $6C,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$6E,$24,$50,$D0,$E9,$24
	db $40,$F9,$80,$24,$50,$F9,$E9,$24
	db $2C,$F9 : dw " " : db $34,$F9 : dw "O"
	db $3C,$F9 : dw "S" : db $44,$F9 : dw "T"
	db $4C,$F9 : dw "R" : db $54,$F9 : dw "O"
	db $5C,$F9 : dw " " : db $64,$F9 : dw " "
endif

Autobomb:
;$14CA2A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$82,$24,$58,$D0,$E9,$24
	db $48,$F9,$84,$24,$58,$F9,$E9,$24
	db $30,$F9 : dw "T" : db $38,$F9 : dw "U" : db $40,$F9 : dw "R"
	db $48,$F9 : dw "B" : db $50,$F9 : dw "O" : db $58,$F9 : dw "M"
	db $60,$F9 : dw "B" : db $68,$F9 : dw "A"

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$82,$24,$50,$D0,$E9,$24
	db $40,$F9,$84,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw "A" : db $30,$F9 : dw "U"
	db $38,$F9 : dw "T" : db $40,$F9 : dw "O"
	db $48,$F9 : dw "B" : db $50,$F9 : dw "O"
	db $58,$F9 : dw "M" : db $60,$F9 : dw "B"
endif

Cobrat:
;$14CA5A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $48,$D0,$4C,$24,$58,$D0,$E9,$24
	db $48,$F9,$4E,$24,$58,$F9,$E9,$24
	db $30,$F9 : dw "S" : db $38,$F9 : dw "E" : db $40,$F9 : dw "R"
	db $48,$F9 : dw "P" : db $50,$F9 : dw "E" : db $58,$F9 : dw "S"
	db $60,$F9 : dw "T" : db $68,$F9 : dw "E"

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $40,$D0,$4C,$24,$50,$D0,$E9,$24
	db $40,$F9,$4E,$24,$50,$F9,$E9,$24
	db $28,$F9 : dw " " : db $30,$F9 : dw "C"
	db $38,$F9 : dw "O" : db $40,$F9 : dw "B"
	db $48,$F9 : dw "R" : db $50,$F9 : dw "A"
	db $58,$F9 : dw "T" : db $60,$F9 : dw " "
endif

Mouser:
;$14CA8A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $44,$D0,$86,$24,$4C,$D0,$87,$24
	db $44,$F9,$89,$24,$4C,$F9,$8A,$24
	db $30,$F9 : dw " "
	db $38,$F9 : dw "R" : db $40,$F9 : dw "A"
	db $48,$F9 : dw "T" : db $50,$F9 : dw "A"
	db $58,$F9 : dw "Z" : db $60,$F9 : dw "O"
	db $68,$F9 : dw " "

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $38,$D0,$86,$24,$40,$D0,$87,$24
	db $38,$F9,$89,$24,$40,$F9,$8A,$24
	db $24,$F9 : dw " " : db $2C,$F9 : dw "M"
	db $34,$F9 : dw "O" : db $3C,$F9 : dw "U"
	db $44,$F9 : dw "S" : db $4C,$F9 : dw "E"
	db $54,$F9 : dw "R" : db $5C,$F9 : dw " "
endif

FryGuy:
;$14CABA
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $40,$D0,$A8,$24,$50,$D0,$AA,$24
	db $40,$F9,$AC,$24,$50,$F9,$AE,$24
	db $30,$F9 : dw "F" : db $38,$F9 : dw "O"
	db $40,$F9 : dw "G" : db $48,$F9 : dw "A"
	db $50,$F9 : dw "C" : db $58,$F9 : dw "H"
	db $60,$F9 : dw "A" : db $68,$F9 : dw "O"

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	
	db $60,$F9 : dw "~"
else
	db $38,$D0,$A8,$24,$48,$D0,$AA,$24
	db $38,$F9,$AC,$24,$48,$F9,$AE,$24
	db $28,$F9 : dw " " : db $30,$F9 : dw "F"
	db $38,$F9 : dw "R" : db $40,$F9 : dw "Y"
	db $48,$F9 : dw "G" : db $50,$F9 : dw "U"
	db $58,$F9 : dw "Y" : db $60,$F9 : dw " "
endif

										; Note: If this were the GBA version, this is where "ROBIRDO"'s entry would be

Clawgrip:									;\ Note: This enemy is referred to as "CLAWGLIP", which is a typo
										;| The Japanese language doesn't have a clear L or R sound like English speakers, but rather something closer to a mix of an L, R, and D sound.
										;| That's why errors like this are common in Japanese to English translations.
										;/ Nintendo changed it to "CLAWGRIP" in the GBA version.
;$14CAEA
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $40,$D0,$C0,$24,$50,$D0,$C2,$24
	db $40,$F9,$C4,$24,$50,$F9,$C6,$24
	db $30,$F9 : dw "G" : db $38,$F9 : dw "A" : db $40,$F9 : dw "R"
	db $48,$F9 : dw "R" : db $50,$F9 : dw "A"
	db $58,$F9 : dw "C" : db $60,$F9 : dw "I" : db $68,$F9 : dw "O"

	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	
	db $50,$F9 : dw "/"
else
	db $38,$D0,$C0,$24,$48,$D0,$C2,$24
	db $38,$F9,$C4,$24,$48,$F9,$C6,$24
	db $28,$F9 : dw "C" : db $30,$F9 : dw "L"
	db $38,$F9 : dw "A" : db $40,$F9 : dw "W"
	db $48,$F9 : dw "G" : db $50,$F9 : dw "L"
	db $58,$F9 : dw "I" : db $60,$F9 : dw "P"
endif

Tryclyde:									;\ Note: This enemy is referred to as "TRICLYDE", which is a typo
;$14CB1A									;/ I don't really have an explanation for this one, but Nintendo changed it to "TRYCLYDE" in the GBA version.
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $40,$D0,$8C,$24,$50,$D0,$8E,$24
	db $40,$F9,$A0,$24,$50,$F9,$A2,$24
	db $40,$F9,$A4,$24,$50,$F9,$A6,$24
	
	db $40,$F9,$E9,$24,$50,$F9,$E9,$24
	db $38,$F9,$E9,$24,$38,$F9,$E9,$24
	db $38,$F9,$E9,$24,$38,$F9,$E9,$24	
	db $28,$F9 : dw " " : db $70,$F9 : dw " "
	db $78,$F9 : dw " "
else
	db $38,$D0,$8C,$24,$48,$D0,$8E,$24
	db $38,$F9,$A0,$24,$48,$F9,$A2,$24
	db $38,$F9,$A4,$24,$48,$F9,$A6,$24
	
	db $38,$F9,$E9,$24,$48,$F9,$E9,$24
	db $30,$F9,$E9,$24,$30,$F9,$E9,$24
	db $30,$F9,$E9,$24,$30,$F9,$E9,$24
endif
TryclydesName:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $34,$D0 : dw "T" : db $3C,$D0 : dw "R"
	db $44,$D0 : dw "I" : db $4C,$D0 : dw "B"
	db $54,$D0 : dw "O" : db $5C,$D0 : dw "R"
	db $64,$D0 : dw "A" : db $6C,$D0 : dw " "
	db $28,$D0 : dw " " : db $70,$D0 : dw " "
	
	db $44,$C8 : dw "/"
else
	db $28,$D0 : dw "T" : db $30,$D0 : dw "R"
	db $38,$D0 : dw "I" : db $40,$D0 : dw "C"
	db $48,$D0 : dw "L" : db $50,$D0 : dw "Y"
	db $58,$D0 : dw "D" : db $60,$D0 : dw "E"
endif

Wart:
;$14CB6A
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $34,$D0,$00,$25,$44,$D0,$02,$25
	db $4C,$D0,$03,$25,$34,$F9,$20,$25
	db $44,$F9,$22,$25,$4C,$F9,$23,$25
	db $34,$F9,$EB,$24,$44,$F9,$ED,$24
	db $4C,$F9,$EE,$24
	db $28,$F9 : dw " " : db $30,$F9 : dw "R"
	db $38,$F9 : dw "A" : db $40,$F9 : dw "M"
	db $48,$F9 : dw "O" : db $50,$F9 : dw "M"
	db $58,$F9 : dw "O" : db $60,$F9 : dw " "
	db $28,$F9 : dw " " : db $30,$F9 : dw " "
	
	db $38,$F9 : dw "~"
else
	db $30,$D0,$00,$25,$40,$D0,$02,$25
	db $48,$D0,$03,$25,$30,$F9,$20,$25
	db $40,$F9,$22,$25,$48,$F9,$23,$25
	db $30,$F9,$EB,$24,$40,$F9,$ED,$24
	db $48,$F9,$EE,$24
	db $24,$F9 : dw " " : db $2C,$F9 : dw " "
	db $34,$F9 : dw "W" : db $3C,$F9 : dw "A"
	db $44,$F9 : dw "R" : db $4C,$F9 : dw "T"
	db $54,$F9 : dw " " : db $5C,$F9 : dw " "
endif
cleartable

TheEndTextTableIndexes:						; In order of the animation frame counter.
;$14CBAE
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	db $00,$04,$08,$0C,$14,$18,$20,$24
	db $28,$30,$34,$38,$3C,$44,$48,$4C
	db $50,$58,$5C,$60,$64,$68,$6C
else
	; The
	db $00,$04,$08,$0C,$14,$18,$1C,$24
	db $2C,$34,$38,$3C,$40,$44,$48,$50
	db $54,$58,$5C,$60,$68,$6C,$74
	; End
	db $7C,$80,$88,$90,$94,$98,$A0,$A4
	db $A8,$B0,$B4,$B8,$BC,$C0,$C4,$C8
	db $CC,$D4,$DC,$E4
endif

TheEndText:
;$14CBD9
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	;   X, Y, Tile,OAM       X, Y, Tile,OAM						Table index
	db $B0,$30,$40,$00											; $00
	db $B0,$30,$41,$00											; $04
	db $B0,$30,$42,$00											; $08
	db $B0,$30,$43,$00 : db $B8,$30,$44,$04						; $0C
	db $B8,$30,$45,$04											; $14
	db $B0,$30,$46,$00 : db $B0,$38,$47,$08						; $18
	db $B0,$38,$48,$08											; $20
	db $B0,$38,$49,$08											; $24
	db $B0,$38,$4A,$08 : db $B8,$38,$4B,$0C						; $28
	db $B8,$30,$4C,$04											; $30
	db $B8,$38,$4D,$0C											; $34
	db $B8,$38,$4E,$0C											; $38
	db $B8,$38,$4F,$0C : db $C0,$38,$50,$10						; $3C
	db $C0,$38,$51,$10											; $44
	db $C0,$38,$52,$10											; $48
	db $C0,$38,$53,$10											; $4C
	db $C0,$38,$54,$10 : db $C8,$38,$55,$14						; $50
	db $C8,$38,$56,$14											; $58
	db $C8,$38,$57,$14											; $5C
	db $C8,$38,$58,$14											; $60
	db $C8,$38,$59,$14											; $64
	db $C8,$38,$5A,$14											; $68
																; $6C
else
	;   X, Y, Tile,OAM       X, Y, Tile,OAM						Table index
; "The"
	db $90,$30,$40,$00											; $00-03
	db $90,$30,$41,$00											; $04-07
	db $90,$30,$42,$00											; $08-0B
	db $90,$30,$43,$00 : db $98,$30,$44,$04						; $0C-13
	db $98,$30,$45,$04											; $14-17
	db $98,$30,$46,$04											; $18-1B
	db $98,$30,$48,$04 : db $98,$38,$49,$0C						; $1C-23
	db $90,$38,$4A,$08 : db $98,$38,$49,$0C						; $24-2B
	db $90,$38,$4B,$08 : db $98,$38,$49,$0C						; $2C-33
	db $98,$38,$4C,$0C											; $34-37
	db $98,$38,$4D,$0C											; $38-3B
	db $A0,$38,$4F,$10											; $3C-3F
	db $A0,$30,$4E,$14											; $40-43
	db $A0,$30,$50,$14											; $44-47
	db $A0,$30,$52,$14 : db $A0,$38,$53,$10						; $48-4F
	db $98,$38,$51,$0C											; $50-53
	db $A0,$38,$54,$10											; $54-57
	db $A0,$38,$55,$10											; $58-5B
	db $A8,$38,$56,$18											; $5C-5F
	db $A0,$38,$58,$10 : db $A8,$38,$59,$18						; $60-67
	db $A8,$38,$59,$18 : db $A0,$38,$5A,$10						; $68-6B
	db $A8,$38,$5C,$18											; $6C-73
; "End"
	db $B0,$30,$5D,$20 : db $B8,$30,$5E,$24						; $74-7B
	db $B0,$30,$5F,$20											; $7C-7F
	db $B0,$30,$60,$20 : db $B0,$38,$61,$28						; $80-87
	db $B0,$30,$62,$20 : db $B0,$38,$63,$28						; $88-8F
	db $B0,$38,$64,$28											; $90-93
	db $B0,$38,$65,$28											; $94-97
	db $B0,$38,$66,$28 : db $B8,$38,$67,$2C						; $98-9F
	db $B8,$38,$68,$2C											; $A0-A3
	db $B8,$38,$69,$2C											; $A4-A7
	db $B8,$38,$6A,$2C : db $C0,$38,$6B,$30						; $A8-AF
	db $C0,$38,$6C,$30											; $B0-B3
	db $C0,$38,$6D,$30											; $B4-B7
	db $C0,$38,$6E,$30											; $B8-BB
	db $C8,$38,$6F,$34											; $BC-BF
	db $C8,$38,$70,$34											; $C0-C3
	db $C8,$38,$71,$34											; $C4-C7
	db $C8,$38,$72,$34											; $C8-CB
	db $C8,$38,$74,$34 : db $C8,$30,$73,$38						; $CC-D3
	db $C8,$38,$76,$34 : db $C8,$30,$75,$38						; $D4-DB
	db $C8,$38,$78,$34 : db $C8,$30,$77,$38						; $DC-E3
																; $E4
endif
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_UpdateSlotMachineReelYPosition(Address)
namespace SMB2U_UpdateSlotMachineReelYPosition
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YSpeed,x
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.b !RAM_SMB2U_SlotMachine_LeftReel1SubYPos,x
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1SubYPos,x
	LDY.b #$00
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YSpeed,x
	PHP
	LSR
	LSR
	LSR
	LSR
	PLP
	BPL.b CODE_1390F8
	ORA.b #$F0
	DEY
CODE_1390F8:
	ADC.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	TYA
	ADC.b !RAM_SMB2U_SlotMachine_LeftReel1YPosHi,x
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosHi,x
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_HandleNoSlotMachineBonus(Address)
namespace SMB2U_HandleNoSlotMachineBonus
%InsertMacroAtXPosition(<Address>)

Main:
	STZ.w $0D13
	JSR.w CODE_118B5A
	JSR.w CODE_1190A5
	LDA.b #!Define_SMB2U_LevelMusic_Death
	STA.w !RAM_SMB2U_Global_MusicCh1
	LDA.b #$0A
	STA.w !RAM_SMB2U_SlotMachine_PayoutTextBlinkingIndex
CODE_119084:
	LDA.w !RAM_SMB2U_SlotMachine_PayoutTextBlinkingIndex
	AND.b #$01
	TAY
	LDA.w DATA_11CAF7,y
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.b #$0A
	STA.w !RAM_SMB2U_SlotMachine_PayoutTextBlinkingFrameCounter
CODE_119094:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	DEC.w !RAM_SMB2U_SlotMachine_PayoutTextBlinkingFrameCounter
	BNE.b CODE_119094
	DEC.w !RAM_SMB2U_SlotMachine_PayoutTextBlinkingIndex
	BPL.b CODE_119084
	JMP.w CODE_118ECF

CODE_1190A5:
	LDA.b #$50
	BRA.b CODE_1190AB

CODE_1190A9:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$60
else
	LDA.b #$A0
endif
CODE_1190AB:
	STA.b !RAM_SMB2U_Global_ScratchRAM07
CODE_1190AD:
	JSL.l SMB2U_WaitForVBlankRt_Global_TurnOffFBlank
	DEC.b !RAM_SMB2U_Global_ScratchRAM07
	BNE.b CODE_1190AD
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_InitializeSlotMachineReelRAMForNewSpin(Address)
namespace SMB2U_InitializeSlotMachineReelRAMForNewSpin
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b #$02
	STA.b !RAM_SMB2U_SlotMachine_LeftReelState
	STA.b !RAM_SMB2U_SlotMachine_MiddleReelState
	STA.b !RAM_SMB2U_SlotMachine_RightReelState
	STZ.b $36
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$48
else
	LDA.b #$40
endif
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1YSpeed
	STA.b !RAM_SMB2U_SlotMachine_LeftReel2YSpeed
	STA.b !RAM_SMB2U_SlotMachine_MiddleReel1YSpeed
	STA.b !RAM_SMB2U_SlotMachine_MiddleReel2YSpeed
	STA.b !RAM_SMB2U_SlotMachine_RightReel1YSpeed
	STA.b !RAM_SMB2U_SlotMachine_RightReel2YSpeed
	STZ.b !RAM_SMB2U_SlotMachine_LeftReel1SubYPos
	STZ.b !RAM_SMB2U_SlotMachine_LeftReel2SubYPos
	STZ.b !RAM_SMB2U_SlotMachine_MiddleReel1SubYPos
	STZ.b !RAM_SMB2U_SlotMachine_MiddleReel2SubYPos
	STZ.b !RAM_SMB2U_SlotMachine_RightReel1SubYPos
	STZ.b !RAM_SMB2U_SlotMachine_RightReel2SubYPos
	STZ.b !RAM_SMB2U_SlotMachine_LeftReelContents
	STZ.b !RAM_SMB2U_SlotMachine_MiddleReelContents
	STZ.b !RAM_SMB2U_SlotMachine_RightReelContents
	STZ.b !RAM_SMB2U_SlotMachine_ButtonPressDelay
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_InitializeSlotMachineReelRAMAndPayoutText(Address)
namespace SMB2U_InitializeSlotMachineReelRAMAndPayoutText
%InsertMacroAtXPosition(<Address>)

Main:
	STZ.b !RAM_SMB2U_SlotMachine_LeftReel1Icon
	STZ.b !RAM_SMB2U_SlotMachine_MiddleReel1Icon
	STZ.b !RAM_SMB2U_SlotMachine_RightReel1Icon
	LDA.b #$01
	STA.b !RAM_SMB2U_SlotMachine_LeftReel2Icon
	STA.b !RAM_SMB2U_SlotMachine_MiddleReel2Icon
	STA.b !RAM_SMB2U_SlotMachine_RightReel2Icon
	LDA.b #$37
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo
	STA.b !RAM_SMB2U_SlotMachine_MiddleReel1YPosLo
	STA.b !RAM_SMB2U_SlotMachine_RightReel1YPosLo
	LDA.b #$57
	STA.b !RAM_SMB2U_SlotMachine_LeftReel2YPosLo
	STA.b !RAM_SMB2U_SlotMachine_MiddleReel2YPosLo
	STA.b !RAM_SMB2U_SlotMachine_RightReel2YPosLo
	LDX.b #$30
CODE_14CD9D:
	LDA.w SMB2U_SlotMachine_PayoutStripeImage,x
	STA.w !RAM_SMB2U_SlotMachine_PayoutStripeImageText,x
	DEX
	BPL.b CODE_14CD9D
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_HandleSlotMachineButtonPresses(Address)
namespace SMB2U_HandleSlotMachineButtonPresses
%InsertMacroAtXPosition(<Address>)

Main:
	DEC.b !RAM_SMB2U_SlotMachine_ButtonPressDelay
	BPL.b CODE_14CDC6
	STZ.b !RAM_SMB2U_SlotMachine_ButtonPressDelay
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	ORA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_A|(!Joypad_B>>8)|!Joypad_X|(!Joypad_Y>>8)
	BEQ.b CODE_14CDC6
	LDA.b #$10
	STA.b !RAM_SMB2U_SlotMachine_ButtonPressDelay
	LDX.b #$00
CODE_14CDBB:
	LDA.b !RAM_SMB2U_SlotMachine_LeftReelState,x
	CMP.b #$02
	BEQ.b CODE_14CDC7
	INX
	CPX.b #$03
	BCC.b CODE_14CDBB
CODE_14CDC6:
	RTL

CODE_14CDC7:
	LDA.b #$01
	STA.w !RAM_SMB2U_SlotMachine_ActivateLeftReelFlag,x			; Optimization: Unnecessary absolute addressing
	DEC.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b #!Define_SMAS_Sound0063_MessageBox
	STA.w !RAM_SMB2U_Global_SoundCh3
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_MoveSlotMachineReels(Address)
namespace SMB2U_MoveSlotMachineReels
%InsertMacroAtXPosition(<Address>)

Main:
	LDX.b #$02
CODE_14CDD6:
	LDA.b !RAM_SMB2U_SlotMachine_LeftReelState,x
	BEQ.b CODE_14CE04
	PHX
	TXA
	ASL
	INC
	TAX
	LDY.b #$01
CODE_14CDE1:
	PHY
	JSL.l SMB2U_UpdateSlotMachineReelYPosition_Main
	PLY
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	CMP.b #$77
	BCC.b CODE_14CDFF
	SEC
	SBC.b #$40
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	PHX
	TXA
	EOR.b #$01
	TAX
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1Icon,x
	INC
	AND.b #$07
	PLX
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1Icon,x
CODE_14CDFF:
	DEX
	DEY
	BPL.b CODE_14CDE1
	PLX
CODE_14CE04:
	DEX
	BPL.b CODE_14CDD6
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_HandleSlowedDownSlotMachineReels(Address)
namespace SMB2U_HandleSlowedDownSlotMachineReels
%InsertMacroAtXPosition(<Address>)

Main:
	LDX.b #$02
CODE_14CE0A:
	LDA.b !RAM_SMB2U_SlotMachine_LeftReelState,x
	CMP.b #$01
	BEQ.b CODE_14CE13
	JMP.w CODE_14CEF9

CODE_14CE13:
	LDA.w !RAM_SMB2U_SlotMachine_ActivateLeftReelFlag,x			; Optimization: Unnecessary absolute addressing
	BEQ.b CODE_14CE26
	STZ.w !RAM_SMB2U_SlotMachine_ActivateLeftReelFlag,x			; Optimization: Unnecessary absolute addressing
	INC.w $078C
	STZ.w $0792
	LDA.b #$14
	STA.w !RAM_SMB2U_SlotMachine_DelaySlowdownOfLeftReel,x
CODE_14CE26:
	TXY
	LDA.w !RAM_SMB2U_SlotMachine_DelaySlowdownOfLeftReel,x
	BEQ.b CODE_14CE32
	DEC.w !RAM_SMB2U_SlotMachine_DelaySlowdownOfLeftReel,x
	JMP.w CODE_14CEF8

CODE_14CE32:
	TXA
	ASL
	TAX
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YSpeed,x
	CMP.b #$18
	BCS.b CODE_14CE8B
	LDA.w $078C
	BEQ.b CODE_14CE83
	LDA.b !RAM_SMB2U_SlotMachine_LeftReelContents
	CMP.b !RAM_SMB2U_SlotMachine_MiddleReelContents
	BNE.b CODE_14CE8B
	CMP.b #$04
	BNE.b CODE_14CE8B
	STZ.w $078C
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1Icon,x
	CMP.b #$02
	BEQ.b CODE_14CE65
	CMP.b #$04
	BNE.b CODE_14CE8B
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel2Icon,x
	CMP.b #$03
	BNE.b CODE_14CE8B
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	CMP.b #$70
	BCS.b CODE_14CE8B
	BRA.b CODE_14CE71

CODE_14CE65:
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel2Icon,x
	CMP.b #$03
	BNE.b CODE_14CE8B
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	CMP.b #$70
	BCC.b CODE_14CE8B
CODE_14CE71:
	LDA.w !RAM_SMB2U_Player_CurrentLifeCount
	CMP.b #$0A
	BCC.b CODE_14CE8B
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$03
	BEQ.b CODE_14CE8B
	LDA.b #$17
	STA.w $0792
CODE_14CE83:
	DEC.w $0792
	BMI.b CODE_14CE8B
	JMP.w CODE_14CEF8

CODE_14CE8B:
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YSpeed,x
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CMP.b #$30
	BCC.b +
	DEC
+:
	DEC
else
	SEC
	SBC.b #$01
endif
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1YSpeed,x
	STA.b !RAM_SMB2U_SlotMachine_LeftReel2YSpeed,x
	CMP.b #$10
	BCS.b CODE_14CEF8
	LDA.b #$10
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1YSpeed,x
	STA.b !RAM_SMB2U_SlotMachine_LeftReel2YSpeed,x
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	CLC
	ADC.b #$09
	AND.b #$1F
	CMP.b #$02
	BCS.b CODE_14CEF8
	STZ.b !RAM_SMB2U_SlotMachine_LeftReel1YSpeed,x
	STZ.b !RAM_SMB2U_SlotMachine_LeftReel2YSpeed,x
	STZ.w $0712
	CPX.b #$04
	BEQ.b CODE_14CEBB
	LDA.b #!Define_SMAS_Sound0063_CollectCherry
	STA.w !RAM_SMB2U_Global_SoundCh3
	BRA.b CODE_14CEC9

CODE_14CEBB:
	LDA.w !REGISTER_APUPort3
	AND.b #$7F
	CMP.b #!Define_SMAS_Sound0063_DrumrollStart
	BNE.b CODE_14CEC9
	LDA.b #!Define_SMAS_Sound0063_DrumrollEnd
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_14CEC9:
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel2YPosLo,x
	INC
	AND.b #$FE
	DEC
	STA.b !RAM_SMB2U_SlotMachine_LeftReel2YPosLo,x
	CMP.b #$57
	BNE.b CODE_14CED8
	INC.w $0712
CODE_14CED8:
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	INC
	AND.b #$FE
	DEC
	STA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	TXA
	CLC
	ADC.w $0712
	TAX
	TXA
	AND.b #$06
	ASL
	ASL
	CLC
	ADC.b !RAM_SMB2U_SlotMachine_LeftReel1Icon,x
	TAX
	LDA.l SMB2U_DrawSlotMachineReels_DATA_14CF06,x
	TYX
	STZ.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.b !RAM_SMB2U_SlotMachine_LeftReelContents,x
CODE_14CEF8:
	TYX
CODE_14CEF9:
	DEX
	BMI.b CODE_14CEFF
	JMP.w CODE_14CE0A

CODE_14CEFF:
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_DrawSlotMachineReels(Address)
namespace SMB2U_DrawSlotMachineReels
%InsertMacroAtXPosition(<Address>)

DATA_14CF00:
	db $40,$40,$70,$70,$A0,$A0

DATA_14CF06:							; Info: $00 = Cherry, $01 = Snifit, $02 = Star, $03 = Turnip, $04 = 7
	db $00,$01,$02,$03,$00,$04,$02,$03
	db $04,$03,$02,$01,$00,$03,$02,$01
	db $00,$02,$01,$03,$04,$02,$01,$03

DATA_14CF1E:
	db $84,$80,$88,$8A,$8C

DATA_14CF23:
	db $86,$82,$88,$8A,$8E

DATA_14CF28:
	db $A4,$A0,$A8,$AA,$AC

DATA_14CF2D:
	db $A6,$A2,$A8,$AA,$AE

DATA_14CF32:
	db $03,$03,$03,$09,$03

DATA_14CF37:
	db $03,$03,$43,$49,$03

DATA_14CF3C:
	db $03,$03,$03,$09,$03

DATA_14CF41:
	db $03,$03,$43,$49,$03

Main:
	LDX.b #$05
	LDY.b #$00
CODE_14CF4A:
	LDA.l DATA_14CF00,x
	STA.w SMB2U_OAMBuffer[$04].XDisp,y
	STA.w SMB2U_OAMBuffer[$06].XDisp,y
	CLC
	ADC.b #$10
	STA.w SMB2U_OAMBuffer[$05].XDisp,y
	STA.w SMB2U_OAMBuffer[$07].XDisp,y
	LDA.b !RAM_SMB2U_SlotMachine_LeftReel1YPosLo,x
	STA.w SMB2U_OAMBuffer[$04].YDisp,y
	STA.w SMB2U_OAMBuffer[$05].YDisp,y
	CLC
	ADC.b #$10
	STA.w SMB2U_OAMBuffer[$06].YDisp,y
	STA.w SMB2U_OAMBuffer[$07].YDisp,y
	PHX
	TXA
	AND.b #$06
	ASL
	ASL
	CLC
	ADC.b !RAM_SMB2U_SlotMachine_LeftReel1Icon,x
	TAX
	LDA.l DATA_14CF06,x
	TAX
	LDA.l DATA_14CF1E,x
	STA.w SMB2U_OAMBuffer[$04].Tile,y
	LDA.l DATA_14CF23,x
	STA.w SMB2U_OAMBuffer[$05].Tile,y
	LDA.l DATA_14CF28,x
	STA.w SMB2U_OAMBuffer[$06].Tile,y
	LDA.l DATA_14CF2D,x
	STA.w SMB2U_OAMBuffer[$07].Tile,y
	LDA.l DATA_14CF32,x
	STA.w SMB2U_OAMBuffer[$04].Prop,y
	LDA.l DATA_14CF37,x
	STA.w SMB2U_OAMBuffer[$05].Prop,y
	LDA.l DATA_14CF3C,x
	STA.w SMB2U_OAMBuffer[$06].Prop,y
	LDA.l DATA_14CF41,x
	STA.w SMB2U_OAMBuffer[$07].Prop,y
	PLX
	PHY
	TYA
	LSR
	LSR
	TAY
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$04].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$05].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$06].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$07].Slot,y
	PLY
	TYA
	CLC
	ADC.b #$10
	TAY
	DEX
	BMI.b CODE_14CFD5
	BRL.w CODE_14CF4A

CODE_14CFD5:
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_HandleSlotMachine3CoinService(Address)
namespace SMB2U_HandleSlotMachine3CoinService
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b #$02
	STA.w !RAM_SMB2U_SlotMachine_CoinPayoutCounter
	STZ.w !RAM_SMB2U_SlotMachine_3CoinServiceTextPaletteFrameCounter
	STZ.w !RAM_SMB2U_SlotMachine_3CoinServiceTextPaletteIndex
	LDX.b #$00
	JSR.w CODE_15A3D4
	LDY.w !RAM_SMB2U_Player_CurrentLifeCount
	TYA
	JSR.w CODE_15A395
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	STY.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2A+2
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2C+2
	LDA.b #$15
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2D+2
else
	STY.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2A
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2C
	LDA.b #$15
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2D
endif
	CPY.b #$BF
	BNE.b CODE_15A313
	LDA.b #$BD
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2A+2
	LDA.b #$09
CODE_15A313:
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2B+2
else
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2A
	LDA.b #$09
CODE_15A313:
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$2B
endif
CODE_15A316:
	INC.w !RAM_SMB2U_Player_CurrentCoinCount
	LDA.w !RAM_SMB2U_Player_CurrentCoinCount
	JSR.w CODE_15A395
	CPY.b #$BF
	BNE.b CODE_15A326
	TAX
	TYA
	TXY
CODE_15A326:
	STY.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$08
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$0A
	LDX.b #$15
	CMP.b #$BF
	BNE.b CODE_15A339
	LDA.b #$BD
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$0A
	LDX.b #$09
CODE_15A339:
	STX.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$0B
	LDA.b #$15
	CPY.b #$BF
	BNE.b CODE_15A349
	LDA.b #$BD
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$08
	LDA.b #$09
CODE_15A349:
	STA.w !RAM_SMB2U_SlotMachine_CoinAndLifeCounterStripeImageText+$09
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.b #!Define_SMAS_Sound0063_Coin
	STA.w !RAM_SMB2U_Global_SoundCh3
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$03
else
	LDA.b #$04
endif
	STA.w !RAM_SMB2U_SlotMachine_PayoutTextBlinkingIndex
CODE_15A35E:
	LDA.w DATA_11CAFC
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	LDA.b #$0A
	STA.w !RAM_SMB2U_SlotMachine_PayoutTextBlinkingFrameCounter
CODE_15A368:
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	JSR.w CODE_15A3B9
	INC.w !RAM_SMB2U_SlotMachine_3CoinServiceTextPaletteFrameCounter
	DEC.w !RAM_SMB2U_SlotMachine_PayoutTextBlinkingFrameCounter
	BNE.b CODE_15A368
	DEC.w !RAM_SMB2U_SlotMachine_PayoutTextBlinkingIndex
	BPL.b CODE_15A35E
	DEC.w !RAM_SMB2U_SlotMachine_CoinPayoutCounter
	BPL.b CODE_15A316
	LDA.b #$FF
	STA.w !RAM_SMB2U_SlotMachine_HasGiven3CoinServiceFlag
	LDX.b #$0A
	JSR.w CODE_15A3D4
	LDA.w DATA_11CAFB
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_Global_Main
	RTL

CODE_15A395:
	LDY.b #$C0
CODE_15A397:
	CMP.b #$0A
	BCC.b CODE_15A3A0
	SBC.b #$0A
	INY
	BRA.b CODE_15A397

CODE_15A3A0:
	ORA.b #$C0
	CPY.b #$C0
	BNE.b CODE_15A3A8
	LDY.b #$BF
CODE_15A3A8:
	RTS

DATA_15A3A9:
	dw $125F,$12FF,$1B7F,$125F,$12FF

	dw $35AD,$4631,$56B5

CODE_15A3B9:
	LDA.w !RAM_SMB2U_SlotMachine_3CoinServiceTextPaletteFrameCounter
	CMP.b #$06
	BNE.b CODE_15A3C6
	STZ.w !RAM_SMB2U_SlotMachine_3CoinServiceTextPaletteFrameCounter
	INC.w !RAM_SMB2U_SlotMachine_3CoinServiceTextPaletteIndex
CODE_15A3C6:
	LDA.w !RAM_SMB2U_SlotMachine_3CoinServiceTextPaletteIndex
	CMP.b #$03
	BNE.b CODE_15A3D2
	LDA.b #$00
	STA.w !RAM_SMB2U_SlotMachine_3CoinServiceTextPaletteIndex
CODE_15A3D2:
	ASL
	TAX
CODE_15A3D4:
	REP.b #$20
	LDA.l DATA_15A3A9,x
	STA.w SMB2U_PaletteMirror[$0D].LowByte
	LDA.l DATA_15A3A9+$02,x
	STA.w SMB2U_PaletteMirror[$0E].LowByte
	LDA.l DATA_15A3A9+$04,x
	STA.w SMB2U_PaletteMirror[$0F].LowByte
	SEP.b #$20
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

; Optimization: Why didn't Nintendo put the waterfall on layer 2? That would have made more sense than making this hack routine.
; Not to mention they wouldn't need a separate animated tile bank just to fix the cloud cutoff.

macro ROUTINE_SMB2U_FixCutoffLedgesIn3_1VerticalSublevel(Address)
namespace SMB2U_FixCutoffLedgesIn3_1VerticalSublevel
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_Level_CurrentLevel
	CMP.b #!Define_SMB2U_LevelID_3_1
	BNE.b CODE_15A22F
	LDA.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	CMP.b #!Define_SMB2U_SublevelID_3_1_WaterfallCliff
	BNE.b CODE_15A22F
	LDA.b #$7E3180>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.b #$7E3180>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$7E3180
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	REP.b #$10
	LDY.w #$02DF
CODE_15A218:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM01],y
	CMP.b #$04
	BNE.b CODE_15A222
	LDA.b #$1C
	BRA.b CODE_15A228

CODE_15A222:
	CMP.b #$07
	BNE.b CODE_15A22A
	LDA.b #$1D
CODE_15A228:
	STA.b [!RAM_SMB2U_Global_ScratchRAM01],y
CODE_15A22A:
	DEY
	BPL.b CODE_15A218
	SEP.b #$10
CODE_15A22F:
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_CheckIfGeneratorShouldSpawnNewSprite(Address)
namespace SMB2U_CheckIfGeneratorShouldSpawnNewSprite
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	BNE.b CODE_12AAD1
	LDA.w !RAM_SMB2U_Level_SpawnNextGeneratedSpriteCounter
	CLC
	ADC.b #$03
	STA.w !RAM_SMB2U_Level_SpawnNextGeneratedSpriteCounter
	BCC.b CODE_12AAD1
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12AAD1
	LDY.b #$00
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$40
	BNE.b CODE_12AACB
	INY
CODE_12AACB:
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	RTS

CODE_12AAD1:
	PLA										;\ Note: Destructive return. This will return from the routine that called this routine.
	PLA										;/
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_SpawnSubspaceMushroom(Address)
namespace SMB2U_SpawnSubspaceMushroom
%InsertMacroAtXPosition(<Address>)

Main:
	TXA
	PHA
	AND.b #$F0
	STA.b !RAM_SMB2U_NorSpr_YPosLo
	TXA
	ASL
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_NorSpr_XPosLo
	LDA.b #$0A
	STA.b !RAM_SMB2U_NorSpr_XPosHi
	LDX.b #$00
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	STX.b !RAM_SMB2U_NorSpr_YPosHi
	LDA.b #!Define_SMB2U_SpriteID_NorSpr3F_Mushroom
	STA.b !RAM_SMB2U_NorSpr_SpriteID
	LDA.b #!Define_SMB2U_NorSprStatus01_Normal
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus
	STY.b $79
	LDA.b #$00
	STA.b $86,x
	STA.b $B1,x
	STA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	STA.b $9F,x
	STA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	STA.b $5B,x
	STA.w $0438,x
	STA.w $0453,x
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w DATA_11CC45,y
	AND.b #$7F
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.w DATA_11CC8C,y
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.w DATA_11CD1A,y
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0489,x
	LDA.w DATA_11CCD3,y
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0492,x
	LDA.b #$FF
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	PLA
	TAX
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro DATATABLE_SMB2U_CharacterSelectLifCounterStripeImage(Address)
namespace SMB2U_CharacterSelectLifCounterStripeImage
%InsertMacroAtXPosition(<Address>)

Main:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
table "Tables/Fonts/Standard_Page1_br.txt"
;				  Layer,Map, X,Y, Dir, RLE, Size in bytes
	%SMAS_DrawStripeHeader(0, 0, 08,24, 0, !FALSE, 16*2)
	dw "VIDAS EXTRAS** 0"
	db $FF
cleartable
End:
else
	db $03,$09,$00,$1F
	db $CE,$15,$E1,$15,$DD,$15,$DB,$15,$CA,$15,$BD,$09,$D5,$15,$D2,$15
	db $CF,$15,$CE,$15,$E8,$15,$E8,$15,$E8,$15,$BD,$09,$BD,$09,$C0,$15
End:
	db $FF									; Optimization: This byte is technically unused.
endif
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_HighlightCurrentlySelectedPlayer(Address)
namespace SMB2U_HighlightCurrentlySelectedPlayer
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b #$17
	STA.w $0712
	LDY.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDX.b !RAM_SMB2U_Player_CharacterGFXSet
	LDA.l SMB2U_HighlightedCharacterSelectCharacterStripeImage_DataOffset,x
	TAX
CODE_118AEF:
	LDA.l SMB2U_HighlightedCharacterSelectCharacterStripeImage_Standing,x
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,y
	INX
	INY
	DEC.w $0712
	BPL.b CODE_118AEF
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,y
	TYA
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	RTL
namespace off
endmacro

;--------------------------------------------------------------------

macro DATATABLE_SMB2U_HighlightedCharacterSelectCharacterStripeImage(Address)
namespace SMB2U_HighlightedCharacterSelectCharacterStripeImage
%InsertMacroAtXPosition(<Address>)

Standing:
.Mario:
	db $02,$49,$80,$07
	db $88,$0D,$98,$0D,$A8,$0D,$B8,$0D

	db $02,$4A,$80,$07
	db $88,$4D,$98,$4D,$A8,$4D,$B8,$4D

.Luigi:
	db $02,$4D,$80,$07
	db $A9,$11,$B9,$11,$8D,$11,$9D,$11

	db $02,$4E,$80,$07
	db $A9,$51,$B9,$51,$8D,$51,$9D,$51

.Toad:
	db $02,$51,$80,$07
	db $BD,$09,$B0,$19,$AA,$19,$BA,$19

	db $02,$52,$80,$07
	db $BD,$09,$B0,$59,$AA,$59,$BA,$59

.Peach:
	db $02,$55,$80,$07
	db $A4,$15,$B4,$15,$A5,$15,$B5,$15

	db $02,$56,$80,$07
	db $A4,$55,$B4,$55,$A5,$55,$B5,$55

RaiseHand:
.Mario:
	db $02,$49,$80,$07
	db $88,$0D,$98,$0D,$89,$0D,$99,$0D

	db $02,$4A,$80,$07
	db $8A,$0D,$9A,$0D,$8B,$0D,$9B,$0D

.Luigi:
	db $02,$4D,$80,$07
	db $8C,$11,$9C,$11,$8D,$11,$9D,$11

	db $02,$4E,$80,$07
	db $8E,$11,$9E,$11,$8F,$11,$9F,$11

.Toad:
	db $02,$51,$80,$07
	db $BD,$09,$B0,$19,$A1,$19,$B1,$19

	db $02,$52,$80,$07
	db $BD,$09,$B2,$19,$A3,$19,$B3,$19

.Peach:
	db $02,$55,$80,$07
	db $AB,$15,$BB,$15,$A5,$15,$B5,$15

	db $02,$56,$80,$07
	db $A6,$15,$B6,$15,$A7,$15,$B7,$15

DataOffset:
	db Standing_Mario-Standing
	db Standing_Peach-Standing
	db Standing_Toad-Standing
	db Standing_Luigi-Standing
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro DATATABLE_SMB2U_TitleScreenStoryTextStripeImages(Address)
namespace SMB2U_TitleScreenStoryTextStripeImages
%InsertMacroAtXPosition(<Address>)

cleartable
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	table "Tables/Fonts/Standard_Page1_br.txt"

StoryHeader:
	dw "HIST/ORIA"
else
	table "Tables/Fonts/Standard.txt"

StoryHeader:
	dw "STORY"
endif

LinePtrsHi:
	db DATA_15E861>>8,DATA_15E889>>8,DATA_15E8B1>>8,DATA_15E8D9>>8,DATA_15E901>>8,DATA_15E929>>8,DATA_15E951>>8,DATA_15E979>>8
	db DATA_15E979>>8,DATA_15E9A1>>8,DATA_15E9C9>>8,DATA_15E9F1>>8,DATA_15EA19>>8,DATA_15EA41>>8,DATA_15EA69>>8,DATA_15EA91>>8
	db DATA_15EAB9>>8

LinePtrsLo:
	db DATA_15E861,DATA_15E889,DATA_15E8B1,DATA_15E8D9,DATA_15E901,DATA_15E929,DATA_15E951,DATA_15E979
	db DATA_15E979,DATA_15E9A1,DATA_15E9C9,DATA_15E9F1,DATA_15EA19,DATA_15EA41,DATA_15EA69,DATA_15EA91
	db DATA_15EAB9

Main:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
DATA_15E861:
	dw "EM UM  SONHO, MARIO,"

DATA_15E889:
	dw "AP/OS SUBIR UMA LONGA"

DATA_15E8B1:
	dw "ESCADARIA  E   ABRIR"

DATA_15E8D9:
	dw "UMA PORTA, VIU OUTRO"

DATA_15E901:
	dw "MUNDO DIANTE DELE.  "

DATA_15E929:
	dw "UMA  VOZ  LHE  PEDIU"

DATA_15E951:
	dw "AJUDA PARA SE LIVRAR"

DATA_15E979:
	dw " DE UM FEITIcO.     "

DATA_15E9A1:
	dw "NA  MANH~A  SEGUINTE,"

DATA_15E9C9:
	dw "MARIO E CIA. FORAM A"

DATA_15E9F1:
	dw "UMA CAVERNA PR/OXIMA."

DATA_15EA19:
	dw "ESPANTOSAMENTE, NELA"

DATA_15EA41:
	dw "HAVIA TUDO QUE MARIO"

DATA_15EA69:
	dw "VIU NO SEU SONHO*** "

DATA_15EA91:
	dw "                    "

DATA_15EAB9:
	dw "    APERTE START    "
else
	DATA_15E861:
		dw "WHEN  MARIO OPENED A"

	DATA_15E889:
		dw "DOOR AFTER  CLIMBING"

	DATA_15E8B1:
		dw "A LONG STAIR IN  HIS"

	DATA_15E8D9:
		dw "DREAM, ANOTHER WORLD"

	DATA_15E901:
		dw "SPREAD   BEFORE  HIM"

	DATA_15E929:
		dw "AND HE HEARD A VOICE"

	DATA_15E951:
		dw "CALL FOR HELP TO  BE"

	DATA_15E979:
		dw " FREED  FROM A SPELL"

	DATA_15E9A1:
		dw "AFTER  AWAKENING,   "

	DATA_15E9C9:
		dw "MARIO  WENT TO  A   "

	DATA_15E9F1:
		dw "CAVE  NEARBY AND  TO"

	DATA_15EA19:
		dw "HIS  SURPRISE HE SAW"

	DATA_15EA41:
		dw "EXACTLY  WHAT HE SAW"

	DATA_15EA69:
		dw "IN HIS DREAM****    "

	DATA_15EA91:
		dw "                    "

	DATA_15EAB9:
		dw "     PUSH  START    "
endif

cleartable
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferTitleScreenPaletteData(Address)
namespace SMB2U_BufferTitleScreenPaletteData
%InsertMacroAtXPosition(<Address>)

Main:
	REP.b #$20
	LDX.b #$00
CODE_13DC62:
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row00,x
	STA.w SMB2U_PaletteMirror[$00].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row01,x
	STA.w SMB2U_PaletteMirror[$10].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row03,x
	STA.w SMB2U_PaletteMirror[$30].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row04,x
	STA.w SMB2U_PaletteMirror[$40].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row05,x
	STA.w SMB2U_PaletteMirror[$50].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row06,x
	STA.w SMB2U_PaletteMirror[$60].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row07,x
	STA.w SMB2U_PaletteMirror[$70].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13DC62
	LDX.b #$00
CODE_13DC9B:
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row02_TitleScreen,x
	STA.w SMB2U_PaletteMirror[$20].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13DC9B
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_BufferSlotMachineAndWarpZonePaletteData(Address)
namespace SMB2U_BufferSlotMachineAndWarpZonePaletteData
%InsertMacroAtXPosition(<Address>)

Main:
	REP.b #$20
	LDX.b #$00
CODE_13DE90:
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row00,x
	STA.w SMB2U_PaletteMirror[$00].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row01,x
	STA.w SMB2U_PaletteMirror[$10].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row02_SlotMachineAndWarpZone,x
	STA.w SMB2U_PaletteMirror[$20].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row03,x
	STA.w SMB2U_PaletteMirror[$30].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row04,x
	STA.w SMB2U_PaletteMirror[$40].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row05,x
	STA.w SMB2U_PaletteMirror[$50].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row06,x
	STA.w SMB2U_PaletteMirror[$60].LowByte,x
	LDA.l SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData_Row07,x
	STA.w SMB2U_PaletteMirror[$70].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13DE90
	LDX.b #$7E
CODE_13DED0:
	LDA.w DATA_11BB1C,x
	STA.w SMB2U_PaletteMirror[$90].LowByte,x
	DEX
	DEX
	BPL.b CODE_13DED0
	SEP.b #$20
CODE_13DEDC:
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	RTL
namespace off
endmacro

;--------------------------------------------------------------------

macro DATATABLE_SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData(Address)
namespace SMB2U_TitleScreenSlotMachineAndWarpZoneBGPaletteData
%InsertMacroAtXPosition(<Address>)

Row00:
	dw $0000,$7FFF,$0000,$2896,$391A,$499E,$5A1F,$0014,$001A,$00DF,$01DF,$739C,$2529,$35AD,$4631,$56B5

Row01:
	dw $0000,$039F,$0000,$000B,$000F,$0013,$0017,$001B,$001F,$092F,$2A36,$3EDB,$4F7F,$0199,$023B,$02DD

Row02_SlotMachineAndWarpZone:
	dw $0000,$7FFF,$0000,$6318,$3DEF,$1B7F,$12FF,$125F,$15BF,$3B1D,$1E58,$7F31,$768D,$75C4,$1595,$00F0

Row03:
	dw $0000,$7FFF,$0000,$0113,$1A1C,$2D9C,$3ABF,$1096,$14DF,$48E5,$49E7,$5B0D,$092F,$2A36,$3ED8,$4F7F

Row04:
	dw $0000,$7FFF,$0000,$0113,$1A1C,$2D9C,$3ABF,$3A69,$5B91,$5088,$6D6F,$7E56,$092F,$2A36,$3EDB,$001B

Row05:
	dw $0000,$7FFF,$0000,$0130,$001B,$2D9C,$3ABF,$027A,$039F,$2896,$495F,$6E9F,$092F,$2A36,$3EDB,$4F7F

Row06:
	dw $0000,$7FFF,$0000,$69E8,$7ECF,$2D9C,$3ABF,$092F,$2F1C,$0012,$18D9,$191F,$2A36,$3EDB,$4F7F,$001B

Row07:
	dw $0000,$7FFF,$0000,$4986,$5E0A,$72D0,$3EDB,$4F7F,$2147,$092F,$000D,$0013,$0019,$11A5,$1AC4,$3FCC

Row02_TitleScreen:
	dw $0000,$7FFF,$0000,$7FBF,$1084,$1B7F,$12FF,$125F,$15BF,$2588,$7FB6,$7F31,$768D,$75C4,$5D20,$4480
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferWartHurtFlashPaletteData(Address)
namespace SMB2U_BufferWartHurtFlashPaletteData
%InsertMacroAtXPosition(<Address>)

Main:
	PHX
	REP.b #$20
	LDX.b #$00
CODE_13DCC7:
	LDA.l DATA_14BAE0,x
	STA.w SMB2U_PaletteMirror[$D0].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13DCC7
	SEP.b #$20
	PLX
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferLevelPreviewPaletteData(Address)
namespace SMB2U_BufferLevelPreviewPaletteData
%InsertMacroAtXPosition(<Address>)

DATA_13DCDA:
	dw SMB2U_LevelPreviewPalettes_World1-SMB2U_LevelPreviewPalettes_Main
	dw SMB2U_LevelPreviewPalettes_World2-SMB2U_LevelPreviewPalettes_Main
	dw SMB2U_LevelPreviewPalettes_World3-SMB2U_LevelPreviewPalettes_Main
	dw SMB2U_LevelPreviewPalettes_World4-SMB2U_LevelPreviewPalettes_Main
	dw SMB2U_LevelPreviewPalettes_World5-SMB2U_LevelPreviewPalettes_Main
	dw SMB2U_LevelPreviewPalettes_World6-SMB2U_LevelPreviewPalettes_Main
	dw SMB2U_LevelPreviewPalettes_World7-SMB2U_LevelPreviewPalettes_Main

DATA_13DCE8:
	dw $7F51,$4940,$7F51,$7EF5
	dw $7F51,$4940,$7EF5

Main:
	REP.b #$30
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	AND.w #$000F
	ASL
	TAX
	LDA.l DATA_13DCE8,x
	STA.w SMB2U_PaletteMirror[$00].LowByte
	LDA.l DATA_13DCDA,x
	TAX
	LDY.w #$0000
CODE_13DD0F:
	LDA.l SMB2U_LevelPreviewPalettes_Main,x
	STA.w SMB2U_PaletteMirror[$10].LowByte,y
	LDA.l SMB2U_LevelPreviewPalettes_Main+$20,x
	STA.w SMB2U_PaletteMirror[$20].LowByte,y
	LDA.l SMB2U_LevelPreviewPalettes_Main+$40,x
	STA.w SMB2U_PaletteMirror[$70].LowByte,y
	INX
	INX
	INY
	INY
	CPY.w #$0020
	BNE.b CODE_13DD0F
	LDA.w #$7FFF
	STA.w SMB2U_PaletteMirror[$3D].LowByte
	STA.w SMB2U_PaletteMirror[$3E].LowByte
	STA.w SMB2U_PaletteMirror[$3F].LowByte
	LDA.w #$2896
	STA.w SMB2U_PaletteMirror[$59].LowByte
	LDA.w #$495F
	STA.w SMB2U_PaletteMirror[$5A].LowByte
	LDA.w #$6E9F
	STA.w SMB2U_PaletteMirror[$5B].LowByte
	SEP.b #$30
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;--------------------------------------------------------------------

macro DATATABLE_SMB2U_LevelPreviewPalettes(Address)
namespace SMB2U_LevelPreviewPalettes
%InsertMacroAtXPosition(<Address>)

Main:
World1:
World2:
World3:
World5:
World6:
	dw $7FB4,$039F,$0000,$000B,$000F,$0013,$0017,$001B,$001F,$15C0,$2A62,$3F05,$53AA,$0199,$023B,$02DD
	dw $7FB4,$7FFF,$0000,$0207,$0AAC,$1B52,$12FF,$125F,$15BF,$33F9,$269E,$7F31,$768D,$75C4,$0196,$021A
	dw $7FB4,$7FFF,$0000,$0837,$10BF,$061F,$5982,$0000,$6D4D,$7613,$7A76,$7F1B,$110F,$65E4,$7647,$7F2D

World4:
	dw $7EF5,$039F,$0000,$000B,$000F,$0013,$0017,$001B,$001F,$7ECE,$7F52,$7FD6,$7FFF,$0199,$023B,$02DD
	dw $7EF5,$7FFF,$0000,$0207,$0AAC,$1B52,$12FF,$125F,$15BF,$33F9,$269E,$7F31,$768D,$75C4,$0196,$021A
	dw $7EF5,$7FFF,$0000,$0837,$10BF,$061F,$5982,$0000,$6D4D,$7613,$7A76,$7F1B,$110F,$65E4,$7647,$7F2D

World7:
	dw $7EF5,$039F,$0000,$000B,$000F,$0013,$0017,$001B,$001F,$3E30,$4A93,$56F6,$6359,$0199,$023B,$02DD
	dw $7EF5,$7FFF,$0000,$0207,$0AAC,$1B52,$12FF,$125F,$15BF,$33F9,$269E,$7F31,$768D,$75C4,$0154,$021A
	dw $7EF5,$7FFF,$0000,$0837,$10BF,$061F,$5982,$0000,$6D4D,$7613,$7A76,$7F1B,$110F,$65E4,$7647,$7F2D
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferEndingPart2PaletteData(Address)
namespace SMB2U_BufferEndingPart2PaletteData
%InsertMacroAtXPosition(<Address>)

Main:
	REP.b #$20
	LDX.b #$00
CODE_13DD92:
	LDA.l DATA_14BB00,x
	STA.w SMB2U_PaletteMirror[$00].LowByte,x
	LDA.l DATA_14BB20,x
	STA.w SMB2U_PaletteMirror[$10].LowByte,x
	LDA.l DATA_14BB40,x
	STA.w SMB2U_PaletteMirror[$20].LowByte,x
	LDA.l DATA_14BB60,x
	STA.w SMB2U_PaletteMirror[$30].LowByte,x
	LDA.l DATA_14BB80,x
	STA.w SMB2U_PaletteMirror[$40].LowByte,x
	LDA.l DATA_14BBA0,x
	STA.w SMB2U_PaletteMirror[$50].LowByte,x
	LDA.l DATA_14BBC0,x
	STA.w SMB2U_PaletteMirror[$60].LowByte,x
	LDA.l DATA_14BBE0,x
	STA.w SMB2U_PaletteMirror[$70].LowByte,x
	LDA.l DATA_14BC00,x
	STA.w SMB2U_PaletteMirror[$80].LowByte,x
	LDA.l DATA_14BC20,x
	STA.w SMB2U_PaletteMirror[$90].LowByte,x
	LDA.l DATA_14BC40,x
	STA.w SMB2U_PaletteMirror[$A0].LowByte,x
	LDA.l DATA_14BC60,x
	STA.w SMB2U_PaletteMirror[$B0].LowByte,x
	LDA.l DATA_14BC80,x
	STA.w SMB2U_PaletteMirror[$C0].LowByte,x
	LDA.l DATA_14BCA0,x
	STA.w SMB2U_PaletteMirror[$D0].LowByte,x
	LDA.l DATA_14BCC0,x
	STA.w SMB2U_PaletteMirror[$E0].LowByte,x
	LDA.l DATA_14BCE0,x
	STA.w SMB2U_PaletteMirror[$F0].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13DD92
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferEndingPart3PaletteData(Address)
namespace SMB2U_BufferEndingPart3PaletteData
%InsertMacroAtXPosition(<Address>)

Main:
	REP.b #$20
	LDX.b #$00
CODE_13DE11:
	LDA.l DATA_14BD00,x
	STA.w SMB2U_PaletteMirror[$00].LowByte,x
	LDA.l DATA_14BD20,x
	STA.w SMB2U_PaletteMirror[$10].LowByte,x
	LDA.l DATA_14BD40,x
	STA.w SMB2U_PaletteMirror[$20].LowByte,x
	LDA.l DATA_14BD60,x
	STA.w SMB2U_PaletteMirror[$30].LowByte,x
	LDA.l DATA_14BD80,x
	STA.w SMB2U_PaletteMirror[$40].LowByte,x
	LDA.l DATA_14BDA0,x
	STA.w SMB2U_PaletteMirror[$50].LowByte,x
	LDA.l DATA_14BDC0,x
	STA.w SMB2U_PaletteMirror[$60].LowByte,x
	LDA.l DATA_14BDE0,x
	STA.w SMB2U_PaletteMirror[$70].LowByte,x
	LDA.l DATA_14BE00,x
	STA.w SMB2U_PaletteMirror[$80].LowByte,x
	LDA.l DATA_14BE20,x
	STA.w SMB2U_PaletteMirror[$90].LowByte,x
	LDA.l DATA_14BE40,x
	STA.w SMB2U_PaletteMirror[$A0].LowByte,x
	LDA.l DATA_14BE60,x
	STA.w SMB2U_PaletteMirror[$B0].LowByte,x
	LDA.l DATA_14BE80,x
	STA.w SMB2U_PaletteMirror[$C0].LowByte,x
	LDA.l DATA_14BEA0,x
	STA.w SMB2U_PaletteMirror[$D0].LowByte,x
	LDA.l DATA_14BEC0,x
	STA.w SMB2U_PaletteMirror[$E0].LowByte,x
	LDA.l DATA_14BEE0,x
	STA.w SMB2U_PaletteMirror[$F0].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13DE11
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferSubspacePaletteData(Address)
namespace SMB2U_BufferSubspacePaletteData
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b #$81
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	LDA.b #$38
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	LDA.b #$52
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	LDA.b #$80
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	REP.b #$20
	LDA.w #$3D25
	STA.w SMB2U_PaletteMirror[$00].LowByte
	SEP.b #$20
	BRA.b SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferPlayerFlashingPaletteAnimationData(Address)
namespace SMB2U_BufferPlayerFlashingPaletteAnimationData
%InsertMacroAtXPosition(<Address>)

DATA_13DF02:
	dl !RAM_SMB2U_Player_CurrentCharactersPalette
	dl DATA_13DF0E
	dl DATA_13DF2E
	dl DATA_13DF4E

DATA_13DF0E:
	dw $45BC,$5AD6,$294A,$3AFF,$01D8,$023F,$3ABF,$2D9C,$0000,$152F,$7F5A,$3306,$438A,$023F,$01D8,$7F18

DATA_13DF2E:
	dw $45BC,$7FFF,$14A5,$0092,$0098,$009F,$2D9C,$3ABF,$0000,$152F,$2C95,$413A,$55DF,$76AF,$664A,$51A6

DATA_13DF4E:
	dw $45BC,$5AD6,$294A,$3AFF,$413A,$55DF,$3ABF,$2D9C,$0000,$152F,$7F5A,$14D9,$217F,$031F,$027A,$7F18

Main:
	REP.b #$20
	LDY.w !RAM_SMB2U_Player_StarPowerTimer
	LDA.b !RAM_SMB2U_Player_CurrentState
	AND.w #$00FF
	CMP.w #!Define_SMB2U_PlayerState08_HasBeenHurt
	BNE.b CODE_13DF7F
	LDY.b !RAM_SMB2U_Player_PickupAnimationTimer
CODE_13DF7F:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	LSR
	LSR
	CPY.b #$18
	BCS.b CODE_13DF8F
	CPY.b #$01
	BNE.b CODE_13DF8E
	LDA.w #$0000
CODE_13DF8E:
	LSR
CODE_13DF8F:
	AND.w #$0003
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	TAX
	LDA.l DATA_13DF02,x
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.l DATA_13DF02+$02,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDY.b #$00
CODE_13DFA7:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	STA.w SMB2U_PaletteMirror[$80].LowByte,y
	INY
	INY
	CPY.b #$20
	BNE.b CODE_13DFA7
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferPlayerPowerJumpFlashPaletteAnimationData(Address)
namespace SMB2U_BufferPlayerPowerJumpFlashPaletteAnimationData
%InsertMacroAtXPosition(<Address>)

DATA_13DFB7:
	dl !RAM_SMB2U_Player_CurrentCharactersPalette
	dl DATA_13DFE7
	dl DATA_13E007
	dl DATA_13DFE7
	dl !RAM_SMB2U_Player_CurrentCharactersPalette
	dl DATA_13E0A7
	dl DATA_13E0C7
	dl DATA_13E0A7
	dl !RAM_SMB2U_Player_CurrentCharactersPalette
	dl DATA_13E067
	dl DATA_13E087
	dl DATA_13E067
	dl !RAM_SMB2U_Player_CurrentCharactersPalette
	dl DATA_13E027
	dl DATA_13E047
	dl DATA_13E027

DATA_13DFE7:
	dw $45BC,$7FFF,$2D6B,$2318,$11DA,$1B3E,$2D9C,$3ABF,$0000,$29D4,$56EC,$45C6,$56EC,$14DC,$1096,$151A

DATA_13E007:
	dw $45BC,$7FFF,$4210,$3FFF,$11DA,$1B3E,$2D9C,$3ABF,$0000,$3E79,$6B91,$45C6,$56EC,$14DC,$1096,$29BF

DATA_13E027:
	dw $4924,$7FFF,$2D6B,$2318,$11DA,$1B3E,$2D9C,$3ABF,$0000,$29D4,$6635,$6D6F,$7E56,$5B92,$42AB,$4F30

DATA_13E047:
	dw $4924,$7FFF,$4210,$3FFF,$11DA,$1B3E,$2D9C,$3ABF,$0000,$3E79,$7EFB,$6D6F,$7E56,$5B92,$42AB,$67F6

DATA_13E067:
	dw $45BC,$7FFF,$39CE,$628D,$69E8,$7ECF,$2D9C,$3ABF,$0000,$29D4,$36B9,$2A7B,$4B5F,$191F,$18D9,$29BC

DATA_13E087:
	dw $45BC,$7FFF,$5294,$7F74,$69E8,$7ECF,$2D9C,$3ABF,$0000,$3E79,$4F7F,$2A7B,$4B5F,$191F,$18D9,$427F

DATA_13E0A7:
	dw $4924,$7FFF,$2D6B,$123F,$11DA,$1B3E,$2D9C,$3ABF,$0000,$0C57,$02BA,$0259,$1F1F,$6E9F,$495F,$51D9

DATA_13E0C7:
	dw $4924,$7FFF,$4210,$2F9F,$11DA,$1B3E,$2D9C,$3ABF,$0000,$0C57,$5BFF,$0259,$1F1F,$6E9F,$495F,$6EBF

Main:
	LDA.w !RAM_SMB2U_Player_PowerJumpCharge
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CMP.b #$30
else
	CMP.b #$3C
endif
	BCS.b CODE_13E0FB
	LDA.w $0D0A
	BEQ.b CODE_13E0FA
	STZ.w $0D0A
	STZ.b !RAM_SMB2U_Global_ScratchRAM0C
	BRA.b CODE_13E107

CODE_13E0FA:
	RTL

CODE_13E0FB:
	LDA.b #$01
	STA.w $0D0A
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$06
	LSR
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
CODE_13E107:
	LDA.b !RAM_SMB2U_Player_CharacterGFXSet
	ASL
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0C
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM0C
	TAX
	LDA.l DATA_13DFB7+$02,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	REP.b #$20
	LDA.l DATA_13DFB7,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	LDY.b #$00
CODE_13E125:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM0C],y
	STA.w SMB2U_PaletteMirror[$80].LowByte,y
	INY
	INY
	CPY.b #$20
	BNE.b CODE_13E125
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferCandleFlamePaletteAnimationData(Address)
namespace SMB2U_BufferCandleFlamePaletteAnimationData
%InsertMacroAtXPosition(<Address>)

DATA_13E135:
	dw $019C,$0118,$00D5,$0092

DATA_13E13D:
	dw $331F,$229B,$1217,$0193

DATA_13E145:
	dw $001C,$0018,$0014,$0010

DATA_13E14D:
	db $00,$01,$03,$02,$01,$02,$03,$01

Main:
	LDA.w !RAM_SMB2U_Level_UseCandleFlamePaletteAnimationFlag
	BEQ.b CODE_13E192
	INC.w !RAM_SMB2U_Level_CandleFlamePaletteAnimationFrameCounter
	LDA.w !RAM_SMB2U_Level_CandleFlamePaletteAnimationFrameCounter
	CMP.b #$04
	BCC.b CODE_13E16A
	STZ.w !RAM_SMB2U_Level_CandleFlamePaletteAnimationFrameCounter
	INC.w !RAM_SMB2U_Level_CandleFlamePaletteAnimationIndex
CODE_13E16A:
	LDA.w !RAM_SMB2U_Level_CandleFlamePaletteAnimationIndex
	AND.b #$07
	TAX
	LDA.l DATA_13E14D,x
	ASL
	TAX
	REP.b #$20
	LDA.l DATA_13E135,x
	STA.w SMB2U_PaletteMirror[$16].LowByte
	LDA.l DATA_13E13D,x
	STA.w SMB2U_PaletteMirror[$17].LowByte
	LDA.l DATA_13E145,x
	STA.w SMB2U_PaletteMirror[$1C].LowByte
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC

CODE_13E192:
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferGiantPhantoBGPaletteAnimationData(Address)
namespace SMB2U_BufferGiantPhantoBGPaletteAnimationData
%InsertMacroAtXPosition(<Address>)

DATA_13E193:
	dw $0835,$04AC,$0449
	dw $10BF,$0837,$04B0
	dw $39DF,$10BF,$0837
	dw $673F,$39DF,$10BF
	dw $0461,$0461,$0461

DATA_13E1B1:
	db $1A,$07,$06,$07,$14,$07,$06,$07

Main:
	LDA.w !RAM_SMB2U_Level_UseGiantPhantoBGPaletteAnimationFlag
	BNE.b CODE_13E1C2
	STZ.w $0780
	RTL

CODE_13E1C2:
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_13E20E
	LDX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BNE.b CODE_13E20E
	INC.w $0781
	LDA.w $0780
	AND.b #$07
	TAX
	LDA.l DATA_13E1B1,x
	CMP.w $0781
	BNE.b CODE_13E1F5
	INC.w $0780
	LDA.w $0780
	AND.b #$07
	CMP.b #$01
	BNE.b CODE_13E1F2
	LDA.b #!Define_SMAS_Sound0063_PhantoDroning
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_13E1F2:
	STZ.w $0781
CODE_13E1F5:
	LDA.w $0780
	AND.b #$07
	BEQ.b CODE_13E23D
	DEC
	CMP.b #$04
	BCC.b CODE_13E204
	EOR.b #$07
	DEC
CODE_13E204:
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	TAX
	BRA.b CODE_13E23F

CODE_13E20E:
	LDA.w $0780
	AND.b #$07
	BEQ.b CODE_13E238
	INC.w $0781
	TAX
	LDA.l DATA_13E1B1,x
	CMP.w $0781
	BNE.b CODE_13E1F5
	STZ.w $0781
	LDA.w $0780
	AND.b #$07
	CMP.b #$04
	BCS.b CODE_13E233
	DEC.w $0780
	BRA.b CODE_13E1F5

CODE_13E233:
	INC.w $0780
	BRA.b CODE_13E1F5

CODE_13E238:
	LDA.b #$FF
	STA.w $0781
CODE_13E23D:
	LDX.b #$18
CODE_13E23F:
	REP.b #$20
	LDA.l DATA_13E193,x
	STA.w SMB2U_PaletteMirror[$73].LowByte
	LDA.l DATA_13E193+$02,x
	STA.w SMB2U_PaletteMirror[$74].LowByte
	LDA.l DATA_13E193+$04,x
	STA.w SMB2U_PaletteMirror[$75].LowByte
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferEndingPart1PaletteData(Address)
namespace SMB2U_BufferEndingPart1PaletteData
%InsertMacroAtXPosition(<Address>)

Main:
	REP.b #$20
	STZ.w SMB2U_PaletteMirror[$00].LowByte
	LDX.b #$00
CODE_13E262:
	LDA.l DATA_14BFA0,x
	STA.w SMB2U_PaletteMirror[$10].LowByte,x
	LDA.l DATA_14BFC0,x
	STA.w SMB2U_PaletteMirror[$40].LowByte,x
	LDA.l DATA_14BFE0,x
	STA.w SMB2U_PaletteMirror[$70].LowByte,x
	INX
	INX
	CPX.b #$20
	BNE.b CODE_13E262
	SEP.b #$20
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferIceCrystalBGPaletteAnimationData(Address)
namespace SMB2U_BufferIceCrystalBGPaletteAnimationData
%InsertMacroAtXPosition(<Address>)

DATA_13E282:
	dw $7FFA,$7FF8,$7FD7,$7FD7,$7FB5,$7F95,$7F53,$7F32,$7F53,$7F95,$72CF,$6EAE,$72CF,$76F0,$7B11
	dw $7FFA,$7FF9,$7FF7,$7FD7,$7FB5,$7FB6,$7F95,$7F53,$7F32,$7F53,$76F0,$72CF,$6EAE,$72CF,$76F0
	dw $7FFB,$7FFA,$7FF8,$7FD7,$7FB5,$7FD6,$7FB5,$7F74,$7F52,$7F52,$7B11,$76F0,$72CF,$6EAE,$72CF
	dw $7FFB,$7FFA,$7FF8,$7FD7,$7FB5,$7FD7,$7FB6,$7F95,$7F53,$7F32,$7F11,$7711,$72F0,$6ECF,$72AE
	dw $7FFB,$7FFA,$7FF8,$7FD7,$7FB5,$7FD7,$7FB6,$7F95,$7F53,$7F32,$7F32,$7B11,$76F0,$72CF,$6EAE
	dw $7FFB,$7FFA,$7FF8,$7FD7,$7FB5,$7FD7,$7FB6,$7F95,$7F53,$7F32,$7F32,$7B11,$76F0,$72CF,$6EAE
	dw $7FFA,$7FFB,$7FFA,$7FF8,$7FB5,$7FD7,$7FB6,$7F95,$7F53,$7F32,$7F32,$7B11,$76F0,$72CF,$6EAE
	dw $7FF8,$7FFA,$7FFB,$7FFA,$7FB5,$7FB6,$7FD7,$7FB6,$7F95,$7F53,$7F32,$7B11,$76F0,$72CF,$6EAE
	dw $7FD7,$7FF8,$7FFA,$7FFB,$7FB5,$7F95,$7FB6,$7FD7,$7FB6,$7F95,$7B11,$7F32,$7B11,$76F0,$72CF
	dw $7FD7,$7FD7,$7FF8,$7FFA,$7FB5,$7F53,$7F95,$7FB6,$7FD7,$7FB6,$76F0,$7B11,$7F32,$7B11,$76F0
	dw $7FD7,$7FD7,$7FD7,$7FF8,$7FB5,$7F32,$7F53,$7F95,$7FB6,$7FD7,$72CF,$76F0,$7B11,$7F32,$7B11
	dw $7FF8,$7FD7,$7FD7,$7FD7,$7FB5,$7F53,$7F32,$7F53,$7F95,$7FB6,$6EAE,$72CF,$76F0,$7B11,$7F32

DATA_13E3EA:
	dw $0000,$001E,$003C,$005A
	dw $0078,$0096,$00B4,$00D2
	dw $00F0,$010E,$012C,$014A

Main:
	LDA.w !RAM_SMB2U_Level_UseIceCrystalBGPaletteAnimationFlag
	BEQ.b CODE_13E448
	INC.w !RAM_SMB2U_Level_IceCrystalBGPaletteAnimationFrameCounter
	LDA.w !RAM_SMB2U_Level_IceCrystalBGPaletteAnimationFrameCounter
	CMP.b #$06
	BCC.b CODE_13E421
	STZ.w !RAM_SMB2U_Level_IceCrystalBGPaletteAnimationFrameCounter
	INC.w !RAM_SMB2U_Level_IceCrystalBGPaletteAnimationIndex
	LDA.w !RAM_SMB2U_Level_IceCrystalBGPaletteAnimationIndex
	CMP.b #$0C
	BNE.b CODE_13E421
	STZ.w !RAM_SMB2U_Level_IceCrystalBGPaletteAnimationIndex
CODE_13E421:
	REP.b #$30
	LDA.w !RAM_SMB2U_Level_IceCrystalBGPaletteAnimationIndex
	AND.w #$00FF
	ASL
	TAX
	LDA.l DATA_13E3EA,x
	TAX
	LDY.w #$0000
CODE_13E433:
	LDA.l DATA_13E282,x
	STA.w SMB2U_PaletteMirror[$11].LowByte,y
	INX
	INX
	INY
	INY
	CPY.w #$001E
	BNE.b CODE_13E433
	SEP.b #$30
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC

CODE_13E448:
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_BufferLayer3StarBGPaletteAnimationData(Address)
namespace SMB2U_BufferLayer3StarBGPaletteAnimationData
%InsertMacroAtXPosition(<Address>)

DATA_13E4E0:
	dw $777F,$34E7,$34E7,$34E7
	dw $5E97,$2509,$292E,$35EF
	dw $49AF,$152B,$1D75,$32F7
	dw $34E7,$0A97,$133C,$2FDF

Main:
	LDA.w !RAM_SMB2U_Level_UseLayer3StarBGPaletteAnimationFlag
	BNE.b CODE_13E506
	RTL

CODE_13E506:
	PHB
	PHK
	PLB
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$38
	CMP.b #$20
	BCC.b CODE_13E515
	AND.b #$18
	EOR.b #$18
CODE_13E515:
	TAY
	REP.b #$20
	LDA.w DATA_13E4E0,y
	STA.w SMB2U_PaletteMirror[$1C].LowByte
	LDA.w DATA_13E4E0+$02,y
	STA.w SMB2U_PaletteMirror[$1D].LowByte
	LDA.w DATA_13E4E0+$04,y
	STA.w SMB2U_PaletteMirror[$1E].LowByte
	LDA.w DATA_13E4E0+$06,y
	STA.w SMB2U_PaletteMirror[$1F].LowByte
	SEP.b #$20
	PLB
	BRL.w SMB2U_BufferSlotMachineAndWarpZonePaletteData_CODE_13DEDC
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_ProcessTitleScreen(Address)
namespace SMB2U_ProcessTitleScreen
%InsertMacroAtXPosition(<Address>)

Main:
	JSL.l SMB2U_UploadTitleScreenGraphics_Main
	JSL.l SMB2U_UploadCharacterSelectScreenGraphics_Main
CODE_128F50:
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte
	STA.l $7F0002
	LDA.b #$13
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	LDA.b #$03
	STA.w !RAM_SMB2U_Global_BG1AddressAndSize
	LDA.b #!BGModeAndTileSizeSetting_Mode02Enable
	STA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	JSL.l CODE_14F953
	JSL.l SMB2U_BufferTitleScreenPaletteData_Main
	LDA.b #$40
	STA.w $0100
	LDA.b #$80
	STA.b !RAM_SMB2U_Global_IRQNMIAndJoypadEnableFlagsMirror
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	LDA.b #$81
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.b #$02
	STA.b !RAM_SMB2U_Global_StripeImageToUpload
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	JSL.l CODE_14D84E
	LDA.b #!Define_SMB2U_LevelMusic_TitleScreen
	STA.w !RAM_SMB2U_Global_MusicCh1
	JSL.l CODE_11962D
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_FrameCounter
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$1E
else
	LDA.b #$25
endif
	STA.w !RAM_SMB2U_TitleScreen_CurrentStateTimer

	; Set up 1st line clear:
	; Stripe header byte 1
	LDA.b #$0C
	STA.b $14
	; Stripe header byte 2
if !Define_Global_ROMToAssemble&(!ROM_SMAS_J1|!ROM_SMAS_J2|!ROM_SMB2U_J) != $00
	LDA.b #$87
else
	LDA.b #$A7
endif
	STA.b $15
	; Stripe header (byte 3 || byte 4)
	LDA.b #$62
	STA.b $16

	STZ.b !RAM_SMB2U_TitleScreen_DoneDisplayingTextFlag
	STZ.b !RAM_SMB2U_TitleScreen_ClearTitleScreenFlag
	STZ.b !RAM_SMB2U_TitleScreen_StoryTextDisplayIndex
	STZ.b !RAM_SMB2U_TitleScreen_WaitBeforeDisplayingNextLineOfTextTimer

CODE_128FBE:
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.b !RAM_SMB2U_TitleScreen_ClearTitleScreenFlag
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR] Out of range dodging
	BEQ.b CODE_128FC6
	BRL.w CODE_12900E
else
	BNE.b CODE_12900E
endif
CODE_128FC6:
	INC.b !RAM_SMB2U_Global_FrameCounter
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$0F
	BEQ.b CODE_128FD1
CODE_128FCE:
	BRL.w CODE_129069

CODE_128FD1:
	DEC.w !RAM_SMB2U_TitleScreen_CurrentStateTimer
	LDA.w !RAM_SMB2U_TitleScreen_CurrentStateTimer
	CMP.b #$06
	BNE.b CODE_128FCE
	INC.b !RAM_SMB2U_TitleScreen_ClearTitleScreenFlag

	; Update stripe header
	LDA.b $14
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_StripeImageUploadTable[$03].LowByte
	STA.w SMB2U_StripeImageUploadTable[$06].LowByte
endif
	LDA.b $15
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte
	LDA.b $16
	AND.b #$C0
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte
	LDA.b $16
	AND.b #$3F
	STA.w SMB2U_StripeImageUploadTable[$01].HighByte

	; Set up 2nd line clear (for next frame):
	; Stripe header byte 2
	LDA.b #$C6
	STA.b $15
	; Stripe header (byte 3 || byte 4)
	LDA.b #$66
	STA.b $16

	; Upload stripe data:
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	LDA.b #$BD
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte
	LDA.b #$09
	STA.w SMB2U_StripeImageUploadTable[$02].HighByte
	
	; Clear translation credits
	LDA.b #$21
	STA.w SMB2U_StripeImageUploadTable[$03].HighByte
	LDA.b #$40
	STA.w SMB2U_StripeImageUploadTable[$04].LowByte
	LDA.b #$3A
	STA.w SMB2U_StripeImageUploadTable[$04].HighByte
	LDA.b #$BE
	STA.w SMB2U_StripeImageUploadTable[$05].LowByte
	LDA.b #$04
	STA.w SMB2U_StripeImageUploadTable[$05].HighByte
	STA.w SMB2U_StripeImageUploadTable[$08].HighByte

	;Restore border tiles
	LDA.b #$2F
	STA.w SMB2U_StripeImageUploadTable[$06].HighByte
	STZ.w SMB2U_StripeImageUploadTable[$07].LowByte
	LDA.b #$03
	STA.w SMB2U_StripeImageUploadTable[$07].HighByte
	LDA.b #$37
	STA.w SMB2U_StripeImageUploadTable[$08].LowByte
	STA.w SMB2U_StripeImageUploadTable[$09].LowByte
	LDA.b #$44
	STA.w SMB2U_StripeImageUploadTable[$09].HighByte
	
	; End
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$0A].LowByte
else
	; Tile index
	LDA.b #$BD
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte
	; Properties
	LDA.b #$09
	STA.w SMB2U_StripeImageUploadTable[$02].HighByte
	; End
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$03].LowByte
endif

	BRA.b CODE_129069

CODE_12900E:
	; Update stripe table
	LDA.b $14
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte
	LDA.b $15
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte
	LDA.b $16
	AND.b #$C0
	STA.w SMB2U_StripeImageUploadTable[$01].LowByte
	LDA.b $16
	AND.b #$3F
	STA.w SMB2U_StripeImageUploadTable[$01].HighByte

	; [BR] This upload seems redudant, since the write from
	; previous code isn't reset nor overwritten in-between frames.
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000
	LDA.b #$BD
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte
	LDA.b #$09
	STA.w SMB2U_StripeImageUploadTable[$02].HighByte
endif
	LDA.b #$FF
	STA.w SMB2U_StripeImageUploadTable[$03].LowByte

	; Whenever Y position is greater than 8, edit length to $28
	LDA.b $14							
	CMP.b #$0D
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000
	BNE.b CODE_129046
	LDA.b $15
	CMP.b #$E0
	BCS.b CODE_129046
	LDA.b #$28
	STA.w SMB2U_StripeImageUploadTable[$01].HighByte
else
	; Only lines with Ypos lower than 21 will have their width edited
	BEQ.b +
	CMP.b #$0E
	BNE.b CODE_129046
	
	LDA.b $15
	CMP.b #$A0
	BCS.b CODE_129046
+:
	LDA.b $15								; Byte 2 (low Ypos, Xpos)
	DEC #2
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte
	LDA.b #23*2								; Byte 4 (Length)
	STA.w SMB2U_StripeImageUploadTable[$01].HighByte
endif
; Values updates
CODE_129046:
	LDA.b $15
	CLC
	ADC.b #$20
	STA.b $15
	LDA.b $14
	ADC.b #$00
	STA.b $14
	CMP.b #$0E
	BNE.b CODE_129069
	LDA.b $15
	AND.b #$F0
	CMP.b #$E0
	BNE.b CODE_129069
	LDA.b #$20
	STA.b !RAM_SMB2U_Global_FrameCounter
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	BRA.b CODE_12908D

CODE_129069:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Start>>8
	BEQ.b CODE_129072
	BRL.w CODE_12916C

CODE_129072:
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_X
	STA.w $0712
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Y>>8
	ORA.w $0712
	BEQ.b CODE_12908A
	JSL.l CODE_11961C
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	JML.l SMB2U_ResetGame_Main
else
	JML.l SMAS_ResetToSMASTitleScreen_Main				; Note: Call to SMAS function
endif

CODE_12908A:
	BRL.w CODE_128FBE

CODE_12908D:
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.b !RAM_SMB2U_TitleScreen_DoneDisplayingTextFlag
	BEQ.b CODE_129098
	BRL.w CODE_129166

CODE_129098:
	LDA.b !RAM_SMB2U_TitleScreen_StoryTextDisplayIndex
	CMP.b #$09
	BEQ.b CODE_1290D1
	LDA.b !RAM_SMB2U_TitleScreen_StoryTextDisplayIndex
	BNE.b CODE_1290E2
	DEC.b !RAM_SMB2U_Global_FrameCounter
	BMI.b CODE_1290A9
	BRL.w CODE_129166

CODE_1290A9:
	; Byte 1
	LDA.b #$0C
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte
	; Byte 2
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
	LDA.b #$8C
else
	LDA.b #$8E
endif
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte
	; Byte 3
	STZ.w SMB2U_StripeImageUploadTable[$01].LowByte

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	; Byte 4, length (accents don't count)
	LDA.b #$0F
	STA.w SMB2U_StripeImageUploadTable[$01].HighByte
	; Set up two increments:
	LDX.b #$00										; X for tile index
	LDY.b #$00										; Y for the table index
else
	LDA.b #$09
	STA.w SMB2U_StripeImageUploadTable[$01].HighByte
	LDX.b #$08
endif
CODE_1290BD:
	REP.b #$20
	LDA.l SMB2U_TitleScreenStoryTextStripeImages_StoryHeader,x
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
; Accent check
	CMP.w #$15F1 							;\ Value range of the accents on VRAM.
	BCC.b + 								;| If outside of it, continue normally
	CMP.w #$15F5							;|
	BCS.b + 								;/

	STY.b !RAM_SMB2U_Global_ScratchRAM0A	; Save current table index
	JSR.w SMB2_DrawAccent
	SEP.b #$20	

	INX
	INX
	BRA.w CODE_1290BD
+:
endif
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte,y
	SEP.b #$20
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	INX #2
	INY #2

	CPY.b #$10
	BCC.w CODE_1290BD
else
	DEX
	DEX
	BPL.b CODE_1290BD
endif
	
	; End byte
	LDA.b #$FF
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte,y
else
	STA.w SMB2U_StripeImageUploadTable[$07].LowByte
endif

; Set up stripe header
CODE_1290D1:
	INC.b !RAM_SMB2U_TitleScreen_StoryTextDisplayIndex
	LDA.b #$0C											; Byte 1 (1st line)
	STA.b $14
	LDA.b #$E6											; Byte 2 (1st line)
	STA.b $15
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$36
else
	LDA.b #$40
endif
	STA.b !RAM_SMB2U_TitleScreen_WaitBeforeDisplayingNextLineOfTextTimer
CODE_1290DF:
	BRL.w CODE_129166

CODE_1290E2:
	DEC.b !RAM_SMB2U_TitleScreen_WaitBeforeDisplayingNextLineOfTextTimer
	BPL.b CODE_1290DF

	; Current line setup
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$36
else
	LDA.b #$40											; Set up timer for next line
endif
	STA.b !RAM_SMB2U_TitleScreen_WaitBeforeDisplayingNextLineOfTextTimer
	LDA.b $14
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte
	LDA.b $15
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte
	STZ.w SMB2U_StripeImageUploadTable[$01].LowByte		; Header byte 3
	LDA.b #$27											; Header byte 4
	STA.w SMB2U_StripeImageUploadTable[$01].HighByte
	LDX.b !RAM_SMB2U_TitleScreen_StoryTextDisplayIndex			;\ Set line pointer
	DEX															;|
	LDA.b #SMB2U_TitleScreenStoryTextStripeImages_Main>>16		;|
	STA.b !RAM_SMB2U_Global_ScratchRAM05						;|
	LDA.l SMB2U_TitleScreenStoryTextStripeImages_LinePtrsHi,x	;|
	STA.b !RAM_SMB2U_Global_ScratchRAM04						;|
	LDA.l SMB2U_TitleScreenStoryTextStripeImages_LinePtrsLo,x	;|
	STA.b !RAM_SMB2U_Global_ScratchRAM03						;/
	; Table and tile index increments
	LDY.b #$00
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) == $0000
	LDX.b #$13
else ;[BR]
	LDX.b #$00
endif
CODE_129113:
	REP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM03],y

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
; Accent check
	CMP.w #$15F1 							;\ Value range of the accents on VRAM.
	BCC.b + 								;/ If outside of it, continue normally
	CMP.w #$15F5
	BCS.b +
	
	STX.b !RAM_SMB2U_Global_ScratchRAM0A	; Save current table index
	JSR.w SMB2_DrawAccent
	INY #2
	BRA.w CODE_129113
+:
endif
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte,x
	SEP.b #$20
	INY
	INY
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	INX #2
	CPX.b #$28
	BCC.b CODE_129113
else
	DEX
	BPL.b CODE_129113
endif
	; End byte
	LDA.b #$FF
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte,x
else
	STA.w SMB2U_StripeImageUploadTable[$02].LowByte,y
endif

	INC.b !RAM_SMB2U_TitleScreen_StoryTextDisplayIndex
	LDA.b $15
	CLC
	ADC.b #$40
	STA.b $15
	LDA.b $14
	ADC.b #$00
	STA.b $14
	LDA.b !RAM_SMB2U_TitleScreen_StoryTextDisplayIndex
	CMP.b #$09
	BCC.b CODE_129166
	BNE.b CODE_129157

	LDA.b #$09
	STA.w !RAM_SMB2U_TitleScreen_CurrentStateTimer
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_FrameCounter
	LDA.b #$0C
	STA.b $14
	LDA.b #$A7
	STA.b $15
	LDA.b #$62
	STA.b $16
	STZ.b !RAM_SMB2U_TitleScreen_ClearTitleScreenFlag
	BRL.w CODE_128FC6

CODE_129157:
	CMP.b #$12
	BCC.b CODE_129166
	INC.b !RAM_SMB2U_TitleScreen_DoneDisplayingTextFlag
	LDA.b #$25
	STA.w !RAM_SMB2U_TitleScreen_CurrentStateTimer
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_FrameCounter
CODE_129166:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Start>>8
	BEQ.b CODE_129192
CODE_12916C:
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) == $00
	LDA.b #!Define_SMB2U_LevelMusic_MusicFade
	STA.w !RAM_SMB2U_Global_MusicCh1
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	LDA.l !SRAM_SMAS_Global_RunningDemoFlag
	BEQ.b CODE_12917D
	BRA.b CODE_1291A2

CODE_12917D:
endif
	LDA.b #!Define_SMAS_Sound0063_Correct
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDA.b #$00
	TAY
CODE_129185:
	STA.w !RAM_SMB2U_Global_ScratchRAM00,y
	INY
	CPY.b #$F0
	BCC.b CODE_129185
	JSL.l CODE_14F9F0
	RTL

CODE_129192:
	LDA.b !RAM_SMB2U_Global_ControllerPress2
	AND.b #!Joypad_X
	STA.w $0712
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	AND.b #!Joypad_Y>>8
	ORA.w $0712
	BEQ.b CODE_1291AA
CODE_1291A2:
	JSL.l CODE_11961C
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) != $00
	JML.l SMB2U_ResetGame_Main
else
	JML.l SMAS_ResetToSMASTitleScreen_Main				; Note: Call to SMAS function
endif

CODE_1291AA:
	LDA.b !RAM_SMB2U_TitleScreen_DoneDisplayingTextFlag
	BEQ.b CODE_1291C2
	INC.b !RAM_SMB2U_Global_FrameCounter
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$0F
	BNE.b CODE_1291C2
	DEC.w !RAM_SMB2U_TitleScreen_CurrentStateTimer
	LDA.w !RAM_SMB2U_TitleScreen_CurrentStateTimer
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	CMP.b #$17
else
	CMP.b #$14
endif
	BNE.b CODE_1291C2
	BEQ.b CODE_1291C5

CODE_1291C2:
	BRL.w CODE_12908D

CODE_1291C5:
	JSL.l CODE_11961C
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_TurnOnFBlank
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_U|!ROM_SMB2U_E|!ROM_SMB2U_J) == $00
	LDA.l !SRAM_SMAS_Global_RunningDemoFlag
	BEQ.b CODE_1291DA
	JML.l SMAS_CopyOfResetToSMASTitleScreen_Main				; Note: Call to SMAS function
endif

CODE_1291DA:
	BRL.w CODE_128F50

if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR]
SMB2_DrawAccent:
	PHA												; Save tile data
	LDA.b !RAM_SMB2U_Global_ScratchRAM0A 			;\ Set up letter offset
	LSR												;|
	STA.b !RAM_SMB2U_Global_ScratchRAM0A 			;/
	
	; Set tile address
	LDA.w SMB2U_StripeImageUploadTable[$00].LowByte
	XBA
	SBC.w #$0020									; Move it up
	ADC.b !RAM_SMB2U_Global_ScratchRAM0A			; Align with next letter
	STA.w !REGISTER_VRAMAddressLo
	
	PLA												;\ Pull back and send
	STA.w !REGISTER_WriteToVRAMPortLo				;/ the tile data
	RTS
endif
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_SaveGame(Address)
namespace SMB2U_SaveGame
%InsertMacroAtXPosition(<Address>)

Main:
	PHX
	PHY
	PHB
	PHK
	PLB
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.w !RAM_SMB2U_Player_CheckpointLevel
	CMP.b #!Define_SMB2U_LevelID_7_2
	BNE.b CODE_009123
	DEC.w !RAM_SMB2U_Player_CheckpointLevel
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
CODE_009123:
	STZ.b !RAM_SMB2U_Global_ScratchRAM02
	STZ.b !RAM_SMB2U_Global_ScratchRAM03
	STZ.b !RAM_SMB2U_Global_ScratchRAM00
	STZ.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w !RAM_SMB2U_Player_CheckpointLevel
CODE_00912E:
	CMP.b #!Define_SMB2U_LevelID_2_1
	BCC.b CODE_009139
	SEC
	SBC.b #$03
	INC.b !RAM_SMB2U_Global_ScratchRAM02
	BRA.b CODE_00912E

CODE_009139:
	REP.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.l !SRAM_SMAS_Global_SaveFileIndexHi
	XBA
	LDA.l !SRAM_SMAS_Global_SaveFileIndexLo
	TAX
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	BNE.b CODE_009172
	LDA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	BMI.b CODE_009172
	CMP.b !RAM_SMB2U_Global_ScratchRAM02
	BEQ.b CODE_00915A
	BCC.b CODE_009172
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMB2U_E) != $00
	BRA.b CODE_009162
else
	JMP.w CODE_009162
endif

CODE_00915A:
	LDA.l !SRAM_SMAS_Global_SaveFileBaseOffset+$01,x
	CMP.b !RAM_SMB2U_Global_ScratchRAM03
	BCC.b CODE_009172
CODE_009162:
	LDA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	BRA.b CODE_00917C

CODE_009172:
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
CODE_00917C:
	LDA.w !RAM_SMB2U_Player_CurrentLifeCount
	BNE.b CODE_009183
	LDA.b #$05
CODE_009183:
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.w !RAM_SMB2U_Player_MariosContributionCount
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.w !RAM_SMB2U_Player_PeachsContributionCount
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.w !RAM_SMB2U_Player_ToadsContributionCount
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.w !RAM_SMB2U_Player_LuigisContributionCount
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
CODE_00919E:
	REP.b #$20
	LDA.w #$0000
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	SEP.b #$30
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	BEQ.b CODE_0091B3
	INC.w !RAM_SMB2U_Player_CheckpointLevel
CODE_0091B3:
	PLB
	PLY
	PLX
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_StoreDataToSaveFileAndUpdateTempChecksum(Address)
namespace SMB2U_StoreDataToSaveFileAndUpdateTempChecksum
%InsertMacroAtXPosition(<Address>)

Main:
	STA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	INX
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_UnknownRoutine(Address)
namespace SMB2U_UnknownRoutine
%InsertMacroAtXPosition(<Address>)

Main:
	STZ.b !RAM_SMB2U_Global_ScratchRAM00
	STZ.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.w !RAM_SMB2U_Player_MariosContributionCount
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.w !RAM_SMB2U_Player_PeachsContributionCount
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.w !RAM_SMB2U_Player_ToadsContributionCount
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
	LDA.w !RAM_SMB2U_Player_LuigisContributionCount
	JSR.w SMB2U_StoreDataToSaveFileAndUpdateTempChecksum_Main
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMB2U_E) != $00
	BRA.b SMB2U_SaveGame_CODE_00919E
else
	JMP.w SMB2U_SaveGame_CODE_00919E
endif
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_UpdatePlayerSpritePosition(Address)
namespace SMB2U_UpdatePlayerSpritePosition
%InsertMacroAtXPosition(<Address>)

Y:
	LDX.b #$0A
X:
	LDA.b !RAM_SMB2U_Player_XSpeed,x
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BPL +
	EOR.b #$FF
	INC
+:
	PHA
	STA.w !REGISTER_Multiplicand
	LDA.b #$2C
	STA.w !REGISTER_Multiplier
	PLA
	REP.b #$21
	AND.w #$00FF
	XBA
	ADC.w !REGISTER_ProductOrRemainderLo
	LSR
	LSR
	LSR
	LSR
	LDY.b !RAM_SMB2U_Player_XSpeed,x
	BPL.b +
	EOR.w #$FFFF
	INC
+:
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_Player_XSpeedOffset-$01,x
	AND.w #$FF00
	BPL.b +
	ORA.w #$00FF
+:
	XBA
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	BPL.b +
	EOR.w #$FFFF
	INC
+:
	SEP.b #$20
	CLC
	ADC.w !RAM_SMB2U_Player_SubXPos,x
	STA.w !RAM_SMB2U_Player_SubXPos,x
	LDY.b #$00
	XBA
	ADC.b #$00
	BIT.b !RAM_SMB2U_Global_ScratchRAM01
	BPL.b +
	EOR.b #$FF
	INC
	BPL.b +
	DEY
+:
else
	CLC
	ADC.w !RAM_SMB2U_Player_XSpeedOffset,x
	PHP
	BPL.b CODE_128533
	EOR.b #$FF
	CLC
	ADC.b #$01
CODE_128533:
	PHA
	LSR
	LSR
	LSR
	LSR
	TAY
	PLA
	ASL
	ASL
	ASL
	ASL
	CLC
	ADC.w !RAM_SMB2U_Player_SubXPos,x
	STA.w !RAM_SMB2U_Player_SubXPos,x
	TYA
	ADC.b #$00
	PLP
	BPL.b CODE_128550
	EOR.b #$FF
	CLC							;\ Optimization: INC
	ADC.b #$01						;/
CODE_128550:
	LDY.b #$00
	CMP.b #$00
	BPL.b CODE_128557
	DEY
CODE_128557:
	CLC
endif
	ADC.b !RAM_SMB2U_Player_XPosLo,x
	STA.b !RAM_SMB2U_Player_XPosLo,x
	TYA
	ADC.b !RAM_SMB2U_Player_XPosHi,x
	STA.b !RAM_SMB2U_Player_XPosHi,x
	STZ.w !RAM_SMB2U_Player_XSpeedOffset,x
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_ResetBGLayerPositions(Address)
namespace SMB2U_ResetBGLayerPositions
%InsertMacroAtXPosition(<Address>)

Main:
	STZ.w !RAM_SMB2U_Global_Layer1YPosLo
	STZ.w !RAM_SMB2U_Global_Layer1XPosLo
	STZ.w !RAM_SMB2U_Global_Layer1YPosHi
	STZ.w !RAM_SMB2U_Global_Layer1XPosHi
	STZ.w !RAM_SMB2U_Global_Layer2YPosLo
	STZ.w !RAM_SMB2U_Global_Layer2XPosLo
	STZ.w !RAM_SMB2U_Global_Layer2YPosHi
	STZ.w !RAM_SMB2U_Global_Layer2XPosHi
	STZ.w !RAM_SMB2U_Global_Layer3XPosLo
	STZ.w !RAM_SMB2U_Global_Layer3XPosHi
	STZ.w !RAM_SMB2U_Global_Layer3YPosLo
	STZ.w !RAM_SMB2U_Global_Layer3YPosHi
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_InitializeHDMAWaveEffectTable(Address)
namespace SMB2U_InitializeHDMAWaveEffectTable
%InsertMacroAtXPosition(<Address>)

Main:

	PHB
	LDA.b #!RAM_SMB2U_WarpZone_WaveEffectHDMATable>>16
	PHA
	PLB
	REP.b #$30
	LDX.w #$01A0
CODE_14D4CE:
	LDA.w #$00FF
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$00,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$02,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$04,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$06,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$08,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$0A,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$0C,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$0E,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$10,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$12,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$14,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$16,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$18,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$1A,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$1C,x
	STA.w !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$1E,x
	TXA
	SEC
	SBC.w #$0020
	TAX
	BPL.b CODE_14D4CE
	SEP.b #$30
	PLB
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_InitializeWavyScreenEfffectRAM(Address)
namespace SMB2U_InitializeWavyScreenEfffectRAM
%InsertMacroAtXPosition(<Address>)

DATA_14D335:
	db $0F,$00

DATA_14D337:
	db $10,$10

DATA_14D339:
	db $00,$C0

DATA_14D33B:
	db $00,$60

DATA_14D33D:
	db $08,$F8

DATA_14D33F:
	db $01,$FF

DATA_14D341:
	db $00,$18

DATA_14D343:
	db $00,$01

Main:
	LDA.l DATA_14D335,x
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	LDA.l DATA_14D337,x
	STA.w $0754
	STZ.w $0755
	LDA.l DATA_14D339,x
	STA.w $0240
	LDA.l DATA_14D33B,x
	STA.w $022B
	LDA.l DATA_14D33D,x
	STA.w !RAM_SMB2U_WarpZone_ScanlineWiggleSpeed
	LDA.l DATA_14D33F,x
	STA.w !RAM_SMB2U_WarpZone_FadeDirection
	LDA.l DATA_14D341,x
	STA.w $0752
	LDA.l DATA_14D343,x
	STA.w $0753
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	REP.b #$20
	LDA.w #(!REGISTER_BG1HorizScrollOffset&$0000FF<<8)+$42
	STA.w HDMA[$07].Parameters
	LDA.w #DATA_14D39D
	STA.w HDMA[$07].SourceLo
	LDX.b #DATA_14D39D>>16
	STX.w HDMA[$07].SourceBank
	LDX.b #!RAM_SMB2U_WarpZone_WaveEffectHDMATable>>16
	STX.w HDMA[$07].IndirectSourceBank
	SEP.b #$20
	RTL

DATA_14D39D:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	db $F8 : dw !RAM_SMB2U_WarpZone_WaveEffectHDMATable
	db $F8 : dw !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$F0
	db $00
else
	db $F0 : dw !RAM_SMB2U_WarpZone_WaveEffectHDMATable
	db $F0 : dw !RAM_SMB2U_WarpZone_WaveEffectHDMATable+$E0
	db $00
endif
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_InitializePauseMenuWindowHDMATable(Address)
namespace SMB2U_InitializePauseMenuWindowHDMATable
%InsertMacroAtXPosition(<Address>)

Main:
	PHB
	LDA.b #!RAM_SMB2U_Level_PauseMenuWindow1HDMATable>>16
	PHA
	PLB
	REP.b #$30
	LDX.w #$01A0
CODE_138FDF:
	LDA.w #$00FF
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$00,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$02,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$04,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$06,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$08,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$0A,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$0C,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$0E,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$10,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$12,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$14,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$16,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$18,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$1A,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$1C,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$1E,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$00,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$02,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$04,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$06,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$08,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$0A,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$0C,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$0E,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$10,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$12,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$14,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$16,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$18,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$1A,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$1C,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$1E,x
	TXA
	SEC
	SBC.w #$0020
	TAX
	BPL.b CODE_138FDF
	SEP.b #$30
	PLB
	RTL
namespace off
endmacro

;--------------------------------------------------------------------

; Optimization: This routine is identical to the above one, except this one ends with RTS.
; To save some space, make the JSR to this routine into a JSL for the above routine so this one can be removed.

macro ROUTINE_SMB2U_InitializeEndingPauseMenuWindowHDMATable(Address)
namespace SMB2U_InitializeEndingPauseMenuWindowHDMATable
%InsertMacroAtXPosition(<Address>)

Main:
	PHB
	LDA.b #!RAM_SMB2U_Level_PauseMenuWindow1HDMATable>>16
	PHA
	PLB
	REP.b #$30
	LDX.w #$01A0
CODE_14DD96:
	LDA.w #$00FF
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$00,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$02,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$04,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$06,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$08,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$0A,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$0C,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$0E,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$10,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$12,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$14,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$16,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$18,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$1A,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$1C,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$1E,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$00,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$02,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$04,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$06,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$08,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$0A,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$0C,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$0E,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$10,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$12,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$14,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$16,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$18,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$1A,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$1C,x
	STA.w !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$1E,x
	TXA
	SEC
	SBC.w #$0020
	TAX
	BPL.b CODE_14DD96
	SEP.b #$30
	PLB
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_InitializePauseMenuWindowingAndColorMathParameters(Address)
namespace SMB2U_InitializePauseMenuWindowingAndColorMathParameters
%InsertMacroAtXPosition(<Address>)

Main:
	PHB
	PHK
	PLB
	LDA.b #$00
	STA.w !RAM_SMB2U_Global_BG1And2WindowMaskSettingsMirror
	LDA.b #$00
	STA.w !RAM_SMB2U_Global_BG3And4WindowMaskSettingsMirror
	LDA.b #$CA
	STA.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
	LDA.b #$15
	STA.w !REGISTER_BGWindowLogicSettings
	LDA.b #$06
	STA.w !REGISTER_ColorAndObjectWindowLogicSettings

	LDA.b #$41
	STA.w HDMA[$07].Parameters
	LDA.b #!REGISTER_Window1LeftPositionDesignation
	STA.w HDMA[$07].Destination
	LDA.b #DATA_138EDD
	STA.w HDMA[$07].SourceLo
	LDA.b #DATA_138EDD>>8
	STA.w HDMA[$07].SourceHi
	LDA.b #DATA_138EDD>>16
	STA.w HDMA[$07].SourceBank
	LDA.b #!RAM_SMB2U_Level_PauseMenuWindow1HDMATable>>16
	STA.w HDMA[$07].IndirectSourceBank
	LDA.b #$41
	STA.w HDMA[$03].Parameters
	LDA.b #!REGISTER_Window2LeftPositionDesignation
	STA.w HDMA[$03].Destination
	LDA.b #DATA_138EE4
	STA.w HDMA[$03].SourceLo
	LDA.b #DATA_138EE4>>8
	STA.w HDMA[$03].SourceHi
	LDA.b #DATA_138EE4>>16
	STA.w HDMA[$03].SourceBank
	LDA.b #!RAM_SMB2U_Level_PauseMenuWindow2HDMATable>>16
	STA.w HDMA[$03].IndirectSourceBank
	LDA.b #$10
	STA.w !RAM_SMB2U_Global_ColorMathInitialSettingsMirror
	LDA.b #$B7
	STA.w !RAM_SMB2U_Global_ColorMathSelectAndEnableMirror
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	ASL
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	ASL
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	STZ.w !RAM_SMB2U_Global_SubScreenWindowMaskMirror
	STZ.w !RAM_SMB2U_Global_SubScreenLayersMirror
	LDA.b #$13
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	STA.w !RAM_SMB2U_Global_MainScreenWindowMaskMirror
	LDA.w $04BC
	STA.w SMB2U_PaletteMirror[$00].LowByte
	LDA.w $04BD
	STA.w SMB2U_PaletteMirror[$00].HighByte
	LDA.b #$01
	STA.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	STZ.w !RAM_SMB2U_Level_PauseMenuOpenCloseFrameIndex
	STZ.w $0229
	STZ.w $0232
	STZ.w $0240
	STZ.w $0245
	PLB
	RTL

DATA_138EDD:
	db $F0 : dw !RAM_SMB2U_Level_PauseMenuWindow1HDMATable
	db $F0 : dw !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$E0
	db $00

DATA_138EE4:
	db $F0 : dw !RAM_SMB2U_Level_PauseMenuWindow2HDMATable
	db $F0 : dw !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$E0
	db $00
namespace off
endmacro

;--------------------------------------------------------------------

; Optimization: This routine isn't quite the same as the above one, but nevertheless, it could have been combined with it to save some space.

macro ROUTINE_SMB2U_InitializeEndingPauseMenuWindowingAndColorMathParameters(Address)
namespace SMB2U_InitializeEndingPauseMenuWindowingAndColorMathParameters
%InsertMacroAtXPosition(<Address>)

Main:
	PHB
	PHK
	PLB
	LDA.b #$00
	STA.w !RAM_SMB2U_Global_BG1And2WindowMaskSettingsMirror
	LDA.b #$00
	STA.w !RAM_SMB2U_Global_BG3And4WindowMaskSettingsMirror
	LDA.b #$40
	STA.w !RAM_SMB2U_Global_ObjectAndColorWindowSettingsMirror
	LDA.b #$00
	STA.w !REGISTER_BGWindowLogicSettings
	LDA.b #$00
	STA.w !REGISTER_ColorAndObjectWindowLogicSettings

	LDA.b #$41
	STA.w HDMA[$07].Parameters
	LDA.b #!REGISTER_Window1LeftPositionDesignation
	STA.w HDMA[$07].Destination
	LDA.b #DATA_14DCEE
	STA.w HDMA[$07].SourceLo
	LDA.b #DATA_14DCEE>>8
	STA.w HDMA[$07].SourceHi
	LDA.b #DATA_14DCEE>>16
	STA.w HDMA[$07].SourceBank
	LDA.b #!RAM_SMB2U_Level_PauseMenuWindow1HDMATable>>16
	STA.w HDMA[$07].IndirectSourceBank
	LDA.b #$41
	STA.w HDMA[$03].Parameters
	LDA.b #!REGISTER_Window2LeftPositionDesignation
	STA.w HDMA[$03].Destination
	LDA.b #DATA_14DCF5
	STA.w HDMA[$03].SourceLo
	LDA.b #DATA_14DCF5>>8
	STA.w HDMA[$03].SourceHi
	LDA.b #DATA_14DCF5>>16
	STA.w HDMA[$03].SourceBank
	LDA.b #!RAM_SMB2U_Level_PauseMenuWindow2HDMATable>>16
	STA.w HDMA[$03].IndirectSourceBank
	
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	STZ.w !RAM_SMB2U_Level_PauseMenuOpenCloseFrameIndex
	STZ.w $0229
	STZ.w $0232
	STZ.w $0240
	STZ.w $0245
	PLB
	RTS

DATA_14DCEE:
	db $F0 : dw !RAM_SMB2U_Level_PauseMenuWindow1HDMATable
	db $F0 : dw !RAM_SMB2U_Level_PauseMenuWindow1HDMATable+$E0
	db $00

DATA_14DCF5:
	db $F0 : dw !RAM_SMB2U_Level_PauseMenuWindow2HDMATable
	db $F0 : dw !RAM_SMB2U_Level_PauseMenuWindow2HDMATable+$E0
	db $00
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_CheckIfLevelUsesAnHDMAGradient(Address)
namespace SMB2U_CheckIfLevelUsesAnHDMAGradient
%InsertMacroAtXPosition(<Address>)

Main:
	LDY.w !RAM_SMB2U_Level_CurrentLevel
	LDA.w DATA_11D098,y
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentSublevelOfLevel
	TAX
	LDA.l SMB2U_LevelsWithHDMAGradients_Main,x
	CMP.b #$FF
	BEQ.b CODE_13FCA0
	JSL.l SMB2U_BufferHDMAGradient_Main
CODE_13FCA0:
	RTL
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_BufferHDMAGradient(Address)
namespace SMB2U_BufferHDMAGradient
%InsertMacroAtXPosition(<Address>)

DATA_14FAC8:
	dw $0000,$0000,$0031,$0000

DATA_14FAD0:
	dw $0000,$0010,$0020,$0030

DATA_14FAD8:
	dw $0031,$0031,$0031,$0031

DATA_14FAE0:
	dw $0010,$0010,$0010,$0010

Main:
	PHB
	PHK
	PLB
	STZ.w !REGISTER_HDMAEnable
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	ASL
	TAY
	PHY
	LDA.w DATA_14FAD8,y
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.w DATA_14FAC8,y
	LDY.b #$00
CODE_14FB00:
	LDA.w RedChannelScanlinesAndPtrs,x
	STA.w !RAM_SMB2U_Global_HDMAGradientRedChannelScanlinesAndPtrsTable,y
	LDA.w GreenChannelScanlinesAndPtrs,x
	STA.w !RAM_SMB2U_Global_HDMAGradientGreenChannelScanlinesAndPtrsTable,y
	LDA.w BlueChannelScanlinesAndPtrs,x
	STA.w !RAM_SMB2U_Global_HDMAGradientBlueChannelScanlinesAndPtrsTable,y
	INX
	INY
	CPY.b !RAM_SMB2U_Global_ScratchRAM01
	BNE.b CODE_14FB00
	PLY
	LDA.w DATA_14FAE0,y
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDX.w DATA_14FAD0,y
	LDY.b #$00
CODE_14FB23:
	LDA.w RedChannelData,x
	STA.w !RAM_SMB2U_Global_HDMAGradientRedChannelData,y
	LDA.w GreenChannelData,x
	STA.w !RAM_SMB2U_Global_HDMAGradientGreenChannelData,y
	LDA.w BlueChannelData,x
	STA.w !RAM_SMB2U_Global_HDMAGradientBlueChannelData,y
	INX
	INY
	CPY.b !RAM_SMB2U_Global_ScratchRAM01
	BNE.b CODE_14FB23
	REP.b #$10
	LDX.w #(!REGISTER_FixedColorData&$0000FF<<8)+$40
	STX.w HDMA[$04].Parameters
	STX.w HDMA[$05].Parameters
	STX.w HDMA[$06].Parameters
	LDX.w #!RAM_SMB2U_Global_HDMAGradientRedChannelScanlinesAndPtrsTable
	STX.w HDMA[$04].SourceLo
	LDX.w #!RAM_SMB2U_Global_HDMAGradientGreenChannelScanlinesAndPtrsTable
	STX.w HDMA[$05].SourceLo
	LDX.w #!RAM_SMB2U_Global_HDMAGradientBlueChannelScanlinesAndPtrsTable
	STX.w HDMA[$06].SourceLo
	LDA.b #!RAM_SMB2U_Global_HDMAGradientRedChannelScanlinesAndPtrsTable>>16
	STA.w HDMA[$04].SourceBank
	STA.w HDMA[$05].SourceBank
	STA.w HDMA[$06].SourceBank
	LDA.b #!RAM_SMB2U_Global_HDMAGradientRedChannelData>>16
	STA.w HDMA[$04].IndirectSourceBank
	LDA.b #!RAM_SMB2U_Global_HDMAGradientGreenChannelData>>16
	STA.w HDMA[$05].IndirectSourceBank
	LDA.b #!RAM_SMB2U_Global_HDMAGradientBlueChannelData>>16
	STA.w HDMA[$06].IndirectSourceBank
	LDA.b #$70
	STA.w !RAM_SMB2U_Global_HDMAEnableMirror
	SEP.b #$10
	PLB
	RTL

RedChannelScanlinesAndPtrs:
.Gradient00:
.Gradient01:
.Gradient03:
	db $40 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$00
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$01
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$02
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$03
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$04
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$05
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$06
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$07
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$08
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$09
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0A
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0B
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0C
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0D
	db $03 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0E
	db $01 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0F
	db $00

.Gradient02:
	db $20 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$00
	db $02 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$01
	db $02 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$02
	db $03 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$03
	db $03 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$04
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$05
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$06
	db $05 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$07
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$08
	db $07 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$09
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0A
	db $09 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0B
	db $0A : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0C
	db $0B : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0D
	db $0C : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0E
	db $01 : dw !RAM_SMB2U_Global_HDMAGradientRedChannelData+$0F
	db $00

GreenChannelScanlinesAndPtrs:
.Gradient00:
.Gradient01:
.Gradient03:
	db $40 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$00
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$01
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$02
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$03
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$04
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$05
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$06
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$07
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$08
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$09
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0A
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0B
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0C
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0D
	db $03 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0E
	db $01 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0F
	db $00

.Gradient02:
	db $20 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$00
	db $02 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$01
	db $02 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$02
	db $03 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$03
	db $03 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$04
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$05
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$06
	db $05 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$07
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$08
	db $07 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$09
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0A
	db $09 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0B
	db $0A : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0C
	db $0B : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0D
	db $0C : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0E
	db $01 : dw !RAM_SMB2U_Global_HDMAGradientGreenChannelData+$0F
	db $00

BlueChannelScanlinesAndPtrs:
.Gradient00:
.Gradient01:
.Gradient03:
	db $40 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$00
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$01
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$02
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$03
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$04
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$05
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$06
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$07
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$08
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$09
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0A
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0B
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0C
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0D
	db $03 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0E
	db $01 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0F
	db $00

.Gradient02:
	db $20 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$00
	db $02 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$01
	db $02 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$02
	db $03 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$03
	db $03 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$04
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$05
	db $04 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$06
	db $05 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$07
	db $06 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$08
	db $07 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$09
	db $08 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0A
	db $09 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0B
	db $0A : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0C
	db $0B : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0D
	db $0C : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0E
	db $01 : dw !RAM_SMB2U_Global_HDMAGradientBlueChannelData+$0F
	db $00

RedChannelData:
.Gradient00:
	db $2A,$2B,$2C,$2D,$2E,$2F,$30,$31,$32,$33,$34,$35,$36,$37,$38,$38

.Gradient01:
	db $27,$26,$25,$24,$23,$22,$21,$20,$20,$20,$20,$20,$20,$20,$20,$20

.Gradient02:
	db $38,$2B,$2A,$29,$28,$27,$26,$25,$24,$23,$22,$21,$20,$20,$20,$20

.Gradient03:
	db $3A,$3B,$3C,$3D,$3E,$3F,$3F,$3F,$3F,$3F,$3F,$3F,$3F,$3F,$3F,$3F

GreenChannelData:
.Gradient00:
	db $51,$52,$53,$54,$55,$56,$57,$58,$59,$5A,$5B,$5C,$5D,$5E,$5F,$5F

.Gradient01:
	db $47,$46,$45,$44,$43,$42,$41,$40,$40,$40,$40,$40,$40,$40,$40,$40

.Gradient02:
	db $5F,$51,$50,$4F,$4E,$4D,$4C,$4B,$4A,$49,$48,$47,$46,$45,$44,$43

.Gradient03:
	db $5F,$5F,$5F,$5F,$5F,$5F,$5F,$5F,$5F,$5F,$5F,$5F,$5F,$5F,$5F,$5F

BlueChannelData:
.Gradient00:
	db $94,$95,$96,$97,$98,$99,$9A,$9B,$9C,$9D,$9E,$9F,$9F,$9F,$9F,$9F

.Gradient01:
	db $8D,$8C,$8B,$8A,$89,$88,$87,$86,$85,$84,$83,$82,$81,$80,$80,$80

.Gradient02:
	db $9F,$9C,$9B,$9A,$99,$98,$97,$96,$95,$94,$93,$92,$91,$90,$8F,$8E

.Gradient03:
	db $9F,$9F,$9F,$9F,$9F,$9F,$9F,$9F,$9F,$9F,$9F,$9F,$9F,$9F,$9F,$9F
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_InitializeMode2ScreenScrolling(Address)
namespace SMB2U_InitializeMode2ScreenScrolling
%InsertMacroAtXPosition(<Address>)

Main:
	STA.l !RAM_SMB2U_TitleScreen_CurrentMode2ScreenToScrollLo
	REP.b #$20
	LDA.w #$4800
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollVRAMAddressLo
	LDA.w #$0080
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollDataSizeLo
	SEP.b #$20
	LDA.b #!BGModeAndTileSizeSetting_Mode02Enable
	STA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	LDA.b #$10
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollFrameIndexLo
	LDA.b #$00
	STA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollFrameIndexHi
	STA.l !RAM_SMB2U_TitleScreen_CurrentMode2ScreenToScrollHi
	JSL.l SMB2U_UpdateMode2ScreenScrollingData_Main
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_UpdateMode2ScreenScrollingData(Address)
namespace SMB2U_UpdateMode2ScreenScrollingData
%InsertMacroAtXPosition(<Address>)

; Offset values
DATA_14D7BD:
	dw $2180,$2080,$2080

DATA_14D7C3:
	dw $2100,$2000,$2100

DATA_14D7C9:
	dw $4200,$4200,$4200

Main:
	REP.b #$30
	LDA.l !RAM_SMB2U_TitleScreen_CurrentMode2ScreenToScrollLo
	TAX
	LDA.l DATA_14D7BD,x
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.l DATA_14D7C3,x
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.l DATA_14D7C9,x
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	LDX.w #$001E
	LDA.w #$0000
CODE_14D7EE:
	STA.l !RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable,x
	STA.l !RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable+$20,x
	STA.l !RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable+$40,x
	STA.l !RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable+$60,x
	DEX
	DEX
	BPL.b CODE_14D7EE
	LDA.l !RAM_SMB2U_TitleScreen_Mode2ScreenScrollFrameIndexLo
	BEQ.b CODE_14D84B
	TAY
	ASL
	TAX
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
CODE_14D80D:
	SEC
	SBC.w #$0008
	DEY
	BNE.b CODE_14D80D
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	PHX
CODE_14D817:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.l !RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable-$04,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.l !RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable+$3C,x
	DEX
	DEX
	BNE.b CODE_14D817
	LDA.b !RAM_SMB2U_Global_ScratchRAM04
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.b !RAM_SMB2U_Global_ScratchRAM0E
	PLA
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	LDA.w #$0020
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM0C
	TAX
CODE_14D838:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	STA.l !RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable+$1E,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.l !RAM_SMB2U_TitleScreen_Mode2LayerScrollingDataTable+$5E,x
	INX
	INX
	CPX.w #$0020
	BNE.b CODE_14D838
CODE_14D84B:
	SEP.b #$30
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_ExecutePtr(Address)
namespace SMB2U_ExecutePtr
%InsertMacroAtXPosition(<Address>)

Absolute:
	STY.b !RAM_SMB2U_Global_ScratchRAM0D
	PLY
	STY.b !RAM_SMB2U_Global_ScratchRAM0A
	REP.b #$30
	AND.w #$00FF
	ASL
	TAY
	PLA
	STA.b !RAM_SMB2U_Global_ScratchRAM0B
	INY
	LDA.b [!RAM_SMB2U_Global_ScratchRAM0A],y
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	SEP.b #$30
	LDY.b !RAM_SMB2U_Global_ScratchRAM0D
	JMP.w [!RAM_SMB2U_Global_ScratchRAM0A]
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_FindFreeNormalSpriteSlot(Address)
namespace SMB2U_FindFreeNormalSpriteSlot
%InsertMacroAtXPosition(<Address>)

HighPriority:
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot
	BNE.b CODE_12B33D							; Note: This will always branch.

LowPriority:
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot-$03
CODE_12B33D:
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	BEQ.b CODE_12B346
	DEY
	BPL.b CODE_12B33D
	RTS

CODE_12B346:
	LDA.b #!Define_SMB2U_NorSprStatus01_Normal
	STA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	LSR
	STA.w !RAM_SMB2U_NorSpr_IsABossFlag,y
	LDA.b #!Define_SMB2U_SpriteID_NorSpr01_RedShyGuy
	STA.w !RAM_SMB2U_NorSpr_SpriteID,y
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ADC.b #$05
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.b #$00
	STA.w !RAM_SMB2U_NorSpr_XPosHi,y
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.w !RAM_SMB2U_NorSpr_YPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	STA.w !RAM_SMB2U_NorSpr_YPosHi,y
	STY.b !RAM_SMB2U_Global_ScratchRAM00
	TYA
	TAX
	JSR.w CODE_129F9D
	JSR.w CODE_12A0A3
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_SpawnBulletProjectile(Address)
namespace SMB2U_SpawnBulletProjectile
%InsertMacroAtXPosition(<Address>)

HighPriority:
	JSR.w SMB2U_FindFreeNormalSpriteSlot_HighPriority
	JMP.w CODE_12B67F

LowPriority:
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
CODE_12B67F:
	BMI.b CODE_12B697
	LDY.b !RAM_SMB2U_NorSpr_FacingDirection,x
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w DATA_11982F,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr1B_Bullet
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_129F81
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12B697:
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr00_RecoveryHeart_Status01(Address)
namespace SMB2U_NorSpr00_RecoveryHeart_Status01
%InsertMacroAtXPosition(<Address>)

Main:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	BPL.b CODE_12AED0
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CMP.b #$F0
	BCS.b CODE_12AED0
else
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BEQ.b CODE_12AED0
endif
	JMP.w SMB2U_SubOffScreen_EraseSprite

CODE_12AED0:
	LDY.b #$FC
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$20
	BEQ.b CODE_12AEDA
	LDY.b #$04
CODE_12AEDA:
	STY.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b #$F8
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	JSR.w SMB2U_NorSprXX_Beezo_Status01_CODE_12B49D
CODE_12AEE3:
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$08
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	ORA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
endif
	BNE.b CODE_12AF32
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_15CDDF
	BCS.b +
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
+:
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$08
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	XBA
	LDA.w $07A5
	JSL.l CODE_15CDE6
	BCS.b +
	LDA.w $07A5
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
+:
endif
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
endif
	LDA.b #$8A
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b #$9A
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$20
	EOR.b #$20
	ASL
	ORA.b #$22
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	PHY
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	PLY
	SEP.b #$10
CODE_12AF32:
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr08_Ostro_Status01(Address)
namespace SMB2U_NorSpr08_Ostro_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b !RAM_SMB2U_NorSpr08_Ostro_NoShyGuyRiderFlag,x
	BEQ.b CODE_12C981
	BRL.w CODE_12CA20

CODE_12C981:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12CA03
	LDA.b #!Define_SMB2U_SpriteID_NorSpr01_RedShyGuy
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_129F81
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w $0716
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.w $0717
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	PHA
	JSR.w CODE_12C936
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_12BDD8
	PLA
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.w $0717
	STA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	LDA.w $0716
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	JSR.w SMB2U_FindFreeNormalSpriteSlot_HighPriority
	BMI.b CODE_12CA02
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr08_Ostro
	STA.w !RAM_SMB2U_NorSpr_SpriteID,y
	STA.w !RAM_SMB2U_NorSpr08_Ostro_NoShyGuyRiderFlag,y
	LDA.b !RAM_SMB2U_NorSpr08_Ostro_AnimationFrame,x
	STA.w $009F,y
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.w !RAM_SMB2U_NorSpr_XPosHi,y
	LDA.b !RAM_SMB2U_NorSpr_FacingDirection,x
	STA.w !RAM_SMB2U_NorSpr_FacingDirection,y
	LDA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,y
	LDA.b #$FF
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	STA.w !RAM_SMB2U_NorSpr_XSpeed,y
	TYX
	JSR.w CODE_129F81
	PHX
	JSL.l CODE_14E483
	PLX
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_12C8FD
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STA.w $02F8
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	STA.w $02F9
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12CA02:
	RTS

CODE_12CA03:
	LDA.b $5B,x
	AND.b #$10
	BEQ.b CODE_12CA20
	INC.b !RAM_SMB2U_NorSpr08_Ostro_NoShyGuyRiderFlag,x
	STA.b !RAM_SMB2U_NorSpr08_Ostro_AnimationFrame,x
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12CA20
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	STA.w !RAM_SMB2U_NorSpr_XSpeed,y
	LDA.b #$20
	STA.w $0453,y
	BRA.b CODE_12CA31

CODE_12CA20:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12CA2B
	LDA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	BEQ.b CODE_12CA2B
	DEC.b !RAM_SMB2U_NorSpr08_Ostro_AnimationFrame,x
CODE_12CA2B:
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w CODE_12BB1C
CODE_12CA31:
	LDA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	BEQ.b CODE_12CA3D
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12CA7D
	BRA.b CODE_12CA40

CODE_12CA3D:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
CODE_12CA40:
	LDA.b $5B,x
	AND.b !RAM_SMB2U_NorSpr_FacingDirection,x
	BEQ.b CODE_12CA49
	JSR.w CODE_12C24E
CODE_12CA49:
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12CA69
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12CA5C
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	JSR.w CODE_129FD1
CODE_12CA5C:
	LDA.b !RAM_SMB2U_NorSpr08_Ostro_AnimationFrame,x
	EOR.b #$08
	STA.b !RAM_SMB2U_NorSpr08_Ostro_AnimationFrame,x
	JSR.w CODE_12B65F
	LDA.b #$F0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12CA69:
	INC.w !RAM_SMB2U_NorSpr08_Ostro_TurnAroundDecisionTimer,x
	LDA.b !RAM_SMB2U_NorSpr08_Ostro_NoShyGuyRiderFlag,x
	BNE.b CODE_12CA7A
	LDA.w !RAM_SMB2U_NorSpr08_Ostro_TurnAroundDecisionTimer,x
	AND.b #$3F
	BNE.b CODE_12CA7A
	JSR.w CODE_129FD4
CODE_12CA7A:
	JSR.w CODE_12A0B1
CODE_12CA7D:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr09_BobOmb_InitRt(Address)
namespace SMB2U_NorSpr09_BobOmb_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b #$FF
	STA.b !RAM_SMB2U_NorSpr09_BobOmb_WaitBeforeExplosionTimer,x
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSprXX_Albatoss_Status01(Address)
namespace SMB2U_NorSprXX_Albatoss_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$07
	BNE.b CODE_12B2AB
	INC.b $9F,x
CODE_12B2AB:
	LDA.b $9F,x
if !Define_Global_HackROMToAssemble&(!ROM_HACK_SMAS_br|!ROM_HACK_SMASW_br) != $0000 ;[BR] Restoring the 8th frame pt.2: Adjusting compare
	CMP.b #$08
else
	CMP.b #$07
endif
	BCC.b CODE_12B2B3
	STZ.b $9F,x
CODE_12B2B3:
	JSR.w CODE_12BCEF
	LDA.b !RAM_SMB2U_NorSprXX_Albatoss_IsNotCarryingBobOmb,x
	BNE.b CODE_12B2E6
	LDA.b $5B,x
	AND.b #$10
	BNE.b CODE_12B2CB
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	ADC.b #$30
	CMP.b #$60
	BCS.b CODE_12B2E3
CODE_12B2CB:
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12B2E3
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr09_BobOmb
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	ADC.b #$10
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	JSR.w SMB2U_NorSpr09_BobOmb_InitRt_Main
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	INC.b !RAM_SMB2U_NorSprXX_Albatoss_IsNotCarryingBobOmb,x
CODE_12B2E3:
	JMP.w CODE_12B2E9

CODE_12B2E6:
	JSR.w CODE_12BB1C
CODE_12B2E9:
	JMP.w SMB2U_UpdateNormalSpritePosition_X
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Albatoss_Status01_Main, SMB2U_NorSpr0A_AlbatossCarryingBobomb_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Albatoss_Status01_Main, SMB2U_NorSpr0B_RightFlyingAlbatoss_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Albatoss_Status01_Main, SMB2U_NorSpr0C_LeftFlyingAlbatoss_Status01_Main)
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr0F_YellowBeezo_InitRt(Address)
namespace SMB2U_NorSpr0F_YellowBeezo_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDY.b $6E
	LDA.w !RAM_SMB2U_Global_CameraXPosLo
	ADC.w DATA_119794-$01,y
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
CODE_129FFE:
	LDA.b !RAM_SMB2U_Player_YPosHi
	BPL.b CODE_12A006
	LDY.b #$00
	BEQ.b CODE_12A010							; Note: This will always branch.

CODE_12A006:
	LDA.b !RAM_SMB2U_Player_YPosLo
	SEC
	SBC.b !RAM_SMB2U_Global_CameraYPosLo
	LSR
	LSR
	LSR
	LSR
	TAY
CODE_12A010:
	LDA.w DATA_119796,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSprXX_Beezo_Status01(Address)
namespace SMB2U_NorSprXX_Beezo_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$02
	BNE.b CODE_12B47C
	RTS

CODE_12B47C:
	JSR.w CODE_12BB1C
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	INC.b $9F,x
	JSR.w CODE_12BA55
	JSR.w CODE_12AA49
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BEQ.b CODE_12B4A3
	BPL.b CODE_12B496
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
CODE_12B496:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	LSR
	BCC.b CODE_12B49D
	DEC.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12B49D:
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	JMP.w SMB2U_UpdateNormalSpritePosition_Y

CODE_12B4A3:
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	JMP.w CODE_12B49D
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Beezo_Status01_Main, SMB2U_NorSpr0F_YellowBeezo_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Beezo_Status01_Main, SMB2U_NorSpr10_RedBeezo_Status01_Main)
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr11_WartBubble_Status01(Address)
namespace SMB2U_NorSpr11_WartBubble_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	INC.b $9F,x
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr12_Pidgit_Status01(Address)
namespace SMB2U_NorSpr12_Pidgit_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_12BB1C
	INC.b $9F,x
	LDA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12C629
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	ORA.b #$80
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	JSR.w CODE_12C68E
	JMP.w CODE_12A0B1

CODE_12C629:
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	LDA.b !RAM_SMB2U_NorSpr12_Pidgit_SwoopAttackFlag,x
	BEQ.b CODE_12C647
	DEC.b !RAM_SMB2U_NorSpr_YSpeed,x
	BPL.b CODE_12C644
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b #$30
	BCS.b CODE_12C644
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr12_Pidgit_SwoopAttackFlag,x
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	DEC.b !RAM_SMB2U_NorSpr12_Pidgit_WaitBeforeNextSwoopAttack,x
CODE_12C644:
	JMP.w CODE_12C688

CODE_12C647:
	LDA.b !RAM_SMB2U_NorSpr12_Pidgit_WaitBeforeNextSwoopAttack,x
	BNE.b CODE_12C65C
	LDA.b #$30
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	LDA.w DATA_119ABA,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	INC.b !RAM_SMB2U_NorSpr12_Pidgit_SwoopAttackFlag,x
	JMP.w CODE_12C68E

CODE_12C65C:
	LDA.w !RAM_SMB2U_NorSpr12_Pidgit_IdleYMovementDirection,x
	AND.b #$01
	TAY
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CLC
	ADC.w DATA_119AB2,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.w DATA_119AB4,y
	BNE.b CODE_12C672
	INC.w !RAM_SMB2U_NorSpr12_Pidgit_IdleYMovementDirection,x
CODE_12C672:
	LDA.w !RAM_SMB2U_NorSpr12_Pidgit_IdleXMovementDirection,x
	AND.b #$01
	TAY
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CLC
	ADC.w DATA_119AB6,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CMP.w DATA_119AB8,y
	BNE.b CODE_12C688
	INC.w !RAM_SMB2U_NorSpr12_Pidgit_IdleXMovementDirection,x
CODE_12C688:
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	JSR.w SMB2U_UpdateNormalSpritePosition_X
CODE_12C68E:
	JSR.w CODE_12BDCF
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	SEC
	SBC.b #!Define_SMB2U_NorSprStatus01_Normal
	ORA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	ORA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BNE.b CODE_12C6E2
	JSL.l CODE_14E483
	LDA.b #$45
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	PHA
	SEC
	SBC.b #$08
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	PHA
	SBC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	JSR.w CODE_12A700
	PLA
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	PLA
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$0C
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
endif
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	REP.b #$20
	SBC.w #$0007
	SEP.b #$20
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	XBA
	STA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	JSR.w CODE_12C6E5
	LDA.b #$0D
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12C6E2:
	SEP.b #$20
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr13_Trouter_InitRt(Address)
namespace SMB2U_NorSpr13_Trouter_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_12AC8B
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ADC.b #$08
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LSR
	LSR
	LSR
	LSR
	STA.b !RAM_SMB2U_NorSpr13_Trouter_YSpeedIndex,x
	LDA.b #$80
	STA.b !RAM_SMB2U_NorSpr13_Trouter_WaitBeforeJumping,x
CODE_12AE2B:
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr13_Trouter_Status01(Address)
namespace SMB2U_NorSpr13_Trouter_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_12BB1C
	INC.b $9F,x
	JSR.w CODE_12BA55
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	LDA.b #$09
	LDY.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_12AE3F
	LDA.b #$89
CODE_12AE3F:
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDY.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.w DATA_119806,y
	BCC.b CODE_12AE5B
	LDY.b !RAM_SMB2U_NorSpr13_Trouter_WaitBeforeJumping,x
	BNE.b SMB2U_NorSpr13_Trouter_InitRt_CODE_12AE2B
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDY.b !RAM_SMB2U_NorSpr13_Trouter_YSpeedIndex,x
	LDA.w DATA_1197FA,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b #$C0
	STA.b !RAM_SMB2U_NorSpr13_Trouter_WaitBeforeJumping,x
CODE_12AE5B:
	JSR.w SMB2U_NorSprXX_Beezo_Status01_CODE_12B49D
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$03
	BNE.b +
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
+:
endif
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr14_Hoopster_Status01(Address)
namespace SMB2U_NorSpr14_Hoopster_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	CMP.b #$02
	BNE.b CODE_12AE76
	LDA.w $0702,x
	BEQ.b CODE_12AE70
	RTS

CODE_12AE70:
	INC.w $0702,x
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

CODE_12AE76:
	JSR.w CODE_12BB1C
	INC.b $9F,x
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	JSR.w CODE_12BA55
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	JSR.w CODE_12DD90
	LDY.w !RAM_SMB2U_NorSpr14_Hoopster_MovementDirection,x
	BCC.b CODE_12AEA4
	LDA.b !RAM_SMB2U_NorSpr14_Hoopster_PreventTurnAroundTimer,x
	BNE.b CODE_12AEAF
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b !RAM_SMB2U_Global_CameraYPosLo
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	SBC.b !RAM_SMB2U_Global_CameraYPosHi
	BEQ.b CODE_12AEAF
	ASL
	ROL
	AND.b #$01
	BRA.b CODE_12AEAB

CODE_12AEA4:
	LDA.b #$20
	STA.b !RAM_SMB2U_NorSpr14_Hoopster_PreventTurnAroundTimer,x
	TYA
	EOR.b #$01
CODE_12AEAB:
	STA.w !RAM_SMB2U_NorSpr14_Hoopster_MovementDirection,x
	TAY
CODE_12AEAF:
	LDA.w DATA_119808,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.w DATA_11980A,y
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	ADC.b #$10
	CMP.b #$20
	BCS.b CODE_12AEC6
	ASL.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12AEC6:
	JMP.w SMB2U_UpdateNormalSpritePosition_Y
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSprXX_EnemySpawningVase_InitRt(Address)
namespace SMB2U_NorSprXX_EnemySpawningVase_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b #$50
	STA.b $9F,x
	RTS
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_EnemySpawningVase_InitRt_Main, SMB2U_NorSpr15_VaseRedShyGuySpawner_InitRt_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_EnemySpawningVase_InitRt_Main, SMB2U_NorSpr16_VaseBobOmbSpawner_InitRt_Main)
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSprXX_EnemySpawningVase_Status01(Address)
namespace SMB2U_NorSprXX_EnemySpawningVase_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	AND.b #$03
	BNE.b CODE_12AC35
	JMP.w SMB2U_SubOffScreen_EraseSprite

CODE_12AC35:
	INC.b $9F,x
	LDA.b $9F,x
	ASL
	BNE.b CODE_12AC7D
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12AC7D
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_NorSpr_XPosLo,y
	SEC
	SBC.b #$06
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDA.w !RAM_SMB2U_NorSpr_YPosLo,y
	SBC.b #$04
	STA.w !RAM_SMB2U_NorSpr_YPosLo,y
	LDA.w !RAM_SMB2U_NorSpr_YPosHi,y
	SBC.b #$00
	STA.w !RAM_SMB2U_NorSpr_YPosHi,y
	LDA.b #$1A
	STA.w $0480,y
	LDA.b #$F8
	STA.w !RAM_SMB2U_NorSpr_YSpeed,y
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr16_VaseBobOmbSpawner
	BNE.b CODE_12AC7D
	LDA.b #!Define_SMB2U_SpriteID_NorSpr09_BobOmb
	STA.w !RAM_SMB2U_NorSpr_SpriteID,y
	LDA.w !RAM_SMB2U_NorSpr_XSpeed,y
	ASL
	STA.w !RAM_SMB2U_NorSpr_XSpeed,y
	LDA.b #$FF
	STA.w !RAM_SMB2U_NorSpr09_BobOmb_WaitBeforeExplosionTimer,y
CODE_12AC7D:
	RTS
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_EnemySpawningVase_Status01_Main, SMB2U_NorSpr15_VaseRedShyGuySpawner_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_EnemySpawningVase_Status01_Main, SMB2U_NorSpr16_VaseBobOmbSpawner_Status01_Main)
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr17_Phanto_InitRt(Address)
namespace SMB2U_NorSpr17_Phanto_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b #$0C
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b #$A0
	STA.w !RAM_SMB2U_NorSpr17_Phanto_ActivationCountdown
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr17_Phanto_Status01(Address)
namespace SMB2U_NorSpr17_Phanto_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_NorSpr17_Phanto_RumbleFrameCounter,x
	BEQ.b CODE_12B381
	DEC.w !RAM_SMB2U_NorSpr17_Phanto_RumbleFrameCounter,x
CODE_12B381:
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	LDY.b #$01
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BEQ.b CODE_12B3A4
	LDX.w !RAM_SMB2U_Player_CarriedSpriteIndex
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BCC.b CODE_12B3A4
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3E_Potion
	BCS.b CODE_12B3A4
	LDA.w !RAM_SMB2U_NorSpr17_Phanto_ActivationCountdown
	CMP.b #$A0
	BNE.b CODE_12B3A3
	DEC.w !RAM_SMB2U_NorSpr17_Phanto_ActivationCountdown
CODE_12B3A3:
	DEY
CODE_12B3A4:
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	CLC
	ADC.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.b !RAM_SMB2U_Player_YPosLo
	CMP.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDX.b !RAM_SMB2U_Player_YPosHi
	INX
	TXA
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	SBC.b !RAM_SMB2U_Global_ScratchRAM05
	BPL.b CODE_12B3BA
	INY
CODE_12B3BA:
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.w DATA_119829,y
	BEQ.b CODE_12B3C7
	CLC
	ADC.w DATA_119826,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12B3C7:
	LDA.w !RAM_SMB2U_NorSpr17_Phanto_ChangeXSpeedCounter,x
	CLC
	ADC.b #$A0
	STA.w !RAM_SMB2U_NorSpr17_Phanto_ChangeXSpeedCounter,x
	BCC.b CODE_12B3E8
	LDA.w !RAM_SMB2U_NorSpr17_Phanto_XMovementDirection,x
	AND.b #$01
	TAY
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CLC
	ADC.w DATA_119822,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CMP.w DATA_119824,y
	BNE.b CODE_12B3E8
	INC.w !RAM_SMB2U_NorSpr17_Phanto_XMovementDirection,x
CODE_12B3E8:
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12B3F1
	LDA.b !RAM_SMB2U_Player_XSpeed
	STA.w !RAM_SMB2U_NorSpr_XSpeedOffset,x
CODE_12B3F1:
	LDY.w !RAM_SMB2U_NorSpr17_Phanto_ActivationCountdown
	BEQ.b CODE_12B41D
	CPY.b #$A0
	BEQ.b CODE_12B414
	CPY.b #$80
	BNE.b CODE_12B403
	LDA.b #$40
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
CODE_12B403:
	CPY.b #$40
	BNE.b CODE_12B411
	LDA.b #$40
	STA.w !RAM_SMB2U_NorSpr17_Phanto_RumbleFrameCounter,x
	LDA.b #!Define_SMAS_Sound0060_PhantoRumble
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_12B411:
	DEC.w !RAM_SMB2U_NorSpr17_Phanto_ActivationCountdown
CODE_12B414:
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_XSpeedOffset,x
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12B41D:
	JMP.w SMB2U_NorSprXX_Beezo_Status01_CODE_12B49D
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSprXX_Cobrat_InitRt(Address)
namespace SMB2U_NorSprXX_Cobrat_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	SEC
	SBC.b #$08
	STA.b !RAM_SMB2U_NorSprXX_Cobrat_InitialYPos,x
	RTS
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Cobrat_InitRt_Main, SMB2U_NorSpr18_VaseDwellingCobrat_InitRt_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Cobrat_InitRt_Main, SMB2U_NorSpr19_GroundDwellingCobrat_InitRt_Main)
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSprXX_Cobrat_Status01(Address)
namespace SMB2U_NorSprXX_Cobrat_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_12BB1C
	JSR.w CODE_12BA55
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.w !RAM_SMB2U_NorSpr19_GroundDwellingCobrat_OutOfTheGroundFlag,x
	BNE.b CODE_12CD06
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	ADC.b #$40
	CMP.b #$80
	BCS.b CODE_12CCEC
	INC.w !RAM_SMB2U_NorSpr19_GroundDwellingCobrat_OutOfTheGroundFlag,x
	LDA.b #$C0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BNE.b CODE_12CD06

CODE_12CCEC:
	INC.w !RAM_SMB2U_NorSpr19_GroundDwellingCobrat_WaitBobbingTimer,x
	LDY.b #$FC
	LDA.w !RAM_SMB2U_NorSpr19_GroundDwellingCobrat_WaitBobbingTimer,x
	AND.b #$20
	BEQ.b CODE_12CCFA
	LDY.b #$04
CODE_12CCFA:
	STY.b !RAM_SMB2U_NorSpr_YSpeed,x
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	LDA.b #$61
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

CODE_12CD06:
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_12CD19
	LDA.b !RAM_SMB2U_NorSprXX_Cobrat_InitialYPos,x
	SEC
	SBC.b #$18
	CMP.b !RAM_SMB2U_NorSpr_YPosLo,x
	BCS.b CODE_12CD19
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12CD19:
	JSR.w CODE_12A0B1
	INC.b $9F,x
	LDA.b $9F,x
	PHA
	AND.b #$3F
	BNE.b CODE_12CD28
	JSR.w CODE_129FD4
CODE_12CD28:
	PLA
	BNE.b CODE_12CD30
	LDA.b #$18
	STA.w !RAM_SMB2U_NorSprXX_Cobrat_WaitBeforeSpittingBullet,x
CODE_12CD30:
	LDA.b $5B,x
	AND.b #$03
	BEQ.b CODE_12CD39
	JSR.w CODE_12C24E
CODE_12CD39:
	LDA.b #$41
	LDY.b !RAM_SMB2U_NorSpr_YSpeed,x
	BPL.b CODE_12CD41
	LDA.b #$61
CODE_12CD41:
	JMP.w CODE_12CDD2

VaseDwellingCobratEntry:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	CMP.b #$05
	BNE.b CODE_12CD50
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$DF
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12CD50:
	JSR.w CODE_12BB1C
	JSR.w CODE_12BA55
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b $5B,x
	AND.b #$08
	BEQ.b CODE_12CD67
	LDA.b !RAM_SMB2U_NorSprXX_Cobrat_InitialYPos,x
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	RTS

CODE_12CD67:
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	INY
	STY.b !RAM_SMB2U_NorSpr_FacingDirection,x
	LDA.b !RAM_SMB2U_NorSpr18_VaseDwellingCobrat_CurrentState,x
	BNE.b CODE_12CD90
	LDA.b !RAM_SMB2U_NorSpr18_VaseDwellingCobrat_WaitBeforeJumpingTimer,x
	BNE.b CODE_12CD7E
	LDA.b #$D0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	INC.b !RAM_SMB2U_NorSpr18_VaseDwellingCobrat_CurrentState,x
	JMP.w CODE_12CDCD

CODE_12CD7E:
	LDY.b #$FC
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$20
	BEQ.b CODE_12CD88
	LDY.b #$04
CODE_12CD88:
	STY.b !RAM_SMB2U_NorSpr_YSpeed,x
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	JMP.w CODE_12CDD0

CODE_12CD90:
	INC.b $9F,x
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_12CDCD
	BNE.b CODE_12CD9D
	LDA.b #$10
	STA.w !RAM_SMB2U_NorSprXX_Cobrat_WaitBeforeSpittingBullet,x
CODE_12CD9D:
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_12CDBD
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12CDBD
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	SEC
	SBC.b #$6A
	CMP.b #$06
	BCC.b CODE_12CDBD
	LDA.b #!Define_SMB2U_NorSprStatus02_Dead
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	LDA.b #$E0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b #$40
	STA.w $0601
CODE_12CDBD:
	LDA.b !RAM_SMB2U_NorSprXX_Cobrat_InitialYPos,x
	CMP.b !RAM_SMB2U_NorSpr_YPosLo,x
	BCS.b CODE_12CDCD
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr18_VaseDwellingCobrat_CurrentState,x
	LDA.b #$A0
	STA.b !RAM_SMB2U_NorSpr18_VaseDwellingCobrat_WaitBeforeJumpingTimer,x
CODE_12CDCD:
	JSR.w CODE_12A0B9
CODE_12CDD0:
	LDA.b #$61
CODE_12CDD2:
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.w !RAM_SMB2U_NorSprXX_Cobrat_WaitBeforeSpittingBullet,x
	BEQ.b CODE_12CDE5
	CMP.b #$05
	BNE.b CODE_12CDE0
	JSR.w SMB2U_SpawnBulletProjectile_LowPriority
CODE_12CDE0:
	LDA.b #$60
	JMP.w SMB2U_GenericSpriteGraphicsRt_Entry2

CODE_12CDE5:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Cobrat_Status01_VaseDwellingCobratEntry, SMB2U_NorSpr18_VaseDwellingCobrat_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Cobrat_Status01_Main, SMB2U_NorSpr19_GroundDwellingCobrat_Status01_Main)
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr1A_Pokey_InitRt(Address)
namespace SMB2U_NorSpr1A_Pokey_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b #$03
	STA.b !RAM_SMB2U_NorSpr1A_Pokey_NumberOfBodySegments,x
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr1A_Pokey_Status01(Address)
namespace SMB2U_NorSpr1A_Pokey_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b !RAM_SMB2U_NorSpr1A_Pokey_NumberOfBodySegments,x
	BNE.b CODE_12CDFD
	JSR.w CODE_12BB1C
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w CODE_12BA55
CODE_12CDFD:
	LDA.b $5B,x
	AND.b #$10
	BEQ.b CODE_12CE0A
	JSR.w CODE_12CE11
	INC.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	RTS

CODE_12CE0A:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BNE.b CODE_12CE11
CODE_12CE0E:
	BRL.w CODE_12CEBA

CODE_12CE11:
	LDA.b !RAM_SMB2U_NorSpr1A_Pokey_NumberOfBodySegments,x
	BEQ.b CODE_12CE0E
	STA.w $0477,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr1A_Pokey_NumberOfBodySegments,x
	LDA.b #$02
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0489,x
	LDA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$FF
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	JSR.w SMB2U_FindFreeNormalSpriteSlot_HighPriority
	BMI.b CODE_12CE0E
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr1A_Pokey
	STA.w !RAM_SMB2U_NorSpr_SpriteID,y
	JSR.w SMB2U_NorSpr1F_Tryclyde_Status01_CODE_12CC44
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,y
	LDA.w $0477,x
	SEC
	SBC.b #$01
	STA.w !RAM_SMB2U_NorSpr1A_Pokey_NumberOfBodySegments,y
	TAY
	LDA.w DATA_119AE6,y
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0489,y
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.w !RAM_SMB2U_NorSpr_XPosHi,y
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.b #$10
	STA.w !RAM_SMB2U_NorSpr_YPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.b #$00
	STA.w !RAM_SMB2U_NorSpr_YPosHi,y
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STA.w $071E
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	STA.w $071F
	PHX
	PHY
	JSL.l CODE_14E483
	PLY
	PLX
	LDA.w $02F8
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w $02F9
	STA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LDA.b !RAM_SMB2U_NorSpr_CurrentSlotID
	STA.w $0720
	STY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w $0721
	CLC
	ADC.b #$10
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	TYX
	JSR.w GFXRt
	LDA.w $0721
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	LDX.w $0720
	STX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w $071E
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w $071F
	STA.w !RAM_SMB2U_Level_OAMBufferIndexHi
CODE_12CEBA:
	LDA.w !RAM_SMB2U_NorSpr_StopWatchTimer
	BNE.b CODE_12CECD
	INC.b !RAM_SMB2U_NorSpr1A_Pokey_TurnAroundDecisionTimer,x
	LDA.b !RAM_SMB2U_NorSpr1A_Pokey_TurnAroundDecisionTimer,x
	AND.b #$3F
	BNE.b CODE_12CECA
	JSR.w CODE_129FD4
CODE_12CECA:
	JSR.w SMB2U_UpdateNormalSpritePosition_X
CODE_12CECD:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

GFXRt:
	LDY.b #$00
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	BNE.b CODE_12CEDE
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$18
	LSR
	LSR
	LSR
	TAY
CODE_12CEDE:
	STY.b !RAM_SMB2U_Global_ScratchRAM07
	STZ.w $0712
	STZ.w $0713
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.w $0715
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w $0714
	LDA.w DATA_119AEA,y
	JSR.w CODE_12CF55
	JSR.w CODE_12BDCF
	LDA.b !RAM_SMB2U_NorSpr1A_Pokey_NumberOfBodySegments,x
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	BEQ.b CODE_12CF52
	LDA.b #$10
	STA.w $0712
	STZ.w $0713
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w DATA_119AEB,x
	JSR.w CODE_12CF55
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	BNE.b CODE_12CF18
endif
	LDX.b #$6C
	JSR.w CODE_12C041
CODE_12CF18:
	DEC.b !RAM_SMB2U_Global_ScratchRAM09
	BEQ.b CODE_12CF52
	JSL.l CODE_14E483
	LDA.b #$20
	STA.w $0712
	STZ.w $0713
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w DATA_119AEC,x
	JSR.w CODE_12CF55
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	BNE.b CODE_12CF37
endif
	LDX.b #$6C
	JSR.w CODE_12C041
CODE_12CF37:
	DEC.b !RAM_SMB2U_Global_ScratchRAM09
	BEQ.b CODE_12CF52
	LDA.b #$30
	STA.w $0712
	STZ.w $0713
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.w DATA_119AED,x
	JSR.w CODE_12CF55
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	BNE.b CODE_12CF52
endif
	LDX.b #$6C
	JSR.w CODE_12C041
CODE_12CF52:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

CODE_12CF55:
	STZ.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	REP.b #$20
	AND.w #$00FF
	CMP.w #$0080
	BCC.b CODE_12CF64
	ORA.w #$FF00
CODE_12CF64:
	CLC
	ADC.w $0714
	SEP.b #$20
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	XBA
	STA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	BEQ.b CODE_12CF79
	LDA.b #$08
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12CF79:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	REP.b #$20
	CLC
	ADC.w $0712
	STA.w $07A5
else
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	STA.w $0716
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	STA.w $0717
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	XBA
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	REP.b #$20
	CLC
	ADC.w $0712
	SEC
	SBC.w $0716
	XBA
	AND.w #$00FF
endif
	SEP.b #$20
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr1C_Birdo_InitRt(Address)
namespace SMB2U_NorSpr1C_Birdo_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b #$FF
	STA.w $0702,x
	LDY.b #$00
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	CMP.b #$A0
	BEQ.b CODE_12AF49					; Note: If this branch is taken, Birdo will only spit eggs.
	INY
	CMP.b #$B0
	BEQ.b CODE_12AF49					; If this branch is taken, Birdo will spit eggs/fireballs.
	INY
CODE_12AF49:							; Otherwise, Birdo will spit only fireballs.
	TYA
	STA.b !RAM_SMB2U_NorSpr1C_Birdo_BirdoType,x
	LDA.w DATA_11980C,y
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #$02
	STA.w $0465,x
CODE_12AF56:
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.w $04F0,x
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr1C_Birdo_Status01(Address)
namespace SMB2U_NorSpr1C_Birdo_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_NorSpr1C_Birdo_FinalHitTimer,x
	BMI.b CODE_12AF8C
	BEQ.b CODE_12AF75
	DEC.w !RAM_SMB2U_NorSpr1C_Birdo_FinalHitTimer,x
	LDA.w !RAM_SMB2U_NorSpr1C_Birdo_FinalHitTimer,x
	BNE.b CODE_12AF83
	LDA.b $5B,x
	ORA.b #$10
	STA.b $5B,x
	JSR.w CODE_12BB1C
	RTS

CODE_12AF75:
	LDA.b $5B,x
	AND.b #$10
	BEQ.b CODE_12AF8C
	LDA.b #$11
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	STA.w !RAM_SMB2U_NorSpr1C_Birdo_FinalHitTimer,x
CODE_12AF83:
	LDA.b !RAM_SMB2U_NorSpr_FacingDirection,x
	EOR.b #$03
	STA.b !RAM_SMB2U_NorSpr_FacingDirection,x
	JMP.w CODE_12B02A

CODE_12AF8C:
	JSR.w CODE_12BB1C
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	INY
	STY.b !RAM_SMB2U_NorSpr_FacingDirection,x
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12AFE1
	JSR.w CODE_12B65F
	LDA.b !RAM_SMB2U_Global_FrameCounter
	BNE.b CODE_12AFB2
	LDA.b #$E0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BNE.b CODE_12AFE1
CODE_12AFB2:
	LDY.b $79,x
	LDA.w DATA_119811,y
	AND.b !RAM_SMB2U_Global_FrameCounter
	BNE.b CODE_12AFC5
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$0C
	BNE.b CODE_12AFC5
	LDA.b #$1C
	STA.b !RAM_SMB2U_NorSpr1C_Birdo_SpitEggTimer,x
CODE_12AFC5:
	LDY.b !RAM_SMB2U_NorSpr1C_Birdo_SpitEggTimer,x
	BNE.b CODE_12AFE4
	INC.b !RAM_SMB2U_NorSpr1C_Birdo_MovementTimer,x
	LDA.b !RAM_SMB2U_NorSpr1C_Birdo_MovementTimer,x
	AND.b #$40
	BEQ.b CODE_12B02A
	JSR.w CODE_12AA49
	LDA.b #$0A
	LDY.b !RAM_SMB2U_NorSpr1C_Birdo_MovementTimer,x
	BMI.b CODE_12AFDC
	LDA.b #$F6
CODE_12AFDC:
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	JMP.w SMB2U_UpdateNormalSpritePosition_X

CODE_12AFE1:
	JMP.w CODE_12A0B9

CODE_12AFE4:
	CPY.b #$08
	BNE.b CODE_12B02A
	LDA.b #!Define_SMAS_Sound0060_YoshiSpit
	STA.w !RAM_SMB2U_Global_SoundCh1
	JSR.w SMB2U_SpawnBulletProjectile_HighPriority
	BMI.b CODE_12B02A
	LDY.w $0465,x
	LDA.b !RAM_SMB2U_NorSpr1C_Birdo_BirdoType,x
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.b #$02
	BEQ.b CODE_12B00B
	CMP.b #$01
	BNE.b CODE_12B011
	LDA.w $0587
	AND.b #$1F
	CMP.w DATA_119814,y
	BCS.b CODE_12B011
CODE_12B00B:
	INC.b !RAM_SMB2U_NorSpr20_Fireball_DisableGravity,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr20_Fireball
	BNE.b CODE_12B013							; Note: This will always branch.

CODE_12B011:
	LDA.b #!Define_SMB2U_SpriteID_NorSpr1E_BirdoEgg
CODE_12B013:
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.b #$03
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDY.b !RAM_SMB2U_NorSpr_FacingDirection,x
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ADC.w DATA_11980E,y
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	JSR.w CODE_129F81
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12B02A:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr1D_Mouser_InitRt(Address)
namespace SMB2U_NorSpr1D_Mouser_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w SMB2U_NorSpr1C_Birdo_InitRt_Main
	LDA.b #$02
	LDY.w !RAM_SMB2U_Level_CurrentWorld
	BEQ.b CODE_12C804
	LDA.b #$04
CODE_12C804:
	STA.w !RAM_SMB2U_NorSpr1D_Mouser_CurrentHP,x
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr1D_Mouser_Status01(Address)
namespace SMB2U_NorSpr1D_Mouser_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_12BB1C
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12C813
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

CODE_12C813:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b #$02
	STA.b !RAM_SMB2U_NorSpr_FacingDirection,x
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12C882
	JSR.w CODE_12B65F
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$FF
	BNE.b CODE_12C832
	LDA.b #$D8
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BNE.b CODE_12C882
CODE_12C832:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$3F
	BNE.b CODE_12C83C
	LDA.b #$20
	STA.b !RAM_SMB2U_NorSpr1D_Mouser_WaitBeforeThrowingBombTimer,x
CODE_12C83C:
	LDY.b !RAM_SMB2U_NorSpr1D_Mouser_WaitBeforeThrowingBombTimer,x
	BNE.b CODE_12C85B
	INC.b !RAM_SMB2U_NorSpr1D_Mouser_MovementTimer,x
	LDA.b !RAM_SMB2U_NorSpr1D_Mouser_MovementTimer,x
	AND.b #$20
	BEQ.b CODE_12C881
	INC.b $9F,x
	INC.b $9F,x
	LDY.b #$18
	LDA.b !RAM_SMB2U_NorSpr1D_Mouser_MovementTimer,x
	AND.b #$40
	BNE.b CODE_12C856
	LDY.b #$E8
CODE_12C856:
	STY.b !RAM_SMB2U_NorSpr_XSpeed,x
	JMP.w SMB2U_UpdateNormalSpritePosition_X

CODE_12C85B:
	CPY.b #$10
	BNE.b CODE_12C881
	JSR.w SMB2U_FindFreeNormalSpriteSlot_HighPriority
	BMI.b CODE_12C881
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr37_PurpleBomb
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	ADC.b #$03
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #$E0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	JSR.w CODE_129F81
	LDA.b #$FF
	STA.b $86,x
	LDA.b #$E0
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12C881:
	RTS

CODE_12C882:
	JMP.w CODE_12A0B9

GFXRt:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	CMP.b #!Define_SMB2U_NorSprStatus01_Normal
	BNE.b CODE_12C896
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12C89F
	INC.b $9F,x
	LDA.b #$4A
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12C896:
	LDA.b #$B3
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.b #$2C
	BNE.b CODE_12C8A8

CODE_12C89F:
	LDY.b !RAM_SMB2U_NorSpr1D_Mouser_WaitBeforeThrowingBombTimer,x
	DEY
	CPY.b #$10
	BCS.b CODE_12C8AD
	LDA.b #$20
CODE_12C8A8:
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	BRA.b CODE_12C8F3

CODE_12C8AD:
	JSR.w CODE_12BDCF
	LDA.b !RAM_SMB2U_NorSpr1D_Mouser_WaitBeforeThrowingBombTimer,x
	CMP.b #$10
	BCC.b CODE_12C8F3
	LDA.b #$01
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #$10
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	REP.b #$20
	CLC
	ADC.w #$000B
	SEP.b #$20
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	XBA
	STA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	AND.b #$01
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDY.b #$5C
	STY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STZ.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	PHA
	LDA.b #!Define_SMB2U_SpriteID_NorSpr37_PurpleBomb
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b #$38
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	PLA
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
CODE_12C8F3:
	LDA.b #$43
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #$33
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr1F_Tryclyde_InitRt(Address)
namespace SMB2U_NorSpr1F_Tryclyde_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b #$40
	STA.w !RAM_SMB2U_NorSpr1F_Tryclyde_TopHeadShootAndMovementTimer,x
	LDA.b #$02
	STA.w !RAM_SMB2U_NorSpr1F_Tryclyde_CurrentHP,x
	JMP.w SMB2U_NorSpr1C_Birdo_InitRt_CODE_12AF56
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr1F_Tryclyde_Status01(Address)
namespace SMB2U_NorSpr1F_Tryclyde_Status01
%InsertMacroAtXPosition(<Address>)

CODE_12CA90:
	RTS

Main:
	JSR.w CODE_12BB1C
	LDY.b #$00
	LDA.w !RAM_SMB2U_NorSpr1F_Tryclyde_TopHeadShootAndMovementTimer,x
	ASL
	BCC.b CODE_12CAA3
	LDY.b #$02
	ASL
	BCC.b CODE_12CAA3
	LDY.b #$FE
CODE_12CAA3:
	STY.b !RAM_SMB2U_NorSpr_XSpeed,x
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	INC.w !RAM_SMB2U_NorSpr1F_Tryclyde_TopHeadShootAndMovementTimer,x
	LDA.b !RAM_SMB2U_NorSpr1F_Tryclyde_BottomHeadShootTimer2,x
	CLC
	ADC.b #$D0
	STA.b !RAM_SMB2U_NorSpr1F_Tryclyde_BottomHeadShootTimer2,x
	BCC.b CODE_12CAB7
	INC.w !RAM_SMB2U_NorSpr1F_Tryclyde_BottomHeadShootTimer1,x
CODE_12CAB7:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BNE.b CODE_12CA90
endif
	LDA.b #$49
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDY.b #$44
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	SEC
	SBC.b #!Define_SMB2U_NorSprStatus01_Normal
	ORA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	BEQ.b CODE_12CACF
	LDY.b #$48
CODE_12CACF:
	TYA
	LDY.b #$60
	STY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STZ.w !RAM_SMB2U_Level_OAMBufferIndexHi
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	XBA
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	REP.b #$20
	CLC
	ADC.w #$0020
	CMP.w #$00F0
	SEP.b #$20
	BCS.b CODE_12CB1A
endif
	LDA.b #$09
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #$33
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	JSR.w CODE_12CC87
	LDX.b #$4C
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$20
	BNE.b CODE_12CB09
	LDA.b #$04
	AND.b !RAM_SMB2U_Global_FrameCounter
	BEQ.b CODE_12CB09
	LDX.b #$4F
CODE_12CB09:
	LDA.b #$20
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	LDY.b #$E0
	STY.w $02F8
	LDY.b #$01
	STY.w $02F9
	JSR.w CODE_12C041
CODE_12CB1A:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b #$13
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.b #$FF
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.b #$FF
	STA.w $07A6
endif
	LDA.w !RAM_SMB2U_NorSpr1F_Tryclyde_TopHeadShootAndMovementTimer,x
	AND.b #$78
	LSR
	LSR
	LSR
	TAY
	LDA.w DATA_119ABE,y
	ADC.w !RAM_SMB2U_Level_SpriteTileXDispLo
	ADC.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	JSR.w CODE_12CC4C
	LDX.b #$52
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	BNE.b CODE_12CB50
	LDX.b #$54
	DEY
	DEY
	DEY
	DEY
	CPY.b #$07
	BCS.b CODE_12CB50
	LDX.b #$56
CODE_12CB50:
	LDY.b #$50
	STY.w $02F8
	STZ.w $02F9
	JSR.w CODE_12C041
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.b #$00
	STA.w $07A6
endif
	LDA.w !RAM_SMB2U_NorSpr1F_Tryclyde_BottomHeadShootTimer1,x
	AND.b #$78
	LSR
	LSR
	LSR
	TAY
	LDA.w DATA_119ABE,y
	ADC.w !RAM_SMB2U_Level_SpriteTileXDispLo
	ADC.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	JSR.w CODE_12CC4C
	LDX.b #$52
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	BNE.b CODE_12CB8C
	LDX.b #$54
	DEY
	DEY
	DEY
	DEY
	CPY.b #$07
	BCS.b CODE_12CB8C
	LDX.b #$56
CODE_12CB8C:
	LDY.b #$68
	STY.w $02F8
	STZ.w $02F9
	JSR.w CODE_12C041
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b #$13
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.b #$10
	STA.w $07A5
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.b #$00
	XBA
	LDA.w $07A5
	JSL.l CODE_15CDE6
	BCS.b CODE_12CBC7
endif
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$70].XDisp
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A5
else
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.b #$10
endif
	STA.w SMB2U_OAMBuffer[$70].YDisp
	LDA.b #$C1
	STA.w SMB2U_OAMBuffer[$70].Tile
	LDA.w SMB2U_OAMBuffer[$18].Prop
	STA.w SMB2U_OAMBuffer[$70].Prop
	STA.w SMB2U_OAMBuffer[$08].Prop
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$04
	LSR
	LSR
	ORA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$70].Slot
CODE_12CBC7:
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.b #$FF
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.b #$FF
	XBA
	LDA.w $07A5
	JSL.l CODE_15CDE6
	BCS.b CODE_12CBE7
	LDA.w $07A5
endif
	STA.w SMB2U_OAMBuffer[$08].YDisp
	LDA.w SMB2U_OAMBuffer[$18].Tile
	STA.w SMB2U_OAMBuffer[$08].Tile
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w SMB2U_OAMBuffer[$08].XDisp
	LDA.b #$02
	LDY.w !RAM_SMB2U_Level_SpriteTileXDispHi
	BEQ.b CODE_12CBE4
	ORA.b #$01
CODE_12CBE4:
	STA.w SMB2U_OAMTileSizeBuffer[$08].Slot
CODE_12CBE7:
	STZ.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.w !RAM_SMB2U_NorSpr1F_Tryclyde_TopHeadShootAndMovementTimer,x
	JSR.w CODE_12CBF4
	INC.b !RAM_SMB2U_Global_ScratchRAM05
	LDA.w !RAM_SMB2U_NorSpr1F_Tryclyde_BottomHeadShootTimer1,x
CODE_12CBF4:
	AND.b #$67
	CMP.b #$40
	BNE.b CODE_12CC4B
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BNE.b CODE_12CC4B
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12CC4B
	LDA.b #!Define_SMAS_Sound0063_FireSpit
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr20_Fireball
	STA.w !RAM_SMB2U_NorSpr_SpriteID,y
	STA.w !RAM_SMB2U_NorSpr20_Fireball_DisableGravity,y
	STA.w $00B1,y
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	SBC.b #$18
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	BEQ.b CODE_12CC29
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.b #$10
	STA.w !RAM_SMB2U_NorSpr_YPosLo,y
CODE_12CC29:
	LDA.b !RAM_SMB2U_Player_XPosLo
	LSR
	LSR
	LSR
	LSR
	AND.b #$0F
	CMP.b #$0B
	BCC.b CODE_12CC37
	LDA.b #$0B
CODE_12CC37:
	TAX
	LDA.w DATA_119ACE,x
	STA.w !RAM_SMB2U_NorSpr_YSpeed,y
	LDA.w DATA_119ADA,x
	STA.w !RAM_SMB2U_NorSpr_XSpeed,y
CODE_12CC44:
	TYA
	TAX
	JSR.w CODE_129F81
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12CC4B:
	RTS

CODE_12CC4C:
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	STZ.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	REP.b #$20
	LDA.w DATA_119ABE,y
	AND.w #$00FF
	ORA.w #$FF00
	ADC.b !RAM_SMB2U_Global_ScratchRAM08
	ADC.w #$FFF0
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.w #$FF00
	BEQ.b CODE_12CC74
	LDA.w #$0008
	TSB.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12CC74:
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	CLC
	ADC.w #$0008
	AND.w #$FF00
	BEQ.b CODE_12CC84
	LDA.w #$0004
	TSB.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12CC84:
	SEP.b #$20
	RTS

CODE_12CC87:
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	STZ.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.w #$FF00
	BEQ.b CODE_12CCA1
	LDA.w #$0004
	TSB.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12CCA1:
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	SEC
	SBC.w #$0008
	STA.b !RAM_SMB2U_Global_ScratchRAM08
	AND.w #$FF00
	BEQ.b CODE_12CCB3
	LDA.w #$0008
	TSB.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12CCB3:
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM08
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr20_Fireball_Status01(Address)
namespace SMB2U_NorSpr20_Fireball_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	JSR.w CODE_12BB1C
	LDA.w !RAM_SMB2U_NorSpr20_Fireball_AnimationFrameCounter,x
	BNE.b CODE_12AAE7
	LDA.b #$04
	STA.w !RAM_SMB2U_NorSpr20_Fireball_AnimationFrameCounter,x
	INC.w !RAM_SMB2U_NorSpr20_Fireball_AnimationFrame,x
CODE_12AAE7:
	LDA.w !RAM_SMB2U_NorSpr20_Fireball_AnimationFrame,x
	CMP.b #$03
	BCC.b CODE_12AAF3
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr20_Fireball_AnimationFrame,x
CODE_12AAF3:
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$EF
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.w !RAM_SMB2U_NorSpr20_Fireball_AnimationFrame,x
	ASL
	STA.w $0712
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w DATA_11993B,y
	CLC
	ADC.w $0712
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	LDA.b !RAM_SMB2U_NorSpr20_Fireball_DisableGravity,x
	BNE.b CODE_12AB13
	JMP.w CODE_12A0B1

CODE_12AB13:
	LDA.b $5B,x
	AND.b #$03
	BEQ.b CODE_12AB1C
	JSR.w SMB2U_NorSpr3E_Potion_Status01_CODE_12B1FF
CODE_12AB1C:
	JMP.w SMB2U_NorSprXX_Beezo_Status01_CODE_12B49D
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr21_Clawgrip_InitRt(Address)
namespace SMB2U_NorSpr21_Clawgrip_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w SMB2U_NorSpr1C_Birdo_InitRt_Main
	LDA.b #$04
	STA.w !RAM_SMB2U_NorSpr21_Clawgrip_CurrentHP,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	CLC
	ADC.b #$04
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	JMP.w CODE_129F81
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr21_Clawgrip_Status01(Address)
namespace SMB2U_NorSpr21_Clawgrip_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	ORA.w $0438,x
	BEQ.b CODE_12C291
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

CODE_12C291:
	JSR.w CODE_12BB1C
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b #$70
	BCC.b CODE_12C29D
	JSR.w CODE_12B65F
CODE_12C29D:
	LDA.b !RAM_SMB2U_NorSpr21_Clawgrip_RockThrowTimer,x
	BNE.b CODE_12C2CF
	LDA.b !RAM_SMB2U_NorSpr21_Clawgrip_MovementTimer,x
	AND.b #$3F
	BNE.b CODE_12C2BE
	LDA.w $0587
	AND.b #$03
	BEQ.b CODE_12C2BE
	LDY.w !RAM_SMB2U_Global_CameraXPosLo
	DEY
	CPY.b #$80
	BCC.b CODE_12C2BE								; Glitch: Clawgrip will throw rocks if the screen is as far to the left as possible, despite being off screen.
	LDA.b #$7F
	STA.b !RAM_SMB2U_NorSpr21_Clawgrip_RockThrowTimer,x
	LDY.b #$00
	BEQ.b CODE_12C2CA

CODE_12C2BE:
	INC.b !RAM_SMB2U_NorSpr21_Clawgrip_MovementTimer,x
	LDY.b #$F0
	LDA.b !RAM_SMB2U_NorSpr21_Clawgrip_MovementTimer,x
	AND.b #$20
	BEQ.b CODE_12C2CA
	LDY.b #$10
CODE_12C2CA:
	STY.b !RAM_SMB2U_NorSpr_XSpeed,x
	JMP.w CODE_12C328

CODE_12C2CF:
	CMP.b #$50
	BNE.b CODE_12C2D3
CODE_12C2D3:
	CMP.b #$20
	BNE.b CODE_12C328
	LDA.w $0587
	AND.b #$07
	TAY
	LDA.w DATA_119A8C,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	DEC.b !RAM_SMB2U_NorSpr_YPosLo,x
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12C328
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	SEC
	SBC.b #$00
	STA.w !RAM_SMB2U_NorSpr_YPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	SBC.b #$00
	STA.w !RAM_SMB2U_NorSpr_YPosHi,y
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	CLC
	ADC.b #$08
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.b #$00
	STA.w !RAM_SMB2U_NorSpr_XPosHi,y
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr22_ClawgripRock
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b #!Define_SMAS_Sound0060_EnemyProjectileThrow
	STA.w !RAM_SMB2U_Global_SoundCh1
	LDA.w $0587
	AND.b #$07
	TAY
	LDA.w DATA_119A84,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b #$D0
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	JSR.w CODE_129F81
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12C328:
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	JSR.w CODE_12A0B9
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

GFXRt:
	LDY.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	DEY
	TYA
	ORA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12C342
	LDY.b #$D0
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr21_Clawgrip_RockThrowTimer,x
	BEQ.b CODE_12C364

CODE_12C342:
	LDY.b #$C0
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$10
	BNE.b CODE_12C34C
	LDY.b #$C4
CODE_12C34C:
	LDA.b !RAM_SMB2U_NorSpr21_Clawgrip_RockThrowTimer,x
	BEQ.b CODE_12C364
	LDY.b #$C8
	CMP.b #$60
	BCS.b CODE_12C364
	LDY.b #$C0
	CMP.b #$40
	BCS.b CODE_12C364
	LDY.b #$C4
	CMP.b #$20
	BCS.b CODE_12C364
	LDY.b #$C0
CODE_12C364:
	LDA.b #$02
	STA.b $6F,x
	TYA
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	LDY.b #$C4
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$10
	BNE.b CODE_12C376
	LDY.b #$C0
CODE_12C376:
	LDA.b !RAM_SMB2U_NorSpr21_Clawgrip_RockThrowTimer,x
	BEQ.b CODE_12C38E
	LDY.b #$CC
	CMP.b #$60
	BCS.b CODE_12C38E
	LDY.b #$C0
	CMP.b #$40
	BCS.b CODE_12C38E
	LDY.b #$C4
	CMP.b #$20
	BCS.b CODE_12C38E
	LDY.b #$C0
CODE_12C38E:
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12C395
	LDY.b #$D0
CODE_12C395:
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CLC
	ADC.b #$10
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	ASL.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	ASL.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.b !RAM_SMB2U_NorSpr21_Clawgrip_RockThrowTimer,x
	CMP.b #$60
	BCS.b CODE_12C3AA
	LSR.b $6F,x
CODE_12C3AA:
	TYA
	PHA
	JSL.l CODE_14E483
	LDA.w $02F8
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w $02F9
	STA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	PLA
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BEQ.b CODE_12C3ED
	LDA.b $6F,x
	PHA
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$08
	LSR
	LSR
	LSR
	STA.b $6F,x
	LDA.b #$50
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STZ.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LSR.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	SEC
	SBC.b #$08
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	LDY.b #$D4
	TYA
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	PLA
	STA.b $6F,x
CODE_12C3ED:
	LDA.b !RAM_SMB2U_NorSpr21_Clawgrip_RockThrowTimer,x
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	BNE.b +
	BRL.w CODE_12C466
+:
else
	BEQ.b CODE_12C466
endif
	LSR
	LSR
	LSR
	LSR
	LSR
	BEQ.b CODE_12C465
	TAY
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	PHA
	CLC
	ADC.w DATA_119A93,y
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	SEC
	SBC.w !RAM_SMB2U_Global_CameraXPosLo
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CLC
	ADC.w DATA_119A96,y
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	ADC.w DATA_119A8A-$01,y
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
endif
	LDA.b !RAM_SMB2U_NorSpr21_Clawgrip_RockThrowTimer,x
	CMP.b #$30
	BCC.b CODE_12C42A
	CMP.b #$40
	BCS.b CODE_12C42A
	LSR
	AND.b #$07
	TAY
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	SEC
	SBC.w DATA_119A9A,y
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	SBC.b #$00
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
endif
CODE_12C42A:
	JSR.w CODE_12A700
	LDY.b #$40
	STY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STZ.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	PHA
	LDA.b #$02
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	PHA
	LDA.b #$10
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.b #$D8
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w SMB2U_OAMBuffer[$00].Prop,y
	AND.b #$F1
	ORA.b #$06
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	SEP.b #$10
	PLA
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	PLA
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	PLA
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
CODE_12C465:
	RTS

CODE_12C466:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr22_ClawgripRock_Status01(Address)
namespace SMB2U_NorSpr22_ClawgripRock_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	JSR.w CODE_12BB1C
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	JSR.w CODE_12A0B9
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b $5B,x
	AND.b #$03
	BEQ.b CODE_12C489
	JSR.w CODE_12C24E
	JSR.w CODE_12B641
CODE_12C489:
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12C49F
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	AND.b #$F0
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LSR
	EOR.b #$FF
	CLC
	ADC.b #$01
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12C49F:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

GFXRt:
	LDA.w !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	ORA.w $0438,x
	BNE.b CODE_12C4E1
	LDA.b !RAM_SMB2U_Global_FrameCounter
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BPL.b CODE_12C4B7
	EOR.b #$FF
	CLC
	ADC.b #$01
CODE_12C4B7:
	CMP.b #$20
	BCS.b CODE_12C4C3
	LSR.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.b #$08
	BCS.b CODE_12C4C3
	LSR.b !RAM_SMB2U_Global_ScratchRAM00
CODE_12C4C3:
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CLC
	ADC.b #$04
	AND.b #$08
	LSR
	LSR
	LSR
	LDY.b !RAM_SMB2U_NorSpr_XSpeed,x
	BPL.b CODE_12C4D3
	EOR.b #$01
CODE_12C4D3:
	STA.b $6F,x
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	AND.b #$08
	ASL
	ASL
	ASL
	ASL
	ORA.b #$02
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12C4E1:
	JSR.w CODE_12BDCF
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w SMB2U_OAMBuffer[$00].Prop,y
	AND.b #$F1
	ORA.b #$06
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	SEP.b #$10
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSprXX_Panser_Status01(Address)
namespace SMB2U_NorSprXX_Panser_Status01
%InsertMacroAtXPosition(<Address>)

BluePanserEntry:
	LDA.b !RAM_SMB2U_NorSprXX_Panser_WaitBeforeShootingFireball,x
	ASL
	BNE.b Main
	JSR.w CODE_129FD4
Main:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b $5B,x
	PHA
	AND.b #$04
	BEQ.b CODE_12AB34
	JSR.w CODE_12B65F
CODE_12AB34:
	PLA
	AND.b #$03
	BEQ.b CODE_12AB3C
	JSR.w CODE_12C24E
CODE_12AB3C:
	JSR.w CODE_12A0B1
	LDA.b #$83
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.b #$02
	STA.b $6F,x
	JSR.w CODE_12BB1C
	INC.b !RAM_SMB2U_NorSprXX_Panser_WaitBeforeShootingFireball,x
	LDA.b !RAM_SMB2U_NorSprXX_Panser_WaitBeforeShootingFireball,x
	AND.b #$2F
	BNE.b CODE_12AB57
	LDA.b #$10
	STA.b !RAM_SMB2U_NorSprXX_Panser_OpenMouthTimer,x
CODE_12AB57:
	LDY.b !RAM_SMB2U_NorSprXX_Panser_OpenMouthTimer,x
	BEQ.b CODE_12ABAD
	CPY.b #$06
	BNE.b CODE_12AB9B
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12AB9B
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	PHA
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w $0587
	AND.b #$0F
	ORA.b #$BC
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	PLA
	CMP.b #!Define_SMB2U_SpriteID_NorSpr25_GreenPanser
	LDA.w DATA_1197F8,y
	BCC.b CODE_12AB7F
	LDA.b #$00
CODE_12AB7F:
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	SBC.b #$05
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	SBC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr20_Fireball
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b #!Define_SMAS_Sound0063_Podoboo
	STA.w !RAM_SMB2U_Global_SoundCh3
	JSR.w CODE_129F81
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12AB9B:
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	ORA.b #$10
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #$AE
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$EF
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	RTS

CODE_12ABAD:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Panser_Status01_Main, SMB2U_NorSpr23_RedPanser_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Panser_Status01_BluePanserEntry, SMB2U_NorSpr24_BluePanser_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Panser_Status01_Main, SMB2U_NorSpr25_GreenPanser_Status01_Main)
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr26_Autobomb_Status01(Address)
namespace SMB2U_NorSpr26_Autobomb_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b !RAM_SMB2U_NorSpr26_Autobomb_NoShyGuyRiderFlag,x
	BNE.b CODE_12D4B6
	LDA.b $5B,x
	AND.b #$10
	ORA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	BEQ.b CODE_12D4B6
	LDA.b #!Define_SMB2U_SpriteID_NorSpr01_RedShyGuy
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_129F81
	LDA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	STA.b !RAM_SMB2U_Global_ScratchRAM06
	LDA.b #$FF
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12D4B6
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ScratchRAM06
	STA.w !RAM_SMB2U_NorSpr_SpriteListIndex,y
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.w !RAM_SMB2U_NorSpr_XPosHi,y
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr26_Autobomb
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_129FD1
	INC.b !RAM_SMB2U_NorSpr26_Autobomb_NoShyGuyRiderFlag,x
	JSR.w CODE_129F81
	LDA.b #$04
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0489,x
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	PHA
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	PHA
	PHX
	JSL.l CODE_14E483
	PLX
	LDA.w $02F8
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w $02F9
	STA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	JSR.w CODE_12D50D
	PLA
	STA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	PLA
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$E5
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
CODE_12D4B6:
	JSR.w CODE_12BB1C
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b $5B,x
	PHA
	AND.b #$04
	BEQ.b CODE_12D4C6
	JSR.w CODE_12B65F
CODE_12D4C6:
	PLA
	AND.b #$03
	BEQ.b CODE_12D4D1
	JSR.w CODE_12C24E
	JSR.w SMB2U_UpdateNormalSpritePosition_X
CODE_12D4D1:
	INC.b !RAM_SMB2U_NorSpr26_Autobomb_ShootFireballTimer,x
	LDA.b !RAM_SMB2U_NorSpr26_Autobomb_NoShyGuyRiderFlag,x
	BNE.b CODE_12D507
	TXA
	ASL
	ASL
	ASL
	ASL
	ADC.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$7F
	BNE.b CODE_12D4E5
	JSR.w CODE_129FD4
CODE_12D4E5:
	LDA.b !RAM_SMB2U_NorSpr26_Autobomb_ShootFireballTimer,x
	AND.b #$7F
	BNE.b CODE_12D507
	JSR.w CODE_129FD4
	JSR.w SMB2U_SpawnBulletProjectile_LowPriority
	BMI.b CODE_12D507
	LDA.b #!Define_SMAS_Sound0063_FireSpit
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr27_AutombombFireball
	JSR.w SMB2U_NorSpr1C_Birdo_Status01_CODE_12B013
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	DEC.b !RAM_SMB2U_NorSpr_YPosLo,x
	DEC.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12D507:
	JSR.w CODE_12A0B1
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

CODE_12D50D:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	CMP.b #!Define_SMB2U_NorSprStatus01_Normal
	BEQ.b CODE_12D51E
	LDA.b #$C1
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	STA.b !RAM_SMB2U_NorSpr26_Autobomb_ShootFireballTimer,x
	LDA.b #$72
	JMP.w SMB2U_GenericSpriteGraphicsRt_Entry2

CODE_12D51E:
	LDA.b !RAM_SMB2U_NorSpr26_Autobomb_NoShyGuyRiderFlag,x
	BNE.b CODE_12D55C
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	PHA
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	PHA
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$F5
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	PHX
	JSL.l CODE_14E483
	PLX
	LDA.w $02F8
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w $02F9
	STA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LDA.b #$02
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	PHX
	LDA.b #$78
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	PLX
	STZ.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	PLA
	STA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	PLA
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
CODE_12D55C:
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	PHX
	JSR.w CODE_12BDCF
	PLX
	LDA.b #$02
	STA.b $6F,x
	REP.b #$20
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	CLC
	ADC.w #$0004
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	LDA.b #$D0
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	PHX
	LDA.b #$74
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	PLX
	LDA.b #$50
	LDY.b !RAM_SMB2U_NorSpr26_Autobomb_NoShyGuyRiderFlag,x
	BEQ.b CODE_12D591
	LDA.b #$52
CODE_12D591:
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr28_WaterSpout_InitRt(Address)
namespace SMB2U_NorSpr28_WaterSpout_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.b !RAM_SMB2U_NorSpr28_WaterSpout_InitialYPos,x
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr28_WaterSpout_Status01(Address)
namespace SMB2U_NorSpr28_WaterSpout_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	INC.b $9F,x
	INC.b $9F,x
	INC.b !RAM_SMB2U_NorSpr28_WaterSpout_BehaviorTimer,x
	LDA.b !RAM_SMB2U_NorSpr28_WaterSpout_BehaviorTimer,x
	CMP.b #$40
	BCS.b CODE_12D5AE
	LDA.b #$E0
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
CODE_12D5AD:
	RTS

CODE_12D5AE:
	BNE.b CODE_12D5BD
	LDA.b #$D0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b !RAM_SMB2U_NorSpr28_WaterSpout_InitialYPos,x
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #!Define_SMAS_Sound0063_WhaleSpout
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_12D5BD:
	LDA.b !RAM_SMB2U_NorSpr28_WaterSpout_BehaviorTimer,x
	CMP.b #$80
	BCC.b CODE_12D5D1
	CMP.b #$DC
	BCS.b CODE_12D5D1
	LDY.b #$03
	AND.b #$10
	BEQ.b CODE_12D5CF
	LDY.b #$FB
CODE_12D5CF:
	STY.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12D5D1:
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
CODE_12D5D6:
	LDA.b !RAM_SMB2U_NorSpr28_WaterSpout_BehaviorTimer,x
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	LDA.b #$29
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDY.b !RAM_SMB2U_NorSpr28_WaterSpout_BehaviorTimer,x
	CPY.b #$DC
	BCC.b CODE_12D5FC
	LDA.b #$9E
	CPY.b #$F4
	BCC.b CODE_12D5EC
	LDA.b #$9F
CODE_12D5EC:
	STA.b !RAM_SMB2U_Global_ScratchRAM04
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_15CDDF
	BCS.b CODE_12D5F5
	JSL.l CODE_15CE17
else
	JSL.l CODE_14E483
endif
	JSR.w CODE_12D73A
CODE_12D5F5:
	REP.b #$10
	LDX.w $02F8
	BRA.b CODE_12D612

CODE_12D5FC:
	STZ.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.b #$90
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	REP.b #$10
	LDX.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w SMB2U_OAMBuffer[$00].Prop,x
	AND.b #$CF
	ORA.b #$20
	STA.w SMB2U_OAMBuffer[$00].Prop,x
CODE_12D612:
	LDA.w SMB2U_OAMBuffer[$00].Prop,x
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	SEP.b #$10
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BNE.b CODE_12D5AD
	STZ.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CLC
	ADC.b #$04
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	ADC.b #$00
	BEQ.b CODE_12D632
	LDA.b #$04
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
CODE_12D632:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_15CE17
else
	JSL.l CODE_14E483
endif
	LDA.b #$E0
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$E4
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.w $0712
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	STA.w $0713
	REP.b #$20
	LDA.w $0712
	CLC
	ADC.w #$000F
	STA.w $0712
	ADC.w #$0008
	STA.w $0714
	SEP.b #$20
	PHP
	JSR.w CODE_12D6D6
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_15CE17
else
	JSL.l CODE_14E483
endif
	LDA.b #$E8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$EC
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	PLP
	REP.b #$20
	LDA.w $0714
	ADC.w #$0008
	STA.w $0712
	ADC.w #$0008
	STA.w $0714
	SEP.b #$20
	PHP
	JSR.w CODE_12D6D6
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_15CE17
else
	JSL.l CODE_14E483
endif
	LDA.b #$F0
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$F4
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	PLP
	REP.b #$20
	LDA.w $0714
	ADC.w #$0008
	STA.w $0712
	ADC.w #$0008
	STA.w $0714
	SEP.b #$20
	PHP
	JSR.w CODE_12D6D6
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_15CE17
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b #$F8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$FC
	STA.b !RAM_SMB2U_Global_ScratchRAM03
else
	JSL.l CODE_14E483
	LDA.b #$F8
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.b #$FC
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
endif
	PLP
	REP.b #$20
	LDA.w $0714
	ADC.w #$0008
	STA.w $0712
	ADC.w #$0008
	STA.w $0714
	SEP.b #$20
	JSR.w CODE_12D6D6
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12D6D5:
	RTS

CODE_12D6D6:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	REP.b #$20
	LDA.w $0712
	CMP.w #$00F0
	SEP.b #$20
	BCS.b CODE_12D6D5
endif
	LDA.b #$8E
	LDX.b !RAM_SMB2U_Global_ScratchRAM07
	CPX.b !RAM_SMB2U_Global_ScratchRAM02
	BCC.b CODE_12D6EC
	LDA.b !RAM_SMB2U_Global_ScratchRAM04
CODE_12D6EC:
	PHA
	LDA.b #$8E
	CPX.b !RAM_SMB2U_Global_ScratchRAM03
	BCC.b CODE_12D6F5
	LDA.b !RAM_SMB2U_Global_ScratchRAM04
CODE_12D6F5:
	PHA
	REP.b #$10
	LDY.w $02F8
	PLA
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	PLA
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CLC
	ADC.b #$04
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $0713
	XBA
	LDA.w $0712
	JSL.l CODE_15CDE6
	BCS.b +
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
+:
	LDA.w $0715
	XBA
	LDA.w $0714
	JSL.l CODE_15CDE6
	BCS.b CODE_12D723
else
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
endif
	LDA.w $0714
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
CODE_12D723:
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$04
	LSR
	LSR
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	SEP.b #$10
	RTS

CODE_12D73A:
	JSR.w CODE_12D741
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_15CE17
else
	JSL.l CODE_14E483
endif
CODE_12D741:
	REP.b #$10
	LDY.w $02F8
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
	LDA.b !RAM_SMB2U_Global_ScratchRAM04
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	LDX.w #$0000
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$04
	BEQ.b CODE_12D76F
	LDX.w #$0040
CODE_12D76F:
	TXA
	ORA.b #$03
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$08
	LSR
	LSR
	LSR
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$04
	LSR
	LSR
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	SEP.b #$10
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr29_Flurry_Status01(Address)
namespace SMB2U_NorSpr29_Flurry_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	INC.b $9F,x
	JSR.w CODE_12BB1C
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b $5B,x
	AND.b #$03
	BEQ.b CODE_12D7AA
	JSR.w CODE_12C24E
CODE_12D7AA:
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12D7D1
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	PHA
	JSR.w CODE_12B65F
	PLA
	LDY.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	BEQ.b CODE_12D7D1
	CMP.b #$18
	BMI.b CODE_12D7C9
	JSR.w CODE_12B641
	LDA.b #$F0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BNE.b CODE_12D7F7
CODE_12D7C9:
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_HasBeenTossedTimer,x
	JSR.w CODE_129F81
CODE_12D7D1:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0E
	CMP.b #$26
	BEQ.b CODE_12D7DC
	DEC.b $9F,x
	JMP.w CODE_12B4DA

CODE_12D7DC:
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	INY
	STY.b !RAM_SMB2U_NorSpr_FacingDirection,x
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$01
	BNE.b CODE_12D7F7
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CMP.w DATA_119B0F,y
	BEQ.b CODE_12D7F7
	CLC
	ADC.w DATA_119B11,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	INC.b $9F,x
CODE_12D7F7:
	JSR.w CODE_12A0B1
	INC.w $04A4,x
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr2A_FryGuy_InitRt(Address)
namespace SMB2U_NorSpr2A_FryGuy_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b #$04
	STA.w !RAM_SMB2U_NorSpr2A_Fryguy_CurrentHP,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr2A_Fryguy_YMovementDirection,x
	RTS
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSpr2A_FryGuy_InitRt_Main, SMB2U_NorSpr2B_MiniFryguy_InitRt_Main)
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr2A_FryGuy_Status01(Address)
namespace SMB2U_NorSpr2A_FryGuy_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b #$02
	STA.b $6F,x
	INC.b $9F,x
	LDY.w !RAM_SMB2U_NorSpr2A_Fryguy_CurrentHP,x
	DEY
	BNE.b CODE_12D366
	LDA.b #$03
	STA.b !RAM_SMB2U_Global_ScratchRAM09
	STA.w !RAM_SMB2U_NorSpr2A_Fryguy_RemainingMiniFryguys
	JSR.w SMB2U_SubOffScreen_EraseSprite
CODE_12D320:
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12D362
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	STA.w $04F0,y
	LDA.b #$F0
	STA.w !RAM_SMB2U_NorSpr_YSpeed,y
	LDA.b #!Define_SMB2U_SpriteID_NorSpr2B_MiniFryGuy
	STA.w !RAM_SMB2U_NorSpr_SpriteID,y
	LDA.b #$30
	STA.w $0453,y
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	PHA
	LDX.b !RAM_SMB2U_Global_ScratchRAM09
	LDA.w DATA_119AF4,x
	STA.w !RAM_SMB2U_NorSpr_XSpeed,y
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	ADC.w DATA_119AF8,x
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	PLA
	ADC.w DATA_119AFC,x
	STA.w !RAM_SMB2U_NorSpr_YPosLo,y
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSpr_XPosHi,y
	TYA
	TAX
	JSR.w CODE_129F81
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12D362:
	DEC.b !RAM_SMB2U_Global_ScratchRAM09
	BPL.b CODE_12D320
CODE_12D366:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$1F
	BNE.b CODE_12D38B
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #!Define_SMB2U_SpriteID_NorSpr20_Fireball
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b #!Define_SMAS_Sound0063_Podoboo
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	SBC.b #$08
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	ADC.b #$18
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	JSR.w CODE_129FD1
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12D38B:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$01
	BNE.b CODE_12D3BB
	LDA.b !RAM_SMB2U_NorSpr2A_Fryguy_YMovementDirection,x
	AND.b #$01
	TAY
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CLC
	ADC.w DATA_119B04,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.w DATA_119B06,y
	BNE.b CODE_12D3A5
	INC.b !RAM_SMB2U_NorSpr2A_Fryguy_YMovementDirection,x
CODE_12D3A5:
	LDA.w !RAM_SMB2U_NorSpr2A_Fryguy_XMovementDirection,x
	AND.b #$01
	TAY
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CLC
	ADC.w DATA_119B00,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CMP.w DATA_119B02,y
	BNE.b CODE_12D3BB
	INC.w !RAM_SMB2U_NorSpr2A_Fryguy_XMovementDirection,x
CODE_12D3BB:
	JSR.w CODE_12D209
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	JMP.w SMB2U_UpdateNormalSpritePosition_X
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr2B_MiniFryguy_Status01(Address)
namespace SMB2U_NorSpr2B_MiniFryguy_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b $5B,x
	AND.b #$10
	BEQ.b CODE_12D3DB
	JSR.w CODE_12E352
	STZ.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	STZ.b $9F,x
	LDA.b #!Define_SMB2U_NorSprStatus09_DrawDeadMiniFryguy
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	LDA.b #$1F
	STA.b !RAM_SMB2U_NorSprStatus09_DrawDeadMiniFryguy_DespawnTimer,x
	RTS

CODE_12D3DB:
	LDA.b #$02
	STA.b $6F,x
	LDA.b !RAM_SMB2U_Global_FrameCounter
	STA.w !RAM_SMB2U_NorSpr_DisableHorizontalMovement,x
	INC.b $9F,x
	LDA.b $9F,x
	AND.b #$10
	BEQ.b CODE_12D3EE
	DEC.b $6F,x
CODE_12D3EE:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	LDA.b $5B,x
	PHA
	AND.b #$04
	BEQ.b CODE_12D402
	JSR.w CODE_12B65F
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12D402:
	PLA
	AND.b #$03
	BEQ.b CODE_12D40D
	JSR.w CODE_12C24E
	JSR.w CODE_12B641
CODE_12D40D:
	TXA
	ASL
	ASL
	ASL
	ADC.b !RAM_SMB2U_Global_FrameCounter
	LDY.w !RAM_SMB2U_NorSpr2A_Fryguy_RemainingMiniFryguys
	AND.w DATA_119B08,y
	ORA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BNE.b CODE_12D433
	LDA.w $0587
	AND.b #$1F
	ORA.w DATA_119B0C,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	JSR.w CODE_129FD4
	LDA.w !RAM_SMB2U_NorSpr2A_Fryguy_RemainingMiniFryguys
	CMP.b #$02
	BCS.b CODE_12D433
	ASL.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12D433:
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState08_HasBeenHurt
	BEQ.b CODE_12D43F
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	JMP.w CODE_12A0B9

CODE_12D43F:
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr2C_Wart_InitRt(Address)
namespace SMB2U_NorSpr2C_Wart_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDA.b #$06
	STA.w !RAM_SMB2U_NorSpr2C_Wart_CurrentHP,x
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.w !RAM_SMB2U_NorSpr2C_Wart_InitialXPosHi,x
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr2C_Wart_Status01(Address)
namespace SMB2U_NorSpr2C_Wart_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_IsFallingOffscreenFlag,x
	BNE.b IsDead
	LDA.w !RAM_SMB2U_NorSpr2C_Wart_CurrentHP,x
	BNE.b CODE_12DB62
	LDA.b #$80
	STA.b !RAM_SMB2U_NorSpr2C_Wart_HurtTimer,x
	STA.b !RAM_SMB2U_NorSpr2C_Wart_IsFallingOffscreenFlag,x
	BNE.b CODE_12DBC5
CODE_12DB62:
	INC.b !RAM_SMB2U_NorSpr2C_Wart_MovementTimer,x
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$FF
	BNE.b CODE_12DB71
	LDA.b #$5F
	STA.b !RAM_SMB2U_NorSpr2C_Wart_SpitBubblesTimer,x
	INC.w !RAM_SMB2U_NorSpr2C_Wart_BubbleYSpeedIndex,x
CODE_12DB71:
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_MovementTimer,x
	AND.b #$40
	BEQ.b CODE_12DB88
	INC.w !RAM_SMB2U_NorSpr2C_Wart_AnimationFrameCounter,x
	LDA.b #$F8
	LDY.b !RAM_SMB2U_NorSpr2C_Wart_MovementTimer,x
	BPL.b CODE_12DB86
	LDA.b #$08
CODE_12DB86:
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12DB88:
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	LDA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BNE.b CODE_12DBC5
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_SpitBubblesTimer,x
	BEQ.b CODE_12DBC5
	AND.b #$0F
	BNE.b CODE_12DBC5
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12DBC5
	LDA.b #!Define_SMAS_Sound0063_WartRoar
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDA.w !RAM_SMB2U_NorSpr2C_Wart_BubbleYSpeedIndex,x
	AND.b #$03
	TAY
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_SpitBubblesTimer,x
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LSR
	EOR.b #$FF
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.w DATA_119B2A,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr11_WartBubble
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	ADC.b #$08
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	JSR.w CODE_129F81
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12DBC5:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main

IsDead:
	LDA.b !RAM_SMB2U_NorSpr2C_Wart_HurtTimer,x
	BEQ.b CODE_12DBE3
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	CMP.b #$01
	BNE.b CODE_12DBD7
	JSL.l SMB2U_BufferWartHurtFlashPaletteData_Main
CODE_12DBD7:
	INC.w !RAM_SMB2U_NorSpr2C_Wart_AnimationFrameCounter,x
	INC.w !RAM_SMB2U_NorSpr2C_Wart_AnimationFrameCounter,x
	LDA.b #$F0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BNE.b CODE_12DC19

CODE_12DBE3:
	LDA.b #$04
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	LDA.b !RAM_SMB2U_Global_FrameCounter
	LSR
	BCS.b CODE_12DC0F
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_12DC0F
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$1F
	BNE.b CODE_12DC0F
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	ADC.b #$08
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	JSR.w SMB2U_NorSpr3E_Potion_Status01_CODE_12B1FF
	LDA.b #!Define_SMAS_Sound0063_LemmyWendyLandInLava
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_12DC0F:
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b #$D0
	BCC.b CODE_12DC19
	LDA.b #!Define_SMB2U_NorSprStatus02_Dead
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
CODE_12DC19:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr2D_HawkmouthBoss_InitRt(Address)
namespace SMB2U_NorSpr2D_HawkmouthBoss_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_12AC7E
	LDA.b #$03
	STA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_CurrentHP,x
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr2D_HawkmouthBoss_Status01(Address)
namespace SMB2U_NorSpr2D_HawkmouthBoss_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w GFXRt
	LDA.b #$06
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.b #$02
	STA.w $1238
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
	BEQ.b CODE_12D875
	CMP.b #$01
	BNE.b CODE_12D831
	STA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	LDA.b #$90
	STA.b !RAM_SMB2U_NorSpr2D_HawkmouthBoss_AppearBehindLayer1Timer,x
	LDA.b #$40
	STA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_NoMovementTimer,x
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	STA.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
CODE_12D831:
	LDA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	CMP.b #$02
	BCC.b CODE_12D8B1
	LDA.b !RAM_SMB2U_NorSpr2D_HawkmouthBoss_CloseMouthFlag,x
	BNE.b CODE_12D850
	INC.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	LDA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	CMP.b #$31
	BNE.b CODE_12D876
	LDA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_WaitBeforeClosingMouth,x
	BNE.b CODE_12D850
	INC.b !RAM_SMB2U_NorSpr2D_HawkmouthBoss_CloseMouthFlag,x
	JSR.w CODE_12D8AB
CODE_12D850:
	DEC.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	LDY.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	DEY
	BNE.b CODE_12D876
	DEC.b !RAM_SMB2U_NorSpr2D_HawkmouthBoss_CloseMouthFlag,x
	LDA.b !RAM_SMB2U_Player_CurrentState
	CMP.b #!Define_SMB2U_PlayerState06_InHawkmouth
	BNE.b CODE_12D876
	LDA.b #$01
	STA.w !RAM_SMB2U_Player_EntranceTypeToUse
	JSL.l CODE_14E35A
	LDA.b #$09
	STA.b !RAM_SMB2U_Player_XPosHi
	INC.w !RAM_SMB2U_Player_TeleportFlag
	PLA
	PLA
	PLA
	PLA
CODE_12D875:
	RTS

CODE_12D876:
	LDA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	CMP.b #$30
	BNE.b CODE_12D8B0
	LDA.b $5B,x
	AND.b #$40
	BEQ.b CODE_12D8B0
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BNE.b CODE_12D8B0
	STA.b $5A
	INC.b !RAM_SMB2U_NorSpr2D_HawkmouthBoss_CloseMouthFlag,x
	INC.w !RAM_SMB2U_NorSprXX_Hawkmouth_CloseMouthFlag
	DEC.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.b !RAM_SMB2U_Player_XPosLo
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.b !RAM_SMB2U_Player_XPosHi
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	ADC.b #$10
	STA.b !RAM_SMB2U_Player_YPosLo
	LDA.b #!Define_SMB2U_PlayerState06_InHawkmouth
	STA.b !RAM_SMB2U_Player_CurrentState
	LDA.b #$60
	STA.b !RAM_SMB2U_Player_PickupAnimationTimer
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$FD
else
	LDA.b #$FC
endif
	STA.b !RAM_SMB2U_Player_YSpeed
CODE_12D8AB:
	LDA.b #!Define_SMAS_Sound0060_HawkmouthClose
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_12D8B0:
	RTS

CODE_12D8B1:
	LDA.b #$03
	STA.w !RAM_SMB2U_NorSpr_PropertyBits046E,x
	LDA.b #$00
	STA.w $1238
	LDA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_CurrentHP,x
	BNE.b CODE_12D8D2
	LDA.b #$03
	STA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_CurrentHP,x
	LDA.b #!Define_SMAS_Sound0060_HawkmouthOpen
	STA.w !RAM_SMB2U_Global_SoundCh1
	INC.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	LDA.b #$FF
	STA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_WaitBeforeClosingMouth,x
CODE_12D8D2:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	LSR
	BCC.b CODE_12D8FB
	LDA.b !RAM_SMB2U_NorSpr2D_HawkmouthBoss_YMovementDirection,x
	AND.b #$01
	TAY
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CLC
	ADC.w DATA_119826,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.w DATA_119B16,y
	BNE.b CODE_12D8EB
	INC.b !RAM_SMB2U_NorSpr2D_HawkmouthBoss_YMovementDirection,x
CODE_12D8EB:
	JSR.w SMB2U_CheckPlayerPositionRelativeToSprite_Main
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CMP.w DATA_119B14,y
	BEQ.b CODE_12D8FB
	CLC
	ADC.w DATA_119822,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12D8FB:
	JMP.w SMB2U_NorSprXX_Beezo_Status01_CODE_12B49D

GFXRt:
	LDA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	JSR.w SMB2U_NorSprXX_Hawkmouth_Status01_CODE_12AD47
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
	BEQ.b CODE_12D90F
	CMP.b #$01
	BEQ.b CODE_12D90F
	BRA.b CODE_12D912

CODE_12D90F:
	BRL.w CODE_12DAF1

CODE_12D912:
	LDA.w $02F8
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w $02F9
	STA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LDA.b !RAM_SMB2U_NorSpr2D_HawkmouthBoss_AppearBehindLayer1Timer,x
	STA.b !RAM_SMB2U_Global_ScratchRAM07
	JSL.l CODE_14E483
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$08
	STA.w $07A7
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	STA.w $07A8
endif
	LDX.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	REP.b #$20
	STA.w $0712
	LDA.w DATA_119B17,x
	AND.w #$00FF
	CMP.w #$0080
	BCC.b CODE_12D942
	ORA.w #$FF00
CODE_12D942:
	CLC
	ADC.w $0712
	STA.w $0714
	SEP.b #$20
	PHA
	PHP
	DEX
	BEQ.b CODE_12D954
	PLA
	EOR.b #$01
	PHA
CODE_12D954:
	PLP
	PLA
	REP.b #$10
	LDY.w $02F8
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	STA.w $0712
	LDX.w #$0060
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	JSL.l CODE_15CDDF
	BCS.b +
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
+:
	LDA.w $07A8
	XBA
	LDA.w $07A7
	JSL.l CODE_15CDE6
	BCS.b CODE_12D973
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
else
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
endif
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
CODE_12D973:
	LDA.w SMB2U_OAMBuffer[$00].Prop,x
	STA.w $0716
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	BEQ.b CODE_12D987
	LDA.w $0716
	AND.b #$CF
	ORA.b #$10
	STA.w $0716
CODE_12D987:
	LDA.w $0716
	ORA.b #$01
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	LDA.b #$AE
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b #$BE
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w $0715
	BEQ.b CODE_12D9AB
	LDA.b #$01
CODE_12D9AB:
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	JSL.l CODE_14E483
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$10
	STA.w $07A7
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	STA.w $07A8
endif
	REP.b #$10
	LDX.w #$0060
	LDY.w $02F8
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A8
	XBA
	LDA.w $07A7
	JSL.l CODE_15CDE6
	BCS.b +
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	CLC
	ADC.b #$10
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
+:
	LDA.w $07A7
	CLC
	ADC.b #$08
	STA.w $07A7
	LDA.w $07A8
	ADC.b #$00
	XBA
	LDA.w $07A7
	JSL.l CODE_15CDE6
	BCS.b +
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	CLC
	ADC.b #$18
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
+:
else
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	CLC
	ADC.b #$10
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
endif
	LDA.w $0716
	ORA.b #$01
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	LDA.b #$AF
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b #$BF
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w $0715
	BEQ.b CODE_12D9F9
	LDA.b #$01
CODE_12D9F9:
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	JSL.l CODE_14E483
	REP.b #$10
	LDX.w #$0060
	LDY.w $02F8
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	CLC
	ADC.b #$20
	STA.w $07A7
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.b #$00
	XBA
	LDA.w $07A7
	JSL.l CODE_15CDE6
	BCS.b CODE_12DA1A
endif
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	CLC
	ADC.b #$20
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
CODE_12DA1A:
	LDA.b #$BF
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.w $0716
	ORA.b #$01
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	REP.b #$20
	LDA.b !RAM_SMB2U_NorSpr_CurrentSlotID
	AND.w #$00FF
	TAX
	SEP.b #$20
	LDA.w !RAM_SMB2U_NorSpr2D_HawkmouthBoss_OpenMouthSize,x
	CMP.b #$02
	BCS.b CODE_12DA3D
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
CODE_12DA3D:
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w $0715
	BEQ.b CODE_12DA4C
	LDA.b #$01
CODE_12DA4C:
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	JSL.l CODE_14E483
	REP.b #$10
	LDX.w #$0060
	LDY.w $02F8
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	LDA.w SMB2U_OAMBuffer[$00].Prop,x
	STA.w $0716
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	BEQ.b CODE_12DA78
	LDA.w SMB2U_OAMBuffer[$00].Prop,x
	AND.b #$CF
	ORA.b #$10
	STA.w $0716
CODE_12DA78:
	LDA.w $0716
	ORA.b #$01
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	STA.w SMB2U_OAMBuffer[$01].Prop,y
	STA.w $0716
	LDX.w #$0068
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A5
	CLC
	ADC.b #$08
	STA.w $07A7
	LDA.w $07A6
	ADC.b #$00
	XBA
	LDA.w $07A7
	JSL.l CODE_15CDE6
	BCS.b +
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
+:
	LDA.w $07A5
	CLC
	ADC.b #$10
	STA.w $07A7
	LDA.w $07A6
	ADC.b #$00
	XBA
	LDA.w $07A7
	JSL.l CODE_15CDE6
	BCS.b CODE_12DA98
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	CLC
	ADC.b #$10
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
else
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	CLC
	ADC.b #$08
	STA.w SMB2U_OAMBuffer[$01].YDisp,y
endif
CODE_12DA98:
	LDA.b #$AF
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.b #$BF
	STA.w SMB2U_OAMBuffer[$01].Tile,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w $0715
	BEQ.b CODE_12DAB1
	LDA.b #$01
CODE_12DAB1:
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	STA.w SMB2U_OAMTileSizeBuffer[$01].Slot,y
	JSL.l CODE_14E483
	REP.b #$10
	LDX.w #$0068
	LDY.w $02F8
	LDA.w $0712
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w $07A5
	CLC
	ADC.b #$18
	STA.w $07A7
	LDA.w $07A6
	ADC.b #$00
	XBA
	LDA.w $07A7
	JSL.l CODE_15CDE6
	BCS.b CODE_12DAD2
endif
	LDA.w SMB2U_OAMBuffer[$00].YDisp,x
	CLC
	ADC.b #$18
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
CODE_12DAD2:
	LDA.b #$8F
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	LDA.w $0716
	ORA.b #$01
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	REP.b #$20
	TYA
	LSR
	LSR
	TAY
	SEP.b #$20
	LDA.w $0715
	BEQ.b CODE_12DAEE
	LDA.b #$01
CODE_12DAEE:
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
CODE_12DAF1:
	SEP.b #$10
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSprXX_Spark_InitRt(Address)
namespace SMB2U_NorSprXX_Spark_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_129F9D
	LDY.b !RAM_SMB2U_NorSpr_SpriteID,x
	LDA.w DATA_1197E8-!Define_SMB2U_SpriteID_NorSpr2E_SlowCounterclockwiseSpark,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	LDA.w DATA_1197EA-!Define_SMB2U_SpriteID_NorSpr2E_SlowCounterclockwiseSpark,y
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	RTS
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Spark_InitRt_Main, SMB2U_NorSpr2E_SlowCounterclockwiseSpark_InitRt_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Spark_InitRt_Main, SMB2U_NorSpr2F_FastCounterclockwiseSpark_InitRt_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Spark_InitRt_Main, SMB2U_NorSpr30_SlowClockwiseSpark_InitRt_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Spark_InitRt_Main, SMB2U_NorSpr31_FastClockwiseSpark_InitRt_Main)
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSprXX_Spark_Status01(Address)
namespace SMB2U_NorSprXX_Spark_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_12BB1C
	JSR.w CODE_12AA49
	LDY.b #$0A
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$04
	BEQ.b CODE_12A9F9
	LDY.b #$06
CODE_12A9F9:
	STY.w $0248
	JSR.w SMB2U_GenericSpriteGraphicsRt_Main
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ORA.b !RAM_SMB2U_NorSpr_YPosLo,x
	AND.b #$0F
	BNE.b CODE_12AA3E
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Entry2
	LDY.w !RAM_SMB2U_NorSprXX_Spark_MovementAxis,x
	LDA.b $5B,x
	AND.w DATA_1197EE,y
	BEQ.b CODE_12AA35
	LDA.w DATA_1197EE,y
	EOR.b #$0F
	AND.b $5B,x
	BEQ.b CODE_12AA3E
	TYA
	EOR.b #$01
	STA.w !RAM_SMB2U_NorSprXX_Spark_MovementAxis,x
	TAY
CODE_12AA24:
	TXA
	CLC
	ADC.w DATA_1197F0,y
	TAY
	LDA.w !RAM_SMB2U_NorSpr_XSpeed,y
	EOR.b #$FF
	ADC.b #$01
	STA.w !RAM_SMB2U_NorSpr_XSpeed,y
	RTS

CODE_12AA35:
	TYA
	EOR.b #$01
	STA.w !RAM_SMB2U_NorSprXX_Spark_MovementAxis,x
	JSR.w CODE_12AA24
CODE_12AA3E:
	LDA.w !RAM_SMB2U_NorSprXX_Spark_MovementAxis,x
	BNE.b CODE_12AA46
	JMP.w SMB2U_UpdateNormalSpritePosition_X

CODE_12AA46:
	JMP.w SMB2U_UpdateNormalSpritePosition_Y
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Spark_Status01_Main, SMB2U_NorSpr2E_SlowCounterclockwiseSpark_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Spark_Status01_Main, SMB2U_NorSpr2F_FastCounterclockwiseSpark_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Spark_Status01_Main, SMB2U_NorSpr30_SlowClockwiseSpark_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Spark_Status01_Main, SMB2U_NorSpr31_FastClockwiseSpark_Status01_Main)
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr35_KoopaShell_Status01(Address)
namespace SMB2U_NorSpr35_KoopaShell_Status01
%InsertMacroAtXPosition(<Address>)

DATA_12B9EB:
	db $2E,$C6,$C8,$C6

Main:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	LDA.b #$01
	STA.w $0D00,x
	LDA.b $5B,x
	AND.b #$03
	BEQ.b CODE_12BA08
CODE_12BA00:
	LDA.b #!Define_SMAS_Sound0060_HurtWhileFlying
	STA.w !RAM_SMB2U_Global_SoundCh1
	JMP.w SMB2U_NorSpr3E_Potion_Status01_CODE_12B1FF

CODE_12BA08:
	LDA.b $5B,x
	AND.b #$04
	BEQ.b CODE_12BA11
	JSR.w CODE_12B65F
CODE_12BA11:
	LDA.b $6F,x
	PHA
	PHX
	LDA.b #$02
	STA.b $6F,x
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$0C
	LSR
	LSR
	TAX
	CPX.b #$03
	BNE.b CODE_12BA2E
	PHX
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b $6F,x
	EOR.b #$03
	STA.b $6F,x
	PLX
CODE_12BA2E:
	LDA.l DATA_12B9EB,x
	PLX
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	PLA
	STA.b $6F,x
	LDY.b $6F,x
	LDA.w DATA_11986C,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	JMP.w CODE_12A0B1
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr38_RocketShip_Status01(Address)
namespace SMB2U_NorSpr38_RocketShip_Status01
%InsertMacroAtXPosition(<Address>)

DATA_12CF9B:
	db $FF,$FF,$FF,$FF
	db $88,$88,$88,$FF
	db $98,$98,$98,$FF
	db $84,$94,$85,$94
	db $94,$85,$95,$85
	db $85,$95,$84,$95
	db $95,$84,$94,$84

DATA_12CFB7:
	db $00,$01,$00,$01,$01,$02,$01,$02
	db $03,$04,$05,$06

Main:
	LDA.b !RAM_SMB2U_NorSpr38_RocketShip_CanLaunchFlag,x
	BNE.b CODE_12CFCA
	JMP.w CODE_12D191

CODE_12CFCA:
	LDY.b #$03
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BEQ.b CODE_12CFD4
	CMP.b #$FD
	BCC.b CODE_12CFE5
CODE_12CFD4:
	LDY.b #$3F
	INC.w !RAM_SMB2U_Level_SpriteTileXDispLo
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$02
	BNE.b CODE_12CFE5
	DEC.w !RAM_SMB2U_Level_SpriteTileXDispLo
	DEC.w !RAM_SMB2U_Level_SpriteTileXDispLo
CODE_12CFE5:
	TYA
	AND.b !RAM_SMB2U_Global_FrameCounter
	BNE.b CODE_12CFF7
	DEC.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$FA
	BNE.b CODE_12CFF7
	LDA.b #!Define_SMAS_Sound0063_RocketTakeoff
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_12CFF7:
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	LDA.w !RAM_SMB2U_NorSpr38_RocketShip_CanEjectCharacter,x
	BNE.b CODE_12D023
	LDY.b !RAM_SMB2U_NorSpr_YPosHi,x
	BPL.b CODE_12D047
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b #$D0
	BCS.b CODE_12D047
	JSL.l CODE_14E35A
	LDA.b #!Define_SMB2U_SpriteID_NorSpr38_RocketShip
	STA.w !RAM_SMB2U_NorSpr_SpriteToCarryThroughScreenTransition
	INC.w !RAM_SMB2U_Player_TeleportFlag
	INC.w $02B8
	LDA.b #$05
	STA.w !RAM_SMB2U_Player_EntranceTypeToUse
	LDA.b #!Define_SMB2U_PlayerState00_Normal
	STA.w !RAM_SMB2U_Player_CurrentState
	RTS

CODE_12D023:
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b #$30
	BCS.b CODE_12D047
	LDY.w !RAM_SMB2U_Player_HideAndFreezePlayerFlag
	BNE.b CODE_12D035
	CMP.b #$18
	BCS.b CODE_12D047
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_NorSpr_YPosLo,x			;\ Optimization: Unnecessary absolute addressing.
	CLC							;|
	ADC.b #$10						;|
	STA.w !RAM_SMB2U_NorSpr_YPosLo,x			;|
	LDA.w !RAM_SMB2U_NorSpr_YPosHi,x			;|
	ADC.b #$00						;|
	STA.w !RAM_SMB2U_NorSpr_YPosHi,x			;/
endif
	JMP.w CODE_12B126

CODE_12D035:
	LDA.b #$00
	STA.w !RAM_SMB2U_Player_HideAndFreezePlayerFlag
	STA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	STA.b $3C
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	ADC.b #$20
	STA.b $32
	STA.w !RAM_SMB2U_Player_OnScreenPosYLo
CODE_12D047:
	JSR.w CODE_12D1A8
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.w $0712
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	STA.w $0713
	LDY.b #$00
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CMP.b #$FE
	BCS.b CODE_12D062
	INY
	CMP.b #$FD
	BEQ.b CODE_12D062
	INY
CODE_12D062:
	STY.w $0714
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	CLC
	ADC.b #$FD
	STA.w SMB2U_OAMBuffer[$68].XDisp
	STA.w SMB2U_OAMBuffer[$6C].XDisp
	CLC
	ADC.b #$07
	STA.w SMB2U_OAMBuffer[$69].XDisp
	STA.w SMB2U_OAMBuffer[$6D].XDisp
	STA.w SMB2U_OAMBuffer[$6B].XDisp
	CLC
	ADC.b #$07
	STA.w SMB2U_OAMBuffer[$6A].XDisp
	STA.w SMB2U_OAMBuffer[$6E].XDisp
	LDA.b #$1E
	CLC
	ADC.w $0712
	STA.w SMB2U_OAMBuffer[$68].YDisp
	STA.w SMB2U_OAMBuffer[$69].YDisp
	STA.w SMB2U_OAMBuffer[$6A].YDisp
	CPY.b #$02
	BNE.b CODE_12D0AB
	CLC
	ADC.b #$07
	STA.w SMB2U_OAMBuffer[$6C].YDisp
	STA.w SMB2U_OAMBuffer[$6D].YDisp
	STA.w SMB2U_OAMBuffer[$6E].YDisp
	CLC
	ADC.b #$07
	STA.w SMB2U_OAMBuffer[$6B].YDisp
CODE_12D0AB:
	REP.b #$20
	LDA.w $0712
	CLC
	ADC.w #$0020
	CMP.w #$00EA
	BCC.b CODE_12D0D7
	CMP.w #$FFD0
	BCS.b CODE_12D0D7
	SEP.b #$20
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$68].YDisp
	STA.w SMB2U_OAMBuffer[$69].YDisp
	STA.w SMB2U_OAMBuffer[$6A].YDisp
	STA.w SMB2U_OAMBuffer[$6B].YDisp
	STA.w SMB2U_OAMBuffer[$6C].YDisp
	STA.w SMB2U_OAMBuffer[$6D].YDisp
	STA.w SMB2U_OAMBuffer[$6E].YDisp
CODE_12D0D7:
	SEP.b #$20
	LDA.b #$22
	STA.w SMB2U_OAMBuffer[$68].Prop
	STA.w SMB2U_OAMBuffer[$69].Prop
	STA.w SMB2U_OAMBuffer[$6A].Prop
	STA.w SMB2U_OAMBuffer[$6B].Prop
	ORA.b #$40
	STA.w SMB2U_OAMBuffer[$6C].Prop
	STA.w SMB2U_OAMBuffer[$6D].Prop
	STA.w SMB2U_OAMBuffer[$6E].Prop
	LDA.b #$00
	STA.w SMB2U_OAMTileSizeBuffer[$68].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$69].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$6A].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$6B].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$6C].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$6D].Slot
	STA.w SMB2U_OAMTileSizeBuffer[$6E].Slot
	LDX.b #$06
	CPY.b #$02
	BEQ.b CODE_12D111
	LDX.b #$0C
CODE_12D111:
	TXA
	AND.b !RAM_SMB2U_Global_FrameCounter
	LSR
	CPY.b #$02
	BEQ.b CODE_12D11A
	LSR
CODE_12D11A:
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	TYA
	ASL
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	TAX
	LDA.l DATA_12CFB7,x
	ASL
	ASL
	TAX
	LDA.l DATA_12CF9B,x
	CMP.b #$FF
	BNE.b CODE_12D13A
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$68].YDisp
	STA.w SMB2U_OAMBuffer[$6E].YDisp
CODE_12D13A:
	STA.w SMB2U_OAMBuffer[$68].Tile
	STA.w SMB2U_OAMBuffer[$6E].Tile
	LDA.l DATA_12CF9B+$01,x
	CMP.b #$FF
	BNE.b CODE_12D150
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$69].YDisp
	STA.w SMB2U_OAMBuffer[$6D].YDisp
CODE_12D150:
	STA.w SMB2U_OAMBuffer[$69].Tile
	STA.w SMB2U_OAMBuffer[$6D].Tile
	LDA.l DATA_12CF9B+$02,x
	CMP.b #$FF
	BNE.b CODE_12D166
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$6A].YDisp
	STA.w SMB2U_OAMBuffer[$6C].YDisp
CODE_12D166:
	STA.w SMB2U_OAMBuffer[$6A].Tile
	STA.w SMB2U_OAMBuffer[$6C].Tile
	LDA.l DATA_12CF9B+$03,x
	CMP.b #$FF
	BNE.b CODE_12D179
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$6B].YDisp
CODE_12D179:
	STA.w SMB2U_OAMBuffer[$6B].Tile
	CPY.b #$02
	BEQ.b CODE_12D18E
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$6B].YDisp
	STA.w SMB2U_OAMBuffer[$6C].YDisp
	STA.w SMB2U_OAMBuffer[$6D].YDisp
	STA.w SMB2U_OAMBuffer[$6E].YDisp
CODE_12D18E:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS

CODE_12D191:
	LDA.b !RAM_SMB2U_NorSpr_IsBeingCarriedFlag,x
	CMP.b #$01
	BNE.b CODE_12D1A5
	STA.b !RAM_SMB2U_NorSpr38_RocketShip_CanLaunchFlag,x
	STA.w !RAM_SMB2U_Player_HideAndFreezePlayerFlag
	LDA.b #!Define_SMAS_Sound0063_Rumble
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDA.b #$FE
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12D1A5:
	JSR.w SMB2U_ProcessCarriedSprite_Main
CODE_12D1A8:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BNE.b CODE_12D18E
endif
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	STA.w $07A6
endif
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	SEC
	SBC.b #$08
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #$02
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	STA.b !RAM_SMB2U_Global_ScratchRAM0C
	PHX
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	TAX
	LDA.l DATA_15EBA5,x
	AND.b #$0F
	STA.w $0213
	PLX
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$20
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	LDA.b #$40
	STA.w $02F8
	STZ.w $02F9
	LDX.b #$94
	JSR.w CODE_12BED6
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	DEC.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.b !RAM_SMB2U_Global_ScratchRAM00
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STA.w $07A5
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	STA.w $07A6
endif
	LDA.b #$50
	STA.w $02F8
	STZ.w $02F9
	LDX.b #$94
	JMP.w CODE_12BED6
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr3B_FallingLog_InitRt(Address)
namespace SMB2U_NorSpr3B_FallingLog_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w CODE_12AC8B
	STA.w $0438,x
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.b !RAM_SMB2U_NorSpr3B_FallingLog_InitialYPos,x
CODE_12BA69:
	RTS
namespace off
endmacro

;--------------------------------------------------------------------

macro ROUTINE_SMB2U_NorSpr3B_FallingLog_Status01(Address)
namespace SMB2U_NorSpr3B_FallingLog_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	ASL.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b !RAM_SMB2U_Global_FrameCounter
	ASL
	ASL
	ASL
	ASL
	ROR.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDY.b !RAM_SMB2U_NorSpr3B_FallingLog_IsInFrontOfWaterfall,x
	BNE.b CODE_12BA98
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	ORA.b #$20
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b !RAM_SMB2U_NorSpr3B_FallingLog_InitialYPos,x
	SEC
	SBC.b #$0C
	CMP.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #$FE
	BCC.b CODE_12BA93
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$DF
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	INC.b !RAM_SMB2U_NorSpr3B_FallingLog_IsInFrontOfWaterfall,x
	LDA.b #$04
CODE_12BA93:
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	JMP.w CODE_12BAA0

CODE_12BA98:
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$07
	BNE.b CODE_12BAA0
	INC.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12BAA0:
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b #$F0
	BCC.b CODE_12BAB1
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr3B_FallingLog_IsInFrontOfWaterfall,x
	LDA.b !RAM_SMB2U_NorSpr3B_FallingLog_InitialYPos,x
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
CODE_12BAB1:
	JMP.w SMB2U_GenericSpriteGraphicsRt_Main
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr3C_Door_Status01(Address)
namespace SMB2U_NorSpr3C_Door_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b #$04
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0489,x
	LDA.b #$02
	STA.b $6F,x
	LDY.w !RAM_SMB2U_NorSpr3C_Door_WaitBeforeBeingKickedOutOfSubspaceTimer
	BEQ.b CODE_12B7EE
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$03
	BNE.b CODE_12B7EE
	LDY.b !RAM_SMB2U_Player_CurrentState
	CPY.b #!Define_SMB2U_PlayerState07_Dead
	BEQ.b CODE_12B7EE
	LDA.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	BNE.b CODE_12B7EE
	DEC.w !RAM_SMB2U_NorSpr3C_Door_WaitBeforeBeingKickedOutOfSubspaceTimer
	BNE.b CODE_12B7EE
	STA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	JSL.l CODE_14E35A
	JMP.w CODE_12B8DF

CODE_12B7EE:
	LDA.w $0453,x
	BNE.b CODE_12B7BF
	LDA.w !RAM_SMB2U_NorSpr3C_Door_DespawnTimer
	BEQ.b CODE_12B800
	DEC.w !RAM_SMB2U_NorSpr3C_Door_DespawnTimer
	BNE.b CODE_12B800
	JMP.w SMB2U_NorSpr3E_Potion_Status01_CODE_12B1FF

CODE_12B800:
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	ORA.b #$40
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDY.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	LDA.w DATA_11983C,y
	LDY.b #$00
	ASL
	BCC.b CODE_12B814
	INY
	STY.b $6F,x
CODE_12B814:
	LDA.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	BEQ.b CODE_12B84A
	LDY.b #$F8
	LDA.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	CMP.b #$09
	BCC.b CODE_12B824
	LDY.b #$D8
CODE_12B824:
	STY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDY.b #$01
	STY.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STA.w $02F8
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	STA.w $02F9
	LDA.b #$78
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	SEP.b #$10
CODE_12B84A:
	LDY.b #$E0
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	CMP.b #$D8
	BEQ.b CODE_12B855
	LDY.b #$D8
CODE_12B855:
	STY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDY.b #$01
	STY.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LDA.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	CMP.b #$19
	BCC.b CODE_12B875
	CMP.b #$30
	BNE.b CODE_12B86D
	LDA.b #!Define_SMAS_Sound0063_Door2
	STA.w !RAM_SMB2U_Global_SoundCh3
CODE_12B86D:
	LDY.b #$40
	STY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STZ.w !RAM_SMB2U_Level_OAMBufferIndexHi
CODE_12B875:
	LDA.b #$74
	LDY.w !RAM_SMB2U_NorSpr3C_Door_IsLockedFlag,x
	BEQ.b CODE_12B87E
	LDA.b #$7C
CODE_12B87E:
	JSR.w CODE_12B90A
	LDX.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	BEQ.b CODE_12B8DF
	INC.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	LDA.w DATA_11983C,x
	BMI.b CODE_12B8DF
	REP.b #$10
	LDY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	CLC
	ADC.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	STA.w SMB2U_OAMBuffer[$01].XDisp,y
	STA.w SMB2U_OAMBuffer[$02].XDisp,y
	STA.w SMB2U_OAMBuffer[$03].XDisp,y
	SEP.b #$10
	CPX.b #$30
	BNE.b CODE_12B8DF
	STZ.w !RAM_SMB2U_Level_OrangeDoorAnimationFrameCounter
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_12B8B1:
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3C_Door
	BNE.b CODE_12B8C6
	STZ.b !RAM_SMB2U_NorSpr_SpriteID,x
	STZ.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	LDY.w !RAM_SMB2U_NorSpr_SpriteListIndex,x
	BMI.b CODE_12B8C6
	LDA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
	AND.b #$7F
	STA.b (!RAM_SMB2U_Level_SpriteListDataLo),y
CODE_12B8C6:
	DEX
	BPL.b CODE_12B8B1
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.w !RAM_SMB2U_Player_EntranceTypeToUse
	CMP.b #$01
	BNE.b CODE_12B8D7
	INC.w !RAM_SMB2U_Player_TeleportFlag
	BNE.b CODE_12B8DF
CODE_12B8D7:
	LDA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
	EOR.b #$02
	STA.w !RAM_SMB2U_Player_InsideGenericVaseOrSubspaceFlag
CODE_12B8DF:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr3D_Key_InitRt(Address)
namespace SMB2U_NorSpr3D_Key_InitRt
%InsertMacroAtXPosition(<Address>)

Main:
	LDY.b #!Define_SMB2U_MaxNormalSpriteSlot-$03
CODE_12ABB2:
	LDA.w !RAM_SMB2U_NorSpr_CurrentStatus,y
	BEQ.b CODE_12ABC2
	CPY.b !RAM_SMB2U_NorSpr_CurrentSlotID
	BEQ.b CODE_12ABC2
	LDA.w !RAM_SMB2U_NorSpr_SpriteID,y
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3D_Key
	BEQ.b CODE_12ABCD
CODE_12ABC2:
	DEY
	BPL.b CODE_12ABB2
	LDA.w !RAM_SMB2U_Player_HasUnlockedDoor
	BNE.b CODE_12ABCD
CODE_12ABCA:
	JMP.w CODE_12AC8B
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr3E_Potion_Status01(Address)
namespace SMB2U_NorSpr3E_Potion_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w SMB2U_EndSpriteProcessingIfBeingCarried_Main
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b $5B,x
	PHA
	AND.b #$03
	BEQ.b CODE_12B16D
	JSR.w CODE_12C24E
	JSR.w CODE_12B641
	JSR.w CODE_12B641
CODE_12B16D:
	PLA
	AND.b #$04
	BEQ.b CODE_12B143
	JSR.w CODE_12B65F
	PHX
	LDX.b #!Define_SMB2U_MaxNormalSpriteSlot
CODE_12B178:
	LDA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	CMP.b #!Define_SMB2U_NorSprStatus01_Normal
	BNE.b CODE_12B187
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr3C_Door
	BNE.b CODE_12B187
	JSR.w CODE_12B1FF
CODE_12B187:
	DEX
	BPL.b CODE_12B178
	PLX
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	ADC.b #$07
	AND.b #$F0
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	PHX
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	PLX
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	SEC
	SBC.b #$10
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b #$E0								;\ Note: This check was not in the NES version. This prevents a door from forming if the potion lands off screen.
	BCC.b CODE_12B1B1							;/ If one were to enter an off screen potion door, you'd die.
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12B1B1
	JSR.w SMB2U_SubOffScreen_EraseSprite
	RTS

CODE_12B1B1:
	LDA.b #$10
	STA.w $0453,x
	LDA.b #!Define_SMAS_Sound0060_MagicShoot
	STA.w !RAM_SMB2U_Global_SoundCh1
	INC.b $B1,x
	LDA.b #!Define_SMB2U_SpriteID_NorSpr3C_Door
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	PHX
	LDX.b #$05
CODE_12B1C4:
	LDA.l DATA_119BAE,x
	CMP.b !RAM_SMB2U_Global_ScratchRAM00
	BEQ.b CODE_12B1D2
	DEX
	BPL.b CODE_12B1C4
	PLX
	BRA.b CODE_12B1D8

CODE_12B1D2:
	PLX
	LDA.b #!Define_SMB2U_NorSprStatus05_SmokePuff
	STA.w !RAM_SMB2U_NorSpr_CurrentStatus,x
CODE_12B1D8:
	JSR.w CODE_129F81
	LDA.b #$10
	STA.w !RAM_SMB2U_NorSpr3C_Door_UnusedRAM7E0594
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag				;\ Note: Prevent this sprite from spawning a door in vertical levels
	BNE.b CODE_12B1E7							;/
	JSR.w SMB2U_SubOffScreen_EraseSprite
CODE_12B1E7:
	JSR.w SMB2U_FindFreeNormalSpriteSlot_LowPriority
	BMI.b CODE_12B213
	LDY.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_NorSpr_XPosLo,x
	STA.w !RAM_SMB2U_NorSpr_XPosLo,y
	LDA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STA.w !RAM_SMB2U_NorSpr_XPosHi,y
	LDA.b #$41
	STA.w !RAM_SMB2U_NorSpr_PropertyBits0065,y
	TYA
	TAX
CODE_12B1FF:
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	AND.b #$FC
	ORA.b #$01
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #!Define_SMB2U_NorSprStatus05_SmokePuff
	STA.b !RAM_SMB2U_NorSpr_CurrentStatus,x
	STA.b $9F,x
	LDA.b #$1F
	STA.b !RAM_SMB2U_NorSprStatus05_SmokePuff_DespawnTimer,x
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
CODE_12B213:
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr41_MagicCarpet_Status01(Address)
namespace SMB2U_NorSpr41_MagicCarpet_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w SMB2U_HandleNormalSpriteLevelCollision_Main
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$03
	BNE.b CODE_12C509
	DEC.b !RAM_SMB2U_NorSpr41_MagicCarpet_DespawnTimer,x
	BNE.b CODE_12C509
	STA.w !RAM_SMB2U_Player_RidingMagicCarpetFlag
	JMP.w SMB2U_SubOffScreen_EraseSprite

CODE_12C509:
	LDA.w !RAM_SMB2U_Player_RidingMagicCarpetFlag
	BEQ.b CODE_12C51C
	LDA.b !RAM_SMB2U_Player_YSpeed
	BPL.b CODE_12C51C
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	STA.w !RAM_SMB2U_Player_RidingMagicCarpetFlag
	JMP.w CODE_12C5C9

CODE_12C51C:
	LDA.b $5B,x
	AND.b #$20
	STA.w !RAM_SMB2U_Player_RidingMagicCarpetFlag
	BNE.b CODE_12C528
	JMP.w CODE_12C5B6

CODE_12C528:
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BEQ.b CODE_12C532
	LDA.b $6F,x
	AND.b #$01
	STA.b !RAM_SMB2U_Player_FacingDirection
CODE_12C532:
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	SEC
	SBC.b #$1A
	STA.b !RAM_SMB2U_Player_YPosLo
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	SBC.b #$00
	STA.b !RAM_SMB2U_Player_YPosHi
	LDA.b !RAM_SMB2U_Player_XPosLo
	SEC
	SBC.b #$08
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Player_XPosHi
	SBC.b #$00
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDY.b #$01
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	BMI.b CODE_12C554
	LDY.b #$FF
CODE_12C554:
	STY.w !RAM_SMB2U_NorSpr41_MagicCarpet_AccelerationTBL
	LDA.b !RAM_SMB2U_Global_ControllerHold1
	AND.b #(!Joypad_DPadL>>8)|(!Joypad_DPadR>>8)
	TAY
	AND.b $5A
	BNE.b CODE_12C572
	LDA.w DATA_119AA2,y
	CMP.b !RAM_SMB2U_NorSpr_XSpeed,x
	BEQ.b CODE_12C56F
	LDA.b !RAM_SMB2U_NorSpr_XSpeed,x
	CLC
	ADC.w !RAM_SMB2U_NorSpr41_MagicCarpet_AccelerationTBL,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12C56F:
	JMP.w CODE_12C576

CODE_12C572:
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
CODE_12C576:
	LDY.b #$01
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	BMI.b CODE_12C57E
	LDY.b #$FF
CODE_12C57E:
	STY.w !RAM_SMB2U_NorSpr41_MagicCarpet_AccelerationTBL
	LDA.b #$20
	CMP.w !RAM_SMB2U_Level_SpriteTileYDispLo
	LDA.b #$00
	ROL
	ASL
	ASL
	ASL
	AND.b !RAM_SMB2U_Global_ControllerHold1
	BNE.b CODE_12C5A3
	LDA.b $5B,x
	LSR
	LSR
	AND.b #$03
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ControllerHold1
	LSR
	LSR
	AND.b #((!Joypad_DPadU>>8)|(!Joypad_DPadD>>8))>>2
	TAY
	AND.b !RAM_SMB2U_Global_ScratchRAM00
	BEQ.b CODE_12C5A7
CODE_12C5A3:
	LDA.b #$00
	BEQ.b CODE_12C5B4						; Note: This will always branch

CODE_12C5A7:
	LDA.w DATA_119AA2,y
	CMP.b !RAM_SMB2U_NorSpr_YSpeed,x
	BEQ.b CODE_12C5B6
	LDA.b !RAM_SMB2U_NorSpr_YSpeed,x
	CLC
	ADC.w !RAM_SMB2U_NorSpr41_MagicCarpet_AccelerationTBL,y
CODE_12C5B4:
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12C5B6:
	JSR.w SMB2U_UpdateNormalSpritePosition_X
	JSR.w SMB2U_UpdateNormalSpritePosition_Y
	LDA.b !RAM_SMB2U_NorSpr41_MagicCarpet_DespawnTimer,x
	CMP.b #$20
	BCS.b CODE_12C5C9
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$02
	BNE.b CODE_12C5C9
	RTS

CODE_12C5C9:
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STA.w $02F8
	LDA.w !RAM_SMB2U_Level_OAMBufferIndexHi
	STA.w $02F9
	JMP.w CODE_12C6E5
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSprXX_Hawkmouth_Status01(Address)
namespace SMB2U_NorSprXX_Hawkmouth_Status01
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	BEQ.b CODE_12AC9A
CODE_12AC97:
	JMP.w CODE_12AD36

CODE_12AC9A:
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_WaitBeforeOpeningMouthTimer
	BEQ.b CODE_12ACA9
	DEC.w !RAM_SMB2U_NorSprXX_Hawkmouth_WaitBeforeOpeningMouthTimer
	BNE.b CODE_12AC97
	LDA.b #!Define_SMAS_Sound0060_HawkmouthOpen
	STA.w !RAM_SMB2U_Global_SoundCh1
CODE_12ACA9:
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_CloseMouthFlag
	BEQ.b CODE_12ACE3
	DEC.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
	BNE.b CODE_12AC97
	LDA.b #$00
	STA.w !RAM_SMB2U_NorSprXX_Hawkmouth_CloseMouthFlag
	LDA.b #$01
	STA.w !RAM_SMB2U_Player_EntranceTypeToUse
	LDA.b #$01
	JSR.w CODE_12AD47
	LDA.b #$F0
	STA.w SMB2U_OAMBuffer[$20].YDisp
	STA.w SMB2U_OAMBuffer[$21].YDisp
	LDY.w $0629
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	CMP.b #$06
	BNE.b CODE_12ACD5
	INY
CODE_12ACD5:
	CPY.b #$02
	BCC.b CODE_12ACDD
	INC.w !RAM_SMB2U_Player_TeleportFlag
	RTS

CODE_12ACDD:
	LDA.b #$03
	STA.w !RAM_SMB2U_Level_ExitLevelAction
	RTS

CODE_12ACE3:
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
	BEQ.b CODE_12AD36
	CMP.b #$30
	BEQ.b CODE_12AD04
	LDA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	AND.b #$04
	BNE.b CODE_12AD36
	INC.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$03
	BNE.b CODE_12AD01
	DEC.w $111F
	INC.w $110B
CODE_12AD01:
	JMP.w CODE_12AD36

CODE_12AD04:
	LDA.b $5B,x
	AND.b #$40
	BEQ.b CODE_12AD36
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	CMP.b !RAM_SMB2U_Player_YPosLo
	BCS.b CODE_12AD36
	LDA.b $5A
	AND.b #$04
	BEQ.b CODE_12AD36
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BNE.b CODE_12AD36
	LDA.b #!Define_SMB2U_PlayerState06_InHawkmouth
	STA.b !RAM_SMB2U_Player_CurrentState
	LDA.b #$30
	STA.b !RAM_SMB2U_Player_InHawkmouthTimer
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$FD
else
	LDA.b #$FC
endif
	STA.b !RAM_SMB2U_Player_YSpeed
	LDA.b #!Define_SMB2U_LevelMusic_MusicFade
	STA.w !RAM_SMB2U_Global_MusicCh1
	STA.w $0547
	LDA.b #!Define_SMAS_Sound0060_HawkmouthClose
	STA.w !RAM_SMB2U_Global_SoundCh1
	INC.w !RAM_SMB2U_NorSprXX_Hawkmouth_CloseMouthFlag
CODE_12AD36:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) == $00
	LDA.b !RAM_SMB2U_Level_YOffscreenSpriteFlag
	BEQ.b CODE_12AD3D
	BRL.w CODE_12AE13
CODE_12AD3D:
endif
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	SEC
	SBC.b #!Define_SMB2U_SpriteID_NorSpr42_RightFacingHawkmouth-$01
	STA.b $6F,x
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_OpenMouthSize
CODE_12AD47:
	STA.b !RAM_SMB2U_Global_ScratchRAM07
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	STZ.w $0714
endif
	LSR
	LSR
	EOR.b #$FF
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	INC
	STA.w $0715
	CLC
else
	SEC
endif
	ADC.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	PHP
	LDA.w $0715
	BPL.b +
	DEC.w $0714
+:
	PLP
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	ADC.w $0714
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
endif
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	BNE.b CODE_12AD5D
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_CloseMouthFlag
	BEQ.b CODE_12AD6B
CODE_12AD5D:
	LDY.b #$60
	STY.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STY.w $02F8
	STZ.w !RAM_SMB2U_Level_OAMBufferIndexHi
	STZ.w $02F9
CODE_12AD6B:
	LDA.b #$8C
	LDY.b !RAM_SMB2U_Global_ScratchRAM07
	BEQ.b CODE_12AD73
	LDA.b #$90
CODE_12AD73:
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispLo
	STA.w $0714
	LDA.w !RAM_SMB2U_Level_SpriteTileYDispHi
	STA.w $0715
	REP.b #$20
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	AND.w #$00FF
	TAY
	LSR
	CLC
	ADC.w $0714
	ADC.w #$0008
	CPY.b #$00
	BNE.b +
	ADC.w #$0007
+:
	STA.w $07A5
	SEP.b #$20
else
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	TAY
	LSR
	CLC
	ADC.w !RAM_SMB2U_Level_SpriteTileYDispLo
	ADC.b #$08
	CPY.b #$00
	BNE.b CODE_12AD86
	ADC.b #$07
CODE_12AD86:
endif
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	JSL.l CODE_14E483
	LDX.b #$98
	LDA.b !RAM_SMB2U_Global_ScratchRAM07
	BNE.b CODE_12AD97
	LDA.w !RAM_SMB2U_NorSprXX_Hawkmouth_CloseMouthFlag
	BEQ.b CODE_12ADA1
CODE_12AD97:
	LDY.b #$68
	STY.w $02F8
	STZ.w $02F9
	LDX.b #$94
CODE_12ADA1:
	JSR.w CODE_12C041
	JSR.w CODE_12C041
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	LDA.b !RAM_SMB2U_NorSpr_SpriteID,x
	CMP.b #!Define_SMB2U_SpriteID_NorSpr2D_HawkmouthBoss
	BEQ.b CODE_12AE13
	LDA.b $6F,x
	CMP.b #$01
	BEQ.b CODE_12AE13
	LDA.b !RAM_SMB2U_NorSpr_YPosLo,x
	STA.w $0714
	LDA.b !RAM_SMB2U_NorSpr_YPosHi,x
	STA.w $0715
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	STA.w $0716
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	STA.w $0717
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	XBA
	LDA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	REP.b #$20
	CLC
	ADC.w #$0010
	STA.w $0712
	LDA.w $0714
	SEC
	SBC.w $0716
	CLC
	ADC.w #$000A
	SEP.b #$20
	STA.w !RAM_SMB2U_Level_SpriteTileYDispLo
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	XBA
	STA.w !RAM_SMB2U_Level_SpriteTileYDispHi
endif
	LDA.w $0712
	STA.w !RAM_SMB2U_Level_SpriteTileXDispLo
	LDA.w $0713
	STA.w !RAM_SMB2U_Level_SpriteTileXDispHi
	AND.b #$01
	ASL
	ASL
	ASL
	STA.b !RAM_SMB2U_Level_XOffscreenSpriteFlags
	LDA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	PHA
	ORA.b #$20
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
	LDA.b #$38
	STA.w !RAM_SMB2U_Level_OAMBufferIndexLo
	STZ.w !RAM_SMB2U_Level_OAMBufferIndexHi
	LDA.b #$78
	JSR.w SMB2U_GenericSpriteGraphicsRt_Entry2
	PLA
	STA.b !RAM_SMB2U_NorSpr_PropertyBits0065,x
CODE_12AE13:
	LDX.b !RAM_SMB2U_NorSpr_CurrentSlotID
	RTS
namespace off
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Hawkmouth_Status01_Main, SMB2U_NorSpr42_RightFacingHawkmouth_Status01_Main)
	%SetDuplicateOrNullPointer(SMB2U_NorSprXX_Hawkmouth_Status01_Main, SMB2U_NorSpr43_LeftFacingHawkmouth_Status01_Main)
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_NorSpr45_Star_Status01(Address)
namespace SMB2U_NorSpr45_Star_Status01
%InsertMacroAtXPosition(<Address>)

Main:
if !Define_Global_ROMToAssemble&(!ROM_SMASW_E|!ROM_SMAS_E|!ROM_SMB2U_E) != $00
	LDA.b #$FB
else
	LDA.b #$FC
endif
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
	LDY.b #$F8
	LDA.b !RAM_SMB2U_Global_FrameCounter
	STA.w !RAM_SMB2U_NorSpr_FlashingTimer,x
	BPL.b CODE_12AC26
	LDY.b #$08
CODE_12AC26:
	STY.b !RAM_SMB2U_NorSpr_XSpeed,x
	JMP.w CODE_12A0AE
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_GenSpr47_AlbatossGenerator(Address)
namespace SMB2U_GenSpr47_AlbatossGenerator
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w SMB2U_CheckIfGeneratorShouldSpawnNewSprite_Main
	ADC.w DATA_1197F2,y
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	ADC.w DATA_1197F4,y
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	STY.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #!Define_SMB2U_SpriteID_NorSpr0A_AlbatossCarryingBobomb
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_129F81
	LDA.w $0587
	AND.b #$1F
	ADC.b #$20
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.w !RAM_SMB2U_Global_CameraYPosHi
	ADC.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	LDY.b !RAM_SMB2U_Global_ScratchRAM01
	JSR.w CODE_129FD7
	ASL.b !RAM_SMB2U_NorSpr_XSpeed,x
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_GenSpr48_YellowBeezoGenerator(Address)
namespace SMB2U_GenSpr48_YellowBeezoGenerator
%InsertMacroAtXPosition(<Address>)

Main:
	JSR.w SMB2U_CheckIfGeneratorShouldSpawnNewSprite_Main
	CLC
	ADC.w DATA_1197F6,y
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.b !RAM_SMB2U_Level_IsHorizontalLevelFlag
	BEQ.b CODE_12AA91
	LDA.w !RAM_SMB2U_Global_CameraXPosHi
	ADC.b #$00
CODE_12AA91:
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.b !RAM_SMB2U_Global_CameraYPosLo
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b !RAM_SMB2U_Global_CameraYPosHi
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	STY.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #!Define_SMB2U_SpriteID_NorSpr0F_YellowBeezo
	STA.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_129F81
	LDY.b !RAM_SMB2U_Global_ScratchRAM01
	JSR.w CODE_129FD7
	JSR.w SMB2U_NorSpr0F_YellowBeezo_InitRt_CODE_129FFE
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_SMB2U_GenSpr4A_VeggieGenerator(Address)
namespace SMB2U_GenSpr4A_VeggieGenerator
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b !RAM_SMB2U_Player_CarryingSomethingFlag
	BNE.b CODE_12DB42
	LDA.b !RAM_SMB2U_Global_FrameCounter
	AND.b #$FF
	BNE.b CODE_12DB42
	INC.w !RAM_SMB2U_GenSpr4A_VeggieGenerator_VeggieSpawnPosDataIndex
	JSR.w SMB2U_FindFreeNormalSpriteSlot_HighPriority
	BMI.b CODE_12DB42
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w !RAM_SMB2U_GenSpr4A_VeggieGenerator_VeggieSpawnPosDataIndex
	AND.b #$07
	TAY
	LDA.w DATA_119B22,y
	STA.b !RAM_SMB2U_NorSpr_XSpeed,x
	TYA
	AND.b #$03
	TAY
	LDA.b #$02
	STA.b !RAM_SMB2U_NorSpr_XPosHi,x
	LDA.w DATA_119B1A,y
	STA.b !RAM_SMB2U_NorSpr_XPosLo,x
	LDA.w DATA_119B1E,y
	STA.b !RAM_SMB2U_NorSpr_YPosLo,x
	LDA.b #$00
	STA.b !RAM_SMB2U_NorSpr_YPosHi,x
	LDA.w $0587
	AND.b #$03
	CMP.b #$02
	BCC.b CODE_12DB37
	ASL
	STA.b $B1,x
CODE_12DB37:
	LDY.b #!Define_SMB2U_SpriteID_NorSpr33_LargeVeggie
	STY.b !RAM_SMB2U_NorSpr_SpriteID,x
	JSR.w CODE_129F81
	LDA.b #$D0
	STA.b !RAM_SMB2U_NorSpr_YSpeed,x
CODE_12DB42:
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_RT00_SMB2U_UploadMainSampleData(Address)
namespace SMB2U_UploadMainSampleData
%InsertMacroAtXPosition(<Address>)

Main:
	SEI
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	STZ.w !REGISTER_HDMAEnable
	STZ.w !REGISTER_DMAEnable
	STZ.w !REGISTER_APUPort0
	LDA.b #$FF
	STA.w !REGISTER_APUPort1
	STZ.w !REGISTER_APUPort2
	STZ.w !REGISTER_APUPort3
	LDA.b #SampleData
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #SampleData>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #SampleData>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	JSR.w SMB2U_HandleSPCUploads_Main
	RTL
namespace off
endmacro

macro ROUTINE_CUSTOM_RT01_SMB2U_UploadMainSampleData(Address)
namespace SMB2U_UploadMainSampleData
%InsertMacroAtXPosition(<Address>)

SampleData:
	incbin "../SMAS/SPC700/MainSamples.bin"
SampleDataEnd:
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_RT00_SMB2U_UploadSPCEngine(Address)
namespace SMB2U_UploadSPCEngine
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b #SPCEngine
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b #SPCEngine>>8
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.b #SPCEngine>>16
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	JSR.w SMB2U_HandleSPCUploads_Main
	RTL
namespace off
endmacro

macro ROUTINE_CUSTOM_RT01_SMB2U_UploadSPCEngine(Address)
namespace SMB2U_UploadSPCEngine
%InsertMacroAtXPosition(<Address>)

SPCEngine:
	incbin "../SMAS/SPC700/Engine.bin"
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro DATATABLE_CUSTOM_SMB2U_SplashScreenGFX(Address)
namespace SMB2U_SplashScreenGFX
%InsertMacroAtXPosition(<Address>)

Main:
	incbin "../SMAS/Graphics/SplashScreenGFX.bin"
End:
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_HandleSPCUploads(Address)
namespace SMB2U_HandleSPCUploads
%InsertMacroAtXPosition(<Address>)

Main:
	PHP
	REP.b #$30
	LDY.w #$0000
	LDA.w #$BBAA
CODE_008C06:
	CMP.w !REGISTER_APUPort0
	BNE.b CODE_008C06
	SEP.b #$20
	LDA.b #$CC
	BRA.b CODE_008C37

CODE_008C11:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	INY
	XBA
	LDA.b #$00
	BRA.b CODE_008C24

CODE_008C19:
	XBA
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	INY
	XBA
CODE_008C1E:
	CMP.w !REGISTER_APUPort0
	BNE.b CODE_008C1E
	INC
CODE_008C24:
	REP.b #$20
	STA.w !REGISTER_APUPort0
	SEP.b #$20
	DEX
	BNE.b CODE_008C19
CODE_008C2E:
	CMP.w !REGISTER_APUPort0
	BNE.b CODE_008C2E
CODE_008C33:
	ADC.b #$03
	BEQ.b CODE_008C33
CODE_008C37:
	PHA
	REP.b #$20
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	INY
	INY
	TAX
	LDA.b [!RAM_SMB2U_Global_ScratchRAM00],y
	INY
	INY
	STA.w !REGISTER_APUPort2
	SEP.b #$20
	CPX.w #$0001
	LDA.b #$00
	ROL
	STA.w !REGISTER_APUPort1
	ADC.b #$7F
	PLA
	STA.w !REGISTER_APUPort0
CODE_008C57:
	CMP.w !REGISTER_APUPort0
	BNE.b CODE_008C57
	BVS.b CODE_008C11
	STZ.w !REGISTER_APUPort0
	STZ.w !REGISTER_APUPort1
	STZ.w !REGISTER_APUPort2
	STZ.w !REGISTER_APUPort3
	PLP
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_ResetGame(Address)
namespace SMB2U_ResetGame
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	STA.w !REGISTER_ScreenDisplayRegister
	STZ.w !REGISTER_HDMAEnable
	STZ.w !RAM_SMB2U_Global_HDMAEnableMirror
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	LDA.b #SMB2U_InitAndMainLoop_Main>>16
	PHA
	PLB
	SEI
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	STZ.w !REGISTER_HDMAEnable
	REP.b #$20
	LDA.w #!RAM_SMB2U_Global_StartOfStack
	TCS
	SEP.b #$20
	STZ.w !RAM_SMB2U_Global_SoundCh1
	STZ.w !RAM_SMB2U_Global_SoundCh2
	STZ.w !RAM_SMB2U_Global_MusicCh1
	STZ.w !RAM_SMB2U_Global_SoundCh3
	STZ.w !REGISTER_APUPort0
	STZ.w !REGISTER_APUPort1
	STZ.w !REGISTER_APUPort2
	STZ.w !REGISTER_APUPort3
	LDA.b #$F0
	STA.w !REGISTER_APUPort1
	JML.l SMB2U_InitAndMainLoop_Main
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_DisplayRegionErrorMessage(Address)
namespace SMB2U_DisplayRegionErrorMessage
%InsertMacroAtXPosition(<Address>)

table "Tables/Fonts/ErrorScreen.txt"

RegionErrorText:
.Line1:
	dw " THIS GAME PAK IS NOT   "

.Line2:
	dw "DESIGINED FOR YOUR SUPER"

.Line3:
	dw "FAMICOM OR SUPER NES.   "

.Line4:
	dw "   NINTENDO CO.,LTD.    "

cleartable

Main:
	JSL.l SMB2U_InitializeRAMOnStartup_Main
	SEP.b #$20
	PHD
	STZ.w !REGISTER_CGRAMAddress
	REP.b #$20
	LDA.w #$3B3B
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w #!RAM_SMB2U_ErrorScreen_TextTilemap
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.b #!RAM_SMB2U_ErrorScreen_TextTilemap>>16
	JSL.l SMB2U_InitializeSelectedRAM_Entry2
	LDA.w #DMA[$00].Parameters
	TCD
	LDY.b #$80
	STY.w !REGISTER_VRAMAddressIncrementValue
	LDA.w #$7FFF
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0C].LowByte
	LDA.w #$7FF9
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0D].LowByte
	LDA.w #$7FD0
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0E].LowByte
	LDA.w #$6AE9
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0F].LowByte
	LDA.w #(!REGISTER_WriteToCGRAMPort&$0000FF<<8)+$00
	STA.b DMA[$00].Parameters
	LDA.w #!RAM_SMB2U_ErrorScreen_PaletteMirror
	STA.b DMA[$00].SourceLo
	LDX.b #!RAM_SMB2U_ErrorScreen_PaletteMirror>>16
	STX.b DMA[$00].SourceBank
	STA.b DMA[$00].SizeLo
	LDY.b #$01
	STY.w !REGISTER_DMAEnable
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STA.b DMA[$00].Parameters
	LDA.w #$0000
	STA.w !REGISTER_VRAMAddressLo
	LDA.w #SMB2U_ErrorMessageFontGFX_Main
	STA.b DMA[$00].SourceLo
	LDX.b #SMB2U_ErrorMessageFontGFX_Main>>16
	STX.b DMA[$00].SourceBank
	LDA.w #SMB2U_ErrorMessageFontGFX_End-SMB2U_ErrorMessageFontGFX_Main
	STA.b DMA[$00].SizeLo
	STY.w !REGISTER_DMAEnable
	PHB
	LDX.b #RegionErrorText>>16
	PHX
	PLB
	LDX.b #$00
CODE_0093F9:
	LDA.w RegionErrorText_Line1,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$07].Row+$0A,x
	LDA.w RegionErrorText_Line2,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$09].Row+$0A,x
	LDA.w RegionErrorText_Line3,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$0B].Row+$0A,x
	LDA.w RegionErrorText_Line4,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$11].Row+$0A,x
	INX
	INX
	CPX.b #RegionErrorText_Line2-RegionErrorText_Line1
	BNE.b CODE_0093F9
CODE_009417:
	PLB
	LDA.w #$1000
	STA.w !REGISTER_VRAMAddressLo
	LDA.w #SMB2U_OAMBuffer[$00].XDisp
	STA.b DMA[$00].SourceLo
	LDX.b #(SMB2U_OAMBuffer[$00].XDisp>>16)&$00
	STX.b DMA[$00].SourceBank
	STA.b DMA[$00].SizeLo
	STY.w !REGISTER_DMAEnable
	SEP.b #$20
	PLD
	LDA.b #$10
	STA.w !REGISTER_BG1AddressAndSize
	STZ.w !REGISTER_BG1And2TileDataDesignation
	LDA.b #$01
	STA.w !REGISTER_MainScreenLayers
	STZ.w !REGISTER_SubScreenLayers
	LDA.b #$01
	STA.w !REGISTER_BGModeAndTileSizeSetting
	STZ.w !REGISTER_ColorMathInitialSettings
	STZ.w !REGISTER_ColorMathSelectAndEnable
	STZ.w !REGISTER_BG1HorizScrollOffset
	STZ.w !REGISTER_BG1HorizScrollOffset
	STZ.w !REGISTER_BG1VertScrollOffset
	STZ.w !REGISTER_BG1VertScrollOffset
	STZ.w !REGISTER_BG2HorizScrollOffset
	STZ.w !REGISTER_BG2HorizScrollOffset
	STZ.w !REGISTER_BG2VertScrollOffset
	STZ.w !REGISTER_BG2VertScrollOffset
	STZ.w !REGISTER_BG3HorizScrollOffset
	STZ.w !REGISTER_BG3HorizScrollOffset
	STZ.w !REGISTER_BG3VertScrollOffset
	STZ.w !REGISTER_BG3VertScrollOffset
	LDA.b #!ScreenDisplayRegister_MaxBrightness0F
	STA.w !REGISTER_ScreenDisplayRegister
CODE_009473:
	BIT.w !REGISTER_HVBlankFlagsAndJoypadStatus
	BPL.b CODE_009473
	INC.b !RAM_SMB2U_Global_FrameCounter
	LDA.b !RAM_SMB2U_Global_FrameCounter
	CMP.b #$18
	BNE.b CODE_0094BF
	STZ.b !RAM_SMB2U_Global_FrameCounter
	STZ.w !REGISTER_CGRAMAddress
	REP.b #$20
	LDA.w #DMA[$00].Parameters
	TCD
	LDY.b #$80
	STY.w !REGISTER_VRAMAddressIncrementValue
	LDA.w SMB2U_ErrorScreen_PaletteMirror[$0D].LowByte
	PHA
	LDA.w SMB2U_ErrorScreen_PaletteMirror[$0E].LowByte
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0D].LowByte
	LDA.w SMB2U_ErrorScreen_PaletteMirror[$0F].LowByte
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0E].LowByte
	PLA
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0F].LowByte
	LDA.w #(!REGISTER_WriteToCGRAMPort&$0000FF<<8)+$00
	STA.b DMA[$00].Parameters
	LDA.w #!RAM_SMB2U_ErrorScreen_PaletteMirror
	STA.b DMA[$00].SourceLo
	LDX.b #!RAM_SMB2U_ErrorScreen_PaletteMirror>>16
	STX.b DMA[$00].SourceBank
	STA.b DMA[$00].SizeLo
	LDY.b #$01
	STY.w !REGISTER_DMAEnable
	LDA.w #$0000
	TCD
	SEP.b #$20
CODE_0094BF:
	BIT.w !REGISTER_HVBlankFlagsAndJoypadStatus
	BMI.b CODE_0094BF
	JMP.w CODE_009473
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_DisplayCopyDetectionErrorMessage(Address)
namespace SMB2U_DisplayCopyDetectionErrorMessage
%InsertMacroAtXPosition(<Address>)

table "Tables/Fonts/ErrorScreen.txt"

CopyDetectionText:
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_E) != $00
.Line1:
	dw "         WARNING          "

.Line2:
	dw "IT IS A SERIOUS CRIME TO  "

.Line3:
	dw "COPY VIDEO GAMES ACCORDING"

.Line4:
	dw "TO COPYRIGHT LAW.  PLEASE "

.Line5:
	dw "REFER TO YOUR NINTENDO    "

.Line6:
	dw "GAME INSTRUCTION BOOKLET  "

.Line7:
	dw "FOR FURTHER INFORMATION.  "

else
.Line1:
	dw "WARNING: IT IS A SERIOUS  "

.Line2:
	dw "CRIME TO COPY VIDEO GAMES."

.Line3:
	dw "18 USC 2319 PLEASE REFER  "

.Line4:
	dw "TO YOUR NINTENDO GAME     "

.Line5:
	dw "INSTRUCTION BOOKLET FOR   "

.Line6:
	dw "FURTHER INFORMATION.      "
endif

cleartable

Main:
	SEI
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	STZ.w !REGISTER_HDMAEnable
	STZ.w !REGISTER_DMAEnable
	LDA.b #!ScreenDisplayRegister_SetForceBlank|!ScreenDisplayRegister_MinBrightness00
	STA.w !REGISTER_ScreenDisplayRegister
	STZ.w !REGISTER_APUPort0
	STZ.w !REGISTER_APUPort1
	STZ.w !REGISTER_APUPort3
	LDA.b #!Define_SMB2U_LevelMusic_StopMusicCommand
	STA.w !REGISTER_APUPort2
	JSL.l SMB2U_InitializeRAMOnStartup_Main
	SEP.b #$20
	PHD
	STZ.w !REGISTER_CGRAMAddress
	REP.b #$20
	LDA.w #$3B3B
	STA.b !RAM_SMB2U_Global_ScratchRAM02
	LDA.w #!RAM_SMB2U_ErrorScreen_TextTilemap
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDY.b #!RAM_SMB2U_ErrorScreen_TextTilemap>>16
	JSL.l SMB2U_InitializeSelectedRAM_Entry2
	LDA.w #DMA[$00].Parameters
	TCD
	LDY.b #$80
	STY.w !REGISTER_VRAMAddressIncrementValue
	LDA.w #$7FFF
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0C].LowByte
	LDA.w #$7FF9
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0D].LowByte
	LDA.w #$7FD0
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0E].LowByte
	LDA.w #$6AE9
	STA.w SMB2U_ErrorScreen_PaletteMirror[$0F].LowByte
	LDA.w #(!REGISTER_WriteToCGRAMPort&$0000FF<<8)+$00
	STA.b DMA[$00].Parameters
	LDA.w #!RAM_SMB2U_ErrorScreen_PaletteMirror
	STA.b DMA[$00].SourceLo
	LDX.b #!RAM_SMB2U_ErrorScreen_PaletteMirror>>16
	STX.b DMA[$00].SourceBank
	STA.b DMA[$00].SizeLo
	LDY.b #$01
	STY.w !REGISTER_DMAEnable
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STA.b DMA[$00].Parameters
	LDA.w #$0000
	STA.w !REGISTER_VRAMAddressLo
	LDA.w #SMB2U_ErrorMessageFontGFX_Main
	STA.b DMA[$00].SourceLo
	LDX.b #SMB2U_ErrorMessageFontGFX_Main>>16
	STX.b DMA[$00].SourceBank
	LDA.w #SMB2U_ErrorMessageFontGFX_End-SMB2U_ErrorMessageFontGFX_Main
	STA.b DMA[$00].SizeLo
	STY.w !REGISTER_DMAEnable
	PHB
	LDX.b #CopyDetectionText>>16
	PHX
	PLB
	LDX.b #$00
CODE_009690:
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_E) != $00
	LDA.w CopyDetectionText_Line1,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$07].Row+$06,x
	LDA.w CopyDetectionText_Line2,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$09].Row+$06,x
	LDA.w CopyDetectionText_Line3,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$0B].Row+$06,x
	LDA.w CopyDetectionText_Line4,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$0D].Row+$06,x
	LDA.w CopyDetectionText_Line5,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$0F].Row+$06,x
	LDA.w CopyDetectionText_Line6,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$11].Row+$06,x
	LDA.w CopyDetectionText_Line7,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$13].Row+$06,x
else
	LDA.w CopyDetectionText_Line1,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$07].Row+$06,x
	LDA.w CopyDetectionText_Line2,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$09].Row+$06,x
	LDA.w CopyDetectionText_Line3,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$0D].Row+$06,x
	LDA.w CopyDetectionText_Line4,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$0F].Row+$06,x
	LDA.w CopyDetectionText_Line5,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$11].Row+$06,x
	LDA.w CopyDetectionText_Line6,x
	STA.w SMB2U_ErrorScreen_TextTilemap[$13].Row+$06,x
endif
	INX
	INX
	CPX.b #CopyDetectionText_Line2-CopyDetectionText_Line1
	BNE CODE_009690
	JMP.w SMB2U_DisplayRegionErrorMessage_CODE_009417
namespace off
endmacro


;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_ErrorMessageFontGFX(Address)
namespace SMB2U_ErrorMessageFontGFX
%InsertMacroAtXPosition(<Address>)

Main:
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_J) != $00
	incbin "../SMAS/Graphics/ErrorMessageFontGFX_SMAS_J.bin"
else
	incbin "../SMAS/Graphics/ErrorMessageFontGFX_SMAS_U.bin"
endif
End:
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_InitializeSelectedRAM(Address)
namespace SMB2U_InitializeSelectedRAM
%InsertMacroAtXPosition(<Address>)

Main:
	STZ.b !RAM_SMB2U_Global_ScratchRAM02
Entry2:
	STA.w DMA[$00].SourceLo
	STY.w DMA[$00].SourceBank
	LDA.w #(!REGISTER_PPUMultiplicationProductLo&$0000FF<<8)+$80
	STA.w DMA[$00].Parameters
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w DMA[$00].SizeLo
	LDY.b #$01
	STY.w !REGISTER_Mode7MatrixParameterA
	DEY
	STY.w !REGISTER_Mode7MatrixParameterA
	LDY.b !RAM_SMB2U_Global_ScratchRAM02
	STY.w !REGISTER_Mode7MatrixParameterB
	LDY.b #$01
	STY.w !REGISTER_DMAEnable
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_InitializeRAMOnStartup(Address)
namespace SMB2U_InitializeRAMOnStartup
%InsertMacroAtXPosition(<Address>)

Main:
	REP.b #$20
	LDA.w #!RAM_SMB2U_Global_StartOfStack-$AF
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #$000000
	TAY
	JSL.l SMB2U_InitializeSelectedRAM_Main
	LDA.w #$002000-(!RAM_SMB2U_Global_StartOfStack+$01)
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #!RAM_SMB2U_Global_StartOfStack+$01
	TAY
	JSL.l SMB2U_InitializeSelectedRAM_Main
	LDA.w #$E000
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #$7E2000
	LDY.b #$7E2000>>16
	JSL.l SMB2U_InitializeSelectedRAM_Main
	LDA.w #$0000
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #$7F0000
	LDY.b #$7F0000>>16
	JSL.l SMB2U_InitializeSelectedRAM_Main
	LDA.w #$0000
	STA.l !RAM_SMB2U_Global_StripeImageUploadIndexLo
	DEC
	STA.l SMB2U_StripeImageUploadTable[$00].LowByte
	SEP.b #$20
	;STA.l !RAM_SMB2U_Misc_DisplayTitleScreenMenuOptionsIndex
	LDA.b #$00
	STA.l !SRAM_SMAS_Global_UnusedRAM701FF8
	STA.l !SRAM_SMAS_Global_UnusedRAM701FF9
	STA.l !SRAM_SMAS_Global_InitialSelectedWorld
	REP.b #$20
	PHD
	LDA.w #!REGISTER_ScreenDisplayRegister
	TCD
	SEP.b #$30
	LDA.b #$09
	STA.b !REGISTER_BGModeAndTileSizeSetting
	STA.w !RAM_SMB2U_Global_BGModeAndTileSizeSetting
	STZ.b !REGISTER_MosaicSizeAndBGEnable
	STZ.b !REGISTER_BG1And2WindowMaskSettings
	STZ.b !REGISTER_BG3And4WindowMaskSettings
	STZ.b !REGISTER_MainScreenWindowMask
	STZ.b !REGISTER_SubScreenWindowMask
	LDA.b #$03
	STA.b !REGISTER_BG1AddressAndSize
	LDA.b #$13
	STA.b !REGISTER_BG2AddressAndSize
	LDA.b #$51
	STA.b !REGISTER_BG3AddressAndSize
	STZ.b !REGISTER_BG4AddressAndSize
	LDA.b #$22
	STA.b !REGISTER_BG1And2TileDataDesignation
	LDA.b #$05
	STA.b !REGISTER_BG3And4TileDataDesignation
	LDA.b #$15
	STA.b !REGISTER_MainScreenLayers
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	LDA.b #$02
	STA.b !REGISTER_SubScreenLayers
	STA.w !RAM_SMB2U_Global_SubScreenLayersMirror
	LDA.b #$00
	STA.b !REGISTER_ColorMathInitialSettings
	STA.b !REGISTER_ObjectAndColorWindowSettings
	STA.b !REGISTER_ColorMathSelectAndEnable
	LDA.b #$20
	STA.b !REGISTER_FixedColorData
	ASL
	STA.b !REGISTER_FixedColorData
	ASL
	STA.b !REGISTER_FixedColorData
if !Define_Global_ROMToAssemble&(!ROM_SMB2U_E) != $00
	LDA.b #$04
	STA.b !REGISTER_InitialScreenSettings
else
	STZ.b !REGISTER_InitialScreenSettings
endif
	PLD
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_CheckWhichControllersArePluggedIn(Address)
namespace SMB2U_CheckWhichControllersArePluggedIn
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !REGISTER_JoypadSerialPort1
	AND.b #$01
	EOR.b #$01
	ASL
	STA.l !SRAM_SMAS_Global_Controller1PluggedInFlag
	LDA.w !REGISTER_JoypadSerialPort2
	AND.b #$01
	ASL
	STA.l !SRAM_SMAS_Global_Controller2PluggedInFlag
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_LoadSplashScreen(Address)
namespace SMB2U_LoadSplashScreen
%InsertMacroAtXPosition(<Address>)

Main:
	PHB
	PHK
	PLB
	REP.b #$20
	LDY.b #$80
	STY.w !REGISTER_VRAMAddressIncrementValue
	LDA.w #(!REGISTER_WriteToVRAMPortLo&$0000FF<<8)+$01
	STA.w DMA[$00].Parameters
	LDA.w #$0000
	STA.w !REGISTER_VRAMAddressLo
	LDA.w #SMB2U_SplashScreenGFX_Main
	STA.w DMA[$00].SourceLo
	LDX.b #SMB2U_SplashScreenGFX_Main>>16
	STX.w DMA[$00].SourceBank
	LDA.w #SMB2U_SplashScreenGFX_End-SMB2U_SplashScreenGFX_Main
	STA.w DMA[$00].SizeLo
	LDY.b #$01
	STY.w !REGISTER_DMAEnable
	LDX.b #$1E
-:
	LDA.w SplashScreenPalette,x
	STA.w SMB2U_PaletteMirror[$F0].LowByte,x
	DEX
	DEX
	BPL.b -
	SEP.b #$20
	LDA.b #$20
	STA.w !RAM_SMB2U_Global_FixedColorData1Mirror
	ASL
	STA.w !RAM_SMB2U_Global_FixedColorData2Mirror
	ASL
	STA.w !RAM_SMB2U_Global_FixedColorData3Mirror
	LDA.b #$10
	STA.w !REGISTER_MainScreenLayers
	STA.w !RAM_SMB2U_Global_MainScreenLayersMirror
	LDA.b #$00
	STA.w !REGISTER_OAMSizeAndDataAreaDesignation
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STA.w !REGISTER_ScreenDisplayRegister
	STA.b !RAM_SMB2U_SplashScreen_DisplayMarioCoinShineFlag
	STA.b !RAM_SMB2U_SplashScreen_PaletteAnimationIndex
	INC.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	STZ.b $28
	LDA.b #$81
	STA.b !RAM_SMB2U_SplashScreen_DisplayTimer
	STA.w !REGISTER_IRQNMIAndJoypadEnableFlags
-:
	JSR.w FadeIn
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	CMP.b #$0F
	BNE.b -
Loop:
	LDA.b !RAM_SMB2U_SplashScreen_DisplayTimer
	CMP.b #$61
	BNE.b CODE_009A9B
	LDA.b #!Define_SMAS_Sound0063_Coin
	STA.w !RAM_SMB2U_Global_SoundCh3
	STA.b !RAM_SMB2U_SplashScreen_DisplayMarioCoinShineFlag
	LDA.b #$02
	STA.b !RAM_SMB2U_SplashScreen_PaletteAnimationTimer
	STZ.b !RAM_SMB2U_SplashScreen_PaletteAnimationIndex
CODE_009A9B:
	JSR.w SMB2U_SplashScreenGFXRt_Main
	LDA.b !RAM_SMB2U_SplashScreen_DisplayMarioCoinShineFlag
	BEQ.b CODE_009AA5
	JSR.w SMB2U_HandleSplashScreenMarioCoinShine_Main
CODE_009AA5:
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	DEC.b !RAM_SMB2U_SplashScreen_DisplayTimer
	BNE.b Loop
-:
	JSR.w FadeOut
	LDA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	BNE.b -
	LDA.b #$80
	STA.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	STZ.w !REGISTER_IRQNMIAndJoypadEnableFlags
	PLB
	RTL

FadeIn:
	INC.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
	BRA.b +

FadeOut:
	DEC.b !RAM_SMB2U_Global_ScreenDisplayRegisteMirror
+:
	STZ.b !RAM_SMB2U_SplashScreen_PaletteAnimationTimer
	JSR.w SMB2U_SplashScreenGFXRt_Main
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	RTS

SplashScreenPalette:
	dw $0000,$7FFF,$0048,$012F,$0192,$01F5,$0A59,$171C,$2BBC,$00CC,$0A59,$171C,$2BBC,$53FF,$171C,$0A59
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_SplashScreenGFXRt(Address)
namespace SMB2U_SplashScreenGFXRt
%InsertMacroAtXPosition(<Address>)

Tiles:
	db $00,$02,$04,$06,$20,$22,$24,$26
	db $08,$0A,$0C,$0E,$28,$2A,$2C,$2E
	db $40,$42,$44,$46

Main:
	LDY.b #$00
	TYX
CODE_009E31:
	LDA.b #$50
	STA.b !RAM_SMB2U_Global_ScratchRAM00
CODE_009E35:
	LDA.b #$60
	STA.b !RAM_SMB2U_Global_ScratchRAM01
CODE_009E39:
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	STA.w SMB2U_OAMBuffer[$00].XDisp,y
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	STA.w SMB2U_OAMBuffer[$00].YDisp,y
	LDA.w Tiles,x
	STA.w SMB2U_OAMBuffer[$00].Tile,y
	INX
	LDA.b #$2E
	STA.w SMB2U_OAMBuffer[$00].Prop,y
	PHY
	TYA
	LSR
	LSR
	TAY
	LDA.b #$02
	STA.w SMB2U_OAMTileSizeBuffer[$00].Slot,y
	PLY
	INY
	INY
	INY
	INY
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	CMP.b #$A0
	BCC.b CODE_009E39
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	CLC
	ADC.b #$10
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	CMP.b #$A0
	BCC.b CODE_009E35
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_HandleSplashScreenMarioCoinShine(Address)
namespace SMB2U_HandleSplashScreenMarioCoinShine
%InsertMacroAtXPosition(<Address>)

DATA_009E75:
	dw $7FFF,$2BBC,$43FF,$171C
	dw $7FFF,$2BBC,$171C,$2BBC
	dw $7FFF,$0A59,$171C,$2BBC

DATA_009E8D:
	dw $53FF,$171C,$0A59,$53FF
	dw $171C,$0A59,$53FF,$7FFF
	dw $2BBC,$53FF,$171C,$0A59

Main:
	LDA.b !RAM_SMB2U_SplashScreen_PaletteAnimationIndex
	ASL
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	ASL
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	TAY
	LDX.b #$00
CODE_009EB1:
	LDA.w DATA_009E75,y
	STA.l SMB2U_PaletteMirror[$F6].LowByte,x
	LDA.w DATA_009E8D,y
	STA.l SMB2U_PaletteMirror[$FD].LowByte,x
	INY
	INX
	CPX.b #$06
	BCC.b CODE_009EB1
	INC.w !RAM_SMB2U_Global_UpdateEntirePaletteFlag
	DEC.b !RAM_SMB2U_SplashScreen_PaletteAnimationTimer
	BNE.b CODE_009EE0
	INC.b !RAM_SMB2U_SplashScreen_PaletteAnimationIndex
	LDX.b !RAM_SMB2U_SplashScreen_PaletteAnimationIndex
	CPX.b #$04
	BCC.b CODE_009EDC
	STZ.b !RAM_SMB2U_SplashScreen_PaletteAnimationIndex
	STZ.b !RAM_SMB2U_SplashScreen_PaletteAnimationTimer
	STZ.b !RAM_SMB2U_SplashScreen_DisplayMarioCoinShineFlag
	BRA.b CODE_009EE0

CODE_009EDC:
	LDA.b #$02
	STA.b !RAM_SMB2U_SplashScreen_PaletteAnimationTimer
CODE_009EE0:
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_LoadFileSelectMenu(Address)
namespace SMB2U_LoadFileSelectMenu
%InsertMacroAtXPosition(<Address>)

Main:
	STZ.b !RAM_SMB2U_Global_ScratchRAM05
	JSR.w Sub
	LDA.b !RAM_SMB2U_TitleScreen_FileAMaxWorld
	STA.b !RAM_SMB2U_TitleScreen_FileASelectedWorld
	LDA.b !RAM_SMB2U_TitleScreen_FileBMaxWorld
	STA.b !RAM_SMB2U_TitleScreen_FileBSelectedWorld
	LDA.b !RAM_SMB2U_TitleScreen_FileCMaxWorld
	STA.b !RAM_SMB2U_TitleScreen_FileCSelectedWorld
	RTL

Entry2:
	LDA.b #$01
	STA.b !RAM_SMB2U_Global_ScratchRAM05
	JSR.w Sub
	RTL

Sub:
	PHB
	PHK
	PLB
	LDX.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	LDY.b #$00
--:
	STY.b !RAM_SMB2U_Global_ScratchRAM02
	REP.b #$20
	LDA.w FileSelectTextPtrs,y
	JSR.w BufferStripeImage
	LDY.b !RAM_SMB2U_Global_ScratchRAM02
	REP.b #$30
	PHX
	LDX.w SMB2U_SaveFileLocations_Main,y
	LDA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	STA.b !RAM_SMB2U_Global_ScratchRAM03
	PLX
	CMP.w #$FFFF
	BEQ.b .NewFile
	LDA.w #FileSelectText_World
	BRA.b .UsedFile

.NewFile:
	LDA.w #FileSelectText_New
.UsedFile:
	SEP.b #$10
	JSR.w BufferStripeImage
	LDA.b !RAM_SMB2U_Global_ScratchRAM02
	LSR
	TAY
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	BMI.b +
	LDA.b !RAM_SMB2U_Global_ScratchRAM05
	BEQ.b ++
	LDA.w !RAM_SMB2U_TitleScreen_FileASelectedWorld,y
	BRA.b +++

++:
	LDA.b !RAM_SMB2U_Global_ScratchRAM03
	STA.w !RAM_SMB2U_TitleScreen_FileAMaxWorld,y
+++:
	ASL
	TAY
	LDA.w WorldNumberTiles,y
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	LDA.w WorldNumberTiles+$01,y
	STA.w SMB2U_StripeImageUploadTable[$00].HighByte,x
	INX
	INX
	BRA.b ++

+:
	LDA.b #$00
	STA.w !RAM_SMB2U_TitleScreen_FileAMaxWorld,y
++:
	LDY.b !RAM_SMB2U_Global_ScratchRAM02
	INY
	INY
	CPY.b #$06
	BEQ.b +
	JMP.w --

+:
	REP.b #$20
	LDA.w #FileSelectText_Erase
	LDY.b !RAM_SMB2U_TitleScreen_EraseFileProcess
	BEQ.b +
	LDA.w #FileSelectText_End
+:
	JSR.w BufferStripeImage
	REP.b #$10
	LDY.w #FileSelectText_ControllerType_Jump
	LDA.l !SRAM_SMAS_Global_ControllerTypeX
	REP.b #$20
	BEQ.b +
	LDY.w #FileSelectText_ControllerType_Dash
+:
	TYA
	SEP.b #$10
	JSR.w SMB2U_LoadFileSelectMenu_BufferStripeImage
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	TXA
	CLC
	ADC.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	PLB
	RTS

FileSelectTextPtrs:
	dw FileSelectText_FileA
	dw FileSelectText_FileB
	dw FileSelectText_FileC
	dw FileSelectText_Erase

WorldNumberTiles:
	db $C1,$15
	db $C2,$15
	db $C3,$15
	db $C4,$15
	db $C5,$15
	db $C6,$15
	db $C7,$15
	db $C8,$15
	db $C9,$15

FileSelectText:
.FileA:
	db $0D,$88,$00,$1D
	db $CF,$15,$D2,$15,$D5,$15,$CE,$15,$FB,$15,$CA,$15,$FB,$15,$FF

.FileB:
	db $0D,$C8,$00,$1D
	db $CF,$15,$D2,$15,$D5,$15,$CE,$15,$FB,$15,$CB,$15,$FB,$15,$FF

.FileC:
	db $0E,$08,$00,$1D
	db $CF,$15,$D2,$15,$D5,$15,$CE,$15,$FB,$15,$CC,$15,$FB,$15,$FF

.New:
	db $FB,$15,$D7,$15,$CE,$15,$E0,$15,$FB,$15,$FB,$15,$FB,$15,$FB,$15,$FF

.World:
	db $FB,$15,$E0,$15,$D8,$15,$DB,$15,$D5,$15,$CD,$15,$FB,$15,$FF

.Erase:
	db $0E,$48,$00,$13
	db $CE,$15,$DB,$15,$CA,$15,$DC,$15,$CE,$15,$FB,$15,$CD,$15,$CA,$15
	db $DD,$15,$CA,$15,$FF

.End:
	db $0E,$48,$00,$13
	db $CE,$15,$D7,$15,$CD,$15,$FB,$15,$FB,$15,$FB,$15,$FB,$15,$FB,$15
	db $FB,$15,$FB,$15,$FF

.ControllerType:
..Jump:
	db $0E,$88,$00,$13
	db $CB,$15,$E4,$15,$FB,$15,$D3,$15,$DE,$15,$D6,$15,$D9,$15,$FB,$15
	db $FB,$15,$FB,$15,$FF

..Dash:
	db $0E,$88,$00,$13
	db $CB,$15,$E4,$15,$FB,$15,$CD,$15,$CA,$15,$DC,$15,$D1,$15,$FB,$15
	db $FB,$15,$FB,$15,$FF

BufferStripeImage:
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	SEP.b #$20
	LDY.b #$00
-:
	LDA.b (!RAM_SMB2U_Global_ScratchRAM00),y
	CMP.b #$FF
	BEQ.b +
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,x
	INX
	INY
	BRA.b -

+:
	RTS
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_ClearSaveData(Address)
namespace SMB2U_ClearSaveData
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	TAY
	ASL
	TAX
	LDA.b #$00
	STA.w !RAM_SMB2U_TitleScreen_FileASelectedWorld,y
	STA.w !RAM_SMB2U_TitleScreen_FileAMaxWorld,y
	REP.b #$20
	LDA.l SMB2U_SaveFileLocations_Main,x
	REP.b #$10
	TAX
	LDA.w #$FFFF
	STA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	SEP.b #$30
	JML.l SMB2U_VerifySaveDataIsValid_Main
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_ChangeSelectedWorld(Address)
namespace SMB2U_ChangeSelectedWorld
%InsertMacroAtXPosition(<Address>)

Main:
	PHA
	LDY.w !RAM_SMB2U_Global_BlinkingCursorPos
	LDA.w !RAM_SMB2U_TitleScreen_FileAMaxWorld,y
	CMP.b #$01
	BCS.b +
	PLA
	LDA.b #!Define_SMAS_Sound0063_Wrong
	STA.w !RAM_SMB2U_Global_SoundCh3
	RTL

+:
	LDA.w !RAM_SMB2U_TitleScreen_FileAMaxWorld,y
	INC
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	PLA
	BIT.b #$03
	BEQ.b .NoLeftOrRight
	AND.b #$03
	DEC
	TAX
	LDA.l .AdditionTable,x
	BRA.b +

.NoLeftOrRight:
	LDA.b #$01
+:
	CLC
	ADC.w !RAM_SMB2U_TitleScreen_FileASelectedWorld,y
	CMP.b #$FF
	BEQ.b .FixUnderflow
	CMP.w !RAM_SMB2U_Global_ScratchRAM00
	BCC.b +
	LDA.b #$00
	BRA.b .FixOverflow

.FixUnderflow:
	LDA.w !RAM_SMB2U_TitleScreen_FileAMaxWorld,y
+:
.FixOverflow:
	STA.w !RAM_SMB2U_TitleScreen_FileASelectedWorld,y
	LDA.b #!Define_SMAS_Sound0063_FinishAddTimerToScore
	STA.w !RAM_SMB2U_Global_SoundCh3
	JSL.l SMB2U_LoadFileSelectMenu_Entry2
	RTL

.AdditionTable:
	db $01,$FF,$01
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_MoveTitleScreenMenuCursor(Address)
namespace SMB2U_MoveTitleScreenMenuCursor
%InsertMacroAtXPosition(<Address>)

Main:
	STZ.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
-:
	BIT.b #$0C
	BEQ.b .NoUpOrDown
	AND.b #$0C
	LSR
	LSR
	LSR
	TAX
	LDA.l AdditionTable,x
	BRA.b +

.NoUpOrDown:
	LDA.b #$01
+:
	CLC
	ADC.w !RAM_SMB2U_Global_BlinkingCursorPos
	CMP.b #$FF
	BEQ.b .FixUnderflow
	CMP.b #$05
	BCC.b +
	LDA.b #$00
	BRA.b .FixOverflow

.FixUnderflow:
	LDA.b #$04
+:
.FixOverflow:
	STA.w !RAM_SMB2U_Global_BlinkingCursorPos
.Return:
	LDA.b #!Define_SMAS_Sound0063_StepOnLevelTile
	STA.w !RAM_SMB2U_Global_SoundCh3
	RTL

AdditionTable:
	db $01,$FF,$01
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_LoadSaveFileData(Address)
namespace SMB2U_LoadSaveFileData
%InsertMacroAtXPosition(<Address>)

Main:
	PHB
	LDA.b #!SRAMBankBaseAddress>>16
	PHA
	PLB
	REP.b #$10
	LDY.w #$0007
	STY.b !RAM_SMB2U_Global_ScratchRAM04
	LDA.b #$00
	XBA
	LDA.l !RAM_SMB2U_Global_BlinkingCursorPos
	STA.w !SRAM_SMAS_Global_CurrentSaveFile
	ASL
	TAX
	REP.b #$20
	LDA.l SMB2U_SaveFileLocations_Main,x
	TAY
	STA.w !SRAM_SMAS_Global_SaveFileIndexLo
	SEP.b #$20
	LDX.w #$0000
CODE_00A61C:
	LDA.w !SRAM_SMAS_Global_SaveFileBaseOffset,y
	STA.l !RAM_SMB2U_Global_InitialWorld,x
	INY
	INX
	CPX.b !RAM_SMB2U_Global_ScratchRAM04
	BNE.b CODE_00A61C
	LDA.w !SRAM_SMAS_Global_InitialSelectedLevel
	STA.l $7FFB01
	LDA.w !SRAM_SMAS_Global_InitialSelectedWorld
	PLB
	STA.l !RAM_SMB2U_Global_InitialWorld
	STA.w !RAM_SMB2U_Level_CurrentWorld
	ASL
	CLC
	ADC.l !RAM_SMB2U_Global_InitialWorld
	CLC
	ADC.l $7FFB01
	STA.w !RAM_SMB2U_Level_CurrentLevel
	STA.w !RAM_SMB2U_Player_CheckpointLevel
	LDA.l $7FFB02
	STA.w !RAM_SMB2U_Player_CurrentLifeCount
	LDX.b #$03
-:
	LDA.l $7FFB03,x
	STA.w !RAM_SMB2U_Player_MariosContributionCount,x
	DEX
	BPL.b -
	SEP.b #$10
	JSL.l SMB2U_BufferLevelPreviewLevelTilemapAsStripeImage_Main
	RTL
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_VerifySaveDataIsValid(Address)
namespace SMB2U_VerifySaveDataIsValid
%InsertMacroAtXPosition(<Address>)

Main:
	PHB
	PHK
	PLB
Loop:
	SEP.b #$20
	LDA.b #$00
	STA.l !SRAM_SMAS_Global_EnableSMASDebugModeFlag
	REP.b #$30
	LDA.l !SRAM_SMAS_Global_ValidSaveData1Lo
	CMP.w #$9743
	BNE.b CODE_008C88
	LDA.l !SRAM_SMAS_Global_ValidSaveData2Lo
	CMP.w #$5321
	BEQ.b CODE_008CBF
CODE_008C88:
	SEP.b #$10
	LDA.w #$2000
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.w #!SRAMBankBaseAddress
	LDY.b #!SRAMBankBaseAddress>>16
	JSL.l SMB2U_InitializeSelectedRAM_Main
	REP.b #$10
	LDX.w #$0000
CODE_008C9D:
	JSR.w CODE_008D41
	LDA.l !SRAM_SMAS_Global_SaveFileIndexLo
	INC
	STA.l !SRAM_SMAS_Global_SaveFileIndexLo
	CMP.w #$0003
	BCC.b CODE_008C9D
	LDA.w #$9743
	STA.l !SRAM_SMAS_Global_ValidSaveData1Lo
	LDA.w #$5321
	STA.l !SRAM_SMAS_Global_ValidSaveData2Lo
	JMP.w Loop

CODE_008CBF:
	LDA.w #$0000
	STA.l !SRAM_SMAS_Global_SaveFileIndexLo
	TAX
CODE_008CC7:
	LDY.w #$0007
	STZ.b !RAM_SMB2U_Global_ScratchRAM00
	STX.b !RAM_SMB2U_Global_ScratchRAM02
	SEP.b #$20
CODE_008CD8:
	LDA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	INX
	DEY
	BNE.b CODE_008CD8
	REP.b #$21
	LDA.b !RAM_SMB2U_Global_ScratchRAM00
	ADC.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	BNE.b CODE_008D07
	INX
	INX
CODE_008CF7:
	LDA.l !SRAM_SMAS_Global_SaveFileIndexLo
	INC
	STA.l !SRAM_SMAS_Global_SaveFileIndexLo
	CMP.w #$0003
	BCS.b CODE_008D12
	BRA.b CODE_008CC7

CODE_008D07:
	REP.b #$30
	LDX.b !RAM_SMB2U_Global_ScratchRAM02
	JSR.w CODE_008D41
	STX.b !RAM_SMB2U_Global_ScratchRAM02
	BRA.b CODE_008CF7

CODE_008D12:
	SEP.b #$30
	PLB
	RTL

CODE_008D41:
	LDA.w #$0007
	STA.b !RAM_SMB2U_Global_ScratchRAM04
	LDY.w #$0000
	STZ.b !RAM_SMB2U_Global_ScratchRAM00
	SEP.b #$20
CODE_008D59:
	LDA.w PremadeSaveFileData,y
	STA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	CLC
	ADC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.b !RAM_SMB2U_Global_ScratchRAM00
	LDA.b !RAM_SMB2U_Global_ScratchRAM01
	ADC.b #$00
	STA.b !RAM_SMB2U_Global_ScratchRAM01
	LDA.w PremadeSaveFileData,y
	INX
	INY
	DEC.b !RAM_SMB2U_Global_ScratchRAM04
	BNE.b CODE_008D59
	DEC.b !RAM_SMB2U_Global_ScratchRAM05
	BPL.b CODE_008D59
	REP.b #$20
	LDA.w #$0000
	SEC
	SBC.b !RAM_SMB2U_Global_ScratchRAM00
	STA.l !SRAM_SMAS_Global_SaveFileBaseOffset,x
	INX
	INX
	RTS

PremadeSaveFileData:
	db $FF,$FF,$05,$00,$00,$00,$00,$00,$00
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro DATATABLE_CUSTOM_SMB2U_SaveFileLocations(Address)
namespace SMB2U_SaveFileLocations
%InsertMacroAtXPosition(<Address>)

Main:
	dw $0000,$0009,$0012
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_ProcessFileSelect(Address)
namespace SMB2U_ProcessFileSelect
%InsertMacroAtXPosition(<Address>)

Main:
	PHB
	PHK
	PLB
	STZ.b !RAM_SMB2U_Global_ScratchRAM0F
	LDX.b #$00
--:
	LDY.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
-:
	LDA.w ClearTitleScreenStripeImage,x
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,y
	CMP.b #$FF
	BEQ.b +
	INY
	INX
	BRA.b -

+:
	JSR.w AddStripeImageBytes
	INX
	PHX
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	PLX
	INC.b !RAM_SMB2U_Global_ScratchRAM0F
	LDA.b !RAM_SMB2U_Global_ScratchRAM0F
	CMP.b #$15
	BEQ.b +
	BRA.b --

+:
	LDX.b #$00
	LDY.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
-:
	LDA.w BirdoStripeImage,x
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,y
	CMP.b #$FF
	BEQ.b +
	INY
	INX
	BRA.b -

+:
	INX
	INY
	LDA.w BirdoStripeImage,x
	CMP.b #$FF
	BNE.b -
	JSR.w AddStripeImageBytes
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	JSL.l SMB2U_LoadFileSelectMenu_Main
-:
	JSR.w FileSelectLoop
	BCS.b +
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	BRA.b -

+:
	PLB
	RTL

CursorStripeImage:
	db $0D,$86,$00,$01
	db $BD,$09

	db $0D,$C6,$00,$01
	db $BD,$09

	db $0E,$06,$00,$01
	db $BD,$09

	db $0E,$46,$00,$01
	db $BD,$09

	db $0E,$86,$00,$01
	db $BD,$09

	db $FF

CursorPosTBL:
	db $04,$0A,$10,$16,$1C

FileSelectLoop:
	LDY.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	PHY
	LDX.b #$00
-:
	LDA.w CursorStripeImage,x
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,y
	CMP.b #$FF
	BEQ.b +
	INY
	INX
	BRA.b -

+:
	JSR.w AddStripeImageBytes
	LDX.w !RAM_SMB2U_Global_BlinkingCursorPos
	PLA
	CLC
	ADC.w CursorPosTBL,x
	TAY
	INC.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
	LDA.w !RAM_SMB2U_Global_BlinkingCursorFrameCounter
	AND.b #$10
	LSR
	LSR
	LSR
	TAX
	REP.b #$20
	LDA.l DATA_118BE9,x
	STA.w SMB2U_StripeImageUploadTable[$00].LowByte,y
	SEP.b #$20
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	BIT.b #!Joypad_Start>>8
	BEQ.b CODE_03871A
CODE_0386E3:
	BRA.w CODE_0387D3

CODE_03871A:
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	BIT.b #(!Joypad_DPadU>>8)|(!Joypad_DPadD>>8)|(!Joypad_Select>>8)
	BEQ.b CODE_0387A4
	JSL.l SMB2U_MoveTitleScreenMenuCursor_Main
	BRA.b Return

CODE_0387A4:
	STZ.b !RAM_SMB2U_Global_ControllerHold1
	LDA.b !RAM_SMB2U_Global_ControllerPress1
	ORA.b !RAM_SMB2U_Global_ControllerPress2
	PHA
	LDA.b !RAM_SMB2U_TitleScreen_EraseFileProcess
	BNE.b +
	PLA
	AND.b #(!Joypad_DPadL>>8)|(!Joypad_DPadR>>8)|(!Joypad_B>>8)
	BEQ.b ++
	JSL.l SMB2U_ChangeSelectedWorld_Main
	BRA.b ++

+:
	PLA
	AND.b #!Joypad_X|(!Joypad_Y>>8)
	BNE.b +++

++:
CODE_0387A7:
	CLC
	RTS

CODE_0387D3:
	LDA.b #!Define_SMAS_Sound0063_Correct
	STA.w !RAM_SMB2U_Global_SoundCh3
	LDA.w !RAM_SMB2U_Global_BlinkingCursorPos
	CMP.b #$03
	BCC.b ++
	CMP.b #$04
	BEQ.b +
+++:
	LDA.b !RAM_SMB2U_TitleScreen_EraseFileProcess
	EOR.b #$01
	STA.b !RAM_SMB2U_TitleScreen_EraseFileProcess
	LDA.b #!Define_SMAS_Sound0063_Correct
	BRA.b Return2

++:
	LDA.b !RAM_SMB2U_TitleScreen_EraseFileProcess
	BEQ.b +++
	JSL.l SMB2U_ClearSaveData_Main
	LDA.b #!Define_SMAS_Sound0063_1up
Return2:
	STA.w !RAM_SMB2U_Global_SoundCh3
Return:
	JSL.l SMB2U_LoadFileSelectMenu_Entry2
	CLC
	RTS

+++:
	LDX.w !RAM_SMB2U_Global_BlinkingCursorPos
	LDA.b !RAM_SMB2U_TitleScreen_FileASelectedWorld,x
	STA.l !SRAM_SMAS_Global_InitialSelectedWorld
	JSL.l SMB2U_LoadSaveFileData_Main
	LDA.b #!Define_SMB2U_LevelMusic_MusicFade
	STA.w !RAM_SMB2U_Global_MusicCh1
	SEC
	RTS

+:
	LDA.l !SRAM_SMAS_Global_ControllerTypeX
	EOR.b #$01
	AND.b #$01
	STA.l !SRAM_SMAS_Global_ControllerTypeX
	LDA.b #!Define_SMAS_Sound0063_Coin
	BRA.b Return2

AddStripeImageBytes:
	TXA
	CLC
	ADC.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	RTS

ClearTitleScreenStripeImage:
	db $0C,$C6,$C0,$20
	db $FB,$15,$FF

	db $0C,$A7,$C0,$22
	db $FB,$15,$FF

	db $0C,$88,$C0,$24
	db $FB,$15,$FF

	db $0C,$89,$C0,$24
	db $FB,$15,$FF

	db $0C,$8A,$C0,$24
	db $FB,$15,$FF

	db $0C,$8B,$C0,$24
	db $FB,$15,$FF

	db $0C,$8C,$C0,$24
	db $FB,$15,$FF

	db $0C,$8D,$C0,$24
	db $FB,$15,$FF

	db $0C,$8E,$C0,$24
	db $FB,$15,$FF

	db $0C,$8F,$C0,$24
	db $FB,$15,$FF

	db $0C,$90,$C0,$24
	db $FB,$15,$FF

	db $0C,$91,$C0,$24
	db $FB,$15,$FF

	db $0C,$92,$C0,$24
	db $FB,$15,$FF

	db $0C,$93,$C0,$24
	db $FB,$15,$FF

	db $0C,$94,$C0,$24
	db $FB,$15,$FF

	db $0C,$95,$C0,$24
	db $FB,$15,$FF

	db $0C,$96,$C0,$24
	db $FB,$15,$FF

	db $0C,$97,$C0,$24
	db $FB,$15,$FF

	db $0C,$B8,$C0,$22
	db $FB,$15,$FF

	db $0C,$D9,$C0,$20
	db $FB,$15,$FF

	db $0C,$FA,$C0,$1D
	db $FB,$15,$FF

BirdoStripeImage:
	db $0C,$8E,$00,$05
	db $FE,$00,$FF,$00,$EF,$00

	db $0C,$AE,$00,$07
	db $EA,$00,$EB,$00,$EC,$00,$ED,$00

	db $0C,$CE,$00,$07
	db $FA,$00,$FB,$00,$FC,$00,$FD,$00

	db $0C,$EE,$00,$07
	db $E6,$00,$E7,$00,$E8,$00,$E9,$00

	db $0D,$0D,$00,$0B
	db $F5,$00,$F6,$00,$F7,$00,$F8,$00,$F9,$00,$F0,$00

	db $0D,$2D,$00,$0B
	db $E0,$00,$E1,$00,$E2,$00,$E3,$00,$E4,$00,$F4,$00

	db $0D,$4E,$00,$05
	db $F1,$00,$F2,$00,$F3,$00

	db $FF,$FF
namespace off
endmacro

;#############################################################################################################
;#############################################################################################################

macro ROUTINE_CUSTOM_SMB2U_BufferLevelPreviewLevelTilemapAsStripeImage(Address)
namespace SMB2U_BufferLevelPreviewLevelTilemapAsStripeImage
%InsertMacroAtXPosition(<Address>)

Main:
	LDA.w !RAM_SMB2U_Level_CurrentWorld
	AND.b #$0F
	STA.w !RAM_SMB2U_Level_CurrentWorld
	ASL
	CLC
	ADC.w !RAM_SMB2U_Level_CurrentWorld
	TAX
	LDA.l SMB2U_LevelPreviewTilemaps_Ptrs+$02,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0F
	LDY.b #$00
	REP.b #$31
	LDA.l SMB2U_LevelPreviewTilemaps_Ptrs,x
	STA.b !RAM_SMB2U_Global_ScratchRAM0D
	LDA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	ADC.w #SMB2U_StripeImageUploadTable[$00].LowByte
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	LDA.w #$0012
	STA.b !RAM_SMB2U_Global_ScratchRAM00
--:
	LDX.b !RAM_SMB2U_Global_ScratchRAM00
	TXA
	LSR
	LSR
	BCC.b +
	JSR.w UploadStripeImage
+:
	LDA.l StripeImageHeaders,x
	STA.b (!RAM_SMB2U_Global_ScratchRAM0A)
	INC.b !RAM_SMB2U_Global_ScratchRAM0A
	INC.b !RAM_SMB2U_Global_ScratchRAM0A
	LDA.w #$2700
	STA.b (!RAM_SMB2U_Global_ScratchRAM0A)
	INC.b !RAM_SMB2U_Global_ScratchRAM0A
	INC.b !RAM_SMB2U_Global_ScratchRAM0A
	LDX.w #$0026
-:
	LDA.b [!RAM_SMB2U_Global_ScratchRAM0D],y
	STA.b (!RAM_SMB2U_Global_ScratchRAM0A)
	INC.b !RAM_SMB2U_Global_ScratchRAM0A
	INC.b !RAM_SMB2U_Global_ScratchRAM0A
	INY
	INY
	DEX
	DEX
	BPL.b -
	DEC.b !RAM_SMB2U_Global_ScratchRAM00
	DEC.b !RAM_SMB2U_Global_ScratchRAM00
	BPL.b --
	JSR.w StoreStripeImageBytes
	LDA.w #$FFFF
	STA.b (!RAM_SMB2U_Global_ScratchRAM0A),y
	SEP.b #$30
	RTL

StripeImageHeaders:
	db $06,$86
	db $06,$66
	db $06,$46
	db $06,$26
	db $06,$06
	db $05,$E6
	db $05,$C6
	db $05,$A6
	db $05,$86
	db $05,$66

UploadStripeImage:						; Note: Needed to prevent the stripe image buffer from overflowing
	JSR.w StoreStripeImageBytes
	PHX
	PHY
	PHP
	SEP.b #$30
	JSL.l SMB2U_WaitForVBlankRt_TitleWarpZoneAndGameOverScreen_Main
	PLP
	PLY
	PLX
	LDA.w #SMB2U_StripeImageUploadTable[$00].LowByte
	STA.b !RAM_SMB2U_Global_ScratchRAM0A
	RTS

StoreStripeImageBytes:
	LDA.b !RAM_SMB2U_Global_ScratchRAM0A
	SEC
	SBC.w #SMB2U_StripeImageUploadTable[$00].LowByte
	STA.w !RAM_SMB2U_Global_StripeImageUploadIndexLo
	RTS

namespace off
endmacro

;#############################################################################################################
;#############################################################################################################
